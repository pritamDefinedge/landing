loadProgress.updateProgress(64);

/*!
 * jQuery JavaScript Library v2.1.4
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-04-28T16:01Z
 */

/*!
 * Sizzle CSS Selector Engine v2.2.0-pre
 * http://sizzlejs.com/
 *
 * Copyright 2008, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-12-16
 */

//     Underscore.js 1.8.3
//     http://underscorejs.org
//     (c) 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Underscore may be freely distributed under the MIT license.

//     (c) 2010-2011 Jeremy Ashkenas, DocumentCloud Inc.
//     (c) 2011-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Backbone may be freely distributed under the MIT license.
//     For all details and documentation:
//     http://backbonejs.org

/**
 * @preserve console-shim 1.0.2
 * https://github.com/kayahr/console-shim
 * Copyright (C) 2011 Klaus Reimer <k@ailis.de>
 * Licensed under the MIT license
 * (See http://www.opensource.org/licenses/mit-license)
 */

/*!
 * PreloadJS
 * Visit http://createjs.com/ for documentation, updates and examples.
 *
 * Copyright (c) 2010 gskinner.com, inc.
 *
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * files (the "Software"), to deal in the Software without
 * restriction, including without limitation the rights to use,
 * copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the
 * Software is furnished to do so, subject to the following
 * conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 * OTHER DEALINGS IN THE SOFTWARE.
 */

/*! JSON v3.3.2 | http://bestiejs.github.io/json3 | Copyright 2012-2014, Kit Cambridge | http://kit.mit-license.org */

/*!
 * @license SoundJS
 * Visit http://createjs.com/ for documentation, updates and examples.
 *
 * Copyright (c) 2011-2013 gskinner.com, inc.
 *
 * Distributed under the terms of the MIT license.
 * http://www.opensource.org/licenses/mit-license.html
 *
 * This notice shall be included in all copies or substantial portions of the Software.
 */

// MIT license

/*!
 * VERSION: 1.17.0
 * DATE: 2015-05-27
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * Includes all of the following: TweenLite, TweenMax, TimelineLite, TimelineMax, EasePack, CSSPlugin, RoundPropsPlugin, BezierPlugin, AttrPlugin, DirectionalRotationPlugin
 *
 * @license Copyright (c) 2008-2015, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 *
 * @author: Jack Doyle, jack@greensock.com
 **/

// threejs.org/license

/**
 * @license RequireJS text 2.0.10 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/text for details
 */

/**
 * dat-gui JavaScript Controller Library
 * http://code.google.com/p/dat-gui
 *
 * Copyright 2011 Data Arts Team, Google Creative Lab
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 */

!(function (e, t) {
  "object" == typeof module && "object" == typeof module.exports
    ? (module.exports = e.document
        ? t(e, !0)
        : function (e) {
            if (!e.document)
              throw new Error("jQuery requires a window with a document");
            return t(e);
          })
    : t(e);
})("undefined" != typeof window ? window : this, function (e, t) {
  function i(e) {
    var t = "length" in e && e.length,
      i = Z.type(e);
    return "function" === i || Z.isWindow(e)
      ? !1
      : 1 === e.nodeType && t
      ? !0
      : "array" === i ||
        0 === t ||
        ("number" == typeof t && t > 0 && t - 1 in e);
  }
  function r(e, t, i) {
    if (Z.isFunction(t))
      return Z.grep(e, function (e, r) {
        return !!t.call(e, r, e) !== i;
      });
    if (t.nodeType)
      return Z.grep(e, function (e) {
        return (e === t) !== i;
      });
    if ("string" == typeof t) {
      if (se.test(t)) return Z.filter(t, e, i);
      t = Z.filter(t, e);
    }
    return Z.grep(e, function (e) {
      return X.call(t, e) >= 0 !== i;
    });
  }
  function n(e, t) {
    for (; (e = e[t]) && 1 !== e.nodeType; );
    return e;
  }
  function o(e) {
    var t = (pe[e] = {});
    return (
      Z.each(e.match(fe) || [], function (e, i) {
        t[i] = !0;
      }),
      t
    );
  }
  function a() {
    $.removeEventListener("DOMContentLoaded", a, !1),
      e.removeEventListener("load", a, !1),
      Z.ready();
  }
  function s() {
    Object.defineProperty((this.cache = {}), 0, {
      get: function () {
        return {};
      },
    }),
      (this.expando = Z.expando + s.uid++);
  }
  function l(e, t, i) {
    var r;
    if (void 0 === i && 1 === e.nodeType)
      if (
        ((r = "data-" + t.replace(ye, "-$1").toLowerCase()),
        (i = e.getAttribute(r)),
        "string" == typeof i)
      ) {
        try {
          i =
            "true" === i
              ? !0
              : "false" === i
              ? !1
              : "null" === i
              ? null
              : +i + "" === i
              ? +i
              : _e.test(i)
              ? Z.parseJSON(i)
              : i;
        } catch (n) {}
        ve.set(e, t, i);
      } else i = void 0;
    return i;
  }
  function h() {
    return !0;
  }
  function c() {
    return !1;
  }
  function u() {
    try {
      return $.activeElement;
    } catch (e) {}
  }
  function d(e, t) {
    return Z.nodeName(e, "table") &&
      Z.nodeName(11 !== t.nodeType ? t : t.firstChild, "tr")
      ? e.getElementsByTagName("tbody")[0] ||
          e.appendChild(e.ownerDocument.createElement("tbody"))
      : e;
  }
  function f(e) {
    return (e.type = (null !== e.getAttribute("type")) + "/" + e.type), e;
  }
  function p(e) {
    var t = Fe.exec(e.type);
    return t ? (e.type = t[1]) : e.removeAttribute("type"), e;
  }
  function m(e, t) {
    for (var i = 0, r = e.length; r > i; i++)
      Ee.set(e[i], "globalEval", !t || Ee.get(t[i], "globalEval"));
  }
  function g(e, t) {
    var i, r, n, o, a, s, l, h;
    if (1 === t.nodeType) {
      if (
        Ee.hasData(e) &&
        ((o = Ee.access(e)), (a = Ee.set(t, o)), (h = o.events))
      ) {
        delete a.handle, (a.events = {});
        for (n in h)
          for (i = 0, r = h[n].length; r > i; i++) Z.event.add(t, n, h[n][i]);
      }
      ve.hasData(e) &&
        ((s = ve.access(e)), (l = Z.extend({}, s)), ve.set(t, l));
    }
  }
  function E(e, t) {
    var i = e.getElementsByTagName
      ? e.getElementsByTagName(t || "*")
      : e.querySelectorAll
      ? e.querySelectorAll(t || "*")
      : [];
    return void 0 === t || (t && Z.nodeName(e, t)) ? Z.merge([e], i) : i;
  }
  function v(e, t) {
    var i = t.nodeName.toLowerCase();
    "input" === i && be.test(e.type)
      ? (t.checked = e.checked)
      : ("input" === i || "textarea" === i) &&
        (t.defaultValue = e.defaultValue);
  }
  function _(t, i) {
    var r,
      n = Z(i.createElement(t)).appendTo(i.body),
      o =
        e.getDefaultComputedStyle && (r = e.getDefaultComputedStyle(n[0]))
          ? r.display
          : Z.css(n[0], "display");
    return n.detach(), o;
  }
  function y(e) {
    var t = $,
      i = Ie[e];
    return (
      i ||
        ((i = _(e, t)),
        ("none" !== i && i) ||
          ((Ue = (
            Ue || Z("<iframe frameborder='0' width='0' height='0'/>")
          ).appendTo(t.documentElement)),
          (t = Ue[0].contentDocument),
          t.write(),
          t.close(),
          (i = _(e, t)),
          Ue.detach()),
        (Ie[e] = i)),
      i
    );
  }
  function T(e, t, i) {
    var r,
      n,
      o,
      a,
      s = e.style;
    return (
      (i = i || ze(e)),
      i && (a = i.getPropertyValue(t) || i[t]),
      i &&
        ("" !== a || Z.contains(e.ownerDocument, e) || (a = Z.style(e, t)),
        Ve.test(a) &&
          Be.test(t) &&
          ((r = s.width),
          (n = s.minWidth),
          (o = s.maxWidth),
          (s.minWidth = s.maxWidth = s.width = a),
          (a = i.width),
          (s.width = r),
          (s.minWidth = n),
          (s.maxWidth = o))),
      void 0 !== a ? a + "" : a
    );
  }
  function x(e, t) {
    return {
      get: function () {
        return e()
          ? void delete this.get
          : (this.get = t).apply(this, arguments);
      },
    };
  }
  function R(e, t) {
    if (t in e) return t;
    for (var i = t[0].toUpperCase() + t.slice(1), r = t, n = Ke.length; n--; )
      if (((t = Ke[n] + i), t in e)) return t;
    return r;
  }
  function b(e, t, i) {
    var r = We.exec(t);
    return r ? Math.max(0, r[1] - (i || 0)) + (r[2] || "px") : t;
  }
  function w(e, t, i, r, n) {
    for (
      var o = i === (r ? "border" : "content") ? 4 : "width" === t ? 1 : 0,
        a = 0;
      4 > o;
      o += 2
    )
      "margin" === i && (a += Z.css(e, i + xe[o], !0, n)),
        r
          ? ("content" === i && (a -= Z.css(e, "padding" + xe[o], !0, n)),
            "margin" !== i &&
              (a -= Z.css(e, "border" + xe[o] + "Width", !0, n)))
          : ((a += Z.css(e, "padding" + xe[o], !0, n)),
            "padding" !== i &&
              (a += Z.css(e, "border" + xe[o] + "Width", !0, n)));
    return a;
  }
  function H(e, t, i) {
    var r = !0,
      n = "width" === t ? e.offsetWidth : e.offsetHeight,
      o = ze(e),
      a = "border-box" === Z.css(e, "boxSizing", !1, o);
    if (0 >= n || null == n) {
      if (
        ((n = T(e, t, o)), (0 > n || null == n) && (n = e.style[t]), Ve.test(n))
      )
        return n;
      (r = a && (Q.boxSizingReliable() || n === e.style[t])),
        (n = parseFloat(n) || 0);
    }
    return n + w(e, t, i || (a ? "border" : "content"), r, o) + "px";
  }
  function S(e, t) {
    for (var i, r, n, o = [], a = 0, s = e.length; s > a; a++)
      (r = e[a]),
        r.style &&
          ((o[a] = Ee.get(r, "olddisplay")),
          (i = r.style.display),
          t
            ? (o[a] || "none" !== i || (r.style.display = ""),
              "" === r.style.display &&
                Re(r) &&
                (o[a] = Ee.access(r, "olddisplay", y(r.nodeName))))
            : ((n = Re(r)),
              ("none" === i && n) ||
                Ee.set(r, "olddisplay", n ? i : Z.css(r, "display"))));
    for (a = 0; s > a; a++)
      (r = e[a]),
        r.style &&
          ((t && "none" !== r.style.display && "" !== r.style.display) ||
            (r.style.display = t ? o[a] || "" : "none"));
    return e;
  }
  function A(e, t, i, r, n) {
    return new A.prototype.init(e, t, i, r, n);
  }
  function M() {
    return (
      setTimeout(function () {
        Qe = void 0;
      }),
      (Qe = Z.now())
    );
  }
  function C(e, t) {
    var i,
      r = 0,
      n = { height: e };
    for (t = t ? 1 : 0; 4 > r; r += 2 - t)
      (i = xe[r]), (n["margin" + i] = n["padding" + i] = e);
    return t && (n.opacity = n.width = e), n;
  }
  function P(e, t, i) {
    for (
      var r, n = (it[t] || []).concat(it["*"]), o = 0, a = n.length;
      a > o;
      o++
    )
      if ((r = n[o].call(i, t, e))) return r;
  }
  function L(e, t, i) {
    var r,
      n,
      o,
      a,
      s,
      l,
      h,
      c,
      u = this,
      d = {},
      f = e.style,
      p = e.nodeType && Re(e),
      m = Ee.get(e, "fxshow");
    i.queue ||
      ((s = Z._queueHooks(e, "fx")),
      null == s.unqueued &&
        ((s.unqueued = 0),
        (l = s.empty.fire),
        (s.empty.fire = function () {
          s.unqueued || l();
        })),
      s.unqueued++,
      u.always(function () {
        u.always(function () {
          s.unqueued--, Z.queue(e, "fx").length || s.empty.fire();
        });
      })),
      1 === e.nodeType &&
        ("height" in t || "width" in t) &&
        ((i.overflow = [f.overflow, f.overflowX, f.overflowY]),
        (h = Z.css(e, "display")),
        (c = "none" === h ? Ee.get(e, "olddisplay") || y(e.nodeName) : h),
        "inline" === c &&
          "none" === Z.css(e, "float") &&
          (f.display = "inline-block")),
      i.overflow &&
        ((f.overflow = "hidden"),
        u.always(function () {
          (f.overflow = i.overflow[0]),
            (f.overflowX = i.overflow[1]),
            (f.overflowY = i.overflow[2]);
        }));
    for (r in t)
      if (((n = t[r]), Je.exec(n))) {
        if (
          (delete t[r], (o = o || "toggle" === n), n === (p ? "hide" : "show"))
        ) {
          if ("show" !== n || !m || void 0 === m[r]) continue;
          p = !0;
        }
        d[r] = (m && m[r]) || Z.style(e, r);
      } else h = void 0;
    if (Z.isEmptyObject(d))
      "inline" === ("none" === h ? y(e.nodeName) : h) && (f.display = h);
    else {
      m ? "hidden" in m && (p = m.hidden) : (m = Ee.access(e, "fxshow", {})),
        o && (m.hidden = !p),
        p
          ? Z(e).show()
          : u.done(function () {
              Z(e).hide();
            }),
        u.done(function () {
          var t;
          Ee.remove(e, "fxshow");
          for (t in d) Z.style(e, t, d[t]);
        });
      for (r in d)
        (a = P(p ? m[r] : 0, r, u)),
          r in m ||
            ((m[r] = a.start),
            p &&
              ((a.end = a.start),
              (a.start = "width" === r || "height" === r ? 1 : 0)));
    }
  }
  function D(e, t) {
    var i, r, n, o, a;
    for (i in e)
      if (
        ((r = Z.camelCase(i)),
        (n = t[r]),
        (o = e[i]),
        Z.isArray(o) && ((n = o[1]), (o = e[i] = o[0])),
        i !== r && ((e[r] = o), delete e[i]),
        (a = Z.cssHooks[r]),
        a && "expand" in a)
      ) {
        (o = a.expand(o)), delete e[r];
        for (i in o) i in e || ((e[i] = o[i]), (t[i] = n));
      } else t[r] = n;
  }
  function O(e, t, i) {
    var r,
      n,
      o = 0,
      a = tt.length,
      s = Z.Deferred().always(function () {
        delete l.elem;
      }),
      l = function () {
        if (n) return !1;
        for (
          var t = Qe || M(),
            i = Math.max(0, h.startTime + h.duration - t),
            r = i / h.duration || 0,
            o = 1 - r,
            a = 0,
            l = h.tweens.length;
          l > a;
          a++
        )
          h.tweens[a].run(o);
        return (
          s.notifyWith(e, [h, o, i]),
          1 > o && l ? i : (s.resolveWith(e, [h]), !1)
        );
      },
      h = s.promise({
        elem: e,
        props: Z.extend({}, t),
        opts: Z.extend(!0, { specialEasing: {} }, i),
        originalProperties: t,
        originalOptions: i,
        startTime: Qe || M(),
        duration: i.duration,
        tweens: [],
        createTween: function (t, i) {
          var r = Z.Tween(
            e,
            h.opts,
            t,
            i,
            h.opts.specialEasing[t] || h.opts.easing
          );
          return h.tweens.push(r), r;
        },
        stop: function (t) {
          var i = 0,
            r = t ? h.tweens.length : 0;
          if (n) return this;
          for (n = !0; r > i; i++) h.tweens[i].run(1);
          return t ? s.resolveWith(e, [h, t]) : s.rejectWith(e, [h, t]), this;
        },
      }),
      c = h.props;
    for (D(c, h.opts.specialEasing); a > o; o++)
      if ((r = tt[o].call(h, e, c, h.opts))) return r;
    return (
      Z.map(c, P, h),
      Z.isFunction(h.opts.start) && h.opts.start.call(e, h),
      Z.fx.timer(Z.extend(l, { elem: e, anim: h, queue: h.opts.queue })),
      h
        .progress(h.opts.progress)
        .done(h.opts.done, h.opts.complete)
        .fail(h.opts.fail)
        .always(h.opts.always)
    );
  }
  function k(e) {
    return function (t, i) {
      "string" != typeof t && ((i = t), (t = "*"));
      var r,
        n = 0,
        o = t.toLowerCase().match(fe) || [];
      if (Z.isFunction(i))
        for (; (r = o[n++]); )
          "+" === r[0]
            ? ((r = r.slice(1) || "*"), (e[r] = e[r] || []).unshift(i))
            : (e[r] = e[r] || []).push(i);
    };
  }
  function F(e, t, i, r) {
    function n(s) {
      var l;
      return (
        (o[s] = !0),
        Z.each(e[s] || [], function (e, s) {
          var h = s(t, i, r);
          return "string" != typeof h || a || o[h]
            ? a
              ? !(l = h)
              : void 0
            : (t.dataTypes.unshift(h), n(h), !1);
        }),
        l
      );
    }
    var o = {},
      a = e === _t;
    return n(t.dataTypes[0]) || (!o["*"] && n("*"));
  }
  function N(e, t) {
    var i,
      r,
      n = Z.ajaxSettings.flatOptions || {};
    for (i in t) void 0 !== t[i] && ((n[i] ? e : r || (r = {}))[i] = t[i]);
    return r && Z.extend(!0, e, r), e;
  }
  function j(e, t, i) {
    for (var r, n, o, a, s = e.contents, l = e.dataTypes; "*" === l[0]; )
      l.shift(),
        void 0 === r && (r = e.mimeType || t.getResponseHeader("Content-Type"));
    if (r)
      for (n in s)
        if (s[n] && s[n].test(r)) {
          l.unshift(n);
          break;
        }
    if (l[0] in i) o = l[0];
    else {
      for (n in i) {
        if (!l[0] || e.converters[n + " " + l[0]]) {
          o = n;
          break;
        }
        a || (a = n);
      }
      o = o || a;
    }
    return o ? (o !== l[0] && l.unshift(o), i[o]) : void 0;
  }
  function U(e, t, i, r) {
    var n,
      o,
      a,
      s,
      l,
      h = {},
      c = e.dataTypes.slice();
    if (c[1]) for (a in e.converters) h[a.toLowerCase()] = e.converters[a];
    for (o = c.shift(); o; )
      if (
        (e.responseFields[o] && (i[e.responseFields[o]] = t),
        !l && r && e.dataFilter && (t = e.dataFilter(t, e.dataType)),
        (l = o),
        (o = c.shift()))
      )
        if ("*" === o) o = l;
        else if ("*" !== l && l !== o) {
          if (((a = h[l + " " + o] || h["* " + o]), !a))
            for (n in h)
              if (
                ((s = n.split(" ")),
                s[1] === o && (a = h[l + " " + s[0]] || h["* " + s[0]]))
              ) {
                a === !0
                  ? (a = h[n])
                  : h[n] !== !0 && ((o = s[0]), c.unshift(s[1]));
                break;
              }
          if (a !== !0)
            if (a && e["throws"]) t = a(t);
            else
              try {
                t = a(t);
              } catch (u) {
                return {
                  state: "parsererror",
                  error: a ? u : "No conversion from " + l + " to " + o,
                };
              }
        }
    return { state: "success", data: t };
  }
  function I(e, t, i, r) {
    var n;
    if (Z.isArray(t))
      Z.each(t, function (t, n) {
        i || bt.test(e)
          ? r(e, n)
          : I(e + "[" + ("object" == typeof n ? t : "") + "]", n, i, r);
      });
    else if (i || "object" !== Z.type(t)) r(e, t);
    else for (n in t) I(e + "[" + n + "]", t[n], i, r);
  }
  function B(e) {
    return Z.isWindow(e) ? e : 9 === e.nodeType && e.defaultView;
  }
  var V = [],
    z = V.slice,
    G = V.concat,
    W = V.push,
    X = V.indexOf,
    q = {},
    Y = q.toString,
    K = q.hasOwnProperty,
    Q = {},
    $ = e.document,
    J = "2.1.4",
    Z = function (e, t) {
      return new Z.fn.init(e, t);
    },
    ee = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,
    te = /^-ms-/,
    ie = /-([\da-z])/gi,
    re = function (e, t) {
      return t.toUpperCase();
    };
  (Z.fn = Z.prototype =
    {
      jquery: J,
      constructor: Z,
      selector: "",
      length: 0,
      toArray: function () {
        return z.call(this);
      },
      get: function (e) {
        return null != e
          ? 0 > e
            ? this[e + this.length]
            : this[e]
          : z.call(this);
      },
      pushStack: function (e) {
        var t = Z.merge(this.constructor(), e);
        return (t.prevObject = this), (t.context = this.context), t;
      },
      each: function (e, t) {
        return Z.each(this, e, t);
      },
      map: function (e) {
        return this.pushStack(
          Z.map(this, function (t, i) {
            return e.call(t, i, t);
          })
        );
      },
      slice: function () {
        return this.pushStack(z.apply(this, arguments));
      },
      first: function () {
        return this.eq(0);
      },
      last: function () {
        return this.eq(-1);
      },
      eq: function (e) {
        var t = this.length,
          i = +e + (0 > e ? t : 0);
        return this.pushStack(i >= 0 && t > i ? [this[i]] : []);
      },
      end: function () {
        return this.prevObject || this.constructor(null);
      },
      push: W,
      sort: V.sort,
      splice: V.splice,
    }),
    (Z.extend = Z.fn.extend =
      function () {
        var e,
          t,
          i,
          r,
          n,
          o,
          a = arguments[0] || {},
          s = 1,
          l = arguments.length,
          h = !1;
        for (
          "boolean" == typeof a && ((h = a), (a = arguments[s] || {}), s++),
            "object" == typeof a || Z.isFunction(a) || (a = {}),
            s === l && ((a = this), s--);
          l > s;
          s++
        )
          if (null != (e = arguments[s]))
            for (t in e)
              (i = a[t]),
                (r = e[t]),
                a !== r &&
                  (h && r && (Z.isPlainObject(r) || (n = Z.isArray(r)))
                    ? (n
                        ? ((n = !1), (o = i && Z.isArray(i) ? i : []))
                        : (o = i && Z.isPlainObject(i) ? i : {}),
                      (a[t] = Z.extend(h, o, r)))
                    : void 0 !== r && (a[t] = r));
        return a;
      }),
    Z.extend({
      expando: "jQuery" + (J + Math.random()).replace(/\D/g, ""),
      isReady: !0,
      error: function (e) {
        throw new Error(e);
      },
      noop: function () {},
      isFunction: function (e) {
        return "function" === Z.type(e);
      },
      isArray: Array.isArray,
      isWindow: function (e) {
        return null != e && e === e.window;
      },
      isNumeric: function (e) {
        return !Z.isArray(e) && e - parseFloat(e) + 1 >= 0;
      },
      isPlainObject: function (e) {
        return "object" !== Z.type(e) || e.nodeType || Z.isWindow(e)
          ? !1
          : e.constructor && !K.call(e.constructor.prototype, "isPrototypeOf")
          ? !1
          : !0;
      },
      isEmptyObject: function (e) {
        var t;
        for (t in e) return !1;
        return !0;
      },
      type: function (e) {
        return null == e
          ? e + ""
          : "object" == typeof e || "function" == typeof e
          ? q[Y.call(e)] || "object"
          : typeof e;
      },
      globalEval: function (e) {
        var t,
          i = eval;
        (e = Z.trim(e)),
          e &&
            (1 === e.indexOf("use strict")
              ? ((t = $.createElement("script")),
                (t.text = e),
                $.head.appendChild(t).parentNode.removeChild(t))
              : i(e));
      },
      camelCase: function (e) {
        return e.replace(te, "ms-").replace(ie, re);
      },
      nodeName: function (e, t) {
        return e.nodeName && e.nodeName.toLowerCase() === t.toLowerCase();
      },
      each: function (e, t, r) {
        var n,
          o = 0,
          a = e.length,
          s = i(e);
        if (r) {
          if (s) for (; a > o && ((n = t.apply(e[o], r)), n !== !1); o++);
          else for (o in e) if (((n = t.apply(e[o], r)), n === !1)) break;
        } else if (s)
          for (; a > o && ((n = t.call(e[o], o, e[o])), n !== !1); o++);
        else for (o in e) if (((n = t.call(e[o], o, e[o])), n === !1)) break;
        return e;
      },
      trim: function (e) {
        return null == e ? "" : (e + "").replace(ee, "");
      },
      makeArray: function (e, t) {
        var r = t || [];
        return (
          null != e &&
            (i(Object(e))
              ? Z.merge(r, "string" == typeof e ? [e] : e)
              : W.call(r, e)),
          r
        );
      },
      inArray: function (e, t, i) {
        return null == t ? -1 : X.call(t, e, i);
      },
      merge: function (e, t) {
        for (var i = +t.length, r = 0, n = e.length; i > r; r++) e[n++] = t[r];
        return (e.length = n), e;
      },
      grep: function (e, t, i) {
        for (var r, n = [], o = 0, a = e.length, s = !i; a > o; o++)
          (r = !t(e[o], o)), r !== s && n.push(e[o]);
        return n;
      },
      map: function (e, t, r) {
        var n,
          o = 0,
          a = e.length,
          s = i(e),
          l = [];
        if (s) for (; a > o; o++) (n = t(e[o], o, r)), null != n && l.push(n);
        else for (o in e) (n = t(e[o], o, r)), null != n && l.push(n);
        return G.apply([], l);
      },
      guid: 1,
      proxy: function (e, t) {
        var i, r, n;
        return (
          "string" == typeof t && ((i = e[t]), (t = e), (e = i)),
          Z.isFunction(e)
            ? ((r = z.call(arguments, 2)),
              (n = function () {
                return e.apply(t || this, r.concat(z.call(arguments)));
              }),
              (n.guid = e.guid = e.guid || Z.guid++),
              n)
            : void 0
        );
      },
      now: Date.now,
      support: Q,
    }),
    Z.each(
      "Boolean Number String Function Array Date RegExp Object Error".split(
        " "
      ),
      function (e, t) {
        q["[object " + t + "]"] = t.toLowerCase();
      }
    );
  var ne = (function (e) {
    function t(e, t, i, r) {
      var n, o, a, s, l, h, u, f, p, m;
      if (
        ((t ? t.ownerDocument || t : I) !== L && P(t),
        (t = t || L),
        (i = i || []),
        (s = t.nodeType),
        "string" != typeof e || !e || (1 !== s && 9 !== s && 11 !== s))
      )
        return i;
      if (!r && O) {
        if (11 !== s && (n = ve.exec(e)))
          if ((a = n[1])) {
            if (9 === s) {
              if (((o = t.getElementById(a)), !o || !o.parentNode)) return i;
              if (o.id === a) return i.push(o), i;
            } else if (
              t.ownerDocument &&
              (o = t.ownerDocument.getElementById(a)) &&
              j(t, o) &&
              o.id === a
            )
              return i.push(o), i;
          } else {
            if (n[2]) return J.apply(i, t.getElementsByTagName(e)), i;
            if ((a = n[3]) && T.getElementsByClassName)
              return J.apply(i, t.getElementsByClassName(a)), i;
          }
        if (T.qsa && (!k || !k.test(e))) {
          if (
            ((f = u = U),
            (p = t),
            (m = 1 !== s && e),
            1 === s && "object" !== t.nodeName.toLowerCase())
          ) {
            for (
              h = w(e),
                (u = t.getAttribute("id"))
                  ? (f = u.replace(ye, "\\$&"))
                  : t.setAttribute("id", f),
                f = "[id='" + f + "'] ",
                l = h.length;
              l--;

            )
              h[l] = f + d(h[l]);
            (p = (_e.test(e) && c(t.parentNode)) || t), (m = h.join(","));
          }
          if (m)
            try {
              return J.apply(i, p.querySelectorAll(m)), i;
            } catch (g) {
            } finally {
              u || t.removeAttribute("id");
            }
        }
      }
      return S(e.replace(le, "$1"), t, i, r);
    }
    function i() {
      function e(i, r) {
        return (
          t.push(i + " ") > x.cacheLength && delete e[t.shift()],
          (e[i + " "] = r)
        );
      }
      var t = [];
      return e;
    }
    function r(e) {
      return (e[U] = !0), e;
    }
    function n(e) {
      var t = L.createElement("div");
      try {
        return !!e(t);
      } catch (i) {
        return !1;
      } finally {
        t.parentNode && t.parentNode.removeChild(t), (t = null);
      }
    }
    function o(e, t) {
      for (var i = e.split("|"), r = e.length; r--; ) x.attrHandle[i[r]] = t;
    }
    function a(e, t) {
      var i = t && e,
        r =
          i &&
          1 === e.nodeType &&
          1 === t.nodeType &&
          (~t.sourceIndex || q) - (~e.sourceIndex || q);
      if (r) return r;
      if (i) for (; (i = i.nextSibling); ) if (i === t) return -1;
      return e ? 1 : -1;
    }
    function s(e) {
      return function (t) {
        var i = t.nodeName.toLowerCase();
        return "input" === i && t.type === e;
      };
    }
    function l(e) {
      return function (t) {
        var i = t.nodeName.toLowerCase();
        return ("input" === i || "button" === i) && t.type === e;
      };
    }
    function h(e) {
      return r(function (t) {
        return (
          (t = +t),
          r(function (i, r) {
            for (var n, o = e([], i.length, t), a = o.length; a--; )
              i[(n = o[a])] && (i[n] = !(r[n] = i[n]));
          })
        );
      });
    }
    function c(e) {
      return e && "undefined" != typeof e.getElementsByTagName && e;
    }
    function u() {}
    function d(e) {
      for (var t = 0, i = e.length, r = ""; i > t; t++) r += e[t].value;
      return r;
    }
    function f(e, t, i) {
      var r = t.dir,
        n = i && "parentNode" === r,
        o = V++;
      return t.first
        ? function (t, i, o) {
            for (; (t = t[r]); ) if (1 === t.nodeType || n) return e(t, i, o);
          }
        : function (t, i, a) {
            var s,
              l,
              h = [B, o];
            if (a) {
              for (; (t = t[r]); )
                if ((1 === t.nodeType || n) && e(t, i, a)) return !0;
            } else
              for (; (t = t[r]); )
                if (1 === t.nodeType || n) {
                  if (
                    ((l = t[U] || (t[U] = {})),
                    (s = l[r]) && s[0] === B && s[1] === o)
                  )
                    return (h[2] = s[2]);
                  if (((l[r] = h), (h[2] = e(t, i, a)))) return !0;
                }
          };
    }
    function p(e) {
      return e.length > 1
        ? function (t, i, r) {
            for (var n = e.length; n--; ) if (!e[n](t, i, r)) return !1;
            return !0;
          }
        : e[0];
    }
    function m(e, i, r) {
      for (var n = 0, o = i.length; o > n; n++) t(e, i[n], r);
      return r;
    }
    function g(e, t, i, r, n) {
      for (var o, a = [], s = 0, l = e.length, h = null != t; l > s; s++)
        (o = e[s]) && (!i || i(o, r, n)) && (a.push(o), h && t.push(s));
      return a;
    }
    function E(e, t, i, n, o, a) {
      return (
        n && !n[U] && (n = E(n)),
        o && !o[U] && (o = E(o, a)),
        r(function (r, a, s, l) {
          var h,
            c,
            u,
            d = [],
            f = [],
            p = a.length,
            E = r || m(t || "*", s.nodeType ? [s] : s, []),
            v = !e || (!r && t) ? E : g(E, d, e, s, l),
            _ = i ? (o || (r ? e : p || n) ? [] : a) : v;
          if ((i && i(v, _, s, l), n))
            for (h = g(_, f), n(h, [], s, l), c = h.length; c--; )
              (u = h[c]) && (_[f[c]] = !(v[f[c]] = u));
          if (r) {
            if (o || e) {
              if (o) {
                for (h = [], c = _.length; c--; )
                  (u = _[c]) && h.push((v[c] = u));
                o(null, (_ = []), h, l);
              }
              for (c = _.length; c--; )
                (u = _[c]) &&
                  (h = o ? ee(r, u) : d[c]) > -1 &&
                  (r[h] = !(a[h] = u));
            }
          } else (_ = g(_ === a ? _.splice(p, _.length) : _)), o ? o(null, a, _, l) : J.apply(a, _);
        })
      );
    }
    function v(e) {
      for (
        var t,
          i,
          r,
          n = e.length,
          o = x.relative[e[0].type],
          a = o || x.relative[" "],
          s = o ? 1 : 0,
          l = f(
            function (e) {
              return e === t;
            },
            a,
            !0
          ),
          h = f(
            function (e) {
              return ee(t, e) > -1;
            },
            a,
            !0
          ),
          c = [
            function (e, i, r) {
              var n =
                (!o && (r || i !== A)) ||
                ((t = i).nodeType ? l(e, i, r) : h(e, i, r));
              return (t = null), n;
            },
          ];
        n > s;
        s++
      )
        if ((i = x.relative[e[s].type])) c = [f(p(c), i)];
        else {
          if (((i = x.filter[e[s].type].apply(null, e[s].matches)), i[U])) {
            for (r = ++s; n > r && !x.relative[e[r].type]; r++);
            return E(
              s > 1 && p(c),
              s > 1 &&
                d(
                  e
                    .slice(0, s - 1)
                    .concat({ value: " " === e[s - 2].type ? "*" : "" })
                ).replace(le, "$1"),
              i,
              r > s && v(e.slice(s, r)),
              n > r && v((e = e.slice(r))),
              n > r && d(e)
            );
          }
          c.push(i);
        }
      return p(c);
    }
    function _(e, i) {
      var n = i.length > 0,
        o = e.length > 0,
        a = function (r, a, s, l, h) {
          var c,
            u,
            d,
            f = 0,
            p = "0",
            m = r && [],
            E = [],
            v = A,
            _ = r || (o && x.find.TAG("*", h)),
            y = (B += null == v ? 1 : Math.random() || 0.1),
            T = _.length;
          for (h && (A = a !== L && a); p !== T && null != (c = _[p]); p++) {
            if (o && c) {
              for (u = 0; (d = e[u++]); )
                if (d(c, a, s)) {
                  l.push(c);
                  break;
                }
              h && (B = y);
            }
            n && ((c = !d && c) && f--, r && m.push(c));
          }
          if (((f += p), n && p !== f)) {
            for (u = 0; (d = i[u++]); ) d(m, E, a, s);
            if (r) {
              if (f > 0) for (; p--; ) m[p] || E[p] || (E[p] = Q.call(l));
              E = g(E);
            }
            J.apply(l, E),
              h && !r && E.length > 0 && f + i.length > 1 && t.uniqueSort(l);
          }
          return h && ((B = y), (A = v)), m;
        };
      return n ? r(a) : a;
    }
    var y,
      T,
      x,
      R,
      b,
      w,
      H,
      S,
      A,
      M,
      C,
      P,
      L,
      D,
      O,
      k,
      F,
      N,
      j,
      U = "sizzle" + 1 * new Date(),
      I = e.document,
      B = 0,
      V = 0,
      z = i(),
      G = i(),
      W = i(),
      X = function (e, t) {
        return e === t && (C = !0), 0;
      },
      q = 1 << 31,
      Y = {}.hasOwnProperty,
      K = [],
      Q = K.pop,
      $ = K.push,
      J = K.push,
      Z = K.slice,
      ee = function (e, t) {
        for (var i = 0, r = e.length; r > i; i++) if (e[i] === t) return i;
        return -1;
      },
      te =
        "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",
      ie = "[\\x20\\t\\r\\n\\f]",
      re = "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",
      ne = re.replace("w", "w#"),
      oe =
        "\\[" +
        ie +
        "*(" +
        re +
        ")(?:" +
        ie +
        "*([*^$|!~]?=)" +
        ie +
        "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" +
        ne +
        "))|)" +
        ie +
        "*\\]",
      ae =
        ":(" +
        re +
        ")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|" +
        oe +
        ")*)|.*)\\)|)",
      se = new RegExp(ie + "+", "g"),
      le = new RegExp(
        "^" + ie + "+|((?:^|[^\\\\])(?:\\\\.)*)" + ie + "+$",
        "g"
      ),
      he = new RegExp("^" + ie + "*," + ie + "*"),
      ce = new RegExp("^" + ie + "*([>+~]|" + ie + ")" + ie + "*"),
      ue = new RegExp("=" + ie + "*([^\\]'\"]*?)" + ie + "*\\]", "g"),
      de = new RegExp(ae),
      fe = new RegExp("^" + ne + "$"),
      pe = {
        ID: new RegExp("^#(" + re + ")"),
        CLASS: new RegExp("^\\.(" + re + ")"),
        TAG: new RegExp("^(" + re.replace("w", "w*") + ")"),
        ATTR: new RegExp("^" + oe),
        PSEUDO: new RegExp("^" + ae),
        CHILD: new RegExp(
          "^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" +
            ie +
            "*(even|odd|(([+-]|)(\\d*)n|)" +
            ie +
            "*(?:([+-]|)" +
            ie +
            "*(\\d+)|))" +
            ie +
            "*\\)|)",
          "i"
        ),
        bool: new RegExp("^(?:" + te + ")$", "i"),
        needsContext: new RegExp(
          "^" +
            ie +
            "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" +
            ie +
            "*((?:-\\d)?\\d*)" +
            ie +
            "*\\)|)(?=[^-]|$)",
          "i"
        ),
      },
      me = /^(?:input|select|textarea|button)$/i,
      ge = /^h\d$/i,
      Ee = /^[^{]+\{\s*\[native \w/,
      ve = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,
      _e = /[+~]/,
      ye = /'|\\/g,
      Te = new RegExp("\\\\([\\da-f]{1,6}" + ie + "?|(" + ie + ")|.)", "ig"),
      xe = function (e, t, i) {
        var r = "0x" + t - 65536;
        return r !== r || i
          ? t
          : 0 > r
          ? String.fromCharCode(r + 65536)
          : String.fromCharCode((r >> 10) | 55296, (1023 & r) | 56320);
      },
      Re = function () {
        P();
      };
    try {
      J.apply((K = Z.call(I.childNodes)), I.childNodes),
        K[I.childNodes.length].nodeType;
    } catch (be) {
      J = {
        apply: K.length
          ? function (e, t) {
              $.apply(e, Z.call(t));
            }
          : function (e, t) {
              for (var i = e.length, r = 0; (e[i++] = t[r++]); );
              e.length = i - 1;
            },
      };
    }
    (T = t.support = {}),
      (b = t.isXML =
        function (e) {
          var t = e && (e.ownerDocument || e).documentElement;
          return t ? "HTML" !== t.nodeName : !1;
        }),
      (P = t.setDocument =
        function (e) {
          var t,
            i,
            r = e ? e.ownerDocument || e : I;
          return r !== L && 9 === r.nodeType && r.documentElement
            ? ((L = r),
              (D = r.documentElement),
              (i = r.defaultView),
              i &&
                i !== i.top &&
                (i.addEventListener
                  ? i.addEventListener("unload", Re, !1)
                  : i.attachEvent && i.attachEvent("onunload", Re)),
              (O = !b(r)),
              (T.attributes = n(function (e) {
                return (e.className = "i"), !e.getAttribute("className");
              })),
              (T.getElementsByTagName = n(function (e) {
                return (
                  e.appendChild(r.createComment("")),
                  !e.getElementsByTagName("*").length
                );
              })),
              (T.getElementsByClassName = Ee.test(r.getElementsByClassName)),
              (T.getById = n(function (e) {
                return (
                  (D.appendChild(e).id = U),
                  !r.getElementsByName || !r.getElementsByName(U).length
                );
              })),
              T.getById
                ? ((x.find.ID = function (e, t) {
                    if ("undefined" != typeof t.getElementById && O) {
                      var i = t.getElementById(e);
                      return i && i.parentNode ? [i] : [];
                    }
                  }),
                  (x.filter.ID = function (e) {
                    var t = e.replace(Te, xe);
                    return function (e) {
                      return e.getAttribute("id") === t;
                    };
                  }))
                : (delete x.find.ID,
                  (x.filter.ID = function (e) {
                    var t = e.replace(Te, xe);
                    return function (e) {
                      var i =
                        "undefined" != typeof e.getAttributeNode &&
                        e.getAttributeNode("id");
                      return i && i.value === t;
                    };
                  })),
              (x.find.TAG = T.getElementsByTagName
                ? function (e, t) {
                    return "undefined" != typeof t.getElementsByTagName
                      ? t.getElementsByTagName(e)
                      : T.qsa
                      ? t.querySelectorAll(e)
                      : void 0;
                  }
                : function (e, t) {
                    var i,
                      r = [],
                      n = 0,
                      o = t.getElementsByTagName(e);
                    if ("*" === e) {
                      for (; (i = o[n++]); ) 1 === i.nodeType && r.push(i);
                      return r;
                    }
                    return o;
                  }),
              (x.find.CLASS =
                T.getElementsByClassName &&
                function (e, t) {
                  return O ? t.getElementsByClassName(e) : void 0;
                }),
              (F = []),
              (k = []),
              (T.qsa = Ee.test(r.querySelectorAll)) &&
                (n(function (e) {
                  (D.appendChild(e).innerHTML =
                    "<a id='" +
                    U +
                    "'></a><select id='" +
                    U +
                    "-\f]' msallowcapture=''><option selected=''></option></select>"),
                    e.querySelectorAll("[msallowcapture^='']").length &&
                      k.push("[*^$]=" + ie + "*(?:''|\"\")"),
                    e.querySelectorAll("[selected]").length ||
                      k.push("\\[" + ie + "*(?:value|" + te + ")"),
                    e.querySelectorAll("[id~=" + U + "-]").length ||
                      k.push("~="),
                    e.querySelectorAll(":checked").length || k.push(":checked"),
                    e.querySelectorAll("a#" + U + "+*").length ||
                      k.push(".#.+[+~]");
                }),
                n(function (e) {
                  var t = r.createElement("input");
                  t.setAttribute("type", "hidden"),
                    e.appendChild(t).setAttribute("name", "D"),
                    e.querySelectorAll("[name=d]").length &&
                      k.push("name" + ie + "*[*^$|!~]?="),
                    e.querySelectorAll(":enabled").length ||
                      k.push(":enabled", ":disabled"),
                    e.querySelectorAll("*,:x"),
                    k.push(",.*:");
                })),
              (T.matchesSelector = Ee.test(
                (N =
                  D.matches ||
                  D.webkitMatchesSelector ||
                  D.mozMatchesSelector ||
                  D.oMatchesSelector ||
                  D.msMatchesSelector)
              )) &&
                n(function (e) {
                  (T.disconnectedMatch = N.call(e, "div")),
                    N.call(e, "[s!='']:x"),
                    F.push("!=", ae);
                }),
              (k = k.length && new RegExp(k.join("|"))),
              (F = F.length && new RegExp(F.join("|"))),
              (t = Ee.test(D.compareDocumentPosition)),
              (j =
                t || Ee.test(D.contains)
                  ? function (e, t) {
                      var i = 9 === e.nodeType ? e.documentElement : e,
                        r = t && t.parentNode;
                      return (
                        e === r ||
                        !(
                          !r ||
                          1 !== r.nodeType ||
                          !(i.contains
                            ? i.contains(r)
                            : e.compareDocumentPosition &&
                              16 & e.compareDocumentPosition(r))
                        )
                      );
                    }
                  : function (e, t) {
                      if (t)
                        for (; (t = t.parentNode); ) if (t === e) return !0;
                      return !1;
                    }),
              (X = t
                ? function (e, t) {
                    if (e === t) return (C = !0), 0;
                    var i =
                      !e.compareDocumentPosition - !t.compareDocumentPosition;
                    return i
                      ? i
                      : ((i =
                          (e.ownerDocument || e) === (t.ownerDocument || t)
                            ? e.compareDocumentPosition(t)
                            : 1),
                        1 & i ||
                        (!T.sortDetached && t.compareDocumentPosition(e) === i)
                          ? e === r || (e.ownerDocument === I && j(I, e))
                            ? -1
                            : t === r || (t.ownerDocument === I && j(I, t))
                            ? 1
                            : M
                            ? ee(M, e) - ee(M, t)
                            : 0
                          : 4 & i
                          ? -1
                          : 1);
                  }
                : function (e, t) {
                    if (e === t) return (C = !0), 0;
                    var i,
                      n = 0,
                      o = e.parentNode,
                      s = t.parentNode,
                      l = [e],
                      h = [t];
                    if (!o || !s)
                      return e === r
                        ? -1
                        : t === r
                        ? 1
                        : o
                        ? -1
                        : s
                        ? 1
                        : M
                        ? ee(M, e) - ee(M, t)
                        : 0;
                    if (o === s) return a(e, t);
                    for (i = e; (i = i.parentNode); ) l.unshift(i);
                    for (i = t; (i = i.parentNode); ) h.unshift(i);
                    for (; l[n] === h[n]; ) n++;
                    return n
                      ? a(l[n], h[n])
                      : l[n] === I
                      ? -1
                      : h[n] === I
                      ? 1
                      : 0;
                  }),
              r)
            : L;
        }),
      (t.matches = function (e, i) {
        return t(e, null, null, i);
      }),
      (t.matchesSelector = function (e, i) {
        if (
          ((e.ownerDocument || e) !== L && P(e),
          (i = i.replace(ue, "='$1']")),
          !(!T.matchesSelector || !O || (F && F.test(i)) || (k && k.test(i))))
        )
          try {
            var r = N.call(e, i);
            if (
              r ||
              T.disconnectedMatch ||
              (e.document && 11 !== e.document.nodeType)
            )
              return r;
          } catch (n) {}
        return t(i, L, null, [e]).length > 0;
      }),
      (t.contains = function (e, t) {
        return (e.ownerDocument || e) !== L && P(e), j(e, t);
      }),
      (t.attr = function (e, t) {
        (e.ownerDocument || e) !== L && P(e);
        var i = x.attrHandle[t.toLowerCase()],
          r = i && Y.call(x.attrHandle, t.toLowerCase()) ? i(e, t, !O) : void 0;
        return void 0 !== r
          ? r
          : T.attributes || !O
          ? e.getAttribute(t)
          : (r = e.getAttributeNode(t)) && r.specified
          ? r.value
          : null;
      }),
      (t.error = function (e) {
        throw new Error("Syntax error, unrecognized expression: " + e);
      }),
      (t.uniqueSort = function (e) {
        var t,
          i = [],
          r = 0,
          n = 0;
        if (
          ((C = !T.detectDuplicates),
          (M = !T.sortStable && e.slice(0)),
          e.sort(X),
          C)
        ) {
          for (; (t = e[n++]); ) t === e[n] && (r = i.push(n));
          for (; r--; ) e.splice(i[r], 1);
        }
        return (M = null), e;
      }),
      (R = t.getText =
        function (e) {
          var t,
            i = "",
            r = 0,
            n = e.nodeType;
          if (n) {
            if (1 === n || 9 === n || 11 === n) {
              if ("string" == typeof e.textContent) return e.textContent;
              for (e = e.firstChild; e; e = e.nextSibling) i += R(e);
            } else if (3 === n || 4 === n) return e.nodeValue;
          } else for (; (t = e[r++]); ) i += R(t);
          return i;
        }),
      (x = t.selectors =
        {
          cacheLength: 50,
          createPseudo: r,
          match: pe,
          attrHandle: {},
          find: {},
          relative: {
            ">": { dir: "parentNode", first: !0 },
            " ": { dir: "parentNode" },
            "+": { dir: "previousSibling", first: !0 },
            "~": { dir: "previousSibling" },
          },
          preFilter: {
            ATTR: function (e) {
              return (
                (e[1] = e[1].replace(Te, xe)),
                (e[3] = (e[3] || e[4] || e[5] || "").replace(Te, xe)),
                "~=" === e[2] && (e[3] = " " + e[3] + " "),
                e.slice(0, 4)
              );
            },
            CHILD: function (e) {
              return (
                (e[1] = e[1].toLowerCase()),
                "nth" === e[1].slice(0, 3)
                  ? (e[3] || t.error(e[0]),
                    (e[4] = +(e[4]
                      ? e[5] + (e[6] || 1)
                      : 2 * ("even" === e[3] || "odd" === e[3]))),
                    (e[5] = +(e[7] + e[8] || "odd" === e[3])))
                  : e[3] && t.error(e[0]),
                e
              );
            },
            PSEUDO: function (e) {
              var t,
                i = !e[6] && e[2];
              return pe.CHILD.test(e[0])
                ? null
                : (e[3]
                    ? (e[2] = e[4] || e[5] || "")
                    : i &&
                      de.test(i) &&
                      (t = w(i, !0)) &&
                      (t = i.indexOf(")", i.length - t) - i.length) &&
                      ((e[0] = e[0].slice(0, t)), (e[2] = i.slice(0, t))),
                  e.slice(0, 3));
            },
          },
          filter: {
            TAG: function (e) {
              var t = e.replace(Te, xe).toLowerCase();
              return "*" === e
                ? function () {
                    return !0;
                  }
                : function (e) {
                    return e.nodeName && e.nodeName.toLowerCase() === t;
                  };
            },
            CLASS: function (e) {
              var t = z[e + " "];
              return (
                t ||
                ((t = new RegExp("(^|" + ie + ")" + e + "(" + ie + "|$)")) &&
                  z(e, function (e) {
                    return t.test(
                      ("string" == typeof e.className && e.className) ||
                        ("undefined" != typeof e.getAttribute &&
                          e.getAttribute("class")) ||
                        ""
                    );
                  }))
              );
            },
            ATTR: function (e, i, r) {
              return function (n) {
                var o = t.attr(n, e);
                return null == o
                  ? "!=" === i
                  : i
                  ? ((o += ""),
                    "=" === i
                      ? o === r
                      : "!=" === i
                      ? o !== r
                      : "^=" === i
                      ? r && 0 === o.indexOf(r)
                      : "*=" === i
                      ? r && o.indexOf(r) > -1
                      : "$=" === i
                      ? r && o.slice(-r.length) === r
                      : "~=" === i
                      ? (" " + o.replace(se, " ") + " ").indexOf(r) > -1
                      : "|=" === i
                      ? o === r || o.slice(0, r.length + 1) === r + "-"
                      : !1)
                  : !0;
              };
            },
            CHILD: function (e, t, i, r, n) {
              var o = "nth" !== e.slice(0, 3),
                a = "last" !== e.slice(-4),
                s = "of-type" === t;
              return 1 === r && 0 === n
                ? function (e) {
                    return !!e.parentNode;
                  }
                : function (t, i, l) {
                    var h,
                      c,
                      u,
                      d,
                      f,
                      p,
                      m = o !== a ? "nextSibling" : "previousSibling",
                      g = t.parentNode,
                      E = s && t.nodeName.toLowerCase(),
                      v = !l && !s;
                    if (g) {
                      if (o) {
                        for (; m; ) {
                          for (u = t; (u = u[m]); )
                            if (
                              s
                                ? u.nodeName.toLowerCase() === E
                                : 1 === u.nodeType
                            )
                              return !1;
                          p = m = "only" === e && !p && "nextSibling";
                        }
                        return !0;
                      }
                      if (((p = [a ? g.firstChild : g.lastChild]), a && v)) {
                        for (
                          c = g[U] || (g[U] = {}),
                            h = c[e] || [],
                            f = h[0] === B && h[1],
                            d = h[0] === B && h[2],
                            u = f && g.childNodes[f];
                          (u = (++f && u && u[m]) || (d = f = 0) || p.pop());

                        )
                          if (1 === u.nodeType && ++d && u === t) {
                            c[e] = [B, f, d];
                            break;
                          }
                      } else if (
                        v &&
                        (h = (t[U] || (t[U] = {}))[e]) &&
                        h[0] === B
                      )
                        d = h[1];
                      else
                        for (
                          ;
                          (u = (++f && u && u[m]) || (d = f = 0) || p.pop()) &&
                          ((s
                            ? u.nodeName.toLowerCase() !== E
                            : 1 !== u.nodeType) ||
                            !++d ||
                            (v && ((u[U] || (u[U] = {}))[e] = [B, d]),
                            u !== t));

                        );
                      return (d -= n), d === r || (d % r === 0 && d / r >= 0);
                    }
                  };
            },
            PSEUDO: function (e, i) {
              var n,
                o =
                  x.pseudos[e] ||
                  x.setFilters[e.toLowerCase()] ||
                  t.error("unsupported pseudo: " + e);
              return o[U]
                ? o(i)
                : o.length > 1
                ? ((n = [e, e, "", i]),
                  x.setFilters.hasOwnProperty(e.toLowerCase())
                    ? r(function (e, t) {
                        for (var r, n = o(e, i), a = n.length; a--; )
                          (r = ee(e, n[a])), (e[r] = !(t[r] = n[a]));
                      })
                    : function (e) {
                        return o(e, 0, n);
                      })
                : o;
            },
          },
          pseudos: {
            not: r(function (e) {
              var t = [],
                i = [],
                n = H(e.replace(le, "$1"));
              return n[U]
                ? r(function (e, t, i, r) {
                    for (var o, a = n(e, null, r, []), s = e.length; s--; )
                      (o = a[s]) && (e[s] = !(t[s] = o));
                  })
                : function (e, r, o) {
                    return (
                      (t[0] = e), n(t, null, o, i), (t[0] = null), !i.pop()
                    );
                  };
            }),
            has: r(function (e) {
              return function (i) {
                return t(e, i).length > 0;
              };
            }),
            contains: r(function (e) {
              return (
                (e = e.replace(Te, xe)),
                function (t) {
                  return (t.textContent || t.innerText || R(t)).indexOf(e) > -1;
                }
              );
            }),
            lang: r(function (e) {
              return (
                fe.test(e || "") || t.error("unsupported lang: " + e),
                (e = e.replace(Te, xe).toLowerCase()),
                function (t) {
                  var i;
                  do
                    if (
                      (i = O
                        ? t.lang
                        : t.getAttribute("xml:lang") || t.getAttribute("lang"))
                    )
                      return (
                        (i = i.toLowerCase()),
                        i === e || 0 === i.indexOf(e + "-")
                      );
                  while ((t = t.parentNode) && 1 === t.nodeType);
                  return !1;
                }
              );
            }),
            target: function (t) {
              var i = e.location && e.location.hash;
              return i && i.slice(1) === t.id;
            },
            root: function (e) {
              return e === D;
            },
            focus: function (e) {
              return (
                e === L.activeElement &&
                (!L.hasFocus || L.hasFocus()) &&
                !!(e.type || e.href || ~e.tabIndex)
              );
            },
            enabled: function (e) {
              return e.disabled === !1;
            },
            disabled: function (e) {
              return e.disabled === !0;
            },
            checked: function (e) {
              var t = e.nodeName.toLowerCase();
              return (
                ("input" === t && !!e.checked) ||
                ("option" === t && !!e.selected)
              );
            },
            selected: function (e) {
              return (
                e.parentNode && e.parentNode.selectedIndex, e.selected === !0
              );
            },
            empty: function (e) {
              for (e = e.firstChild; e; e = e.nextSibling)
                if (e.nodeType < 6) return !1;
              return !0;
            },
            parent: function (e) {
              return !x.pseudos.empty(e);
            },
            header: function (e) {
              return ge.test(e.nodeName);
            },
            input: function (e) {
              return me.test(e.nodeName);
            },
            button: function (e) {
              var t = e.nodeName.toLowerCase();
              return ("input" === t && "button" === e.type) || "button" === t;
            },
            text: function (e) {
              var t;
              return (
                "input" === e.nodeName.toLowerCase() &&
                "text" === e.type &&
                (null == (t = e.getAttribute("type")) ||
                  "text" === t.toLowerCase())
              );
            },
            first: h(function () {
              return [0];
            }),
            last: h(function (e, t) {
              return [t - 1];
            }),
            eq: h(function (e, t, i) {
              return [0 > i ? i + t : i];
            }),
            even: h(function (e, t) {
              for (var i = 0; t > i; i += 2) e.push(i);
              return e;
            }),
            odd: h(function (e, t) {
              for (var i = 1; t > i; i += 2) e.push(i);
              return e;
            }),
            lt: h(function (e, t, i) {
              for (var r = 0 > i ? i + t : i; --r >= 0; ) e.push(r);
              return e;
            }),
            gt: h(function (e, t, i) {
              for (var r = 0 > i ? i + t : i; ++r < t; ) e.push(r);
              return e;
            }),
          },
        }),
      (x.pseudos.nth = x.pseudos.eq);
    for (y in { radio: !0, checkbox: !0, file: !0, password: !0, image: !0 })
      x.pseudos[y] = s(y);
    for (y in { submit: !0, reset: !0 }) x.pseudos[y] = l(y);
    return (
      (u.prototype = x.filters = x.pseudos),
      (x.setFilters = new u()),
      (w = t.tokenize =
        function (e, i) {
          var r,
            n,
            o,
            a,
            s,
            l,
            h,
            c = G[e + " "];
          if (c) return i ? 0 : c.slice(0);
          for (s = e, l = [], h = x.preFilter; s; ) {
            (!r || (n = he.exec(s))) &&
              (n && (s = s.slice(n[0].length) || s), l.push((o = []))),
              (r = !1),
              (n = ce.exec(s)) &&
                ((r = n.shift()),
                o.push({ value: r, type: n[0].replace(le, " ") }),
                (s = s.slice(r.length)));
            for (a in x.filter)
              !(n = pe[a].exec(s)) ||
                (h[a] && !(n = h[a](n))) ||
                ((r = n.shift()),
                o.push({ value: r, type: a, matches: n }),
                (s = s.slice(r.length)));
            if (!r) break;
          }
          return i ? s.length : s ? t.error(e) : G(e, l).slice(0);
        }),
      (H = t.compile =
        function (e, t) {
          var i,
            r = [],
            n = [],
            o = W[e + " "];
          if (!o) {
            for (t || (t = w(e)), i = t.length; i--; )
              (o = v(t[i])), o[U] ? r.push(o) : n.push(o);
            (o = W(e, _(n, r))), (o.selector = e);
          }
          return o;
        }),
      (S = t.select =
        function (e, t, i, r) {
          var n,
            o,
            a,
            s,
            l,
            h = "function" == typeof e && e,
            u = !r && w((e = h.selector || e));
          if (((i = i || []), 1 === u.length)) {
            if (
              ((o = u[0] = u[0].slice(0)),
              o.length > 2 &&
                "ID" === (a = o[0]).type &&
                T.getById &&
                9 === t.nodeType &&
                O &&
                x.relative[o[1].type])
            ) {
              if (
                ((t = (x.find.ID(a.matches[0].replace(Te, xe), t) || [])[0]),
                !t)
              )
                return i;
              h && (t = t.parentNode), (e = e.slice(o.shift().value.length));
            }
            for (
              n = pe.needsContext.test(e) ? 0 : o.length;
              n-- && ((a = o[n]), !x.relative[(s = a.type)]);

            )
              if (
                (l = x.find[s]) &&
                (r = l(
                  a.matches[0].replace(Te, xe),
                  (_e.test(o[0].type) && c(t.parentNode)) || t
                ))
              ) {
                if ((o.splice(n, 1), (e = r.length && d(o)), !e))
                  return J.apply(i, r), i;
                break;
              }
          }
          return (
            (h || H(e, u))(r, t, !O, i, (_e.test(e) && c(t.parentNode)) || t), i
          );
        }),
      (T.sortStable = U.split("").sort(X).join("") === U),
      (T.detectDuplicates = !!C),
      P(),
      (T.sortDetached = n(function (e) {
        return 1 & e.compareDocumentPosition(L.createElement("div"));
      })),
      n(function (e) {
        return (
          (e.innerHTML = "<a href='#'></a>"),
          "#" === e.firstChild.getAttribute("href")
        );
      }) ||
        o("type|href|height|width", function (e, t, i) {
          return i
            ? void 0
            : e.getAttribute(t, "type" === t.toLowerCase() ? 1 : 2);
        }),
      (T.attributes &&
        n(function (e) {
          return (
            (e.innerHTML = "<input/>"),
            e.firstChild.setAttribute("value", ""),
            "" === e.firstChild.getAttribute("value")
          );
        })) ||
        o("value", function (e, t, i) {
          return i || "input" !== e.nodeName.toLowerCase()
            ? void 0
            : e.defaultValue;
        }),
      n(function (e) {
        return null == e.getAttribute("disabled");
      }) ||
        o(te, function (e, t, i) {
          var r;
          return i
            ? void 0
            : e[t] === !0
            ? t.toLowerCase()
            : (r = e.getAttributeNode(t)) && r.specified
            ? r.value
            : null;
        }),
      t
    );
  })(e);
  (Z.find = ne),
    (Z.expr = ne.selectors),
    (Z.expr[":"] = Z.expr.pseudos),
    (Z.unique = ne.uniqueSort),
    (Z.text = ne.getText),
    (Z.isXMLDoc = ne.isXML),
    (Z.contains = ne.contains);
  var oe = Z.expr.match.needsContext,
    ae = /^<(\w+)\s*\/?>(?:<\/\1>|)$/,
    se = /^.[^:#\[\.,]*$/;
  (Z.filter = function (e, t, i) {
    var r = t[0];
    return (
      i && (e = ":not(" + e + ")"),
      1 === t.length && 1 === r.nodeType
        ? Z.find.matchesSelector(r, e)
          ? [r]
          : []
        : Z.find.matches(
            e,
            Z.grep(t, function (e) {
              return 1 === e.nodeType;
            })
          )
    );
  }),
    Z.fn.extend({
      find: function (e) {
        var t,
          i = this.length,
          r = [],
          n = this;
        if ("string" != typeof e)
          return this.pushStack(
            Z(e).filter(function () {
              for (t = 0; i > t; t++) if (Z.contains(n[t], this)) return !0;
            })
          );
        for (t = 0; i > t; t++) Z.find(e, n[t], r);
        return (
          (r = this.pushStack(i > 1 ? Z.unique(r) : r)),
          (r.selector = this.selector ? this.selector + " " + e : e),
          r
        );
      },
      filter: function (e) {
        return this.pushStack(r(this, e || [], !1));
      },
      not: function (e) {
        return this.pushStack(r(this, e || [], !0));
      },
      is: function (e) {
        return !!r(
          this,
          "string" == typeof e && oe.test(e) ? Z(e) : e || [],
          !1
        ).length;
      },
    });
  var le,
    he = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,
    ce = (Z.fn.init = function (e, t) {
      var i, r;
      if (!e) return this;
      if ("string" == typeof e) {
        if (
          ((i =
            "<" === e[0] && ">" === e[e.length - 1] && e.length >= 3
              ? [null, e, null]
              : he.exec(e)),
          !i || (!i[1] && t))
        )
          return !t || t.jquery
            ? (t || le).find(e)
            : this.constructor(t).find(e);
        if (i[1]) {
          if (
            ((t = t instanceof Z ? t[0] : t),
            Z.merge(
              this,
              Z.parseHTML(i[1], t && t.nodeType ? t.ownerDocument || t : $, !0)
            ),
            ae.test(i[1]) && Z.isPlainObject(t))
          )
            for (i in t)
              Z.isFunction(this[i]) ? this[i](t[i]) : this.attr(i, t[i]);
          return this;
        }
        return (
          (r = $.getElementById(i[2])),
          r && r.parentNode && ((this.length = 1), (this[0] = r)),
          (this.context = $),
          (this.selector = e),
          this
        );
      }
      return e.nodeType
        ? ((this.context = this[0] = e), (this.length = 1), this)
        : Z.isFunction(e)
        ? "undefined" != typeof le.ready
          ? le.ready(e)
          : e(Z)
        : (void 0 !== e.selector &&
            ((this.selector = e.selector), (this.context = e.context)),
          Z.makeArray(e, this));
    });
  (ce.prototype = Z.fn), (le = Z($));
  var ue = /^(?:parents|prev(?:Until|All))/,
    de = { children: !0, contents: !0, next: !0, prev: !0 };
  Z.extend({
    dir: function (e, t, i) {
      for (var r = [], n = void 0 !== i; (e = e[t]) && 9 !== e.nodeType; )
        if (1 === e.nodeType) {
          if (n && Z(e).is(i)) break;
          r.push(e);
        }
      return r;
    },
    sibling: function (e, t) {
      for (var i = []; e; e = e.nextSibling)
        1 === e.nodeType && e !== t && i.push(e);
      return i;
    },
  }),
    Z.fn.extend({
      has: function (e) {
        var t = Z(e, this),
          i = t.length;
        return this.filter(function () {
          for (var e = 0; i > e; e++) if (Z.contains(this, t[e])) return !0;
        });
      },
      closest: function (e, t) {
        for (
          var i,
            r = 0,
            n = this.length,
            o = [],
            a =
              oe.test(e) || "string" != typeof e ? Z(e, t || this.context) : 0;
          n > r;
          r++
        )
          for (i = this[r]; i && i !== t; i = i.parentNode)
            if (
              i.nodeType < 11 &&
              (a
                ? a.index(i) > -1
                : 1 === i.nodeType && Z.find.matchesSelector(i, e))
            ) {
              o.push(i);
              break;
            }
        return this.pushStack(o.length > 1 ? Z.unique(o) : o);
      },
      index: function (e) {
        return e
          ? "string" == typeof e
            ? X.call(Z(e), this[0])
            : X.call(this, e.jquery ? e[0] : e)
          : this[0] && this[0].parentNode
          ? this.first().prevAll().length
          : -1;
      },
      add: function (e, t) {
        return this.pushStack(Z.unique(Z.merge(this.get(), Z(e, t))));
      },
      addBack: function (e) {
        return this.add(
          null == e ? this.prevObject : this.prevObject.filter(e)
        );
      },
    }),
    Z.each(
      {
        parent: function (e) {
          var t = e.parentNode;
          return t && 11 !== t.nodeType ? t : null;
        },
        parents: function (e) {
          return Z.dir(e, "parentNode");
        },
        parentsUntil: function (e, t, i) {
          return Z.dir(e, "parentNode", i);
        },
        next: function (e) {
          return n(e, "nextSibling");
        },
        prev: function (e) {
          return n(e, "previousSibling");
        },
        nextAll: function (e) {
          return Z.dir(e, "nextSibling");
        },
        prevAll: function (e) {
          return Z.dir(e, "previousSibling");
        },
        nextUntil: function (e, t, i) {
          return Z.dir(e, "nextSibling", i);
        },
        prevUntil: function (e, t, i) {
          return Z.dir(e, "previousSibling", i);
        },
        siblings: function (e) {
          return Z.sibling((e.parentNode || {}).firstChild, e);
        },
        children: function (e) {
          return Z.sibling(e.firstChild);
        },
        contents: function (e) {
          return e.contentDocument || Z.merge([], e.childNodes);
        },
      },
      function (e, t) {
        Z.fn[e] = function (i, r) {
          var n = Z.map(this, t, i);
          return (
            "Until" !== e.slice(-5) && (r = i),
            r && "string" == typeof r && (n = Z.filter(r, n)),
            this.length > 1 &&
              (de[e] || Z.unique(n), ue.test(e) && n.reverse()),
            this.pushStack(n)
          );
        };
      }
    );
  var fe = /\S+/g,
    pe = {};
  (Z.Callbacks = function (e) {
    e = "string" == typeof e ? pe[e] || o(e) : Z.extend({}, e);
    var t,
      i,
      r,
      n,
      a,
      s,
      l = [],
      h = !e.once && [],
      c = function (o) {
        for (
          t = e.memory && o, i = !0, s = n || 0, n = 0, a = l.length, r = !0;
          l && a > s;
          s++
        )
          if (l[s].apply(o[0], o[1]) === !1 && e.stopOnFalse) {
            t = !1;
            break;
          }
        (r = !1),
          l && (h ? h.length && c(h.shift()) : t ? (l = []) : u.disable());
      },
      u = {
        add: function () {
          if (l) {
            var i = l.length;
            !(function o(t) {
              Z.each(t, function (t, i) {
                var r = Z.type(i);
                "function" === r
                  ? (e.unique && u.has(i)) || l.push(i)
                  : i && i.length && "string" !== r && o(i);
              });
            })(arguments),
              r ? (a = l.length) : t && ((n = i), c(t));
          }
          return this;
        },
        remove: function () {
          return (
            l &&
              Z.each(arguments, function (e, t) {
                for (var i; (i = Z.inArray(t, l, i)) > -1; )
                  l.splice(i, 1), r && (a >= i && a--, s >= i && s--);
              }),
            this
          );
        },
        has: function (e) {
          return e ? Z.inArray(e, l) > -1 : !(!l || !l.length);
        },
        empty: function () {
          return (l = []), (a = 0), this;
        },
        disable: function () {
          return (l = h = t = void 0), this;
        },
        disabled: function () {
          return !l;
        },
        lock: function () {
          return (h = void 0), t || u.disable(), this;
        },
        locked: function () {
          return !h;
        },
        fireWith: function (e, t) {
          return (
            !l ||
              (i && !h) ||
              ((t = t || []),
              (t = [e, t.slice ? t.slice() : t]),
              r ? h.push(t) : c(t)),
            this
          );
        },
        fire: function () {
          return u.fireWith(this, arguments), this;
        },
        fired: function () {
          return !!i;
        },
      };
    return u;
  }),
    Z.extend({
      Deferred: function (e) {
        var t = [
            ["resolve", "done", Z.Callbacks("once memory"), "resolved"],
            ["reject", "fail", Z.Callbacks("once memory"), "rejected"],
            ["notify", "progress", Z.Callbacks("memory")],
          ],
          i = "pending",
          r = {
            state: function () {
              return i;
            },
            always: function () {
              return n.done(arguments).fail(arguments), this;
            },
            then: function () {
              var e = arguments;
              return Z.Deferred(function (i) {
                Z.each(t, function (t, o) {
                  var a = Z.isFunction(e[t]) && e[t];
                  n[o[1]](function () {
                    var e = a && a.apply(this, arguments);
                    e && Z.isFunction(e.promise)
                      ? e
                          .promise()
                          .done(i.resolve)
                          .fail(i.reject)
                          .progress(i.notify)
                      : i[o[0] + "With"](
                          this === r ? i.promise() : this,
                          a ? [e] : arguments
                        );
                  });
                }),
                  (e = null);
              }).promise();
            },
            promise: function (e) {
              return null != e ? Z.extend(e, r) : r;
            },
          },
          n = {};
        return (
          (r.pipe = r.then),
          Z.each(t, function (e, o) {
            var a = o[2],
              s = o[3];
            (r[o[1]] = a.add),
              s &&
                a.add(
                  function () {
                    i = s;
                  },
                  t[1 ^ e][2].disable,
                  t[2][2].lock
                ),
              (n[o[0]] = function () {
                return n[o[0] + "With"](this === n ? r : this, arguments), this;
              }),
              (n[o[0] + "With"] = a.fireWith);
          }),
          r.promise(n),
          e && e.call(n, n),
          n
        );
      },
      when: function (e) {
        var t,
          i,
          r,
          n = 0,
          o = z.call(arguments),
          a = o.length,
          s = 1 !== a || (e && Z.isFunction(e.promise)) ? a : 0,
          l = 1 === s ? e : Z.Deferred(),
          h = function (e, i, r) {
            return function (n) {
              (i[e] = this),
                (r[e] = arguments.length > 1 ? z.call(arguments) : n),
                r === t ? l.notifyWith(i, r) : --s || l.resolveWith(i, r);
            };
          };
        if (a > 1)
          for (t = new Array(a), i = new Array(a), r = new Array(a); a > n; n++)
            o[n] && Z.isFunction(o[n].promise)
              ? o[n]
                  .promise()
                  .done(h(n, r, o))
                  .fail(l.reject)
                  .progress(h(n, i, t))
              : --s;
        return s || l.resolveWith(r, o), l.promise();
      },
    });
  var me;
  (Z.fn.ready = function (e) {
    return Z.ready.promise().done(e), this;
  }),
    Z.extend({
      isReady: !1,
      readyWait: 1,
      holdReady: function (e) {
        e ? Z.readyWait++ : Z.ready(!0);
      },
      ready: function (e) {
        (e === !0 ? --Z.readyWait : Z.isReady) ||
          ((Z.isReady = !0),
          (e !== !0 && --Z.readyWait > 0) ||
            (me.resolveWith($, [Z]),
            Z.fn.triggerHandler &&
              (Z($).triggerHandler("ready"), Z($).off("ready"))));
      },
    }),
    (Z.ready.promise = function (t) {
      return (
        me ||
          ((me = Z.Deferred()),
          "complete" === $.readyState
            ? setTimeout(Z.ready)
            : ($.addEventListener("DOMContentLoaded", a, !1),
              e.addEventListener("load", a, !1))),
        me.promise(t)
      );
    }),
    Z.ready.promise();
  var ge = (Z.access = function (e, t, i, r, n, o, a) {
    var s = 0,
      l = e.length,
      h = null == i;
    if ("object" === Z.type(i)) {
      n = !0;
      for (s in i) Z.access(e, t, s, i[s], !0, o, a);
    } else if (
      void 0 !== r &&
      ((n = !0),
      Z.isFunction(r) || (a = !0),
      h &&
        (a
          ? (t.call(e, r), (t = null))
          : ((h = t),
            (t = function (e, t, i) {
              return h.call(Z(e), i);
            }))),
      t)
    )
      for (; l > s; s++) t(e[s], i, a ? r : r.call(e[s], s, t(e[s], i)));
    return n ? e : h ? t.call(e) : l ? t(e[0], i) : o;
  });
  (Z.acceptData = function (e) {
    return 1 === e.nodeType || 9 === e.nodeType || !+e.nodeType;
  }),
    (s.uid = 1),
    (s.accepts = Z.acceptData),
    (s.prototype = {
      key: function (e) {
        if (!s.accepts(e)) return 0;
        var t = {},
          i = e[this.expando];
        if (!i) {
          i = s.uid++;
          try {
            (t[this.expando] = { value: i }), Object.defineProperties(e, t);
          } catch (r) {
            (t[this.expando] = i), Z.extend(e, t);
          }
        }
        return this.cache[i] || (this.cache[i] = {}), i;
      },
      set: function (e, t, i) {
        var r,
          n = this.key(e),
          o = this.cache[n];
        if ("string" == typeof t) o[t] = i;
        else if (Z.isEmptyObject(o)) Z.extend(this.cache[n], t);
        else for (r in t) o[r] = t[r];
        return o;
      },
      get: function (e, t) {
        var i = this.cache[this.key(e)];
        return void 0 === t ? i : i[t];
      },
      access: function (e, t, i) {
        var r;
        return void 0 === t || (t && "string" == typeof t && void 0 === i)
          ? ((r = this.get(e, t)),
            void 0 !== r ? r : this.get(e, Z.camelCase(t)))
          : (this.set(e, t, i), void 0 !== i ? i : t);
      },
      remove: function (e, t) {
        var i,
          r,
          n,
          o = this.key(e),
          a = this.cache[o];
        if (void 0 === t) this.cache[o] = {};
        else {
          Z.isArray(t)
            ? (r = t.concat(t.map(Z.camelCase)))
            : ((n = Z.camelCase(t)),
              t in a
                ? (r = [t, n])
                : ((r = n), (r = r in a ? [r] : r.match(fe) || []))),
            (i = r.length);
          for (; i--; ) delete a[r[i]];
        }
      },
      hasData: function (e) {
        return !Z.isEmptyObject(this.cache[e[this.expando]] || {});
      },
      discard: function (e) {
        e[this.expando] && delete this.cache[e[this.expando]];
      },
    });
  var Ee = new s(),
    ve = new s(),
    _e = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,
    ye = /([A-Z])/g;
  Z.extend({
    hasData: function (e) {
      return ve.hasData(e) || Ee.hasData(e);
    },
    data: function (e, t, i) {
      return ve.access(e, t, i);
    },
    removeData: function (e, t) {
      ve.remove(e, t);
    },
    _data: function (e, t, i) {
      return Ee.access(e, t, i);
    },
    _removeData: function (e, t) {
      Ee.remove(e, t);
    },
  }),
    Z.fn.extend({
      data: function (e, t) {
        var i,
          r,
          n,
          o = this[0],
          a = o && o.attributes;
        if (void 0 === e) {
          if (
            this.length &&
            ((n = ve.get(o)), 1 === o.nodeType && !Ee.get(o, "hasDataAttrs"))
          ) {
            for (i = a.length; i--; )
              a[i] &&
                ((r = a[i].name),
                0 === r.indexOf("data-") &&
                  ((r = Z.camelCase(r.slice(5))), l(o, r, n[r])));
            Ee.set(o, "hasDataAttrs", !0);
          }
          return n;
        }
        return "object" == typeof e
          ? this.each(function () {
              ve.set(this, e);
            })
          : ge(
              this,
              function (t) {
                var i,
                  r = Z.camelCase(e);
                if (o && void 0 === t) {
                  if (((i = ve.get(o, e)), void 0 !== i)) return i;
                  if (((i = ve.get(o, r)), void 0 !== i)) return i;
                  if (((i = l(o, r, void 0)), void 0 !== i)) return i;
                } else
                  this.each(function () {
                    var i = ve.get(this, r);
                    ve.set(this, r, t),
                      -1 !== e.indexOf("-") &&
                        void 0 !== i &&
                        ve.set(this, e, t);
                  });
              },
              null,
              t,
              arguments.length > 1,
              null,
              !0
            );
      },
      removeData: function (e) {
        return this.each(function () {
          ve.remove(this, e);
        });
      },
    }),
    Z.extend({
      queue: function (e, t, i) {
        var r;
        return e
          ? ((t = (t || "fx") + "queue"),
            (r = Ee.get(e, t)),
            i &&
              (!r || Z.isArray(i)
                ? (r = Ee.access(e, t, Z.makeArray(i)))
                : r.push(i)),
            r || [])
          : void 0;
      },
      dequeue: function (e, t) {
        t = t || "fx";
        var i = Z.queue(e, t),
          r = i.length,
          n = i.shift(),
          o = Z._queueHooks(e, t),
          a = function () {
            Z.dequeue(e, t);
          };
        "inprogress" === n && ((n = i.shift()), r--),
          n &&
            ("fx" === t && i.unshift("inprogress"),
            delete o.stop,
            n.call(e, a, o)),
          !r && o && o.empty.fire();
      },
      _queueHooks: function (e, t) {
        var i = t + "queueHooks";
        return (
          Ee.get(e, i) ||
          Ee.access(e, i, {
            empty: Z.Callbacks("once memory").add(function () {
              Ee.remove(e, [t + "queue", i]);
            }),
          })
        );
      },
    }),
    Z.fn.extend({
      queue: function (e, t) {
        var i = 2;
        return (
          "string" != typeof e && ((t = e), (e = "fx"), i--),
          arguments.length < i
            ? Z.queue(this[0], e)
            : void 0 === t
            ? this
            : this.each(function () {
                var i = Z.queue(this, e, t);
                Z._queueHooks(this, e),
                  "fx" === e && "inprogress" !== i[0] && Z.dequeue(this, e);
              })
        );
      },
      dequeue: function (e) {
        return this.each(function () {
          Z.dequeue(this, e);
        });
      },
      clearQueue: function (e) {
        return this.queue(e || "fx", []);
      },
      promise: function (e, t) {
        var i,
          r = 1,
          n = Z.Deferred(),
          o = this,
          a = this.length,
          s = function () {
            --r || n.resolveWith(o, [o]);
          };
        for (
          "string" != typeof e && ((t = e), (e = void 0)), e = e || "fx";
          a--;

        )
          (i = Ee.get(o[a], e + "queueHooks")),
            i && i.empty && (r++, i.empty.add(s));
        return s(), n.promise(t);
      },
    });
  var Te = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,
    xe = ["Top", "Right", "Bottom", "Left"],
    Re = function (e, t) {
      return (
        (e = t || e),
        "none" === Z.css(e, "display") || !Z.contains(e.ownerDocument, e)
      );
    },
    be = /^(?:checkbox|radio)$/i;
  !(function () {
    var e = $.createDocumentFragment(),
      t = e.appendChild($.createElement("div")),
      i = $.createElement("input");
    i.setAttribute("type", "radio"),
      i.setAttribute("checked", "checked"),
      i.setAttribute("name", "t"),
      t.appendChild(i),
      (Q.checkClone = t.cloneNode(!0).cloneNode(!0).lastChild.checked),
      (t.innerHTML = "<textarea>x</textarea>"),
      (Q.noCloneChecked = !!t.cloneNode(!0).lastChild.defaultValue);
  })();
  var we = "undefined";
  Q.focusinBubbles = "onfocusin" in e;
  var He = /^key/,
    Se = /^(?:mouse|pointer|contextmenu)|click/,
    Ae = /^(?:focusinfocus|focusoutblur)$/,
    Me = /^([^.]*)(?:\.(.+)|)$/;
  (Z.event = {
    global: {},
    add: function (e, t, i, r, n) {
      var o,
        a,
        s,
        l,
        h,
        c,
        u,
        d,
        f,
        p,
        m,
        g = Ee.get(e);
      if (g)
        for (
          i.handler && ((o = i), (i = o.handler), (n = o.selector)),
            i.guid || (i.guid = Z.guid++),
            (l = g.events) || (l = g.events = {}),
            (a = g.handle) ||
              (a = g.handle =
                function (t) {
                  return typeof Z !== we && Z.event.triggered !== t.type
                    ? Z.event.dispatch.apply(e, arguments)
                    : void 0;
                }),
            t = (t || "").match(fe) || [""],
            h = t.length;
          h--;

        )
          (s = Me.exec(t[h]) || []),
            (f = m = s[1]),
            (p = (s[2] || "").split(".").sort()),
            f &&
              ((u = Z.event.special[f] || {}),
              (f = (n ? u.delegateType : u.bindType) || f),
              (u = Z.event.special[f] || {}),
              (c = Z.extend(
                {
                  type: f,
                  origType: m,
                  data: r,
                  handler: i,
                  guid: i.guid,
                  selector: n,
                  needsContext: n && Z.expr.match.needsContext.test(n),
                  namespace: p.join("."),
                },
                o
              )),
              (d = l[f]) ||
                ((d = l[f] = []),
                (d.delegateCount = 0),
                (u.setup && u.setup.call(e, r, p, a) !== !1) ||
                  (e.addEventListener && e.addEventListener(f, a, !1))),
              u.add &&
                (u.add.call(e, c), c.handler.guid || (c.handler.guid = i.guid)),
              n ? d.splice(d.delegateCount++, 0, c) : d.push(c),
              (Z.event.global[f] = !0));
    },
    remove: function (e, t, i, r, n) {
      var o,
        a,
        s,
        l,
        h,
        c,
        u,
        d,
        f,
        p,
        m,
        g = Ee.hasData(e) && Ee.get(e);
      if (g && (l = g.events)) {
        for (t = (t || "").match(fe) || [""], h = t.length; h--; )
          if (
            ((s = Me.exec(t[h]) || []),
            (f = m = s[1]),
            (p = (s[2] || "").split(".").sort()),
            f)
          ) {
            for (
              u = Z.event.special[f] || {},
                f = (r ? u.delegateType : u.bindType) || f,
                d = l[f] || [],
                s =
                  s[2] &&
                  new RegExp("(^|\\.)" + p.join("\\.(?:.*\\.|)") + "(\\.|$)"),
                a = o = d.length;
              o--;

            )
              (c = d[o]),
                (!n && m !== c.origType) ||
                  (i && i.guid !== c.guid) ||
                  (s && !s.test(c.namespace)) ||
                  (r && r !== c.selector && ("**" !== r || !c.selector)) ||
                  (d.splice(o, 1),
                  c.selector && d.delegateCount--,
                  u.remove && u.remove.call(e, c));
            a &&
              !d.length &&
              ((u.teardown && u.teardown.call(e, p, g.handle) !== !1) ||
                Z.removeEvent(e, f, g.handle),
              delete l[f]);
          } else for (f in l) Z.event.remove(e, f + t[h], i, r, !0);
        Z.isEmptyObject(l) && (delete g.handle, Ee.remove(e, "events"));
      }
    },
    trigger: function (t, i, r, n) {
      var o,
        a,
        s,
        l,
        h,
        c,
        u,
        d = [r || $],
        f = K.call(t, "type") ? t.type : t,
        p = K.call(t, "namespace") ? t.namespace.split(".") : [];
      if (
        ((a = s = r = r || $),
        3 !== r.nodeType &&
          8 !== r.nodeType &&
          !Ae.test(f + Z.event.triggered) &&
          (f.indexOf(".") >= 0 &&
            ((p = f.split(".")), (f = p.shift()), p.sort()),
          (h = f.indexOf(":") < 0 && "on" + f),
          (t = t[Z.expando] ? t : new Z.Event(f, "object" == typeof t && t)),
          (t.isTrigger = n ? 2 : 3),
          (t.namespace = p.join(".")),
          (t.namespace_re = t.namespace
            ? new RegExp("(^|\\.)" + p.join("\\.(?:.*\\.|)") + "(\\.|$)")
            : null),
          (t.result = void 0),
          t.target || (t.target = r),
          (i = null == i ? [t] : Z.makeArray(i, [t])),
          (u = Z.event.special[f] || {}),
          n || !u.trigger || u.trigger.apply(r, i) !== !1))
      ) {
        if (!n && !u.noBubble && !Z.isWindow(r)) {
          for (
            l = u.delegateType || f, Ae.test(l + f) || (a = a.parentNode);
            a;
            a = a.parentNode
          )
            d.push(a), (s = a);
          s === (r.ownerDocument || $) &&
            d.push(s.defaultView || s.parentWindow || e);
        }
        for (o = 0; (a = d[o++]) && !t.isPropagationStopped(); )
          (t.type = o > 1 ? l : u.bindType || f),
            (c = (Ee.get(a, "events") || {})[t.type] && Ee.get(a, "handle")),
            c && c.apply(a, i),
            (c = h && a[h]),
            c &&
              c.apply &&
              Z.acceptData(a) &&
              ((t.result = c.apply(a, i)),
              t.result === !1 && t.preventDefault());
        return (
          (t.type = f),
          n ||
            t.isDefaultPrevented() ||
            (u._default && u._default.apply(d.pop(), i) !== !1) ||
            !Z.acceptData(r) ||
            (h &&
              Z.isFunction(r[f]) &&
              !Z.isWindow(r) &&
              ((s = r[h]),
              s && (r[h] = null),
              (Z.event.triggered = f),
              r[f](),
              (Z.event.triggered = void 0),
              s && (r[h] = s))),
          t.result
        );
      }
    },
    dispatch: function (e) {
      e = Z.event.fix(e);
      var t,
        i,
        r,
        n,
        o,
        a = [],
        s = z.call(arguments),
        l = (Ee.get(this, "events") || {})[e.type] || [],
        h = Z.event.special[e.type] || {};
      if (
        ((s[0] = e),
        (e.delegateTarget = this),
        !h.preDispatch || h.preDispatch.call(this, e) !== !1)
      ) {
        for (
          a = Z.event.handlers.call(this, e, l), t = 0;
          (n = a[t++]) && !e.isPropagationStopped();

        )
          for (
            e.currentTarget = n.elem, i = 0;
            (o = n.handlers[i++]) && !e.isImmediatePropagationStopped();

          )
            (!e.namespace_re || e.namespace_re.test(o.namespace)) &&
              ((e.handleObj = o),
              (e.data = o.data),
              (r = (
                (Z.event.special[o.origType] || {}).handle || o.handler
              ).apply(n.elem, s)),
              void 0 !== r &&
                (e.result = r) === !1 &&
                (e.preventDefault(), e.stopPropagation()));
        return h.postDispatch && h.postDispatch.call(this, e), e.result;
      }
    },
    handlers: function (e, t) {
      var i,
        r,
        n,
        o,
        a = [],
        s = t.delegateCount,
        l = e.target;
      if (s && l.nodeType && (!e.button || "click" !== e.type))
        for (; l !== this; l = l.parentNode || this)
          if (l.disabled !== !0 || "click" !== e.type) {
            for (r = [], i = 0; s > i; i++)
              (o = t[i]),
                (n = o.selector + " "),
                void 0 === r[n] &&
                  (r[n] = o.needsContext
                    ? Z(n, this).index(l) >= 0
                    : Z.find(n, this, null, [l]).length),
                r[n] && r.push(o);
            r.length && a.push({ elem: l, handlers: r });
          }
      return s < t.length && a.push({ elem: this, handlers: t.slice(s) }), a;
    },
    props:
      "altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(
        " "
      ),
    fixHooks: {},
    keyHooks: {
      props: "char charCode key keyCode".split(" "),
      filter: function (e, t) {
        return (
          null == e.which &&
            (e.which = null != t.charCode ? t.charCode : t.keyCode),
          e
        );
      },
    },
    mouseHooks: {
      props:
        "button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(
          " "
        ),
      filter: function (e, t) {
        var i,
          r,
          n,
          o = t.button;
        return (
          null == e.pageX &&
            null != t.clientX &&
            ((i = e.target.ownerDocument || $),
            (r = i.documentElement),
            (n = i.body),
            (e.pageX =
              t.clientX +
              ((r && r.scrollLeft) || (n && n.scrollLeft) || 0) -
              ((r && r.clientLeft) || (n && n.clientLeft) || 0)),
            (e.pageY =
              t.clientY +
              ((r && r.scrollTop) || (n && n.scrollTop) || 0) -
              ((r && r.clientTop) || (n && n.clientTop) || 0))),
          e.which ||
            void 0 === o ||
            (e.which = 1 & o ? 1 : 2 & o ? 3 : 4 & o ? 2 : 0),
          e
        );
      },
    },
    fix: function (e) {
      if (e[Z.expando]) return e;
      var t,
        i,
        r,
        n = e.type,
        o = e,
        a = this.fixHooks[n];
      for (
        a ||
          (this.fixHooks[n] = a =
            Se.test(n) ? this.mouseHooks : He.test(n) ? this.keyHooks : {}),
          r = a.props ? this.props.concat(a.props) : this.props,
          e = new Z.Event(o),
          t = r.length;
        t--;

      )
        (i = r[t]), (e[i] = o[i]);
      return (
        e.target || (e.target = $),
        3 === e.target.nodeType && (e.target = e.target.parentNode),
        a.filter ? a.filter(e, o) : e
      );
    },
    special: {
      load: { noBubble: !0 },
      focus: {
        trigger: function () {
          return this !== u() && this.focus ? (this.focus(), !1) : void 0;
        },
        delegateType: "focusin",
      },
      blur: {
        trigger: function () {
          return this === u() && this.blur ? (this.blur(), !1) : void 0;
        },
        delegateType: "focusout",
      },
      click: {
        trigger: function () {
          return "checkbox" === this.type &&
            this.click &&
            Z.nodeName(this, "input")
            ? (this.click(), !1)
            : void 0;
        },
        _default: function (e) {
          return Z.nodeName(e.target, "a");
        },
      },
      beforeunload: {
        postDispatch: function (e) {
          void 0 !== e.result &&
            e.originalEvent &&
            (e.originalEvent.returnValue = e.result);
        },
      },
    },
    simulate: function (e, t, i, r) {
      var n = Z.extend(new Z.Event(), i, {
        type: e,
        isSimulated: !0,
        originalEvent: {},
      });
      r ? Z.event.trigger(n, null, t) : Z.event.dispatch.call(t, n),
        n.isDefaultPrevented() && i.preventDefault();
    },
  }),
    (Z.removeEvent = function (e, t, i) {
      e.removeEventListener && e.removeEventListener(t, i, !1);
    }),
    (Z.Event = function (e, t) {
      return this instanceof Z.Event
        ? (e && e.type
            ? ((this.originalEvent = e),
              (this.type = e.type),
              (this.isDefaultPrevented =
                e.defaultPrevented ||
                (void 0 === e.defaultPrevented && e.returnValue === !1)
                  ? h
                  : c))
            : (this.type = e),
          t && Z.extend(this, t),
          (this.timeStamp = (e && e.timeStamp) || Z.now()),
          void (this[Z.expando] = !0))
        : new Z.Event(e, t);
    }),
    (Z.Event.prototype = {
      isDefaultPrevented: c,
      isPropagationStopped: c,
      isImmediatePropagationStopped: c,
      preventDefault: function () {
        var e = this.originalEvent;
        (this.isDefaultPrevented = h),
          e && e.preventDefault && e.preventDefault();
      },
      stopPropagation: function () {
        var e = this.originalEvent;
        (this.isPropagationStopped = h),
          e && e.stopPropagation && e.stopPropagation();
      },
      stopImmediatePropagation: function () {
        var e = this.originalEvent;
        (this.isImmediatePropagationStopped = h),
          e && e.stopImmediatePropagation && e.stopImmediatePropagation(),
          this.stopPropagation();
      },
    }),
    Z.each(
      {
        mouseenter: "mouseover",
        mouseleave: "mouseout",
        pointerenter: "pointerover",
        pointerleave: "pointerout",
      },
      function (e, t) {
        Z.event.special[e] = {
          delegateType: t,
          bindType: t,
          handle: function (e) {
            var i,
              r = this,
              n = e.relatedTarget,
              o = e.handleObj;
            return (
              (!n || (n !== r && !Z.contains(r, n))) &&
                ((e.type = o.origType),
                (i = o.handler.apply(this, arguments)),
                (e.type = t)),
              i
            );
          },
        };
      }
    ),
    Q.focusinBubbles ||
      Z.each({ focus: "focusin", blur: "focusout" }, function (e, t) {
        var i = function (e) {
          Z.event.simulate(t, e.target, Z.event.fix(e), !0);
        };
        Z.event.special[t] = {
          setup: function () {
            var r = this.ownerDocument || this,
              n = Ee.access(r, t);
            n || r.addEventListener(e, i, !0), Ee.access(r, t, (n || 0) + 1);
          },
          teardown: function () {
            var r = this.ownerDocument || this,
              n = Ee.access(r, t) - 1;
            n
              ? Ee.access(r, t, n)
              : (r.removeEventListener(e, i, !0), Ee.remove(r, t));
          },
        };
      }),
    Z.fn.extend({
      on: function (e, t, i, r, n) {
        var o, a;
        if ("object" == typeof e) {
          "string" != typeof t && ((i = i || t), (t = void 0));
          for (a in e) this.on(a, t, i, e[a], n);
          return this;
        }
        if (
          (null == i && null == r
            ? ((r = t), (i = t = void 0))
            : null == r &&
              ("string" == typeof t
                ? ((r = i), (i = void 0))
                : ((r = i), (i = t), (t = void 0))),
          r === !1)
        )
          r = c;
        else if (!r) return this;
        return (
          1 === n &&
            ((o = r),
            (r = function (e) {
              return Z().off(e), o.apply(this, arguments);
            }),
            (r.guid = o.guid || (o.guid = Z.guid++))),
          this.each(function () {
            Z.event.add(this, e, r, i, t);
          })
        );
      },
      one: function (e, t, i, r) {
        return this.on(e, t, i, r, 1);
      },
      off: function (e, t, i) {
        var r, n;
        if (e && e.preventDefault && e.handleObj)
          return (
            (r = e.handleObj),
            Z(e.delegateTarget).off(
              r.namespace ? r.origType + "." + r.namespace : r.origType,
              r.selector,
              r.handler
            ),
            this
          );
        if ("object" == typeof e) {
          for (n in e) this.off(n, t, e[n]);
          return this;
        }
        return (
          (t === !1 || "function" == typeof t) && ((i = t), (t = void 0)),
          i === !1 && (i = c),
          this.each(function () {
            Z.event.remove(this, e, i, t);
          })
        );
      },
      trigger: function (e, t) {
        return this.each(function () {
          Z.event.trigger(e, t, this);
        });
      },
      triggerHandler: function (e, t) {
        var i = this[0];
        return i ? Z.event.trigger(e, t, i, !0) : void 0;
      },
    });
  var Ce =
      /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,
    Pe = /<([\w:]+)/,
    Le = /<|&#?\w+;/,
    De = /<(?:script|style|link)/i,
    Oe = /checked\s*(?:[^=]|=\s*.checked.)/i,
    ke = /^$|\/(?:java|ecma)script/i,
    Fe = /^true\/(.*)/,
    Ne = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,
    je = {
      option: [1, "<select multiple='multiple'>", "</select>"],
      thead: [1, "<table>", "</table>"],
      col: [2, "<table><colgroup>", "</colgroup></table>"],
      tr: [2, "<table><tbody>", "</tbody></table>"],
      td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
      _default: [0, "", ""],
    };
  (je.optgroup = je.option),
    (je.tbody = je.tfoot = je.colgroup = je.caption = je.thead),
    (je.th = je.td),
    Z.extend({
      clone: function (e, t, i) {
        var r,
          n,
          o,
          a,
          s = e.cloneNode(!0),
          l = Z.contains(e.ownerDocument, e);
        if (
          !(
            Q.noCloneChecked ||
            (1 !== e.nodeType && 11 !== e.nodeType) ||
            Z.isXMLDoc(e)
          )
        )
          for (a = E(s), o = E(e), r = 0, n = o.length; n > r; r++)
            v(o[r], a[r]);
        if (t)
          if (i)
            for (o = o || E(e), a = a || E(s), r = 0, n = o.length; n > r; r++)
              g(o[r], a[r]);
          else g(e, s);
        return (
          (a = E(s, "script")), a.length > 0 && m(a, !l && E(e, "script")), s
        );
      },
      buildFragment: function (e, t, i, r) {
        for (
          var n,
            o,
            a,
            s,
            l,
            h,
            c = t.createDocumentFragment(),
            u = [],
            d = 0,
            f = e.length;
          f > d;
          d++
        )
          if (((n = e[d]), n || 0 === n))
            if ("object" === Z.type(n)) Z.merge(u, n.nodeType ? [n] : n);
            else if (Le.test(n)) {
              for (
                o = o || c.appendChild(t.createElement("div")),
                  a = (Pe.exec(n) || ["", ""])[1].toLowerCase(),
                  s = je[a] || je._default,
                  o.innerHTML = s[1] + n.replace(Ce, "<$1></$2>") + s[2],
                  h = s[0];
                h--;

              )
                o = o.lastChild;
              Z.merge(u, o.childNodes),
                (o = c.firstChild),
                (o.textContent = "");
            } else u.push(t.createTextNode(n));
        for (c.textContent = "", d = 0; (n = u[d++]); )
          if (
            (!r || -1 === Z.inArray(n, r)) &&
            ((l = Z.contains(n.ownerDocument, n)),
            (o = E(c.appendChild(n), "script")),
            l && m(o),
            i)
          )
            for (h = 0; (n = o[h++]); ) ke.test(n.type || "") && i.push(n);
        return c;
      },
      cleanData: function (e) {
        for (
          var t, i, r, n, o = Z.event.special, a = 0;
          void 0 !== (i = e[a]);
          a++
        ) {
          if (
            Z.acceptData(i) &&
            ((n = i[Ee.expando]), n && (t = Ee.cache[n]))
          ) {
            if (t.events)
              for (r in t.events)
                o[r] ? Z.event.remove(i, r) : Z.removeEvent(i, r, t.handle);
            Ee.cache[n] && delete Ee.cache[n];
          }
          delete ve.cache[i[ve.expando]];
        }
      },
    }),
    Z.fn.extend({
      text: function (e) {
        return ge(
          this,
          function (e) {
            return void 0 === e
              ? Z.text(this)
              : this.empty().each(function () {
                  (1 === this.nodeType ||
                    11 === this.nodeType ||
                    9 === this.nodeType) &&
                    (this.textContent = e);
                });
          },
          null,
          e,
          arguments.length
        );
      },
      append: function () {
        return this.domManip(arguments, function (e) {
          if (
            1 === this.nodeType ||
            11 === this.nodeType ||
            9 === this.nodeType
          ) {
            var t = d(this, e);
            t.appendChild(e);
          }
        });
      },
      prepend: function () {
        return this.domManip(arguments, function (e) {
          if (
            1 === this.nodeType ||
            11 === this.nodeType ||
            9 === this.nodeType
          ) {
            var t = d(this, e);
            t.insertBefore(e, t.firstChild);
          }
        });
      },
      before: function () {
        return this.domManip(arguments, function (e) {
          this.parentNode && this.parentNode.insertBefore(e, this);
        });
      },
      after: function () {
        return this.domManip(arguments, function (e) {
          this.parentNode && this.parentNode.insertBefore(e, this.nextSibling);
        });
      },
      remove: function (e, t) {
        for (
          var i, r = e ? Z.filter(e, this) : this, n = 0;
          null != (i = r[n]);
          n++
        )
          t || 1 !== i.nodeType || Z.cleanData(E(i)),
            i.parentNode &&
              (t && Z.contains(i.ownerDocument, i) && m(E(i, "script")),
              i.parentNode.removeChild(i));
        return this;
      },
      empty: function () {
        for (var e, t = 0; null != (e = this[t]); t++)
          1 === e.nodeType && (Z.cleanData(E(e, !1)), (e.textContent = ""));
        return this;
      },
      clone: function (e, t) {
        return (
          (e = null == e ? !1 : e),
          (t = null == t ? e : t),
          this.map(function () {
            return Z.clone(this, e, t);
          })
        );
      },
      html: function (e) {
        return ge(
          this,
          function (e) {
            var t = this[0] || {},
              i = 0,
              r = this.length;
            if (void 0 === e && 1 === t.nodeType) return t.innerHTML;
            if (
              "string" == typeof e &&
              !De.test(e) &&
              !je[(Pe.exec(e) || ["", ""])[1].toLowerCase()]
            ) {
              e = e.replace(Ce, "<$1></$2>");
              try {
                for (; r > i; i++)
                  (t = this[i] || {}),
                    1 === t.nodeType &&
                      (Z.cleanData(E(t, !1)), (t.innerHTML = e));
                t = 0;
              } catch (n) {}
            }
            t && this.empty().append(e);
          },
          null,
          e,
          arguments.length
        );
      },
      replaceWith: function () {
        var e = arguments[0];
        return (
          this.domManip(arguments, function (t) {
            (e = this.parentNode),
              Z.cleanData(E(this)),
              e && e.replaceChild(t, this);
          }),
          e && (e.length || e.nodeType) ? this : this.remove()
        );
      },
      detach: function (e) {
        return this.remove(e, !0);
      },
      domManip: function (e, t) {
        e = G.apply([], e);
        var i,
          r,
          n,
          o,
          a,
          s,
          l = 0,
          h = this.length,
          c = this,
          u = h - 1,
          d = e[0],
          m = Z.isFunction(d);
        if (m || (h > 1 && "string" == typeof d && !Q.checkClone && Oe.test(d)))
          return this.each(function (i) {
            var r = c.eq(i);
            m && (e[0] = d.call(this, i, r.html())), r.domManip(e, t);
          });
        if (
          h &&
          ((i = Z.buildFragment(e, this[0].ownerDocument, !1, this)),
          (r = i.firstChild),
          1 === i.childNodes.length && (i = r),
          r)
        ) {
          for (n = Z.map(E(i, "script"), f), o = n.length; h > l; l++)
            (a = i),
              l !== u &&
                ((a = Z.clone(a, !0, !0)), o && Z.merge(n, E(a, "script"))),
              t.call(this[l], a, l);
          if (o)
            for (
              s = n[n.length - 1].ownerDocument, Z.map(n, p), l = 0;
              o > l;
              l++
            )
              (a = n[l]),
                ke.test(a.type || "") &&
                  !Ee.access(a, "globalEval") &&
                  Z.contains(s, a) &&
                  (a.src
                    ? Z._evalUrl && Z._evalUrl(a.src)
                    : Z.globalEval(a.textContent.replace(Ne, "")));
        }
        return this;
      },
    }),
    Z.each(
      {
        appendTo: "append",
        prependTo: "prepend",
        insertBefore: "before",
        insertAfter: "after",
        replaceAll: "replaceWith",
      },
      function (e, t) {
        Z.fn[e] = function (e) {
          for (var i, r = [], n = Z(e), o = n.length - 1, a = 0; o >= a; a++)
            (i = a === o ? this : this.clone(!0)),
              Z(n[a])[t](i),
              W.apply(r, i.get());
          return this.pushStack(r);
        };
      }
    );
  var Ue,
    Ie = {},
    Be = /^margin/,
    Ve = new RegExp("^(" + Te + ")(?!px)[a-z%]+$", "i"),
    ze = function (t) {
      return t.ownerDocument.defaultView.opener
        ? t.ownerDocument.defaultView.getComputedStyle(t, null)
        : e.getComputedStyle(t, null);
    };
  !(function () {
    function t() {
      (a.style.cssText =
        "-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute"),
        (a.innerHTML = ""),
        n.appendChild(o);
      var t = e.getComputedStyle(a, null);
      (i = "1%" !== t.top), (r = "4px" === t.width), n.removeChild(o);
    }
    var i,
      r,
      n = $.documentElement,
      o = $.createElement("div"),
      a = $.createElement("div");
    a.style &&
      ((a.style.backgroundClip = "content-box"),
      (a.cloneNode(!0).style.backgroundClip = ""),
      (Q.clearCloneStyle = "content-box" === a.style.backgroundClip),
      (o.style.cssText =
        "border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute"),
      o.appendChild(a),
      e.getComputedStyle &&
        Z.extend(Q, {
          pixelPosition: function () {
            return t(), i;
          },
          boxSizingReliable: function () {
            return null == r && t(), r;
          },
          reliableMarginRight: function () {
            var t,
              i = a.appendChild($.createElement("div"));
            return (
              (i.style.cssText = a.style.cssText =
                "-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0"),
              (i.style.marginRight = i.style.width = "0"),
              (a.style.width = "1px"),
              n.appendChild(o),
              (t = !parseFloat(e.getComputedStyle(i, null).marginRight)),
              n.removeChild(o),
              a.removeChild(i),
              t
            );
          },
        }));
  })(),
    (Z.swap = function (e, t, i, r) {
      var n,
        o,
        a = {};
      for (o in t) (a[o] = e.style[o]), (e.style[o] = t[o]);
      n = i.apply(e, r || []);
      for (o in t) e.style[o] = a[o];
      return n;
    });
  var Ge = /^(none|table(?!-c[ea]).+)/,
    We = new RegExp("^(" + Te + ")(.*)$", "i"),
    Xe = new RegExp("^([+-])=(" + Te + ")", "i"),
    qe = { position: "absolute", visibility: "hidden", display: "block" },
    Ye = { letterSpacing: "0", fontWeight: "400" },
    Ke = ["Webkit", "O", "Moz", "ms"];
  Z.extend({
    cssHooks: {
      opacity: {
        get: function (e, t) {
          if (t) {
            var i = T(e, "opacity");
            return "" === i ? "1" : i;
          }
        },
      },
    },
    cssNumber: {
      columnCount: !0,
      fillOpacity: !0,
      flexGrow: !0,
      flexShrink: !0,
      fontWeight: !0,
      lineHeight: !0,
      opacity: !0,
      order: !0,
      orphans: !0,
      widows: !0,
      zIndex: !0,
      zoom: !0,
    },
    cssProps: { float: "cssFloat" },
    style: function (e, t, i, r) {
      if (e && 3 !== e.nodeType && 8 !== e.nodeType && e.style) {
        var n,
          o,
          a,
          s = Z.camelCase(t),
          l = e.style;
        return (
          (t = Z.cssProps[s] || (Z.cssProps[s] = R(l, s))),
          (a = Z.cssHooks[t] || Z.cssHooks[s]),
          void 0 === i
            ? a && "get" in a && void 0 !== (n = a.get(e, !1, r))
              ? n
              : l[t]
            : ((o = typeof i),
              "string" === o &&
                (n = Xe.exec(i)) &&
                ((i = (n[1] + 1) * n[2] + parseFloat(Z.css(e, t))),
                (o = "number")),
              null != i &&
                i === i &&
                ("number" !== o || Z.cssNumber[s] || (i += "px"),
                Q.clearCloneStyle ||
                  "" !== i ||
                  0 !== t.indexOf("background") ||
                  (l[t] = "inherit"),
                (a && "set" in a && void 0 === (i = a.set(e, i, r))) ||
                  (l[t] = i)),
              void 0)
        );
      }
    },
    css: function (e, t, i, r) {
      var n,
        o,
        a,
        s = Z.camelCase(t);
      return (
        (t = Z.cssProps[s] || (Z.cssProps[s] = R(e.style, s))),
        (a = Z.cssHooks[t] || Z.cssHooks[s]),
        a && "get" in a && (n = a.get(e, !0, i)),
        void 0 === n && (n = T(e, t, r)),
        "normal" === n && t in Ye && (n = Ye[t]),
        "" === i || i
          ? ((o = parseFloat(n)), i === !0 || Z.isNumeric(o) ? o || 0 : n)
          : n
      );
    },
  }),
    Z.each(["height", "width"], function (e, t) {
      Z.cssHooks[t] = {
        get: function (e, i, r) {
          return i
            ? Ge.test(Z.css(e, "display")) && 0 === e.offsetWidth
              ? Z.swap(e, qe, function () {
                  return H(e, t, r);
                })
              : H(e, t, r)
            : void 0;
        },
        set: function (e, i, r) {
          var n = r && ze(e);
          return b(
            e,
            i,
            r ? w(e, t, r, "border-box" === Z.css(e, "boxSizing", !1, n), n) : 0
          );
        },
      };
    }),
    (Z.cssHooks.marginRight = x(Q.reliableMarginRight, function (e, t) {
      return t
        ? Z.swap(e, { display: "inline-block" }, T, [e, "marginRight"])
        : void 0;
    })),
    Z.each({ margin: "", padding: "", border: "Width" }, function (e, t) {
      (Z.cssHooks[e + t] = {
        expand: function (i) {
          for (
            var r = 0, n = {}, o = "string" == typeof i ? i.split(" ") : [i];
            4 > r;
            r++
          )
            n[e + xe[r] + t] = o[r] || o[r - 2] || o[0];
          return n;
        },
      }),
        Be.test(e) || (Z.cssHooks[e + t].set = b);
    }),
    Z.fn.extend({
      css: function (e, t) {
        return ge(
          this,
          function (e, t, i) {
            var r,
              n,
              o = {},
              a = 0;
            if (Z.isArray(t)) {
              for (r = ze(e), n = t.length; n > a; a++)
                o[t[a]] = Z.css(e, t[a], !1, r);
              return o;
            }
            return void 0 !== i ? Z.style(e, t, i) : Z.css(e, t);
          },
          e,
          t,
          arguments.length > 1
        );
      },
      show: function () {
        return S(this, !0);
      },
      hide: function () {
        return S(this);
      },
      toggle: function (e) {
        return "boolean" == typeof e
          ? e
            ? this.show()
            : this.hide()
          : this.each(function () {
              Re(this) ? Z(this).show() : Z(this).hide();
            });
      },
    }),
    (Z.Tween = A),
    (A.prototype = {
      constructor: A,
      init: function (e, t, i, r, n, o) {
        (this.elem = e),
          (this.prop = i),
          (this.easing = n || "swing"),
          (this.options = t),
          (this.start = this.now = this.cur()),
          (this.end = r),
          (this.unit = o || (Z.cssNumber[i] ? "" : "px"));
      },
      cur: function () {
        var e = A.propHooks[this.prop];
        return e && e.get ? e.get(this) : A.propHooks._default.get(this);
      },
      run: function (e) {
        var t,
          i = A.propHooks[this.prop];
        return (
          this.options.duration
            ? (this.pos = t =
                Z.easing[this.easing](
                  e,
                  this.options.duration * e,
                  0,
                  1,
                  this.options.duration
                ))
            : (this.pos = t = e),
          (this.now = (this.end - this.start) * t + this.start),
          this.options.step &&
            this.options.step.call(this.elem, this.now, this),
          i && i.set ? i.set(this) : A.propHooks._default.set(this),
          this
        );
      },
    }),
    (A.prototype.init.prototype = A.prototype),
    (A.propHooks = {
      _default: {
        get: function (e) {
          var t;
          return null == e.elem[e.prop] ||
            (e.elem.style && null != e.elem.style[e.prop])
            ? ((t = Z.css(e.elem, e.prop, "")), t && "auto" !== t ? t : 0)
            : e.elem[e.prop];
        },
        set: function (e) {
          Z.fx.step[e.prop]
            ? Z.fx.step[e.prop](e)
            : e.elem.style &&
              (null != e.elem.style[Z.cssProps[e.prop]] || Z.cssHooks[e.prop])
            ? Z.style(e.elem, e.prop, e.now + e.unit)
            : (e.elem[e.prop] = e.now);
        },
      },
    }),
    (A.propHooks.scrollTop = A.propHooks.scrollLeft =
      {
        set: function (e) {
          e.elem.nodeType && e.elem.parentNode && (e.elem[e.prop] = e.now);
        },
      }),
    (Z.easing = {
      linear: function (e) {
        return e;
      },
      swing: function (e) {
        return 0.5 - Math.cos(e * Math.PI) / 2;
      },
    }),
    (Z.fx = A.prototype.init),
    (Z.fx.step = {});
  var Qe,
    $e,
    Je = /^(?:toggle|show|hide)$/,
    Ze = new RegExp("^(?:([+-])=|)(" + Te + ")([a-z%]*)$", "i"),
    et = /queueHooks$/,
    tt = [L],
    it = {
      "*": [
        function (e, t) {
          var i = this.createTween(e, t),
            r = i.cur(),
            n = Ze.exec(t),
            o = (n && n[3]) || (Z.cssNumber[e] ? "" : "px"),
            a =
              (Z.cssNumber[e] || ("px" !== o && +r)) &&
              Ze.exec(Z.css(i.elem, e)),
            s = 1,
            l = 20;
          if (a && a[3] !== o) {
            (o = o || a[3]), (n = n || []), (a = +r || 1);
            do (s = s || ".5"), (a /= s), Z.style(i.elem, e, a + o);
            while (s !== (s = i.cur() / r) && 1 !== s && --l);
          }
          return (
            n &&
              ((a = i.start = +a || +r || 0),
              (i.unit = o),
              (i.end = n[1] ? a + (n[1] + 1) * n[2] : +n[2])),
            i
          );
        },
      ],
    };
  (Z.Animation = Z.extend(O, {
    tweener: function (e, t) {
      Z.isFunction(e) ? ((t = e), (e = ["*"])) : (e = e.split(" "));
      for (var i, r = 0, n = e.length; n > r; r++)
        (i = e[r]), (it[i] = it[i] || []), it[i].unshift(t);
    },
    prefilter: function (e, t) {
      t ? tt.unshift(e) : tt.push(e);
    },
  })),
    (Z.speed = function (e, t, i) {
      var r =
        e && "object" == typeof e
          ? Z.extend({}, e)
          : {
              complete: i || (!i && t) || (Z.isFunction(e) && e),
              duration: e,
              easing: (i && t) || (t && !Z.isFunction(t) && t),
            };
      return (
        (r.duration = Z.fx.off
          ? 0
          : "number" == typeof r.duration
          ? r.duration
          : r.duration in Z.fx.speeds
          ? Z.fx.speeds[r.duration]
          : Z.fx.speeds._default),
        (null == r.queue || r.queue === !0) && (r.queue = "fx"),
        (r.old = r.complete),
        (r.complete = function () {
          Z.isFunction(r.old) && r.old.call(this),
            r.queue && Z.dequeue(this, r.queue);
        }),
        r
      );
    }),
    Z.fn.extend({
      fadeTo: function (e, t, i, r) {
        return this.filter(Re)
          .css("opacity", 0)
          .show()
          .end()
          .animate({ opacity: t }, e, i, r);
      },
      animate: function (e, t, i, r) {
        var n = Z.isEmptyObject(e),
          o = Z.speed(t, i, r),
          a = function () {
            var t = O(this, Z.extend({}, e), o);
            (n || Ee.get(this, "finish")) && t.stop(!0);
          };
        return (
          (a.finish = a),
          n || o.queue === !1 ? this.each(a) : this.queue(o.queue, a)
        );
      },
      stop: function (e, t, i) {
        var r = function (e) {
          var t = e.stop;
          delete e.stop, t(i);
        };
        return (
          "string" != typeof e && ((i = t), (t = e), (e = void 0)),
          t && e !== !1 && this.queue(e || "fx", []),
          this.each(function () {
            var t = !0,
              n = null != e && e + "queueHooks",
              o = Z.timers,
              a = Ee.get(this);
            if (n) a[n] && a[n].stop && r(a[n]);
            else for (n in a) a[n] && a[n].stop && et.test(n) && r(a[n]);
            for (n = o.length; n--; )
              o[n].elem !== this ||
                (null != e && o[n].queue !== e) ||
                (o[n].anim.stop(i), (t = !1), o.splice(n, 1));
            (t || !i) && Z.dequeue(this, e);
          })
        );
      },
      finish: function (e) {
        return (
          e !== !1 && (e = e || "fx"),
          this.each(function () {
            var t,
              i = Ee.get(this),
              r = i[e + "queue"],
              n = i[e + "queueHooks"],
              o = Z.timers,
              a = r ? r.length : 0;
            for (
              i.finish = !0,
                Z.queue(this, e, []),
                n && n.stop && n.stop.call(this, !0),
                t = o.length;
              t--;

            )
              o[t].elem === this &&
                o[t].queue === e &&
                (o[t].anim.stop(!0), o.splice(t, 1));
            for (t = 0; a > t; t++)
              r[t] && r[t].finish && r[t].finish.call(this);
            delete i.finish;
          })
        );
      },
    }),
    Z.each(["toggle", "show", "hide"], function (e, t) {
      var i = Z.fn[t];
      Z.fn[t] = function (e, r, n) {
        return null == e || "boolean" == typeof e
          ? i.apply(this, arguments)
          : this.animate(C(t, !0), e, r, n);
      };
    }),
    Z.each(
      {
        slideDown: C("show"),
        slideUp: C("hide"),
        slideToggle: C("toggle"),
        fadeIn: { opacity: "show" },
        fadeOut: { opacity: "hide" },
        fadeToggle: { opacity: "toggle" },
      },
      function (e, t) {
        Z.fn[e] = function (e, i, r) {
          return this.animate(t, e, i, r);
        };
      }
    ),
    (Z.timers = []),
    (Z.fx.tick = function () {
      var e,
        t = 0,
        i = Z.timers;
      for (Qe = Z.now(); t < i.length; t++)
        (e = i[t]), e() || i[t] !== e || i.splice(t--, 1);
      i.length || Z.fx.stop(), (Qe = void 0);
    }),
    (Z.fx.timer = function (e) {
      Z.timers.push(e), e() ? Z.fx.start() : Z.timers.pop();
    }),
    (Z.fx.interval = 13),
    (Z.fx.start = function () {
      $e || ($e = setInterval(Z.fx.tick, Z.fx.interval));
    }),
    (Z.fx.stop = function () {
      clearInterval($e), ($e = null);
    }),
    (Z.fx.speeds = { slow: 600, fast: 200, _default: 400 }),
    (Z.fn.delay = function (e, t) {
      return (
        (e = Z.fx ? Z.fx.speeds[e] || e : e),
        (t = t || "fx"),
        this.queue(t, function (t, i) {
          var r = setTimeout(t, e);
          i.stop = function () {
            clearTimeout(r);
          };
        })
      );
    }),
    (function () {
      var e = $.createElement("input"),
        t = $.createElement("select"),
        i = t.appendChild($.createElement("option"));
      (e.type = "checkbox"),
        (Q.checkOn = "" !== e.value),
        (Q.optSelected = i.selected),
        (t.disabled = !0),
        (Q.optDisabled = !i.disabled),
        (e = $.createElement("input")),
        (e.value = "t"),
        (e.type = "radio"),
        (Q.radioValue = "t" === e.value);
    })();
  var rt,
    nt,
    ot = Z.expr.attrHandle;
  Z.fn.extend({
    attr: function (e, t) {
      return ge(this, Z.attr, e, t, arguments.length > 1);
    },
    removeAttr: function (e) {
      return this.each(function () {
        Z.removeAttr(this, e);
      });
    },
  }),
    Z.extend({
      attr: function (e, t, i) {
        var r,
          n,
          o = e.nodeType;
        if (e && 3 !== o && 8 !== o && 2 !== o)
          return typeof e.getAttribute === we
            ? Z.prop(e, t, i)
            : ((1 === o && Z.isXMLDoc(e)) ||
                ((t = t.toLowerCase()),
                (r = Z.attrHooks[t] || (Z.expr.match.bool.test(t) ? nt : rt))),
              void 0 === i
                ? r && "get" in r && null !== (n = r.get(e, t))
                  ? n
                  : ((n = Z.find.attr(e, t)), null == n ? void 0 : n)
                : null !== i
                ? r && "set" in r && void 0 !== (n = r.set(e, i, t))
                  ? n
                  : (e.setAttribute(t, i + ""), i)
                : void Z.removeAttr(e, t));
      },
      removeAttr: function (e, t) {
        var i,
          r,
          n = 0,
          o = t && t.match(fe);
        if (o && 1 === e.nodeType)
          for (; (i = o[n++]); )
            (r = Z.propFix[i] || i),
              Z.expr.match.bool.test(i) && (e[r] = !1),
              e.removeAttribute(i);
      },
      attrHooks: {
        type: {
          set: function (e, t) {
            if (!Q.radioValue && "radio" === t && Z.nodeName(e, "input")) {
              var i = e.value;
              return e.setAttribute("type", t), i && (e.value = i), t;
            }
          },
        },
      },
    }),
    (nt = {
      set: function (e, t, i) {
        return t === !1 ? Z.removeAttr(e, i) : e.setAttribute(i, i), i;
      },
    }),
    Z.each(Z.expr.match.bool.source.match(/\w+/g), function (e, t) {
      var i = ot[t] || Z.find.attr;
      ot[t] = function (e, t, r) {
        var n, o;
        return (
          r ||
            ((o = ot[t]),
            (ot[t] = n),
            (n = null != i(e, t, r) ? t.toLowerCase() : null),
            (ot[t] = o)),
          n
        );
      };
    });
  var at = /^(?:input|select|textarea|button)$/i;
  Z.fn.extend({
    prop: function (e, t) {
      return ge(this, Z.prop, e, t, arguments.length > 1);
    },
    removeProp: function (e) {
      return this.each(function () {
        delete this[Z.propFix[e] || e];
      });
    },
  }),
    Z.extend({
      propFix: { for: "htmlFor", class: "className" },
      prop: function (e, t, i) {
        var r,
          n,
          o,
          a = e.nodeType;
        if (e && 3 !== a && 8 !== a && 2 !== a)
          return (
            (o = 1 !== a || !Z.isXMLDoc(e)),
            o && ((t = Z.propFix[t] || t), (n = Z.propHooks[t])),
            void 0 !== i
              ? n && "set" in n && void 0 !== (r = n.set(e, i, t))
                ? r
                : (e[t] = i)
              : n && "get" in n && null !== (r = n.get(e, t))
              ? r
              : e[t]
          );
      },
      propHooks: {
        tabIndex: {
          get: function (e) {
            return e.hasAttribute("tabindex") || at.test(e.nodeName) || e.href
              ? e.tabIndex
              : -1;
          },
        },
      },
    }),
    Q.optSelected ||
      (Z.propHooks.selected = {
        get: function (e) {
          var t = e.parentNode;
          return t && t.parentNode && t.parentNode.selectedIndex, null;
        },
      }),
    Z.each(
      [
        "tabIndex",
        "readOnly",
        "maxLength",
        "cellSpacing",
        "cellPadding",
        "rowSpan",
        "colSpan",
        "useMap",
        "frameBorder",
        "contentEditable",
      ],
      function () {
        Z.propFix[this.toLowerCase()] = this;
      }
    );
  var st = /[\t\r\n\f]/g;
  Z.fn.extend({
    addClass: function (e) {
      var t,
        i,
        r,
        n,
        o,
        a,
        s = "string" == typeof e && e,
        l = 0,
        h = this.length;
      if (Z.isFunction(e))
        return this.each(function (t) {
          Z(this).addClass(e.call(this, t, this.className));
        });
      if (s)
        for (t = (e || "").match(fe) || []; h > l; l++)
          if (
            ((i = this[l]),
            (r =
              1 === i.nodeType &&
              (i.className ? (" " + i.className + " ").replace(st, " ") : " ")))
          ) {
            for (o = 0; (n = t[o++]); )
              r.indexOf(" " + n + " ") < 0 && (r += n + " ");
            (a = Z.trim(r)), i.className !== a && (i.className = a);
          }
      return this;
    },
    removeClass: function (e) {
      var t,
        i,
        r,
        n,
        o,
        a,
        s = 0 === arguments.length || ("string" == typeof e && e),
        l = 0,
        h = this.length;
      if (Z.isFunction(e))
        return this.each(function (t) {
          Z(this).removeClass(e.call(this, t, this.className));
        });
      if (s)
        for (t = (e || "").match(fe) || []; h > l; l++)
          if (
            ((i = this[l]),
            (r =
              1 === i.nodeType &&
              (i.className ? (" " + i.className + " ").replace(st, " ") : "")))
          ) {
            for (o = 0; (n = t[o++]); )
              for (; r.indexOf(" " + n + " ") >= 0; )
                r = r.replace(" " + n + " ", " ");
            (a = e ? Z.trim(r) : ""), i.className !== a && (i.className = a);
          }
      return this;
    },
    toggleClass: function (e, t) {
      var i = typeof e;
      return "boolean" == typeof t && "string" === i
        ? t
          ? this.addClass(e)
          : this.removeClass(e)
        : Z.isFunction(e)
        ? this.each(function (i) {
            Z(this).toggleClass(e.call(this, i, this.className, t), t);
          })
        : this.each(function () {
            if ("string" === i)
              for (
                var t, r = 0, n = Z(this), o = e.match(fe) || [];
                (t = o[r++]);

              )
                n.hasClass(t) ? n.removeClass(t) : n.addClass(t);
            else
              (i === we || "boolean" === i) &&
                (this.className &&
                  Ee.set(this, "__className__", this.className),
                (this.className =
                  this.className || e === !1
                    ? ""
                    : Ee.get(this, "__className__") || ""));
          });
    },
    hasClass: function (e) {
      for (var t = " " + e + " ", i = 0, r = this.length; r > i; i++)
        if (
          1 === this[i].nodeType &&
          (" " + this[i].className + " ").replace(st, " ").indexOf(t) >= 0
        )
          return !0;
      return !1;
    },
  });
  var lt = /\r/g;
  Z.fn.extend({
    val: function (e) {
      var t,
        i,
        r,
        n = this[0];
      {
        if (arguments.length)
          return (
            (r = Z.isFunction(e)),
            this.each(function (i) {
              var n;
              1 === this.nodeType &&
                ((n = r ? e.call(this, i, Z(this).val()) : e),
                null == n
                  ? (n = "")
                  : "number" == typeof n
                  ? (n += "")
                  : Z.isArray(n) &&
                    (n = Z.map(n, function (e) {
                      return null == e ? "" : e + "";
                    })),
                (t =
                  Z.valHooks[this.type] ||
                  Z.valHooks[this.nodeName.toLowerCase()]),
                (t && "set" in t && void 0 !== t.set(this, n, "value")) ||
                  (this.value = n));
            })
          );
        if (n)
          return (
            (t = Z.valHooks[n.type] || Z.valHooks[n.nodeName.toLowerCase()]),
            t && "get" in t && void 0 !== (i = t.get(n, "value"))
              ? i
              : ((i = n.value),
                "string" == typeof i ? i.replace(lt, "") : null == i ? "" : i)
          );
      }
    },
  }),
    Z.extend({
      valHooks: {
        option: {
          get: function (e) {
            var t = Z.find.attr(e, "value");
            return null != t ? t : Z.trim(Z.text(e));
          },
        },
        select: {
          get: function (e) {
            for (
              var t,
                i,
                r = e.options,
                n = e.selectedIndex,
                o = "select-one" === e.type || 0 > n,
                a = o ? null : [],
                s = o ? n + 1 : r.length,
                l = 0 > n ? s : o ? n : 0;
              s > l;
              l++
            )
              if (
                ((i = r[l]),
                !(
                  (!i.selected && l !== n) ||
                  (Q.optDisabled
                    ? i.disabled
                    : null !== i.getAttribute("disabled")) ||
                  (i.parentNode.disabled &&
                    Z.nodeName(i.parentNode, "optgroup"))
                ))
              ) {
                if (((t = Z(i).val()), o)) return t;
                a.push(t);
              }
            return a;
          },
          set: function (e, t) {
            for (
              var i, r, n = e.options, o = Z.makeArray(t), a = n.length;
              a--;

            )
              (r = n[a]), (r.selected = Z.inArray(r.value, o) >= 0) && (i = !0);
            return i || (e.selectedIndex = -1), o;
          },
        },
      },
    }),
    Z.each(["radio", "checkbox"], function () {
      (Z.valHooks[this] = {
        set: function (e, t) {
          return Z.isArray(t)
            ? (e.checked = Z.inArray(Z(e).val(), t) >= 0)
            : void 0;
        },
      }),
        Q.checkOn ||
          (Z.valHooks[this].get = function (e) {
            return null === e.getAttribute("value") ? "on" : e.value;
          });
    }),
    Z.each(
      "blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(
        " "
      ),
      function (e, t) {
        Z.fn[t] = function (e, i) {
          return arguments.length > 0
            ? this.on(t, null, e, i)
            : this.trigger(t);
        };
      }
    ),
    Z.fn.extend({
      hover: function (e, t) {
        return this.mouseenter(e).mouseleave(t || e);
      },
      bind: function (e, t, i) {
        return this.on(e, null, t, i);
      },
      unbind: function (e, t) {
        return this.off(e, null, t);
      },
      delegate: function (e, t, i, r) {
        return this.on(t, e, i, r);
      },
      undelegate: function (e, t, i) {
        return 1 === arguments.length
          ? this.off(e, "**")
          : this.off(t, e || "**", i);
      },
    });
  var ht = Z.now(),
    ct = /\?/;
  (Z.parseJSON = function (e) {
    return JSON.parse(e + "");
  }),
    (Z.parseXML = function (e) {
      var t, i;
      if (!e || "string" != typeof e) return null;
      try {
        (i = new DOMParser()), (t = i.parseFromString(e, "text/xml"));
      } catch (r) {
        t = void 0;
      }
      return (
        (!t || t.getElementsByTagName("parsererror").length) &&
          Z.error("Invalid XML: " + e),
        t
      );
    });
  var ut = /#.*$/,
    dt = /([?&])_=[^&]*/,
    ft = /^(.*?):[ \t]*([^\r\n]*)$/gm,
    pt = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,
    mt = /^(?:GET|HEAD)$/,
    gt = /^\/\//,
    Et = /^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,
    vt = {},
    _t = {},
    yt = "*/".concat("*"),
    Tt = e.location.href,
    xt = Et.exec(Tt.toLowerCase()) || [];
  Z.extend({
    active: 0,
    lastModified: {},
    etag: {},
    ajaxSettings: {
      url: Tt,
      type: "GET",
      isLocal: pt.test(xt[1]),
      global: !0,
      processData: !0,
      async: !0,
      contentType: "application/x-www-form-urlencoded; charset=UTF-8",
      accepts: {
        "*": yt,
        text: "text/plain",
        html: "text/html",
        xml: "application/xml, text/xml",
        json: "application/json, text/javascript",
      },
      contents: { xml: /xml/, html: /html/, json: /json/ },
      responseFields: {
        xml: "responseXML",
        text: "responseText",
        json: "responseJSON",
      },
      converters: {
        "* text": String,
        "text html": !0,
        "text json": Z.parseJSON,
        "text xml": Z.parseXML,
      },
      flatOptions: { url: !0, context: !0 },
    },
    ajaxSetup: function (e, t) {
      return t ? N(N(e, Z.ajaxSettings), t) : N(Z.ajaxSettings, e);
    },
    ajaxPrefilter: k(vt),
    ajaxTransport: k(_t),
    ajax: function (e, t) {
      function i(e, t, i, a) {
        var l,
          c,
          E,
          v,
          y,
          x = t;
        2 !== _ &&
          ((_ = 2),
          s && clearTimeout(s),
          (r = void 0),
          (o = a || ""),
          (T.readyState = e > 0 ? 4 : 0),
          (l = (e >= 200 && 300 > e) || 304 === e),
          i && (v = j(u, T, i)),
          (v = U(u, v, T, l)),
          l
            ? (u.ifModified &&
                ((y = T.getResponseHeader("Last-Modified")),
                y && (Z.lastModified[n] = y),
                (y = T.getResponseHeader("etag")),
                y && (Z.etag[n] = y)),
              204 === e || "HEAD" === u.type
                ? (x = "nocontent")
                : 304 === e
                ? (x = "notmodified")
                : ((x = v.state), (c = v.data), (E = v.error), (l = !E)))
            : ((E = x), (e || !x) && ((x = "error"), 0 > e && (e = 0))),
          (T.status = e),
          (T.statusText = (t || x) + ""),
          l ? p.resolveWith(d, [c, x, T]) : p.rejectWith(d, [T, x, E]),
          T.statusCode(g),
          (g = void 0),
          h && f.trigger(l ? "ajaxSuccess" : "ajaxError", [T, u, l ? c : E]),
          m.fireWith(d, [T, x]),
          h &&
            (f.trigger("ajaxComplete", [T, u]),
            --Z.active || Z.event.trigger("ajaxStop")));
      }
      "object" == typeof e && ((t = e), (e = void 0)), (t = t || {});
      var r,
        n,
        o,
        a,
        s,
        l,
        h,
        c,
        u = Z.ajaxSetup({}, t),
        d = u.context || u,
        f = u.context && (d.nodeType || d.jquery) ? Z(d) : Z.event,
        p = Z.Deferred(),
        m = Z.Callbacks("once memory"),
        g = u.statusCode || {},
        E = {},
        v = {},
        _ = 0,
        y = "canceled",
        T = {
          readyState: 0,
          getResponseHeader: function (e) {
            var t;
            if (2 === _) {
              if (!a)
                for (a = {}; (t = ft.exec(o)); ) a[t[1].toLowerCase()] = t[2];
              t = a[e.toLowerCase()];
            }
            return null == t ? null : t;
          },
          getAllResponseHeaders: function () {
            return 2 === _ ? o : null;
          },
          setRequestHeader: function (e, t) {
            var i = e.toLowerCase();
            return _ || ((e = v[i] = v[i] || e), (E[e] = t)), this;
          },
          overrideMimeType: function (e) {
            return _ || (u.mimeType = e), this;
          },
          statusCode: function (e) {
            var t;
            if (e)
              if (2 > _) for (t in e) g[t] = [g[t], e[t]];
              else T.always(e[T.status]);
            return this;
          },
          abort: function (e) {
            var t = e || y;
            return r && r.abort(t), i(0, t), this;
          },
        };
      if (
        ((p.promise(T).complete = m.add),
        (T.success = T.done),
        (T.error = T.fail),
        (u.url = ((e || u.url || Tt) + "")
          .replace(ut, "")
          .replace(gt, xt[1] + "//")),
        (u.type = t.method || t.type || u.method || u.type),
        (u.dataTypes = Z.trim(u.dataType || "*")
          .toLowerCase()
          .match(fe) || [""]),
        null == u.crossDomain &&
          ((l = Et.exec(u.url.toLowerCase())),
          (u.crossDomain = !(
            !l ||
            (l[1] === xt[1] &&
              l[2] === xt[2] &&
              (l[3] || ("http:" === l[1] ? "80" : "443")) ===
                (xt[3] || ("http:" === xt[1] ? "80" : "443")))
          ))),
        u.data &&
          u.processData &&
          "string" != typeof u.data &&
          (u.data = Z.param(u.data, u.traditional)),
        F(vt, u, t, T),
        2 === _)
      )
        return T;
      (h = Z.event && u.global),
        h && 0 === Z.active++ && Z.event.trigger("ajaxStart"),
        (u.type = u.type.toUpperCase()),
        (u.hasContent = !mt.test(u.type)),
        (n = u.url),
        u.hasContent ||
          (u.data &&
            ((n = u.url += (ct.test(n) ? "&" : "?") + u.data), delete u.data),
          u.cache === !1 &&
            (u.url = dt.test(n)
              ? n.replace(dt, "$1_=" + ht++)
              : n + (ct.test(n) ? "&" : "?") + "_=" + ht++)),
        u.ifModified &&
          (Z.lastModified[n] &&
            T.setRequestHeader("If-Modified-Since", Z.lastModified[n]),
          Z.etag[n] && T.setRequestHeader("If-None-Match", Z.etag[n])),
        ((u.data && u.hasContent && u.contentType !== !1) || t.contentType) &&
          T.setRequestHeader("Content-Type", u.contentType),
        T.setRequestHeader(
          "Accept",
          u.dataTypes[0] && u.accepts[u.dataTypes[0]]
            ? u.accepts[u.dataTypes[0]] +
                ("*" !== u.dataTypes[0] ? ", " + yt + "; q=0.01" : "")
            : u.accepts["*"]
        );
      for (c in u.headers) T.setRequestHeader(c, u.headers[c]);
      if (u.beforeSend && (u.beforeSend.call(d, T, u) === !1 || 2 === _))
        return T.abort();
      y = "abort";
      for (c in { success: 1, error: 1, complete: 1 }) T[c](u[c]);
      if ((r = F(_t, u, t, T))) {
        (T.readyState = 1),
          h && f.trigger("ajaxSend", [T, u]),
          u.async &&
            u.timeout > 0 &&
            (s = setTimeout(function () {
              T.abort("timeout");
            }, u.timeout));
        try {
          (_ = 1), r.send(E, i);
        } catch (x) {
          if (!(2 > _)) throw x;
          i(-1, x);
        }
      } else i(-1, "No Transport");
      return T;
    },
    getJSON: function (e, t, i) {
      return Z.get(e, t, i, "json");
    },
    getScript: function (e, t) {
      return Z.get(e, void 0, t, "script");
    },
  }),
    Z.each(["get", "post"], function (e, t) {
      Z[t] = function (e, i, r, n) {
        return (
          Z.isFunction(i) && ((n = n || r), (r = i), (i = void 0)),
          Z.ajax({ url: e, type: t, dataType: n, data: i, success: r })
        );
      };
    }),
    (Z._evalUrl = function (e) {
      return Z.ajax({
        url: e,
        type: "GET",
        dataType: "script",
        async: !1,
        global: !1,
        throws: !0,
      });
    }),
    Z.fn.extend({
      wrapAll: function (e) {
        var t;
        return Z.isFunction(e)
          ? this.each(function (t) {
              Z(this).wrapAll(e.call(this, t));
            })
          : (this[0] &&
              ((t = Z(e, this[0].ownerDocument).eq(0).clone(!0)),
              this[0].parentNode && t.insertBefore(this[0]),
              t
                .map(function () {
                  for (var e = this; e.firstElementChild; )
                    e = e.firstElementChild;
                  return e;
                })
                .append(this)),
            this);
      },
      wrapInner: function (e) {
        return Z.isFunction(e)
          ? this.each(function (t) {
              Z(this).wrapInner(e.call(this, t));
            })
          : this.each(function () {
              var t = Z(this),
                i = t.contents();
              i.length ? i.wrapAll(e) : t.append(e);
            });
      },
      wrap: function (e) {
        var t = Z.isFunction(e);
        return this.each(function (i) {
          Z(this).wrapAll(t ? e.call(this, i) : e);
        });
      },
      unwrap: function () {
        return this.parent()
          .each(function () {
            Z.nodeName(this, "body") || Z(this).replaceWith(this.childNodes);
          })
          .end();
      },
    }),
    (Z.expr.filters.hidden = function (e) {
      return e.offsetWidth <= 0 && e.offsetHeight <= 0;
    }),
    (Z.expr.filters.visible = function (e) {
      return !Z.expr.filters.hidden(e);
    });
  var Rt = /%20/g,
    bt = /\[\]$/,
    wt = /\r?\n/g,
    Ht = /^(?:submit|button|image|reset|file)$/i,
    St = /^(?:input|select|textarea|keygen)/i;
  (Z.param = function (e, t) {
    var i,
      r = [],
      n = function (e, t) {
        (t = Z.isFunction(t) ? t() : null == t ? "" : t),
          (r[r.length] = encodeURIComponent(e) + "=" + encodeURIComponent(t));
      };
    if (
      (void 0 === t && (t = Z.ajaxSettings && Z.ajaxSettings.traditional),
      Z.isArray(e) || (e.jquery && !Z.isPlainObject(e)))
    )
      Z.each(e, function () {
        n(this.name, this.value);
      });
    else for (i in e) I(i, e[i], t, n);
    return r.join("&").replace(Rt, "+");
  }),
    Z.fn.extend({
      serialize: function () {
        return Z.param(this.serializeArray());
      },
      serializeArray: function () {
        return this.map(function () {
          var e = Z.prop(this, "elements");
          return e ? Z.makeArray(e) : this;
        })
          .filter(function () {
            var e = this.type;
            return (
              this.name &&
              !Z(this).is(":disabled") &&
              St.test(this.nodeName) &&
              !Ht.test(e) &&
              (this.checked || !be.test(e))
            );
          })
          .map(function (e, t) {
            var i = Z(this).val();
            return null == i
              ? null
              : Z.isArray(i)
              ? Z.map(i, function (e) {
                  return { name: t.name, value: e.replace(wt, "\r\n") };
                })
              : { name: t.name, value: i.replace(wt, "\r\n") };
          })
          .get();
      },
    }),
    (Z.ajaxSettings.xhr = function () {
      try {
        return new XMLHttpRequest();
      } catch (e) {}
    });
  var At = 0,
    Mt = {},
    Ct = { 0: 200, 1223: 204 },
    Pt = Z.ajaxSettings.xhr();
  e.attachEvent &&
    e.attachEvent("onunload", function () {
      for (var e in Mt) Mt[e]();
    }),
    (Q.cors = !!Pt && "withCredentials" in Pt),
    (Q.ajax = Pt = !!Pt),
    Z.ajaxTransport(function (e) {
      var t;
      return Q.cors || (Pt && !e.crossDomain)
        ? {
            send: function (i, r) {
              var n,
                o = e.xhr(),
                a = ++At;
              if (
                (o.open(e.type, e.url, e.async, e.username, e.password),
                e.xhrFields)
              )
                for (n in e.xhrFields) o[n] = e.xhrFields[n];
              e.mimeType &&
                o.overrideMimeType &&
                o.overrideMimeType(e.mimeType),
                e.crossDomain ||
                  i["X-Requested-With"] ||
                  (i["X-Requested-With"] = "XMLHttpRequest");
              for (n in i) o.setRequestHeader(n, i[n]);
              (t = function (e) {
                return function () {
                  t &&
                    (delete Mt[a],
                    (t = o.onload = o.onerror = null),
                    "abort" === e
                      ? o.abort()
                      : "error" === e
                      ? r(o.status, o.statusText)
                      : r(
                          Ct[o.status] || o.status,
                          o.statusText,
                          "string" == typeof o.responseText
                            ? { text: o.responseText }
                            : void 0,
                          o.getAllResponseHeaders()
                        ));
                };
              }),
                (o.onload = t()),
                (o.onerror = t("error")),
                (t = Mt[a] = t("abort"));
              try {
                o.send((e.hasContent && e.data) || null);
              } catch (s) {
                if (t) throw s;
              }
            },
            abort: function () {
              t && t();
            },
          }
        : void 0;
    }),
    Z.ajaxSetup({
      accepts: {
        script:
          "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript",
      },
      contents: { script: /(?:java|ecma)script/ },
      converters: {
        "text script": function (e) {
          return Z.globalEval(e), e;
        },
      },
    }),
    Z.ajaxPrefilter("script", function (e) {
      void 0 === e.cache && (e.cache = !1), e.crossDomain && (e.type = "GET");
    }),
    Z.ajaxTransport("script", function (e) {
      if (e.crossDomain) {
        var t, i;
        return {
          send: function (r, n) {
            (t = Z("<script>")
              .prop({ async: !0, charset: e.scriptCharset, src: e.url })
              .on(
                "load error",
                (i = function (e) {
                  t.remove(),
                    (i = null),
                    e && n("error" === e.type ? 404 : 200, e.type);
                })
              )),
              $.head.appendChild(t[0]);
          },
          abort: function () {
            i && i();
          },
        };
      }
    });
  var Lt = [],
    Dt = /(=)\?(?=&|$)|\?\?/;
  Z.ajaxSetup({
    jsonp: "callback",
    jsonpCallback: function () {
      var e = Lt.pop() || Z.expando + "_" + ht++;
      return (this[e] = !0), e;
    },
  }),
    Z.ajaxPrefilter("json jsonp", function (t, i, r) {
      var n,
        o,
        a,
        s =
          t.jsonp !== !1 &&
          (Dt.test(t.url)
            ? "url"
            : "string" == typeof t.data &&
              !(t.contentType || "").indexOf(
                "application/x-www-form-urlencoded"
              ) &&
              Dt.test(t.data) &&
              "data");
      return s || "jsonp" === t.dataTypes[0]
        ? ((n = t.jsonpCallback =
            Z.isFunction(t.jsonpCallback)
              ? t.jsonpCallback()
              : t.jsonpCallback),
          s
            ? (t[s] = t[s].replace(Dt, "$1" + n))
            : t.jsonp !== !1 &&
              (t.url += (ct.test(t.url) ? "&" : "?") + t.jsonp + "=" + n),
          (t.converters["script json"] = function () {
            return a || Z.error(n + " was not called"), a[0];
          }),
          (t.dataTypes[0] = "json"),
          (o = e[n]),
          (e[n] = function () {
            a = arguments;
          }),
          r.always(function () {
            (e[n] = o),
              t[n] && ((t.jsonpCallback = i.jsonpCallback), Lt.push(n)),
              a && Z.isFunction(o) && o(a[0]),
              (a = o = void 0);
          }),
          "script")
        : void 0;
    }),
    (Z.parseHTML = function (e, t, i) {
      if (!e || "string" != typeof e) return null;
      "boolean" == typeof t && ((i = t), (t = !1)), (t = t || $);
      var r = ae.exec(e),
        n = !i && [];
      return r
        ? [t.createElement(r[1])]
        : ((r = Z.buildFragment([e], t, n)),
          n && n.length && Z(n).remove(),
          Z.merge([], r.childNodes));
    });
  var Ot = Z.fn.load;
  (Z.fn.load = function (e, t, i) {
    if ("string" != typeof e && Ot) return Ot.apply(this, arguments);
    var r,
      n,
      o,
      a = this,
      s = e.indexOf(" ");
    return (
      s >= 0 && ((r = Z.trim(e.slice(s))), (e = e.slice(0, s))),
      Z.isFunction(t)
        ? ((i = t), (t = void 0))
        : t && "object" == typeof t && (n = "POST"),
      a.length > 0 &&
        Z.ajax({ url: e, type: n, dataType: "html", data: t })
          .done(function (e) {
            (o = arguments),
              a.html(r ? Z("<div>").append(Z.parseHTML(e)).find(r) : e);
          })
          .complete(
            i &&
              function (e, t) {
                a.each(i, o || [e.responseText, t, e]);
              }
          ),
      this
    );
  }),
    Z.each(
      [
        "ajaxStart",
        "ajaxStop",
        "ajaxComplete",
        "ajaxError",
        "ajaxSuccess",
        "ajaxSend",
      ],
      function (e, t) {
        Z.fn[t] = function (e) {
          return this.on(t, e);
        };
      }
    ),
    (Z.expr.filters.animated = function (e) {
      return Z.grep(Z.timers, function (t) {
        return e === t.elem;
      }).length;
    });
  var kt = e.document.documentElement;
  (Z.offset = {
    setOffset: function (e, t, i) {
      var r,
        n,
        o,
        a,
        s,
        l,
        h,
        c = Z.css(e, "position"),
        u = Z(e),
        d = {};
      "static" === c && (e.style.position = "relative"),
        (s = u.offset()),
        (o = Z.css(e, "top")),
        (l = Z.css(e, "left")),
        (h =
          ("absolute" === c || "fixed" === c) && (o + l).indexOf("auto") > -1),
        h
          ? ((r = u.position()), (a = r.top), (n = r.left))
          : ((a = parseFloat(o) || 0), (n = parseFloat(l) || 0)),
        Z.isFunction(t) && (t = t.call(e, i, s)),
        null != t.top && (d.top = t.top - s.top + a),
        null != t.left && (d.left = t.left - s.left + n),
        "using" in t ? t.using.call(e, d) : u.css(d);
    },
  }),
    Z.fn.extend({
      offset: function (e) {
        if (arguments.length)
          return void 0 === e
            ? this
            : this.each(function (t) {
                Z.offset.setOffset(this, e, t);
              });
        var t,
          i,
          r = this[0],
          n = { top: 0, left: 0 },
          o = r && r.ownerDocument;
        if (o)
          return (
            (t = o.documentElement),
            Z.contains(t, r)
              ? (typeof r.getBoundingClientRect !== we &&
                  (n = r.getBoundingClientRect()),
                (i = B(o)),
                {
                  top: n.top + i.pageYOffset - t.clientTop,
                  left: n.left + i.pageXOffset - t.clientLeft,
                })
              : n
          );
      },
      position: function () {
        if (this[0]) {
          var e,
            t,
            i = this[0],
            r = { top: 0, left: 0 };
          return (
            "fixed" === Z.css(i, "position")
              ? (t = i.getBoundingClientRect())
              : ((e = this.offsetParent()),
                (t = this.offset()),
                Z.nodeName(e[0], "html") || (r = e.offset()),
                (r.top += Z.css(e[0], "borderTopWidth", !0)),
                (r.left += Z.css(e[0], "borderLeftWidth", !0))),
            {
              top: t.top - r.top - Z.css(i, "marginTop", !0),
              left: t.left - r.left - Z.css(i, "marginLeft", !0),
            }
          );
        }
      },
      offsetParent: function () {
        return this.map(function () {
          for (
            var e = this.offsetParent || kt;
            e && !Z.nodeName(e, "html") && "static" === Z.css(e, "position");

          )
            e = e.offsetParent;
          return e || kt;
        });
      },
    }),
    Z.each(
      { scrollLeft: "pageXOffset", scrollTop: "pageYOffset" },
      function (t, i) {
        var r = "pageYOffset" === i;
        Z.fn[t] = function (n) {
          return ge(
            this,
            function (t, n, o) {
              var a = B(t);
              return void 0 === o
                ? a
                  ? a[i]
                  : t[n]
                : void (a
                    ? a.scrollTo(r ? e.pageXOffset : o, r ? o : e.pageYOffset)
                    : (t[n] = o));
            },
            t,
            n,
            arguments.length,
            null
          );
        };
      }
    ),
    Z.each(["top", "left"], function (e, t) {
      Z.cssHooks[t] = x(Q.pixelPosition, function (e, i) {
        return i
          ? ((i = T(e, t)), Ve.test(i) ? Z(e).position()[t] + "px" : i)
          : void 0;
      });
    }),
    Z.each({ Height: "height", Width: "width" }, function (e, t) {
      Z.each(
        { padding: "inner" + e, content: t, "": "outer" + e },
        function (i, r) {
          Z.fn[r] = function (r, n) {
            var o = arguments.length && (i || "boolean" != typeof r),
              a = i || (r === !0 || n === !0 ? "margin" : "border");
            return ge(
              this,
              function (t, i, r) {
                var n;
                return Z.isWindow(t)
                  ? t.document.documentElement["client" + e]
                  : 9 === t.nodeType
                  ? ((n = t.documentElement),
                    Math.max(
                      t.body["scroll" + e],
                      n["scroll" + e],
                      t.body["offset" + e],
                      n["offset" + e],
                      n["client" + e]
                    ))
                  : void 0 === r
                  ? Z.css(t, i, a)
                  : Z.style(t, i, r, a);
              },
              t,
              o ? r : void 0,
              o,
              null
            );
          };
        }
      );
    }),
    (Z.fn.size = function () {
      return this.length;
    }),
    (Z.fn.andSelf = Z.fn.addBack),
    "function" == typeof define &&
      define.amd &&
      define("jquery", [], function () {
        return Z;
      });
  var Ft = e.jQuery,
    Nt = e.$;
  return (
    (Z.noConflict = function (t) {
      return e.$ === Z && (e.$ = Nt), t && e.jQuery === Z && (e.jQuery = Ft), Z;
    }),
    typeof t === we && (e.jQuery = e.$ = Z),
    Z
  );
}),
  function () {
    function e(e) {
      function t(t, i, r, n, o, a) {
        for (; o >= 0 && a > o; o += e) {
          var s = n ? n[o] : o;
          r = i(r, t[s], s, t);
        }
        return r;
      }
      return function (i, r, n, o) {
        r = _(r, o, 4);
        var a = !H(i) && v.keys(i),
          s = (a || i).length,
          l = e > 0 ? 0 : s - 1;
        return (
          arguments.length < 3 && ((n = i[a ? a[l] : l]), (l += e)),
          t(i, r, n, a, l, s)
        );
      };
    }
    function t(e) {
      return function (t, i, r) {
        i = y(i, r);
        for (var n = w(t), o = e > 0 ? 0 : n - 1; o >= 0 && n > o; o += e)
          if (i(t[o], o, t)) return o;
        return -1;
      };
    }
    function i(e, t, i) {
      return function (r, n, o) {
        var a = 0,
          s = w(r);
        if ("number" == typeof o)
          e > 0
            ? (a = o >= 0 ? o : Math.max(o + s, a))
            : (s = o >= 0 ? Math.min(o + 1, s) : o + s + 1);
        else if (i && o && s) return (o = i(r, n)), r[o] === n ? o : -1;
        if (n !== n)
          return (o = t(c.call(r, a, s), v.isNaN)), o >= 0 ? o + a : -1;
        for (o = e > 0 ? a : s - 1; o >= 0 && s > o; o += e)
          if (r[o] === n) return o;
        return -1;
      };
    }
    function r(e, t) {
      var i = P.length,
        r = e.constructor,
        n = (v.isFunction(r) && r.prototype) || s,
        o = "constructor";
      for (v.has(e, o) && !v.contains(t, o) && t.push(o); i--; )
        (o = P[i]), o in e && e[o] !== n[o] && !v.contains(t, o) && t.push(o);
    }
    var n = this,
      o = n._,
      a = Array.prototype,
      s = Object.prototype,
      l = Function.prototype,
      h = a.push,
      c = a.slice,
      u = s.toString,
      d = s.hasOwnProperty,
      f = Array.isArray,
      p = Object.keys,
      m = l.bind,
      g = Object.create,
      E = function () {},
      v = function (e) {
        return e instanceof v
          ? e
          : this instanceof v
          ? void (this._wrapped = e)
          : new v(e);
      };
    "undefined" != typeof exports
      ? ("undefined" != typeof module &&
          module.exports &&
          (exports = module.exports = v),
        (exports._ = v))
      : (n._ = v),
      (v.VERSION = "1.8.3");
    var _ = function (e, t, i) {
        if (void 0 === t) return e;
        switch (null == i ? 3 : i) {
          case 1:
            return function (i) {
              return e.call(t, i);
            };
          case 2:
            return function (i, r) {
              return e.call(t, i, r);
            };
          case 3:
            return function (i, r, n) {
              return e.call(t, i, r, n);
            };
          case 4:
            return function (i, r, n, o) {
              return e.call(t, i, r, n, o);
            };
        }
        return function () {
          return e.apply(t, arguments);
        };
      },
      y = function (e, t, i) {
        return null == e
          ? v.identity
          : v.isFunction(e)
          ? _(e, t, i)
          : v.isObject(e)
          ? v.matcher(e)
          : v.property(e);
      };
    v.iteratee = function (e, t) {
      return y(e, t, 1 / 0);
    };
    var T = function (e, t) {
        return function (i) {
          var r = arguments.length;
          if (2 > r || null == i) return i;
          for (var n = 1; r > n; n++)
            for (
              var o = arguments[n], a = e(o), s = a.length, l = 0;
              s > l;
              l++
            ) {
              var h = a[l];
              (t && void 0 !== i[h]) || (i[h] = o[h]);
            }
          return i;
        };
      },
      x = function (e) {
        if (!v.isObject(e)) return {};
        if (g) return g(e);
        E.prototype = e;
        var t = new E();
        return (E.prototype = null), t;
      },
      R = function (e) {
        return function (t) {
          return null == t ? void 0 : t[e];
        };
      },
      b = Math.pow(2, 53) - 1,
      w = R("length"),
      H = function (e) {
        var t = w(e);
        return "number" == typeof t && t >= 0 && b >= t;
      };
    (v.each = v.forEach =
      function (e, t, i) {
        t = _(t, i);
        var r, n;
        if (H(e)) for (r = 0, n = e.length; n > r; r++) t(e[r], r, e);
        else {
          var o = v.keys(e);
          for (r = 0, n = o.length; n > r; r++) t(e[o[r]], o[r], e);
        }
        return e;
      }),
      (v.map = v.collect =
        function (e, t, i) {
          t = y(t, i);
          for (
            var r = !H(e) && v.keys(e),
              n = (r || e).length,
              o = Array(n),
              a = 0;
            n > a;
            a++
          ) {
            var s = r ? r[a] : a;
            o[a] = t(e[s], s, e);
          }
          return o;
        }),
      (v.reduce = v.foldl = v.inject = e(1)),
      (v.reduceRight = v.foldr = e(-1)),
      (v.find = v.detect =
        function (e, t, i) {
          var r;
          return (
            (r = H(e) ? v.findIndex(e, t, i) : v.findKey(e, t, i)),
            void 0 !== r && -1 !== r ? e[r] : void 0
          );
        }),
      (v.filter = v.select =
        function (e, t, i) {
          var r = [];
          return (
            (t = y(t, i)),
            v.each(e, function (e, i, n) {
              t(e, i, n) && r.push(e);
            }),
            r
          );
        }),
      (v.reject = function (e, t, i) {
        return v.filter(e, v.negate(y(t)), i);
      }),
      (v.every = v.all =
        function (e, t, i) {
          t = y(t, i);
          for (
            var r = !H(e) && v.keys(e), n = (r || e).length, o = 0;
            n > o;
            o++
          ) {
            var a = r ? r[o] : o;
            if (!t(e[a], a, e)) return !1;
          }
          return !0;
        }),
      (v.some = v.any =
        function (e, t, i) {
          t = y(t, i);
          for (
            var r = !H(e) && v.keys(e), n = (r || e).length, o = 0;
            n > o;
            o++
          ) {
            var a = r ? r[o] : o;
            if (t(e[a], a, e)) return !0;
          }
          return !1;
        }),
      (v.contains =
        v.includes =
        v.include =
          function (e, t, i, r) {
            return (
              H(e) || (e = v.values(e)),
              ("number" != typeof i || r) && (i = 0),
              v.indexOf(e, t, i) >= 0
            );
          }),
      (v.invoke = function (e, t) {
        var i = c.call(arguments, 2),
          r = v.isFunction(t);
        return v.map(e, function (e) {
          var n = r ? t : e[t];
          return null == n ? n : n.apply(e, i);
        });
      }),
      (v.pluck = function (e, t) {
        return v.map(e, v.property(t));
      }),
      (v.where = function (e, t) {
        return v.filter(e, v.matcher(t));
      }),
      (v.findWhere = function (e, t) {
        return v.find(e, v.matcher(t));
      }),
      (v.max = function (e, t, i) {
        var r,
          n,
          o = -(1 / 0),
          a = -(1 / 0);
        if (null == t && null != e) {
          e = H(e) ? e : v.values(e);
          for (var s = 0, l = e.length; l > s; s++)
            (r = e[s]), r > o && (o = r);
        } else
          (t = y(t, i)),
            v.each(e, function (e, i, r) {
              (n = t(e, i, r)),
                (n > a || (n === -(1 / 0) && o === -(1 / 0))) &&
                  ((o = e), (a = n));
            });
        return o;
      }),
      (v.min = function (e, t, i) {
        var r,
          n,
          o = 1 / 0,
          a = 1 / 0;
        if (null == t && null != e) {
          e = H(e) ? e : v.values(e);
          for (var s = 0, l = e.length; l > s; s++)
            (r = e[s]), o > r && (o = r);
        } else
          (t = y(t, i)),
            v.each(e, function (e, i, r) {
              (n = t(e, i, r)),
                (a > n || (n === 1 / 0 && o === 1 / 0)) && ((o = e), (a = n));
            });
        return o;
      }),
      (v.shuffle = function (e) {
        for (
          var t, i = H(e) ? e : v.values(e), r = i.length, n = Array(r), o = 0;
          r > o;
          o++
        )
          (t = v.random(0, o)), t !== o && (n[o] = n[t]), (n[t] = i[o]);
        return n;
      }),
      (v.sample = function (e, t, i) {
        return null == t || i
          ? (H(e) || (e = v.values(e)), e[v.random(e.length - 1)])
          : v.shuffle(e).slice(0, Math.max(0, t));
      }),
      (v.sortBy = function (e, t, i) {
        return (
          (t = y(t, i)),
          v.pluck(
            v
              .map(e, function (e, i, r) {
                return { value: e, index: i, criteria: t(e, i, r) };
              })
              .sort(function (e, t) {
                var i = e.criteria,
                  r = t.criteria;
                if (i !== r) {
                  if (i > r || void 0 === i) return 1;
                  if (r > i || void 0 === r) return -1;
                }
                return e.index - t.index;
              }),
            "value"
          )
        );
      });
    var S = function (e) {
      return function (t, i, r) {
        var n = {};
        return (
          (i = y(i, r)),
          v.each(t, function (r, o) {
            var a = i(r, o, t);
            e(n, r, a);
          }),
          n
        );
      };
    };
    (v.groupBy = S(function (e, t, i) {
      v.has(e, i) ? e[i].push(t) : (e[i] = [t]);
    })),
      (v.indexBy = S(function (e, t, i) {
        e[i] = t;
      })),
      (v.countBy = S(function (e, t, i) {
        v.has(e, i) ? e[i]++ : (e[i] = 1);
      })),
      (v.toArray = function (e) {
        return e
          ? v.isArray(e)
            ? c.call(e)
            : H(e)
            ? v.map(e, v.identity)
            : v.values(e)
          : [];
      }),
      (v.size = function (e) {
        return null == e ? 0 : H(e) ? e.length : v.keys(e).length;
      }),
      (v.partition = function (e, t, i) {
        t = y(t, i);
        var r = [],
          n = [];
        return (
          v.each(e, function (e, i, o) {
            (t(e, i, o) ? r : n).push(e);
          }),
          [r, n]
        );
      }),
      (v.first =
        v.head =
        v.take =
          function (e, t, i) {
            return null == e
              ? void 0
              : null == t || i
              ? e[0]
              : v.initial(e, e.length - t);
          }),
      (v.initial = function (e, t, i) {
        return c.call(e, 0, Math.max(0, e.length - (null == t || i ? 1 : t)));
      }),
      (v.last = function (e, t, i) {
        return null == e
          ? void 0
          : null == t || i
          ? e[e.length - 1]
          : v.rest(e, Math.max(0, e.length - t));
      }),
      (v.rest =
        v.tail =
        v.drop =
          function (e, t, i) {
            return c.call(e, null == t || i ? 1 : t);
          }),
      (v.compact = function (e) {
        return v.filter(e, v.identity);
      });
    var A = function (e, t, i, r) {
      for (var n = [], o = 0, a = r || 0, s = w(e); s > a; a++) {
        var l = e[a];
        if (H(l) && (v.isArray(l) || v.isArguments(l))) {
          t || (l = A(l, t, i));
          var h = 0,
            c = l.length;
          for (n.length += c; c > h; ) n[o++] = l[h++];
        } else i || (n[o++] = l);
      }
      return n;
    };
    (v.flatten = function (e, t) {
      return A(e, t, !1);
    }),
      (v.without = function (e) {
        return v.difference(e, c.call(arguments, 1));
      }),
      (v.uniq = v.unique =
        function (e, t, i, r) {
          v.isBoolean(t) || ((r = i), (i = t), (t = !1)),
            null != i && (i = y(i, r));
          for (var n = [], o = [], a = 0, s = w(e); s > a; a++) {
            var l = e[a],
              h = i ? i(l, a, e) : l;
            t
              ? ((a && o === h) || n.push(l), (o = h))
              : i
              ? v.contains(o, h) || (o.push(h), n.push(l))
              : v.contains(n, l) || n.push(l);
          }
          return n;
        }),
      (v.union = function () {
        return v.uniq(A(arguments, !0, !0));
      }),
      (v.intersection = function (e) {
        for (var t = [], i = arguments.length, r = 0, n = w(e); n > r; r++) {
          var o = e[r];
          if (!v.contains(t, o)) {
            for (var a = 1; i > a && v.contains(arguments[a], o); a++);
            a === i && t.push(o);
          }
        }
        return t;
      }),
      (v.difference = function (e) {
        var t = A(arguments, !0, !0, 1);
        return v.filter(e, function (e) {
          return !v.contains(t, e);
        });
      }),
      (v.zip = function () {
        return v.unzip(arguments);
      }),
      (v.unzip = function (e) {
        for (
          var t = (e && v.max(e, w).length) || 0, i = Array(t), r = 0;
          t > r;
          r++
        )
          i[r] = v.pluck(e, r);
        return i;
      }),
      (v.object = function (e, t) {
        for (var i = {}, r = 0, n = w(e); n > r; r++)
          t ? (i[e[r]] = t[r]) : (i[e[r][0]] = e[r][1]);
        return i;
      }),
      (v.findIndex = t(1)),
      (v.findLastIndex = t(-1)),
      (v.sortedIndex = function (e, t, i, r) {
        i = y(i, r, 1);
        for (var n = i(t), o = 0, a = w(e); a > o; ) {
          var s = Math.floor((o + a) / 2);
          i(e[s]) < n ? (o = s + 1) : (a = s);
        }
        return o;
      }),
      (v.indexOf = i(1, v.findIndex, v.sortedIndex)),
      (v.lastIndexOf = i(-1, v.findLastIndex)),
      (v.range = function (e, t, i) {
        null == t && ((t = e || 0), (e = 0)), (i = i || 1);
        for (
          var r = Math.max(Math.ceil((t - e) / i), 0), n = Array(r), o = 0;
          r > o;
          o++, e += i
        )
          n[o] = e;
        return n;
      });
    var M = function (e, t, i, r, n) {
      if (!(r instanceof t)) return e.apply(i, n);
      var o = x(e.prototype),
        a = e.apply(o, n);
      return v.isObject(a) ? a : o;
    };
    (v.bind = function (e, t) {
      if (m && e.bind === m) return m.apply(e, c.call(arguments, 1));
      if (!v.isFunction(e))
        throw new TypeError("Bind must be called on a function");
      var i = c.call(arguments, 2),
        r = function () {
          return M(e, r, t, this, i.concat(c.call(arguments)));
        };
      return r;
    }),
      (v.partial = function (e) {
        var t = c.call(arguments, 1),
          i = function () {
            for (var r = 0, n = t.length, o = Array(n), a = 0; n > a; a++)
              o[a] = t[a] === v ? arguments[r++] : t[a];
            for (; r < arguments.length; ) o.push(arguments[r++]);
            return M(e, i, this, this, o);
          };
        return i;
      }),
      (v.bindAll = function (e) {
        var t,
          i,
          r = arguments.length;
        if (1 >= r) throw new Error("bindAll must be passed function names");
        for (t = 1; r > t; t++) (i = arguments[t]), (e[i] = v.bind(e[i], e));
        return e;
      }),
      (v.memoize = function (e, t) {
        var i = function (r) {
          var n = i.cache,
            o = "" + (t ? t.apply(this, arguments) : r);
          return v.has(n, o) || (n[o] = e.apply(this, arguments)), n[o];
        };
        return (i.cache = {}), i;
      }),
      (v.delay = function (e, t) {
        var i = c.call(arguments, 2);
        return setTimeout(function () {
          return e.apply(null, i);
        }, t);
      }),
      (v.defer = v.partial(v.delay, v, 1)),
      (v.throttle = function (e, t, i) {
        var r,
          n,
          o,
          a = null,
          s = 0;
        i || (i = {});
        var l = function () {
          (s = i.leading === !1 ? 0 : v.now()),
            (a = null),
            (o = e.apply(r, n)),
            a || (r = n = null);
        };
        return function () {
          var h = v.now();
          s || i.leading !== !1 || (s = h);
          var c = t - (h - s);
          return (
            (r = this),
            (n = arguments),
            0 >= c || c > t
              ? (a && (clearTimeout(a), (a = null)),
                (s = h),
                (o = e.apply(r, n)),
                a || (r = n = null))
              : a || i.trailing === !1 || (a = setTimeout(l, c)),
            o
          );
        };
      }),
      (v.debounce = function (e, t, i) {
        var r,
          n,
          o,
          a,
          s,
          l = function () {
            var h = v.now() - a;
            t > h && h >= 0
              ? (r = setTimeout(l, t - h))
              : ((r = null), i || ((s = e.apply(o, n)), r || (o = n = null)));
          };
        return function () {
          (o = this), (n = arguments), (a = v.now());
          var h = i && !r;
          return (
            r || (r = setTimeout(l, t)),
            h && ((s = e.apply(o, n)), (o = n = null)),
            s
          );
        };
      }),
      (v.wrap = function (e, t) {
        return v.partial(t, e);
      }),
      (v.negate = function (e) {
        return function () {
          return !e.apply(this, arguments);
        };
      }),
      (v.compose = function () {
        var e = arguments,
          t = e.length - 1;
        return function () {
          for (var i = t, r = e[t].apply(this, arguments); i--; )
            r = e[i].call(this, r);
          return r;
        };
      }),
      (v.after = function (e, t) {
        return function () {
          return --e < 1 ? t.apply(this, arguments) : void 0;
        };
      }),
      (v.before = function (e, t) {
        var i;
        return function () {
          return (
            --e > 0 && (i = t.apply(this, arguments)), 1 >= e && (t = null), i
          );
        };
      }),
      (v.once = v.partial(v.before, 2));
    var C = !{ toString: null }.propertyIsEnumerable("toString"),
      P = [
        "valueOf",
        "isPrototypeOf",
        "toString",
        "propertyIsEnumerable",
        "hasOwnProperty",
        "toLocaleString",
      ];
    (v.keys = function (e) {
      if (!v.isObject(e)) return [];
      if (p) return p(e);
      var t = [];
      for (var i in e) v.has(e, i) && t.push(i);
      return C && r(e, t), t;
    }),
      (v.allKeys = function (e) {
        if (!v.isObject(e)) return [];
        var t = [];
        for (var i in e) t.push(i);
        return C && r(e, t), t;
      }),
      (v.values = function (e) {
        for (var t = v.keys(e), i = t.length, r = Array(i), n = 0; i > n; n++)
          r[n] = e[t[n]];
        return r;
      }),
      (v.mapObject = function (e, t, i) {
        t = y(t, i);
        for (var r, n = v.keys(e), o = n.length, a = {}, s = 0; o > s; s++)
          (r = n[s]), (a[r] = t(e[r], r, e));
        return a;
      }),
      (v.pairs = function (e) {
        for (var t = v.keys(e), i = t.length, r = Array(i), n = 0; i > n; n++)
          r[n] = [t[n], e[t[n]]];
        return r;
      }),
      (v.invert = function (e) {
        for (var t = {}, i = v.keys(e), r = 0, n = i.length; n > r; r++)
          t[e[i[r]]] = i[r];
        return t;
      }),
      (v.functions = v.methods =
        function (e) {
          var t = [];
          for (var i in e) v.isFunction(e[i]) && t.push(i);
          return t.sort();
        }),
      (v.extend = T(v.allKeys)),
      (v.extendOwn = v.assign = T(v.keys)),
      (v.findKey = function (e, t, i) {
        t = y(t, i);
        for (var r, n = v.keys(e), o = 0, a = n.length; a > o; o++)
          if (((r = n[o]), t(e[r], r, e))) return r;
      }),
      (v.pick = function (e, t, i) {
        var r,
          n,
          o = {},
          a = e;
        if (null == a) return o;
        v.isFunction(t)
          ? ((n = v.allKeys(a)), (r = _(t, i)))
          : ((n = A(arguments, !1, !1, 1)),
            (r = function (e, t, i) {
              return t in i;
            }),
            (a = Object(a)));
        for (var s = 0, l = n.length; l > s; s++) {
          var h = n[s],
            c = a[h];
          r(c, h, a) && (o[h] = c);
        }
        return o;
      }),
      (v.omit = function (e, t, i) {
        if (v.isFunction(t)) t = v.negate(t);
        else {
          var r = v.map(A(arguments, !1, !1, 1), String);
          t = function (e, t) {
            return !v.contains(r, t);
          };
        }
        return v.pick(e, t, i);
      }),
      (v.defaults = T(v.allKeys, !0)),
      (v.create = function (e, t) {
        var i = x(e);
        return t && v.extendOwn(i, t), i;
      }),
      (v.clone = function (e) {
        return v.isObject(e) ? (v.isArray(e) ? e.slice() : v.extend({}, e)) : e;
      }),
      (v.tap = function (e, t) {
        return t(e), e;
      }),
      (v.isMatch = function (e, t) {
        var i = v.keys(t),
          r = i.length;
        if (null == e) return !r;
        for (var n = Object(e), o = 0; r > o; o++) {
          var a = i[o];
          if (t[a] !== n[a] || !(a in n)) return !1;
        }
        return !0;
      });
    var L = function (e, t, i, r) {
      if (e === t) return 0 !== e || 1 / e === 1 / t;
      if (null == e || null == t) return e === t;
      e instanceof v && (e = e._wrapped), t instanceof v && (t = t._wrapped);
      var n = u.call(e);
      if (n !== u.call(t)) return !1;
      switch (n) {
        case "[object RegExp]":
        case "[object String]":
          return "" + e == "" + t;
        case "[object Number]":
          return +e !== +e
            ? +t !== +t
            : 0 === +e
            ? 1 / +e === 1 / t
            : +e === +t;
        case "[object Date]":
        case "[object Boolean]":
          return +e === +t;
      }
      var o = "[object Array]" === n;
      if (!o) {
        if ("object" != typeof e || "object" != typeof t) return !1;
        var a = e.constructor,
          s = t.constructor;
        if (
          a !== s &&
          !(
            v.isFunction(a) &&
            a instanceof a &&
            v.isFunction(s) &&
            s instanceof s
          ) &&
          "constructor" in e &&
          "constructor" in t
        )
          return !1;
      }
      (i = i || []), (r = r || []);
      for (var l = i.length; l--; ) if (i[l] === e) return r[l] === t;
      if ((i.push(e), r.push(t), o)) {
        if (((l = e.length), l !== t.length)) return !1;
        for (; l--; ) if (!L(e[l], t[l], i, r)) return !1;
      } else {
        var h,
          c = v.keys(e);
        if (((l = c.length), v.keys(t).length !== l)) return !1;
        for (; l--; )
          if (((h = c[l]), !v.has(t, h) || !L(e[h], t[h], i, r))) return !1;
      }
      return i.pop(), r.pop(), !0;
    };
    (v.isEqual = function (e, t) {
      return L(e, t);
    }),
      (v.isEmpty = function (e) {
        return null == e
          ? !0
          : H(e) && (v.isArray(e) || v.isString(e) || v.isArguments(e))
          ? 0 === e.length
          : 0 === v.keys(e).length;
      }),
      (v.isElement = function (e) {
        return !(!e || 1 !== e.nodeType);
      }),
      (v.isArray =
        f ||
        function (e) {
          return "[object Array]" === u.call(e);
        }),
      (v.isObject = function (e) {
        var t = typeof e;
        return "function" === t || ("object" === t && !!e);
      }),
      v.each(
        [
          "Arguments",
          "Function",
          "String",
          "Number",
          "Date",
          "RegExp",
          "Error",
        ],
        function (e) {
          v["is" + e] = function (t) {
            return u.call(t) === "[object " + e + "]";
          };
        }
      ),
      v.isArguments(arguments) ||
        (v.isArguments = function (e) {
          return v.has(e, "callee");
        }),
      "function" != typeof /./ &&
        "object" != typeof Int8Array &&
        (v.isFunction = function (e) {
          return "function" == typeof e || !1;
        }),
      (v.isFinite = function (e) {
        return isFinite(e) && !isNaN(parseFloat(e));
      }),
      (v.isNaN = function (e) {
        return v.isNumber(e) && e !== +e;
      }),
      (v.isBoolean = function (e) {
        return e === !0 || e === !1 || "[object Boolean]" === u.call(e);
      }),
      (v.isNull = function (e) {
        return null === e;
      }),
      (v.isUndefined = function (e) {
        return void 0 === e;
      }),
      (v.has = function (e, t) {
        return null != e && d.call(e, t);
      }),
      (v.noConflict = function () {
        return (n._ = o), this;
      }),
      (v.identity = function (e) {
        return e;
      }),
      (v.constant = function (e) {
        return function () {
          return e;
        };
      }),
      (v.noop = function () {}),
      (v.property = R),
      (v.propertyOf = function (e) {
        return null == e
          ? function () {}
          : function (t) {
              return e[t];
            };
      }),
      (v.matcher = v.matches =
        function (e) {
          return (
            (e = v.extendOwn({}, e)),
            function (t) {
              return v.isMatch(t, e);
            }
          );
        }),
      (v.times = function (e, t, i) {
        var r = Array(Math.max(0, e));
        t = _(t, i, 1);
        for (var n = 0; e > n; n++) r[n] = t(n);
        return r;
      }),
      (v.random = function (e, t) {
        return (
          null == t && ((t = e), (e = 0)),
          e + Math.floor(Math.random() * (t - e + 1))
        );
      }),
      (v.now =
        Date.now ||
        function () {
          return new Date().getTime();
        });
    var D = {
        "&": "&amp;",
        "<": "&lt;",
        ">": "&gt;",
        '"': "&quot;",
        "'": "&#x27;",
        "`": "&#x60;",
      },
      O = v.invert(D),
      k = function (e) {
        var t = function (t) {
            return e[t];
          },
          i = "(?:" + v.keys(e).join("|") + ")",
          r = RegExp(i),
          n = RegExp(i, "g");
        return function (e) {
          return (e = null == e ? "" : "" + e), r.test(e) ? e.replace(n, t) : e;
        };
      };
    (v.escape = k(D)),
      (v.unescape = k(O)),
      (v.result = function (e, t, i) {
        var r = null == e ? void 0 : e[t];
        return void 0 === r && (r = i), v.isFunction(r) ? r.call(e) : r;
      });
    var F = 0;
    (v.uniqueId = function (e) {
      var t = ++F + "";
      return e ? e + t : t;
    }),
      (v.templateSettings = {
        evaluate: /<%([\s\S]+?)%>/g,
        interpolate: /<%=([\s\S]+?)%>/g,
        escape: /<%-([\s\S]+?)%>/g,
      });
    var N = /(.)^/,
      j = {
        "'": "'",
        "\\": "\\",
        "\r": "r",
        "\n": "n",
        "\u2028": "u2028",
        "\u2029": "u2029",
      },
      U = /\\|'|\r|\n|\u2028|\u2029/g,
      I = function (e) {
        return "\\" + j[e];
      };
    (v.template = function (e, t, i) {
      !t && i && (t = i), (t = v.defaults({}, t, v.templateSettings));
      var r = RegExp(
          [
            (t.escape || N).source,
            (t.interpolate || N).source,
            (t.evaluate || N).source,
          ].join("|") + "|$",
          "g"
        ),
        n = 0,
        o = "__p+='";
      e.replace(r, function (t, i, r, a, s) {
        return (
          (o += e.slice(n, s).replace(U, I)),
          (n = s + t.length),
          i
            ? (o += "'+\n((__t=(" + i + "))==null?'':_.escape(__t))+\n'")
            : r
            ? (o += "'+\n((__t=(" + r + "))==null?'':__t)+\n'")
            : a && (o += "';\n" + a + "\n__p+='"),
          t
        );
      }),
        (o += "';\n"),
        t.variable || (o = "with(obj||{}){\n" + o + "}\n"),
        (o =
          "var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n" +
          o +
          "return __p;\n");
      try {
        var a = new Function(t.variable || "obj", "_", o);
      } catch (s) {
        throw ((s.source = o), s);
      }
      var l = function (e) {
          return a.call(this, e, v);
        },
        h = t.variable || "obj";
      return (l.source = "function(" + h + "){\n" + o + "}"), l;
    }),
      (v.chain = function (e) {
        var t = v(e);
        return (t._chain = !0), t;
      });
    var B = function (e, t) {
      return e._chain ? v(t).chain() : t;
    };
    (v.mixin = function (e) {
      v.each(v.functions(e), function (t) {
        var i = (v[t] = e[t]);
        v.prototype[t] = function () {
          var e = [this._wrapped];
          return h.apply(e, arguments), B(this, i.apply(v, e));
        };
      });
    }),
      v.mixin(v),
      v.each(
        ["pop", "push", "reverse", "shift", "sort", "splice", "unshift"],
        function (e) {
          var t = a[e];
          v.prototype[e] = function () {
            var i = this._wrapped;
            return (
              t.apply(i, arguments),
              ("shift" !== e && "splice" !== e) ||
                0 !== i.length ||
                delete i[0],
              B(this, i)
            );
          };
        }
      ),
      v.each(["concat", "join", "slice"], function (e) {
        var t = a[e];
        v.prototype[e] = function () {
          return B(this, t.apply(this._wrapped, arguments));
        };
      }),
      (v.prototype.value = function () {
        return this._wrapped;
      }),
      (v.prototype.valueOf = v.prototype.toJSON = v.prototype.value),
      (v.prototype.toString = function () {
        return "" + this._wrapped;
      }),
      "function" == typeof define &&
        define.amd &&
        define("underscore", [], function () {
          return v;
        });
  }.call(this),
  (function (e, t) {
    if ("function" == typeof define && define.amd)
      define("backbone", ["underscore", "jquery", "exports"], function (
        i,
        r,
        n
      ) {
        e.Backbone = t(e, n, i, r);
      });
    else if ("undefined" != typeof exports) {
      var i,
        r = require("underscore");
      try {
        i = require("jquery");
      } catch (n) {}
      t(e, exports, r, i);
    } else e.Backbone = t(e, {}, e._, e.jQuery || e.Zepto || e.ender || e.$);
  })(this, function (e, t, i, r) {
    var n = e.Backbone,
      o = [],
      a = (o.push, o.slice);
    o.splice;
    (t.VERSION = "1.1.0"),
      (t.$ = r),
      (t.noConflict = function () {
        return (e.Backbone = n), this;
      }),
      (t.emulateHTTP = !1),
      (t.emulateJSON = !1);
    var s = (t.Events = {
        on: function (e, t, i) {
          if (!h(this, "on", e, [t, i]) || !t) return this;
          this._events || (this._events = {});
          var r = this._events[e] || (this._events[e] = []);
          return r.push({ callback: t, context: i, ctx: i || this }), this;
        },
        once: function (e, t, r) {
          if (!h(this, "once", e, [t, r]) || !t) return this;
          var n = this,
            o = i.once(function () {
              n.off(e, o), t.apply(this, arguments);
            });
          return (o._callback = t), this.on(e, o, r);
        },
        off: function (e, t, r) {
          var n, o, a, s, l, c, u, d;
          if (!this._events || !h(this, "off", e, [t, r])) return this;
          if (!e && !t && !r) return (this._events = void 0), this;
          for (
            s = e ? [e] : i.keys(this._events), l = 0, c = s.length;
            c > l;
            l++
          )
            if (((e = s[l]), (a = this._events[e]))) {
              if (((this._events[e] = n = []), t || r))
                for (u = 0, d = a.length; d > u; u++)
                  (o = a[u]),
                    ((t && t !== o.callback && t !== o.callback._callback) ||
                      (r && r !== o.context)) &&
                      n.push(o);
              n.length || delete this._events[e];
            }
          return this;
        },
        trigger: function (e) {
          if (!this._events) return this;
          var t = a.call(arguments, 1);
          if (!h(this, "trigger", e, t)) return this;
          var i = this._events[e],
            r = this._events.all;
          return i && c(i, t), r && c(r, arguments), this;
        },
        stopListening: function (e, t, r) {
          var n = this._listeningTo;
          if (!n) return this;
          var o = !t && !r;
          r || "object" != typeof t || (r = this),
            e && ((n = {})[e._listenId] = e);
          for (var a in n)
            (e = n[a]),
              e.off(t, r, this),
              (o || i.isEmpty(e._events)) && delete this._listeningTo[a];
          return this;
        },
      }),
      l = /\s+/,
      h = function (e, t, i, r) {
        if (!i) return !0;
        if ("object" == typeof i) {
          for (var n in i) e[t].apply(e, [n, i[n]].concat(r));
          return !1;
        }
        if (l.test(i)) {
          for (var o = i.split(l), a = 0, s = o.length; s > a; a++)
            e[t].apply(e, [o[a]].concat(r));
          return !1;
        }
        return !0;
      },
      c = function (e, t) {
        var i,
          r = -1,
          n = e.length,
          o = t[0],
          a = t[1],
          s = t[2];
        switch (t.length) {
          case 0:
            for (; ++r < n; ) (i = e[r]).callback.call(i.ctx);
            return;
          case 1:
            for (; ++r < n; ) (i = e[r]).callback.call(i.ctx, o);
            return;
          case 2:
            for (; ++r < n; ) (i = e[r]).callback.call(i.ctx, o, a);
            return;
          case 3:
            for (; ++r < n; ) (i = e[r]).callback.call(i.ctx, o, a, s);
            return;
          default:
            for (; ++r < n; ) (i = e[r]).callback.apply(i.ctx, t);
        }
      },
      u = { listenTo: "on", listenToOnce: "once" };
    i.each(u, function (e, t) {
      s[t] = function (t, r, n) {
        var o = this._listeningTo || (this._listeningTo = {}),
          a = t._listenId || (t._listenId = i.uniqueId("l"));
        return (
          (o[a] = t),
          n || "object" != typeof r || (n = this),
          t[e](r, n, this),
          this
        );
      };
    }),
      (s.bind = s.on),
      (s.unbind = s.off),
      i.extend(t, s);
    var d = (t.Model = function (e, t) {
      var r = e || {};
      t || (t = {}),
        (this.cid = i.uniqueId("c")),
        (this.attributes = {}),
        t.collection && (this.collection = t.collection),
        t.parse && (r = this.parse(r, t) || {}),
        (r = i.defaults({}, r, i.result(this, "defaults"))),
        this.set(r, t),
        (this.changed = {}),
        this.initialize.apply(this, arguments);
    });
    i.extend(d.prototype, s, {
      changed: null,
      validationError: null,
      idAttribute: "id",
      initialize: function () {},
      toJSON: function (e) {
        return i.clone(this.attributes);
      },
      sync: function () {
        return t.sync.apply(this, arguments);
      },
      get: function (e) {
        return this.attributes[e];
      },
      escape: function (e) {
        return i.escape(this.get(e));
      },
      has: function (e) {
        return null != this.get(e);
      },
      set: function (e, t, r) {
        var n, o, a, s, l, h, c, u;
        if (null == e) return this;
        if (
          ("object" == typeof e ? ((o = e), (r = t)) : ((o = {})[e] = t),
          r || (r = {}),
          !this._validate(o, r))
        )
          return !1;
        (a = r.unset),
          (l = r.silent),
          (s = []),
          (h = this._changing),
          (this._changing = !0),
          h ||
            ((this._previousAttributes = i.clone(this.attributes)),
            (this.changed = {})),
          (u = this.attributes),
          (c = this._previousAttributes),
          this.idAttribute in o && (this.id = o[this.idAttribute]);
        for (n in o)
          (t = o[n]),
            i.isEqual(u[n], t) || s.push(n),
            i.isEqual(c[n], t) ? delete this.changed[n] : (this.changed[n] = t),
            a ? delete u[n] : (u[n] = t);
        if (!l) {
          s.length && (this._pending = r);
          for (var d = 0, f = s.length; f > d; d++)
            this.trigger("change:" + s[d], this, u[s[d]], r);
        }
        if (h) return this;
        if (!l)
          for (; this._pending; )
            (r = this._pending),
              (this._pending = !1),
              this.trigger("change", this, r);
        return (this._pending = !1), (this._changing = !1), this;
      },
      unset: function (e, t) {
        return this.set(e, void 0, i.extend({}, t, { unset: !0 }));
      },
      clear: function (e) {
        var t = {};
        for (var r in this.attributes) t[r] = void 0;
        return this.set(t, i.extend({}, e, { unset: !0 }));
      },
      hasChanged: function (e) {
        return null == e ? !i.isEmpty(this.changed) : i.has(this.changed, e);
      },
      changedAttributes: function (e) {
        if (!e) return this.hasChanged() ? i.clone(this.changed) : !1;
        var t,
          r = !1,
          n = this._changing ? this._previousAttributes : this.attributes;
        for (var o in e)
          i.isEqual(n[o], (t = e[o])) || ((r || (r = {}))[o] = t);
        return r;
      },
      previous: function (e) {
        return null != e && this._previousAttributes
          ? this._previousAttributes[e]
          : null;
      },
      previousAttributes: function () {
        return i.clone(this._previousAttributes);
      },
      fetch: function (e) {
        (e = e ? i.clone(e) : {}), void 0 === e.parse && (e.parse = !0);
        var t = this,
          r = e.success;
        return (
          (e.success = function (i) {
            return t.set(t.parse(i, e), e)
              ? (r && r(t, i, e), void t.trigger("sync", t, i, e))
              : !1;
          }),
          N(this, e),
          this.sync("read", this, e)
        );
      },
      save: function (e, t, r) {
        var n,
          o,
          a,
          s = this.attributes;
        if (
          (null == e || "object" == typeof e
            ? ((n = e), (r = t))
            : ((n = {})[e] = t),
          (r = i.extend({ validate: !0 }, r)),
          n && !r.wait)
        ) {
          if (!this.set(n, r)) return !1;
        } else if (!this._validate(n, r)) return !1;
        n && r.wait && (this.attributes = i.extend({}, s, n)),
          void 0 === r.parse && (r.parse = !0);
        var l = this,
          h = r.success;
        return (
          (r.success = function (e) {
            l.attributes = s;
            var t = l.parse(e, r);
            return (
              r.wait && (t = i.extend(n || {}, t)),
              i.isObject(t) && !l.set(t, r)
                ? !1
                : (h && h(l, e, r), void l.trigger("sync", l, e, r))
            );
          }),
          N(this, r),
          (o = this.isNew() ? "create" : r.patch ? "patch" : "update"),
          "patch" === o && (r.attrs = n),
          (a = this.sync(o, this, r)),
          n && r.wait && (this.attributes = s),
          a
        );
      },
      destroy: function (e) {
        e = e ? i.clone(e) : {};
        var t = this,
          r = e.success,
          n = function () {
            t.trigger("destroy", t, t.collection, e);
          };
        if (
          ((e.success = function (i) {
            (e.wait || t.isNew()) && n(),
              r && r(t, i, e),
              t.isNew() || t.trigger("sync", t, i, e);
          }),
          this.isNew())
        )
          return e.success(), !1;
        N(this, e);
        var o = this.sync("delete", this, e);
        return e.wait || n(), o;
      },
      url: function () {
        var e =
          i.result(this, "urlRoot") || i.result(this.collection, "url") || F();
        return this.isNew()
          ? e
          : e +
              ("/" === e.charAt(e.length - 1) ? "" : "/") +
              encodeURIComponent(this.id);
      },
      parse: function (e, t) {
        return e;
      },
      clone: function () {
        return new this.constructor(this.attributes);
      },
      isNew: function () {
        return !this.has(this.idAttribute);
      },
      isValid: function (e) {
        return this._validate({}, i.extend(e || {}, { validate: !0 }));
      },
      _validate: function (e, t) {
        if (!t.validate || !this.validate) return !0;
        e = i.extend({}, this.attributes, e);
        var r = (this.validationError = this.validate(e, t) || null);
        return r
          ? (this.trigger(
              "invalid",
              this,
              r,
              i.extend(t, { validationError: r })
            ),
            !1)
          : !0;
      },
    });
    var f = ["keys", "values", "pairs", "invert", "pick", "omit"];
    i.each(f, function (e) {
      d.prototype[e] = function () {
        var t = a.call(arguments);
        return t.unshift(this.attributes), i[e].apply(i, t);
      };
    });
    var p = (t.Collection = function (e, t) {
        t || (t = {}),
          t.model && (this.model = t.model),
          void 0 !== t.comparator && (this.comparator = t.comparator),
          this._reset(),
          this.initialize.apply(this, arguments),
          e && this.reset(e, i.extend({ silent: !0 }, t));
      }),
      m = { add: !0, remove: !0, merge: !0 },
      g = { add: !0, remove: !1 };
    i.extend(p.prototype, s, {
      model: d,
      initialize: function () {},
      toJSON: function (e) {
        return this.map(function (t) {
          return t.toJSON(e);
        });
      },
      sync: function () {
        return t.sync.apply(this, arguments);
      },
      add: function (e, t) {
        return this.set(e, i.extend({ merge: !1 }, t, g));
      },
      remove: function (e, t) {
        var r = !i.isArray(e);
        (e = r ? [e] : i.clone(e)), t || (t = {});
        var n, o, a, s;
        for (n = 0, o = e.length; o > n; n++)
          (s = e[n] = this.get(e[n])),
            s &&
              ((a = this.indexOf(s)),
              this.models.splice(a, 1),
              this.length--,
              t.silent || ((t.index = a), s.trigger("remove", s, this, t)),
              this._removeReference(s, t));
        return r ? e[0] : e;
      },
      set: function (e, t) {
        (t = i.defaults({}, t, m)), t.parse && (e = this.parse(e, t));
        var r = !i.isArray(e);
        e = r ? (e ? [e] : []) : i.clone(e);
        var n,
          o,
          a,
          s,
          l,
          h,
          c,
          u = t.at,
          f = this.model,
          p = this.comparator && null == u && t.sort !== !1,
          g = i.isString(this.comparator) ? this.comparator : null,
          E = [],
          v = [],
          _ = {},
          y = t.add,
          T = t.merge,
          x = t.remove,
          R = !p && y && x ? [] : !1;
        for (n = 0, o = e.length; o > n; n++) {
          if (
            ((l = e[n] || {}),
            (a = l instanceof d ? (s = l) : l[f.prototype.idAttribute || "id"]),
            (h = this.get(a)))
          )
            x && (_[h.cid] = !0),
              T &&
                ((l = l === s ? s.attributes : l),
                t.parse && (l = h.parse(l, t)),
                h.set(l, t),
                p && !c && h.hasChanged(g) && (c = !0)),
              (e[n] = h);
          else if (y) {
            if (((s = e[n] = this._prepareModel(l, t)), !s)) continue;
            E.push(s), this._addReference(s, t);
          }
          R && R.push(h || s);
        }
        if (x) {
          for (n = 0, o = this.length; o > n; ++n)
            _[(s = this.models[n]).cid] || v.push(s);
          v.length && this.remove(v, t);
        }
        if (E.length || (R && R.length))
          if ((p && (c = !0), (this.length += E.length), null != u))
            for (n = 0, o = E.length; o > n; n++)
              this.models.splice(u + n, 0, E[n]);
          else {
            R && (this.models.length = 0);
            var b = R || E;
            for (n = 0, o = b.length; o > n; n++) this.models.push(b[n]);
          }
        if ((c && this.sort({ silent: !0 }), !t.silent)) {
          for (n = 0, o = E.length; o > n; n++)
            (s = E[n]).trigger("add", s, this, t);
          (c || (R && R.length)) && this.trigger("sort", this, t);
        }
        return r ? e[0] : e;
      },
      reset: function (e, t) {
        t || (t = {});
        for (var r = 0, n = this.models.length; n > r; r++)
          this._removeReference(this.models[r], t);
        return (
          (t.previousModels = this.models),
          this._reset(),
          (e = this.add(e, i.extend({ silent: !0 }, t))),
          t.silent || this.trigger("reset", this, t),
          e
        );
      },
      push: function (e, t) {
        return this.add(e, i.extend({ at: this.length }, t));
      },
      pop: function (e) {
        var t = this.at(this.length - 1);
        return this.remove(t, e), t;
      },
      unshift: function (e, t) {
        return this.add(e, i.extend({ at: 0 }, t));
      },
      shift: function (e) {
        var t = this.at(0);
        return this.remove(t, e), t;
      },
      slice: function () {
        return a.apply(this.models, arguments);
      },
      get: function (e) {
        return null == e
          ? void 0
          : this._byId[e] || this._byId[e.id] || this._byId[e.cid];
      },
      at: function (e) {
        return this.models[e];
      },
      where: function (e, t) {
        return i.isEmpty(e)
          ? t
            ? void 0
            : []
          : this[t ? "find" : "filter"](function (t) {
              for (var i in e) if (e[i] !== t.get(i)) return !1;
              return !0;
            });
      },
      findWhere: function (e) {
        return this.where(e, !0);
      },
      sort: function (e) {
        if (!this.comparator)
          throw new Error("Cannot sort a set without a comparator");
        return (
          e || (e = {}),
          i.isString(this.comparator) || 1 === this.comparator.length
            ? (this.models = this.sortBy(this.comparator, this))
            : this.models.sort(i.bind(this.comparator, this)),
          e.silent || this.trigger("sort", this, e),
          this
        );
      },
      pluck: function (e) {
        return i.invoke(this.models, "get", e);
      },
      fetch: function (e) {
        (e = e ? i.clone(e) : {}), void 0 === e.parse && (e.parse = !0);
        var t = e.success,
          r = this;
        return (
          (e.success = function (i) {
            var n = e.reset ? "reset" : "set";
            r[n](i, e), t && t(r, i, e), r.trigger("sync", r, i, e);
          }),
          N(this, e),
          this.sync("read", this, e)
        );
      },
      create: function (e, t) {
        if (((t = t ? i.clone(t) : {}), !(e = this._prepareModel(e, t))))
          return !1;
        t.wait || this.add(e, t);
        var r = this,
          n = t.success;
        return (
          (t.success = function (e, i) {
            t.wait && r.add(e, t), n && n(e, i, t);
          }),
          e.save(null, t),
          e
        );
      },
      parse: function (e, t) {
        return e;
      },
      clone: function () {
        return new this.constructor(this.models);
      },
      _reset: function () {
        (this.length = 0), (this.models = []), (this._byId = {});
      },
      _prepareModel: function (e, t) {
        if (e instanceof d) return e;
        (t = t ? i.clone(t) : {}), (t.collection = this);
        var r = new this.model(e, t);
        return r.validationError
          ? (this.trigger("invalid", this, r.validationError, t), !1)
          : r;
      },
      _addReference: function (e, t) {
        (this._byId[e.cid] = e),
          null != e.id && (this._byId[e.id] = e),
          e.collection || (e.collection = this),
          e.on("all", this._onModelEvent, this);
      },
      _removeReference: function (e, t) {
        delete this._byId[e.id],
          delete this._byId[e.cid],
          this === e.collection && delete e.collection,
          e.off("all", this._onModelEvent, this);
      },
      _onModelEvent: function (e, t, i, r) {
        (("add" !== e && "remove" !== e) || i === this) &&
          ("destroy" === e && this.remove(t, r),
          t &&
            e === "change:" + t.idAttribute &&
            (delete this._byId[t.previous(t.idAttribute)],
            null != t.id && (this._byId[t.id] = t)),
          this.trigger.apply(this, arguments));
      },
    });
    var E = [
      "forEach",
      "each",
      "map",
      "collect",
      "reduce",
      "foldl",
      "inject",
      "reduceRight",
      "foldr",
      "find",
      "detect",
      "filter",
      "select",
      "reject",
      "every",
      "all",
      "some",
      "any",
      "include",
      "contains",
      "invoke",
      "max",
      "min",
      "toArray",
      "size",
      "first",
      "head",
      "take",
      "initial",
      "rest",
      "tail",
      "drop",
      "last",
      "without",
      "difference",
      "indexOf",
      "shuffle",
      "lastIndexOf",
      "isEmpty",
      "chain",
      "sample",
    ];
    i.each(E, function (e) {
      p.prototype[e] = function () {
        var t = a.call(arguments);
        return t.unshift(this.models), i[e].apply(i, t);
      };
    });
    var v = ["groupBy", "countBy", "sortBy", "indexBy"];
    i.each(v, function (e) {
      p.prototype[e] = function (t, r) {
        var n = i.isFunction(t)
          ? t
          : function (e) {
              return e.get(t);
            };
        return i[e](this.models, n, r);
      };
    });
    var _ = (t.View = function (e) {
        (this.cid = i.uniqueId("view")),
          e || (e = {}),
          i.extend(this, i.pick(e, T)),
          this._ensureElement(),
          this.initialize.apply(this, arguments),
          this.delegateEvents();
      }),
      y = /^(\S+)\s*(.*)$/,
      T = [
        "model",
        "collection",
        "el",
        "id",
        "attributes",
        "className",
        "tagName",
        "events",
      ];
    i.extend(_.prototype, s, {
      tagName: "div",
      $: function (e) {
        return this.$el.find(e);
      },
      initialize: function () {},
      render: function () {
        return this;
      },
      remove: function () {
        return this.$el.remove(), this.stopListening(), this;
      },
      setElement: function (e, i) {
        return (
          this.$el && this.undelegateEvents(),
          (this.$el = e instanceof t.$ ? e : t.$(e)),
          (this.el = this.$el[0]),
          i !== !1 && this.delegateEvents(),
          this
        );
      },
      delegateEvents: function (e) {
        if (!e && !(e = i.result(this, "events"))) return this;
        this.undelegateEvents();
        for (var t in e) {
          var r = e[t];
          if ((i.isFunction(r) || (r = this[e[t]]), r)) {
            var n = t.match(y),
              o = n[1],
              a = n[2];
            (r = i.bind(r, this)),
              (o += ".delegateEvents" + this.cid),
              "" === a ? this.$el.on(o, r) : this.$el.on(o, a, r);
          }
        }
        return this;
      },
      undelegateEvents: function () {
        return this.$el.off(".delegateEvents" + this.cid), this;
      },
      _ensureElement: function () {
        if (this.el) this.setElement(i.result(this, "el"), !1);
        else {
          var e = i.extend({}, i.result(this, "attributes"));
          this.id && (e.id = i.result(this, "id")),
            this.className && (e["class"] = i.result(this, "className"));
          var r = t.$("<" + i.result(this, "tagName") + ">").attr(e);
          this.setElement(r, !1);
        }
      },
    }),
      (t.sync = function (e, r, n) {
        var o = R[e];
        i.defaults(n || (n = {}), {
          emulateHTTP: t.emulateHTTP,
          emulateJSON: t.emulateJSON,
        });
        var a = { type: o, dataType: "json" };
        if (
          (n.url || (a.url = i.result(r, "url") || F()),
          null != n.data ||
            !r ||
            ("create" !== e && "update" !== e && "patch" !== e) ||
            ((a.contentType = "application/json"),
            (a.data = JSON.stringify(n.attrs || r.toJSON(n)))),
          n.emulateJSON &&
            ((a.contentType = "application/x-www-form-urlencoded"),
            (a.data = a.data ? { model: a.data } : {})),
          n.emulateHTTP && ("PUT" === o || "DELETE" === o || "PATCH" === o))
        ) {
          (a.type = "POST"), n.emulateJSON && (a.data._method = o);
          var s = n.beforeSend;
          n.beforeSend = function (e) {
            return (
              e.setRequestHeader("X-HTTP-Method-Override", o),
              s ? s.apply(this, arguments) : void 0
            );
          };
        }
        "GET" === a.type || n.emulateJSON || (a.processData = !1),
          "PATCH" === a.type &&
            x &&
            (a.xhr = function () {
              return new ActiveXObject("Microsoft.XMLHTTP");
            });
        var l = (n.xhr = t.ajax(i.extend(a, n)));
        return r.trigger("request", r, l, n), l;
      });
    var x = !(
        "undefined" == typeof window ||
        !window.ActiveXObject ||
        (window.XMLHttpRequest && new XMLHttpRequest().dispatchEvent)
      ),
      R = {
        create: "POST",
        update: "PUT",
        patch: "PATCH",
        delete: "DELETE",
        read: "GET",
      };
    t.ajax = function () {
      return t.$.ajax.apply(t.$, arguments);
    };
    var b = (t.Router = function (e) {
        e || (e = {}),
          e.routes && (this.routes = e.routes),
          this._bindRoutes(),
          this.initialize.apply(this, arguments);
      }),
      w = /\((.*?)\)/g,
      H = /(\(\?)?:\w+/g,
      S = /\*\w+/g,
      A = /[\-{}\[\]+?.,\\\^$|#\s]/g;
    i.extend(b.prototype, s, {
      initialize: function () {},
      route: function (e, r, n) {
        i.isRegExp(e) || (e = this._routeToRegExp(e)),
          i.isFunction(r) && ((n = r), (r = "")),
          n || (n = this[r]);
        var o = this;
        return (
          t.history.route(e, function (i) {
            var a = o._extractParameters(e, i);
            n && n.apply(o, a),
              o.trigger.apply(o, ["route:" + r].concat(a)),
              o.trigger("route", r, a),
              t.history.trigger("route", o, r, a);
          }),
          this
        );
      },
      navigate: function (e, i) {
        return t.history.navigate(e, i), this;
      },
      _bindRoutes: function () {
        if (this.routes) {
          this.routes = i.result(this, "routes");
          for (var e, t = i.keys(this.routes); null != (e = t.pop()); )
            this.route(e, this.routes[e]);
        }
      },
      _routeToRegExp: function (e) {
        return (
          (e = e
            .replace(A, "\\$&")
            .replace(w, "(?:$1)?")
            .replace(H, function (e, t) {
              return t ? e : "([^/]+)";
            })
            .replace(S, "(.*?)")),
          new RegExp("^" + e + "$")
        );
      },
      _extractParameters: function (e, t) {
        var r = e.exec(t).slice(1);
        return i.map(r, function (e) {
          return e ? decodeURIComponent(e) : null;
        });
      },
    });
    var M = (t.History = function () {
        (this.handlers = []),
          i.bindAll(this, "checkUrl"),
          "undefined" != typeof window &&
            ((this.location = window.location),
            (this.history = window.history));
      }),
      C = /^[#\/]|\s+$/g,
      P = /^\/+|\/+$/g,
      L = /msie [\w.]+/,
      D = /\/$/,
      O = /[?#].*$/;
    (M.started = !1),
      i.extend(M.prototype, s, {
        interval: 50,
        getHash: function (e) {
          var t = (e || this).location.href.match(/#(.*)$/);
          return t ? t[1] : "";
        },
        getFragment: function (e, t) {
          if (null == e)
            if (this._hasPushState || !this._wantsHashChange || t) {
              e = this.location.pathname;
              var i = this.root.replace(D, "");
              e.indexOf(i) || (e = e.slice(i.length));
            } else e = this.getHash();
          return e.replace(C, "");
        },
        start: function (e) {
          if (M.started)
            throw new Error("Backbone.history has already been started");
          (M.started = !0),
            (this.options = i.extend({ root: "/" }, this.options, e)),
            (this.root = this.options.root),
            (this._wantsHashChange = this.options.hashChange !== !1),
            (this._wantsPushState = !!this.options.pushState),
            (this._hasPushState = !!(
              this.options.pushState &&
              this.history &&
              this.history.pushState
            ));
          var r = this.getFragment(),
            n = document.documentMode,
            o = L.exec(navigator.userAgent.toLowerCase()) && (!n || 7 >= n);
          (this.root = ("/" + this.root + "/").replace(P, "/")),
            o &&
              this._wantsHashChange &&
              ((this.iframe = t
                .$('<iframe src="javascript:0" tabindex="-1" />')
                .hide()
                .appendTo("body")[0].contentWindow),
              this.navigate(r)),
            this._hasPushState
              ? t.$(window).on("popstate", this.checkUrl)
              : this._wantsHashChange && "onhashchange" in window && !o
              ? t.$(window).on("hashchange", this.checkUrl)
              : this._wantsHashChange &&
                (this._checkUrlInterval = setInterval(
                  this.checkUrl,
                  this.interval
                )),
            (this.fragment = r);
          var a = this.location,
            s = a.pathname.replace(/[^\/]$/, "$&/") === this.root;
          if (this._wantsHashChange && this._wantsPushState) {
            if (!this._hasPushState && !s)
              return (
                (this.fragment = this.getFragment(null, !0)),
                this.location.replace(
                  this.root + this.location.search + "#" + this.fragment
                ),
                !0
              );
            this._hasPushState &&
              s &&
              a.hash &&
              ((this.fragment = this.getHash().replace(C, "")),
              this.history.replaceState(
                {},
                document.title,
                this.root + this.fragment + a.search
              ));
          }
          return this.options.silent ? void 0 : this.loadUrl();
        },
        stop: function () {
          t
            .$(window)
            .off("popstate", this.checkUrl)
            .off("hashchange", this.checkUrl),
            clearInterval(this._checkUrlInterval),
            (M.started = !1);
        },
        route: function (e, t) {
          this.handlers.unshift({ route: e, callback: t });
        },
        checkUrl: function (e) {
          var t = this.getFragment();
          return (
            t === this.fragment &&
              this.iframe &&
              (t = this.getFragment(this.getHash(this.iframe))),
            t === this.fragment
              ? !1
              : (this.iframe && this.navigate(t), void this.loadUrl())
          );
        },
        loadUrl: function (e) {
          return (
            (e = this.fragment = this.getFragment(e)),
            i.any(this.handlers, function (t) {
              return t.route.test(e) ? (t.callback(e), !0) : void 0;
            })
          );
        },
        navigate: function (e, t) {
          if (!M.started) return !1;
          (t && t !== !0) || (t = { trigger: !!t });
          var i = this.root + (e = this.getFragment(e || ""));
          if (((e = e.replace(O, "")), this.fragment !== e)) {
            if (
              ((this.fragment = e),
              "" === e && "/" !== i && (i = i.slice(0, -1)),
              this._hasPushState)
            )
              this.history[t.replace ? "replaceState" : "pushState"](
                {},
                document.title,
                i
              );
            else {
              if (!this._wantsHashChange) return this.location.assign(i);
              this._updateHash(this.location, e, t.replace),
                this.iframe &&
                  e !== this.getFragment(this.getHash(this.iframe)) &&
                  (t.replace || this.iframe.document.open().close(),
                  this._updateHash(this.iframe.location, e, t.replace));
            }
            return t.trigger ? this.loadUrl(e) : void 0;
          }
        },
        _updateHash: function (e, t, i) {
          if (i) {
            var r = e.href.replace(/(javascript:|#).*$/, "");
            e.replace(r + "#" + t);
          } else e.hash = "#" + t;
        },
      }),
      (t.history = new M());
    var k = function (e, t) {
      var r,
        n = this;
      (r =
        e && i.has(e, "constructor")
          ? e.constructor
          : function () {
              return n.apply(this, arguments);
            }),
        i.extend(r, n, t);
      var o = function () {
        this.constructor = r;
      };
      return (
        (o.prototype = n.prototype),
        (r.prototype = new o()),
        e && i.extend(r.prototype, e),
        (r.__super__ = n.prototype),
        r
      );
    };
    d.extend = p.extend = b.extend = _.extend = M.extend = k;
    var F = function () {
        throw new Error('A "url" property or function must be specified');
      },
      N = function (e, t) {
        var i = t.error;
        t.error = function (r) {
          i && i(e, r, t), e.trigger("error", e, r, t);
        };
      };
    return t;
  }),
  define("route/router", ["backbone", "underscore"], function (e, t) {
    var i = e.Router.extend({
      page: null,
      pageOptions: null,
      authCheck: null,
      initialize: function (e) {
        e && (this.authCheck = e.authCheck),
          this.on("route", this.onRoute, this);
      },
      start: function () {
        e.history.start();
      },
      setRoutes: function (e) {
        (this.routeObjects = e),
          t.each(
            e,
            function (e) {
              for (var t = e.fragments, i = 0; i < t.length; i++) {
                var r = t[i];
                this.route(r, e.id);
              }
            },
            this
          );
      },
      onRoute: function (e, t) {
        var i = this.getRouteObjectByID(e);
        (t = i.fromURL(t)), this._setPage(e, t);
      },
      setAuthCallBack: function (e) {
        this.authCheck = e;
      },
      _setPage: function (e, t) {
        (this.page = e), (this.pageOptions = t), this.trigger("page", e, t);
      },
      navigate: function (i, r) {
        var n = { triggerRoute: !0, updateURL: !0 };
        r || (r = {});
        var o = r.pageOptions;
        t.defaults(r, n),
          (r.triggerRoute = r.triggerRoute === !1 ? !1 : !0),
          (r.updateURL = r.updateURL === !1 ? !1 : !0);
        var a = this.getRouteObjectByID(i),
          s = a.getFragment();
        return (
          o && (s = s + "/" + a.toURL(o)),
          this.authCheck && !this.authCheck.call(this, i)
            ? !1
            : r.updateURL
            ? e.Router.prototype.navigate.call(this, s, r.triggerRoute)
            : void this._setPage(i, o)
        );
      },
      getRouteObjectByID: function (e) {
        var i = t.where(this.routeObjects, { id: e });
        if (0 === i.length)
          throw Error("You requested a page without a valid routeID: " + e);
        var r = i[0];
        return r;
      },
      back: function () {
        history.back();
      },
    });
    return new i();
  }),
  define("model/app_model", ["backbone"], function (e) {
    var t = e.Model.extend({
      PAGES: { HOME: "HOME", ABOUT: "ABOUT", LOADER: "LOADER" },
      defaults: {
        page: null,
        pageOptions: {},
        postLoaderPage: null,
        postLoaderPageOptions: null,
        renderApp: !0,
      },
      startRender: function () {
        this.set("renderApp", !0);
      },
      stopRender: function () {
        this.set("renderApp", !1);
      },
    });
    return new t();
  }),
  (function () {
    "use strict";
    var bind = function (e, t, i) {
      var r = Array.prototype.slice.call(arguments, 2);
      return function () {
        var i = r.concat(Array.prototype.slice.call(arguments, 0));
        e.apply(t, i);
      };
    };
    window.console || (window.console = {});
    var console = window.console;
    if (!console.log)
      if (window.log4javascript) {
        var log = log4javascript.getDefaultLogger();
        (console.log = bind(log.info, log)),
          (console.debug = bind(log.debug, log)),
          (console.info = bind(log.info, log)),
          (console.warn = bind(log.warn, log)),
          (console.error = bind(log.error, log));
      } else console.log = function (e) {};
    if (
      (console.debug || (console.debug = console.log),
      console.info || (console.info = console.log),
      console.warn || (console.warn = console.log),
      console.error || (console.error = console.log),
      null != window.__consoleShimTest__ ||
        eval("/*@cc_on @_jscript_version <= 9@*/"))
    ) {
      var wrap = function (e) {
        var t, i, r, n;
        if (
          ((e = Array.prototype.slice.call(arguments, 0)),
          (n = e.shift()),
          (i = e.length),
          i > 1 && window.__consoleShimTest__ !== !1)
        )
          for (
            "string" != typeof e[0] && (e.unshift("%o"), (i += 1)),
              r = e[0].match(/%[a-z]/g),
              t = r ? r.length + 1 : 1;
            i > t;
            t += 1
          )
            e[0] += " %o";
        Function.apply.call(n, console, e);
      };
      (console.log = bind(wrap, window, console.log)),
        (console.debug = bind(wrap, window, console.debug)),
        (console.info = bind(wrap, window, console.info)),
        (console.warn = bind(wrap, window, console.warn)),
        (console.error = bind(wrap, window, console.error));
    }
    if (
      (console.assert ||
        (console.assert = function () {
          var e = Array.prototype.slice.call(arguments, 0),
            t = e.shift();
          t ||
            ((e[0] = "Assertion failed: " + e[0]),
            console.error.apply(console, e));
        }),
      console.dir || (console.dir = console.log),
      console.dirxml || (console.dirxml = console.log),
      console.exception || (console.exception = console.error),
      !console.time || !console.timeEnd)
    ) {
      var timers = {};
      (console.time = function (e) {
        timers[e] = new Date().getTime();
      }),
        (console.timeEnd = function (e) {
          var t = timers[e];
          t &&
            (console.log(e + ": " + (new Date().getTime() - t) + "ms"),
            delete timers[e]);
        });
    }
    console.table ||
      (console.table = function (e, t) {
        var i, r, n, o, a, s;
        if (e && e instanceof Array && e.length) {
          if (!(t && t instanceof Array)) {
            t = [];
            for (s in e[0]) e[0].hasOwnProperty(s) && t.push(s);
          }
          for (i = 0, r = e.length; r > i; i += 1) {
            for (n = [], o = 0, a = t.length; a > o; o += 1) n.push(e[i][t[o]]);
            Function.apply.call(console.log, console, n);
          }
        }
      }),
      console.clear || (console.clear = function () {}),
      console.trace || (console.trace = function () {}),
      console.group || (console.group = function () {}),
      console.groupCollapsed || (console.groupCollapsed = function () {}),
      console.groupEnd || (console.groupEnd = function () {}),
      console.timeStamp || (console.timeStamp = function () {}),
      console.profile || (console.profile = function () {}),
      console.profileEnd || (console.profileEnd = function () {}),
      console.count || (console.count = function () {});
  })(),
  define(
    "libs/console-shim",
    (function (e) {
      return function () {
        var t;
        return t || e.console;
      };
    })(this)
  ),
  define("console", ["libs/console-shim", "config"], function (e, t) {
    var i = {
      log: function (t) {
        this._isDebug() && e.log(t);
      },
      info: function (t) {
        this._isDebug() && e.info(t);
      },
      warn: function (t) {
        this._isDebug() && e.warn(t);
      },
      error: function (t) {
        this._isDebug() && e.error(t);
      },
      _isDebug: function () {
        return "local" === t.ENV || "true" === this._getParameterByName("debug")
          ? !0
          : !1;
      },
      _getParameterByName: function (e) {
        e = e.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
        var t = new RegExp("[\\?&]" + e + "=([^&#]*)"),
          i = t.exec(location.search);
        return null == i ? "" : decodeURIComponent(i[1].replace(/\+/g, " "));
      },
    };
    return i;
  }),
  (this.createjs = this.createjs || {}),
  (function () {
    "use strict";
    var e = (createjs.PreloadJS = createjs.PreloadJS || {});
    (e.version = "0.6.0"), (e.buildDate = "Thu, 11 Dec 2014 23:32:09 GMT");
  })(),
  (this.createjs = this.createjs || {}),
  (createjs.extend = function (e, t) {
    "use strict";
    function i() {
      this.constructor = e;
    }
    return (i.prototype = t.prototype), (e.prototype = new i());
  }),
  (this.createjs = this.createjs || {}),
  (createjs.promote = function (e, t) {
    "use strict";
    var i = e.prototype,
      r = (Object.getPrototypeOf && Object.getPrototypeOf(i)) || i.__proto__;
    if (r) {
      i[(t += "_") + "constructor"] = r.constructor;
      for (var n in r)
        i.hasOwnProperty(n) && "function" == typeof r[n] && (i[t + n] = r[n]);
    }
    return e;
  }),
  (this.createjs = this.createjs || {}),
  (createjs.indexOf = function (e, t) {
    "use strict";
    for (var i = 0, r = e.length; r > i; i++) if (t === e[i]) return i;
    return -1;
  }),
  (this.createjs = this.createjs || {}),
  (function () {
    "use strict";
    createjs.proxy = function (e, t) {
      var i = Array.prototype.slice.call(arguments, 2);
      return function () {
        return e.apply(t, Array.prototype.slice.call(arguments, 0).concat(i));
      };
    };
  })(),
  (this.createjs = this.createjs || {}),
  (function () {
    "use strict";
    function e() {
      throw "BrowserDetect cannot be instantiated";
    }
    var t = (e.agent = window.navigator.userAgent);
    (e.isWindowPhone =
      t.indexOf("IEMobile") > -1 || t.indexOf("Windows Phone") > -1),
      (e.isFirefox = t.indexOf("Firefox") > -1),
      (e.isOpera = null != window.opera),
      (e.isChrome = t.indexOf("Chrome") > -1),
      (e.isIOS =
        (t.indexOf("iPod") > -1 ||
          t.indexOf("iPhone") > -1 ||
          t.indexOf("iPad") > -1) &&
        !e.isWindowPhone),
      (e.isAndroid = t.indexOf("Android") > -1 && !e.isWindowPhone),
      (e.isBlackberry = t.indexOf("Blackberry") > -1),
      (createjs.BrowserDetect = e);
  })(),
  (this.createjs = this.createjs || {}),
  (function () {
    "use strict";
    function e(e, t, i) {
      (this.type = e),
        (this.target = null),
        (this.currentTarget = null),
        (this.eventPhase = 0),
        (this.bubbles = !!t),
        (this.cancelable = !!i),
        (this.timeStamp = new Date().getTime()),
        (this.defaultPrevented = !1),
        (this.propagationStopped = !1),
        (this.immediatePropagationStopped = !1),
        (this.removed = !1);
    }
    var t = e.prototype;
    (t.preventDefault = function () {
      this.defaultPrevented = this.cancelable && !0;
    }),
      (t.stopPropagation = function () {
        this.propagationStopped = !0;
      }),
      (t.stopImmediatePropagation = function () {
        this.immediatePropagationStopped = this.propagationStopped = !0;
      }),
      (t.remove = function () {
        this.removed = !0;
      }),
      (t.clone = function () {
        return new e(this.type, this.bubbles, this.cancelable);
      }),
      (t.set = function (e) {
        for (var t in e) this[t] = e[t];
        return this;
      }),
      (t.toString = function () {
        return "[Event (type=" + this.type + ")]";
      }),
      (createjs.Event = e);
  })(),
  (this.createjs = this.createjs || {}),
  (function () {
    "use strict";
    function e(e, t, i) {
      this.Event_constructor("error"),
        (this.title = e),
        (this.message = t),
        (this.data = i);
    }
    var t = createjs.extend(e, createjs.Event);
    (t.clone = function () {
      return new createjs.ErrorEvent(this.title, this.message, this.data);
    }),
      (createjs.ErrorEvent = createjs.promote(e, "Event"));
  })(),
  (this.createjs = this.createjs || {}),
  (function () {
    "use strict";
    function e() {
      (this._listeners = null), (this._captureListeners = null);
    }
    var t = e.prototype;
    (e.initialize = function (e) {
      (e.addEventListener = t.addEventListener),
        (e.on = t.on),
        (e.removeEventListener = e.off = t.removeEventListener),
        (e.removeAllEventListeners = t.removeAllEventListeners),
        (e.hasEventListener = t.hasEventListener),
        (e.dispatchEvent = t.dispatchEvent),
        (e._dispatchEvent = t._dispatchEvent),
        (e.willTrigger = t.willTrigger);
    }),
      (t.addEventListener = function (e, t, i) {
        var r;
        r = i
          ? (this._captureListeners = this._captureListeners || {})
          : (this._listeners = this._listeners || {});
        var n = r[e];
        return (
          n && this.removeEventListener(e, t, i),
          (n = r[e]),
          n ? n.push(t) : (r[e] = [t]),
          t
        );
      }),
      (t.on = function (e, t, i, r, n, o) {
        return (
          t.handleEvent && ((i = i || t), (t = t.handleEvent)),
          (i = i || this),
          this.addEventListener(
            e,
            function (e) {
              t.call(i, e, n), r && e.remove();
            },
            o
          )
        );
      }),
      (t.removeEventListener = function (e, t, i) {
        var r = i ? this._captureListeners : this._listeners;
        if (r) {
          var n = r[e];
          if (n)
            for (var o = 0, a = n.length; a > o; o++)
              if (n[o] == t) {
                1 == a ? delete r[e] : n.splice(o, 1);
                break;
              }
        }
      }),
      (t.off = t.removeEventListener),
      (t.removeAllEventListeners = function (e) {
        e
          ? (this._listeners && delete this._listeners[e],
            this._captureListeners && delete this._captureListeners[e])
          : (this._listeners = this._captureListeners = null);
      }),
      (t.dispatchEvent = function (e) {
        if ("string" == typeof e) {
          var t = this._listeners;
          if (!t || !t[e]) return !1;
          e = new createjs.Event(e);
        } else e.target && e.clone && (e = e.clone());
        try {
          e.target = this;
        } catch (i) {}
        if (e.bubbles && this.parent) {
          for (var r = this, n = [r]; r.parent; ) n.push((r = r.parent));
          var o,
            a = n.length;
          for (o = a - 1; o >= 0 && !e.propagationStopped; o--)
            n[o]._dispatchEvent(e, 1 + (0 == o));
          for (o = 1; a > o && !e.propagationStopped; o++)
            n[o]._dispatchEvent(e, 3);
        } else this._dispatchEvent(e, 2);
        return e.defaultPrevented;
      }),
      (t.hasEventListener = function (e) {
        var t = this._listeners,
          i = this._captureListeners;
        return !!((t && t[e]) || (i && i[e]));
      }),
      (t.willTrigger = function (e) {
        for (var t = this; t; ) {
          if (t.hasEventListener(e)) return !0;
          t = t.parent;
        }
        return !1;
      }),
      (t.toString = function () {
        return "[EventDispatcher]";
      }),
      (t._dispatchEvent = function (e, t) {
        var i,
          r = 1 == t ? this._captureListeners : this._listeners;
        if (e && r) {
          var n = r[e.type];
          if (!n || !(i = n.length)) return;
          try {
            e.currentTarget = this;
          } catch (o) {}
          try {
            e.eventPhase = t;
          } catch (o) {}
          (e.removed = !1), (n = n.slice());
          for (var a = 0; i > a && !e.immediatePropagationStopped; a++) {
            var s = n[a];
            s.handleEvent ? s.handleEvent(e) : s(e),
              e.removed && (this.off(e.type, s, 1 == t), (e.removed = !1));
          }
        }
      }),
      (createjs.EventDispatcher = e);
  })(),
  (this.createjs = this.createjs || {}),
  (function (e) {
    "use strict";
    function t(e, t) {
      this.Event_constructor("progress"),
        (this.loaded = e),
        (this.total = null == t ? 1 : t),
        (this.progress = 0 == t ? 0 : this.loaded / this.total);
    }
    var i = createjs.extend(t, createjs.Event);
    (i.clone = function () {
      return new createjs.ProgressEvent(this.loaded, this.total);
    }),
      (createjs.ProgressEvent = createjs.promote(t, "Event"));
  })(window),
  function () {
    function e(t, r) {
      function o(e) {
        if (o[e] !== g) return o[e];
        var t;
        if ("bug-string-char-index" == e) t = "a" != "a"[0];
        else if ("json" == e) t = o("json-stringify") && o("json-parse");
        else {
          var i,
            n = '{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';
          if ("json-stringify" == e) {
            var l = r.stringify,
              c = "function" == typeof l && _;
            if (c) {
              (i = function () {
                return 1;
              }).toJSON = i;
              try {
                c =
                  "0" === l(0) &&
                  "0" === l(new a()) &&
                  '""' == l(new s()) &&
                  l(v) === g &&
                  l(g) === g &&
                  l() === g &&
                  "1" === l(i) &&
                  "[1]" == l([i]) &&
                  "[null]" == l([g]) &&
                  "null" == l(null) &&
                  "[null,null,null]" == l([g, v, null]) &&
                  l({ a: [i, !0, !1, null, "\x00\b\n\f\r	"] }) == n &&
                  "1" === l(null, i) &&
                  "[\n 1,\n 2\n]" == l([1, 2], null, 1) &&
                  '"-271821-04-20T00:00:00.000Z"' == l(new h(-864e13)) &&
                  '"+275760-09-13T00:00:00.000Z"' == l(new h(864e13)) &&
                  '"-000001-01-01T00:00:00.000Z"' == l(new h(-621987552e5)) &&
                  '"1969-12-31T23:59:59.999Z"' == l(new h(-1));
              } catch (u) {
                c = !1;
              }
            }
            t = c;
          }
          if ("json-parse" == e) {
            var d = r.parse;
            if ("function" == typeof d)
              try {
                if (0 === d("0") && !d(!1)) {
                  i = d(n);
                  var f = 5 == i.a.length && 1 === i.a[0];
                  if (f) {
                    try {
                      f = !d('"	"');
                    } catch (u) {}
                    if (f)
                      try {
                        f = 1 !== d("01");
                      } catch (u) {}
                    if (f)
                      try {
                        f = 1 !== d("1.");
                      } catch (u) {}
                  }
                }
              } catch (u) {
                f = !1;
              }
            t = f;
          }
        }
        return (o[e] = !!t);
      }
      t || (t = n.Object()), r || (r = n.Object());
      var a = t.Number || n.Number,
        s = t.String || n.String,
        l = t.Object || n.Object,
        h = t.Date || n.Date,
        c = t.SyntaxError || n.SyntaxError,
        u = t.TypeError || n.TypeError,
        d = t.Math || n.Math,
        f = t.JSON || n.JSON;
      "object" == typeof f &&
        f &&
        ((r.stringify = f.stringify), (r.parse = f.parse));
      var p,
        m,
        g,
        E = l.prototype,
        v = E.toString,
        _ = new h(-0xc782b5b800cec);
      try {
        _ =
          -109252 == _.getUTCFullYear() &&
          0 === _.getUTCMonth() &&
          1 === _.getUTCDate() &&
          10 == _.getUTCHours() &&
          37 == _.getUTCMinutes() &&
          6 == _.getUTCSeconds() &&
          708 == _.getUTCMilliseconds();
      } catch (y) {}
      if (!o("json")) {
        var T = "[object Function]",
          x = "[object Date]",
          R = "[object Number]",
          b = "[object String]",
          w = "[object Array]",
          H = "[object Boolean]",
          S = o("bug-string-char-index");
        if (!_)
          var A = d.floor,
            M = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334],
            C = function (e, t) {
              return (
                M[t] +
                365 * (e - 1970) +
                A((e - 1969 + (t = +(t > 1))) / 4) -
                A((e - 1901 + t) / 100) +
                A((e - 1601 + t) / 400)
              );
            };
        if (
          ((p = E.hasOwnProperty) ||
            (p = function (e) {
              var t,
                i = {};
              return (
                ((i.__proto__ = null), (i.__proto__ = { toString: 1 }), i)
                  .toString != v
                  ? (p = function (e) {
                      var t = this.__proto__,
                        i = e in ((this.__proto__ = null), this);
                      return (this.__proto__ = t), i;
                    })
                  : ((t = i.constructor),
                    (p = function (e) {
                      var i = (this.constructor || t).prototype;
                      return e in this && !(e in i && this[e] === i[e]);
                    })),
                (i = null),
                p.call(this, e)
              );
            }),
          (m = function (e, t) {
            var r,
              n,
              o,
              a = 0;
            ((r = function () {
              this.valueOf = 0;
            }).prototype.valueOf = 0),
              (n = new r());
            for (o in n) p.call(n, o) && a++;
            return (
              (r = n = null),
              a
                ? (m =
                    2 == a
                      ? function (e, t) {
                          var i,
                            r = {},
                            n = v.call(e) == T;
                          for (i in e)
                            (n && "prototype" == i) ||
                              p.call(r, i) ||
                              !(r[i] = 1) ||
                              !p.call(e, i) ||
                              t(i);
                        }
                      : function (e, t) {
                          var i,
                            r,
                            n = v.call(e) == T;
                          for (i in e)
                            (n && "prototype" == i) ||
                              !p.call(e, i) ||
                              (r = "constructor" === i) ||
                              t(i);
                          (r || p.call(e, (i = "constructor"))) && t(i);
                        })
                : ((n = [
                    "valueOf",
                    "toString",
                    "toLocaleString",
                    "propertyIsEnumerable",
                    "isPrototypeOf",
                    "hasOwnProperty",
                    "constructor",
                  ]),
                  (m = function (e, t) {
                    var r,
                      o,
                      a = v.call(e) == T,
                      s =
                        (!a &&
                          "function" != typeof e.constructor &&
                          i[typeof e.hasOwnProperty] &&
                          e.hasOwnProperty) ||
                        p;
                    for (r in e)
                      (a && "prototype" == r) || !s.call(e, r) || t(r);
                    for (o = n.length; (r = n[--o]); s.call(e, r) && t(r));
                  })),
              m(e, t)
            );
          }),
          !o("json-stringify"))
        ) {
          var P = {
              92: "\\\\",
              34: '\\"',
              8: "\\b",
              12: "\\f",
              10: "\\n",
              13: "\\r",
              9: "\\t",
            },
            L = "000000",
            D = function (e, t) {
              return (L + (t || 0)).slice(-e);
            },
            O = "\\u00",
            k = function (e) {
              for (
                var t = '"',
                  i = 0,
                  r = e.length,
                  n = !S || r > 10,
                  o = n && (S ? e.split("") : e);
                r > i;
                i++
              ) {
                var a = e.charCodeAt(i);
                switch (a) {
                  case 8:
                  case 9:
                  case 10:
                  case 12:
                  case 13:
                  case 34:
                  case 92:
                    t += P[a];
                    break;
                  default:
                    if (32 > a) {
                      t += O + D(2, a.toString(16));
                      break;
                    }
                    t += n ? o[i] : e.charAt(i);
                }
              }
              return t + '"';
            },
            F = function (e, t, i, r, n, o, a) {
              var s, l, h, c, d, f, E, _, y, T, S, M, P, L, O, N;
              try {
                s = t[e];
              } catch (j) {}
              if ("object" == typeof s && s)
                if (((l = v.call(s)), l != x || p.call(s, "toJSON")))
                  "function" == typeof s.toJSON &&
                    ((l != R && l != b && l != w) || p.call(s, "toJSON")) &&
                    (s = s.toJSON(e));
                else if (s > -1 / 0 && 1 / 0 > s) {
                  if (C) {
                    for (
                      d = A(s / 864e5), h = A(d / 365.2425) + 1970 - 1;
                      C(h + 1, 0) <= d;
                      h++
                    );
                    for (c = A((d - C(h, 0)) / 30.42); C(h, c + 1) <= d; c++);
                    (d = 1 + d - C(h, c)),
                      (f = ((s % 864e5) + 864e5) % 864e5),
                      (E = A(f / 36e5) % 24),
                      (_ = A(f / 6e4) % 60),
                      (y = A(f / 1e3) % 60),
                      (T = f % 1e3);
                  } else
                    (h = s.getUTCFullYear()),
                      (c = s.getUTCMonth()),
                      (d = s.getUTCDate()),
                      (E = s.getUTCHours()),
                      (_ = s.getUTCMinutes()),
                      (y = s.getUTCSeconds()),
                      (T = s.getUTCMilliseconds());
                  s =
                    (0 >= h || h >= 1e4
                      ? (0 > h ? "-" : "+") + D(6, 0 > h ? -h : h)
                      : D(4, h)) +
                    "-" +
                    D(2, c + 1) +
                    "-" +
                    D(2, d) +
                    "T" +
                    D(2, E) +
                    ":" +
                    D(2, _) +
                    ":" +
                    D(2, y) +
                    "." +
                    D(3, T) +
                    "Z";
                } else s = null;
              if ((i && (s = i.call(t, e, s)), null === s)) return "null";
              if (((l = v.call(s)), l == H)) return "" + s;
              if (l == R) return s > -1 / 0 && 1 / 0 > s ? "" + s : "null";
              if (l == b) return k("" + s);
              if ("object" == typeof s) {
                for (L = a.length; L--; ) if (a[L] === s) throw u();
                if ((a.push(s), (S = []), (O = o), (o += n), l == w)) {
                  for (P = 0, L = s.length; L > P; P++)
                    (M = F(P, s, i, r, n, o, a)), S.push(M === g ? "null" : M);
                  N = S.length
                    ? n
                      ? "[\n" + o + S.join(",\n" + o) + "\n" + O + "]"
                      : "[" + S.join(",") + "]"
                    : "[]";
                } else
                  m(r || s, function (e) {
                    var t = F(e, s, i, r, n, o, a);
                    t !== g && S.push(k(e) + ":" + (n ? " " : "") + t);
                  }),
                    (N = S.length
                      ? n
                        ? "{\n" + o + S.join(",\n" + o) + "\n" + O + "}"
                        : "{" + S.join(",") + "}"
                      : "{}");
                return a.pop(), N;
              }
            };
          r.stringify = function (e, t, r) {
            var n, o, a, s;
            if (i[typeof t] && t)
              if ((s = v.call(t)) == T) o = t;
              else if (s == w) {
                a = {};
                for (
                  var l, h = 0, c = t.length;
                  c > h;
                  l = t[h++], s = v.call(l), (s == b || s == R) && (a[l] = 1)
                );
              }
            if (r)
              if ((s = v.call(r)) == R) {
                if ((r -= r % 1) > 0)
                  for (n = "", r > 10 && (r = 10); n.length < r; n += " ");
              } else s == b && (n = r.length <= 10 ? r : r.slice(0, 10));
            return F("", ((l = {}), (l[""] = e), l), o, a, n, "", []);
          };
        }
        if (!o("json-parse")) {
          var N,
            j,
            U = s.fromCharCode,
            I = {
              92: "\\",
              34: '"',
              47: "/",
              98: "\b",
              116: "	",
              110: "\n",
              102: "\f",
              114: "\r",
            },
            B = function () {
              throw ((N = j = null), c());
            },
            V = function () {
              for (var e, t, i, r, n, o = j, a = o.length; a > N; )
                switch ((n = o.charCodeAt(N))) {
                  case 9:
                  case 10:
                  case 13:
                  case 32:
                    N++;
                    break;
                  case 123:
                  case 125:
                  case 91:
                  case 93:
                  case 58:
                  case 44:
                    return (e = S ? o.charAt(N) : o[N]), N++, e;
                  case 34:
                    for (e = "@", N++; a > N; )
                      if (((n = o.charCodeAt(N)), 32 > n)) B();
                      else if (92 == n)
                        switch ((n = o.charCodeAt(++N))) {
                          case 92:
                          case 34:
                          case 47:
                          case 98:
                          case 116:
                          case 110:
                          case 102:
                          case 114:
                            (e += I[n]), N++;
                            break;
                          case 117:
                            for (t = ++N, i = N + 4; i > N; N++)
                              (n = o.charCodeAt(N)),
                                (n >= 48 && 57 >= n) ||
                                  (n >= 97 && 102 >= n) ||
                                  (n >= 65 && 70 >= n) ||
                                  B();
                            e += U("0x" + o.slice(t, N));
                            break;
                          default:
                            B();
                        }
                      else {
                        if (34 == n) break;
                        for (
                          n = o.charCodeAt(N), t = N;
                          n >= 32 && 92 != n && 34 != n;

                        )
                          n = o.charCodeAt(++N);
                        e += o.slice(t, N);
                      }
                    if (34 == o.charCodeAt(N)) return N++, e;
                    B();
                  default:
                    if (
                      ((t = N),
                      45 == n && ((r = !0), (n = o.charCodeAt(++N))),
                      n >= 48 && 57 >= n)
                    ) {
                      for (
                        48 == n &&
                          ((n = o.charCodeAt(N + 1)), n >= 48 && 57 >= n) &&
                          B(),
                          r = !1;
                        a > N && ((n = o.charCodeAt(N)), n >= 48 && 57 >= n);
                        N++
                      );
                      if (46 == o.charCodeAt(N)) {
                        for (
                          i = ++N;
                          a > i && ((n = o.charCodeAt(i)), n >= 48 && 57 >= n);
                          i++
                        );
                        i == N && B(), (N = i);
                      }
                      if (((n = o.charCodeAt(N)), 101 == n || 69 == n)) {
                        for (
                          n = o.charCodeAt(++N),
                            (43 == n || 45 == n) && N++,
                            i = N;
                          a > i && ((n = o.charCodeAt(i)), n >= 48 && 57 >= n);
                          i++
                        );
                        i == N && B(), (N = i);
                      }
                      return +o.slice(t, N);
                    }
                    if ((r && B(), "true" == o.slice(N, N + 4)))
                      return (N += 4), !0;
                    if ("false" == o.slice(N, N + 5)) return (N += 5), !1;
                    if ("null" == o.slice(N, N + 4)) return (N += 4), null;
                    B();
                }
              return "$";
            },
            z = function (e) {
              var t, i;
              if (("$" == e && B(), "string" == typeof e)) {
                if ("@" == (S ? e.charAt(0) : e[0])) return e.slice(1);
                if ("[" == e) {
                  for (t = []; (e = V()), "]" != e; i || (i = !0))
                    i && ("," == e ? ((e = V()), "]" == e && B()) : B()),
                      "," == e && B(),
                      t.push(z(e));
                  return t;
                }
                if ("{" == e) {
                  for (t = {}; (e = V()), "}" != e; i || (i = !0))
                    i && ("," == e ? ((e = V()), "}" == e && B()) : B()),
                      ("," == e ||
                        "string" != typeof e ||
                        "@" != (S ? e.charAt(0) : e[0]) ||
                        ":" != V()) &&
                        B(),
                      (t[e.slice(1)] = z(V()));
                  return t;
                }
                B();
              }
              return e;
            },
            G = function (e, t, i) {
              var r = W(e, t, i);
              r === g ? delete e[t] : (e[t] = r);
            },
            W = function (e, t, i) {
              var r,
                n = e[t];
              if ("object" == typeof n && n)
                if (v.call(n) == w) for (r = n.length; r--; ) G(n, r, i);
                else
                  m(n, function (e) {
                    G(n, e, i);
                  });
              return i.call(e, t, n);
            };
          r.parse = function (e, t) {
            var i, r;
            return (
              (N = 0),
              (j = "" + e),
              (i = z(V())),
              "$" != V() && B(),
              (N = j = null),
              t && v.call(t) == T ? W(((r = {}), (r[""] = i), r), "", t) : i
            );
          };
        }
      }
      return (r.runInContext = e), r;
    }
    var t = "function" == typeof define && define.amd,
      i = { function: !0, object: !0 },
      r = i[typeof exports] && exports && !exports.nodeType && exports,
      n = (i[typeof window] && window) || this,
      o =
        r &&
        i[typeof module] &&
        module &&
        !module.nodeType &&
        "object" == typeof global &&
        global;
    if (
      (!o || (o.global !== o && o.window !== o && o.self !== o) || (n = o),
      r && !t)
    )
      e(n, r);
    else {
      var a = n.JSON,
        s = n.JSON3,
        l = !1,
        h = e(
          n,
          (n.JSON3 = {
            noConflict: function () {
              return (
                l || ((l = !0), (n.JSON = a), (n.JSON3 = s), (a = s = null)), h
              );
            },
          })
        );
      n.JSON = { parse: h.parse, stringify: h.stringify };
    }
    t &&
      define("libs/createjs/preloadjs", [], function () {
        return h;
      });
  }.call(this),
  (function () {
    var e = {};
    (e.parseXML = function (e, t) {
      var i = null;
      try {
        if (window.DOMParser) {
          var r = new DOMParser();
          i = r.parseFromString(e, t);
        } else
          (i = new ActiveXObject("Microsoft.XMLDOM")),
            (i.async = !1),
            i.loadXML(e);
      } catch (n) {}
      return i;
    }),
      (e.parseJSON = function (e) {
        if (null == e) return null;
        try {
          return JSON.parse(e);
        } catch (t) {
          throw t;
        }
      }),
      (createjs.DataUtils = e);
  })(),
  (this.createjs = this.createjs || {}),
  (function () {
    "use strict";
    function e() {
      (this.src = null),
        (this.type = null),
        (this.id = null),
        (this.maintainOrder = !1),
        (this.callback = null),
        (this.data = null),
        (this.method = createjs.LoadItem.GET),
        (this.values = null),
        (this.headers = null),
        (this.withCredentials = !1),
        (this.mimeType = null),
        (this.crossOrigin = null),
        (this.loadTimeout = 8e3);
    }
    var t = (e.prototype = {}),
      i = e;
    (i.create = function (t) {
      if ("string" == typeof t) {
        var r = new e();
        return (r.src = t), r;
      }
      if (t instanceof i) return t;
      if (t instanceof Object) return t;
      throw new Error("Type not recognized.");
    }),
      (t.set = function (e) {
        for (var t in e) this[t] = e[t];
        return this;
      }),
      (createjs.LoadItem = i);
  })(),
  (function () {
    var e = {};
    (e.ABSOLUTE_PATT = /^(?:\w+:)?\/{2}/i),
      (e.RELATIVE_PATT = /^[./]*?\//i),
      (e.EXTENSION_PATT = /\/?[^/]+\.(\w{1,5})$/i),
      (e.parseURI = function (t) {
        var i = { absolute: !1, relative: !1 };
        if (null == t) return i;
        var r = t.indexOf("?");
        r > -1 && (t = t.substr(0, r));
        var n;
        return (
          e.ABSOLUTE_PATT.test(t)
            ? (i.absolute = !0)
            : e.RELATIVE_PATT.test(t) && (i.relative = !0),
          (n = t.match(e.EXTENSION_PATT)) && (i.extension = n[1].toLowerCase()),
          i
        );
      }),
      (e.formatQueryString = function (e, t) {
        if (null == e) throw new Error("You must specify data.");
        var i = [];
        for (var r in e) i.push(r + "=" + escape(e[r]));
        return t && (i = i.concat(t)), i.join("&");
      }),
      (e.buildPath = function (e, t) {
        if (null == t) return e;
        var i = [],
          r = e.indexOf("?");
        if (-1 != r) {
          var n = e.slice(r + 1);
          i = i.concat(n.split("&"));
        }
        return -1 != r
          ? e.slice(0, r) + "?" + this._formatQueryString(t, i)
          : e + "?" + this._formatQueryString(t, i);
      }),
      (e.isCrossDomain = function (e) {
        var t = document.createElement("a");
        t.href = e.src;
        var i = document.createElement("a");
        i.href = location.href;
        var r =
          "" != t.hostname &&
          (t.port != i.port ||
            t.protocol != i.protocol ||
            t.hostname != i.hostname);
        return r;
      }),
      (e.isLocal = function (e) {
        var t = document.createElement("a");
        return (t.href = e.src), "" == t.hostname && "file:" == t.protocol;
      }),
      (e.isBinary = function (e) {
        switch (e) {
          case createjs.AbstractLoader.IMAGE:
          case createjs.AbstractLoader.BINARY:
            return !0;
          default:
            return !1;
        }
      }),
      (e.isImageTag = function (e) {
        return e instanceof HTMLImageElement;
      }),
      (e.isAudioTag = function (e) {
        return window.HTMLAudioElement ? e instanceof HTMLAudioElement : !1;
      }),
      (e.isVideoTag = function (e) {
        return window.HTMLVideoElement ? e instanceof HTMLVideoElement : void 0;
      }),
      (e.isText = function (e) {
        switch (e) {
          case createjs.AbstractLoader.TEXT:
          case createjs.AbstractLoader.JSON:
          case createjs.AbstractLoader.MANIFEST:
          case createjs.AbstractLoader.XML:
          case createjs.AbstractLoader.CSS:
          case createjs.AbstractLoader.SVG:
          case createjs.AbstractLoader.JAVASCRIPT:
            return !0;
          default:
            return !1;
        }
      }),
      (e.getTypeByExtension = function (e) {
        if (null == e) return createjs.AbstractLoader.TEXT;
        switch (e.toLowerCase()) {
          case "jpeg":
          case "jpg":
          case "gif":
          case "png":
          case "webp":
          case "bmp":
            return createjs.AbstractLoader.IMAGE;
          case "ogg":
          case "mp3":
          case "webm":
            return createjs.AbstractLoader.SOUND;
          case "mp4":
          case "webm":
          case "ts":
            return createjs.AbstractLoader.VIDEO;
          case "json":
            return createjs.AbstractLoader.JSON;
          case "xml":
            return createjs.AbstractLoader.XML;
          case "css":
            return createjs.AbstractLoader.CSS;
          case "js":
            return createjs.AbstractLoader.JAVASCRIPT;
          case "svg":
            return createjs.AbstractLoader.SVG;
          default:
            return createjs.AbstractLoader.TEXT;
        }
      }),
      (createjs.RequestUtils = e);
  })(),
  (this.createjs = this.createjs || {}),
  (function () {
    "use strict";
    function e(e, t, i) {
      this.EventDispatcher_constructor(),
        (this.loaded = !1),
        (this.canceled = !1),
        (this.progress = 0),
        (this.type = i),
        (this.resultFormatter = null),
        e ? (this._item = createjs.LoadItem.create(e)) : (this._item = null),
        (this._preferXHR = t),
        (this._result = null),
        (this._rawResult = null),
        (this._loadedItems = null),
        (this._tagSrcAttribute = null),
        (this._tag = null);
    }
    var t = createjs.extend(e, createjs.EventDispatcher),
      i = e;
    (i.POST = "POST"),
      (i.GET = "GET"),
      (i.BINARY = "binary"),
      (i.CSS = "css"),
      (i.IMAGE = "image"),
      (i.JAVASCRIPT = "javascript"),
      (i.JSON = "json"),
      (i.JSONP = "jsonp"),
      (i.MANIFEST = "manifest"),
      (i.SOUND = "sound"),
      (i.VIDEO = "video"),
      (i.SPRITESHEET = "spritesheet"),
      (i.SVG = "svg"),
      (i.TEXT = "text"),
      (i.XML = "xml"),
      (t.getItem = function () {
        return this._item;
      }),
      (t.getResult = function (e) {
        return e ? this._rawResult : this._result;
      }),
      (t.getTag = function () {
        return this._tag;
      }),
      (t.setTag = function (e) {
        this._tag = e;
      }),
      (t.load = function () {
        this._createRequest(),
          this._request.on("complete", this, this),
          this._request.on("progress", this, this),
          this._request.on("loadStart", this, this),
          this._request.on("abort", this, this),
          this._request.on("timeout", this, this),
          this._request.on("error", this, this);
        var e = new createjs.Event("initialize");
        (e.loader = this._request), this.dispatchEvent(e), this._request.load();
      }),
      (t.cancel = function () {
        (this.canceled = !0), this.destroy();
      }),
      (t.destroy = function () {
        this._request &&
          (this._request.removeAllEventListeners(), this._request.destroy()),
          (this._request = null),
          (this._item = null),
          (this._rawResult = null),
          (this._result = null),
          (this._loadItems = null),
          this.removeAllEventListeners();
      }),
      (t.getLoadedItems = function () {
        return this._loadedItems;
      }),
      (t._createRequest = function () {
        this._preferXHR
          ? (this._request = new createjs.XHRRequest(this._item))
          : (this._request = new createjs.TagRequest(
              this._item,
              this._tag || this._createTag(),
              this._tagSrcAttribute
            ));
      }),
      (t._createTag = function (e) {
        return null;
      }),
      (t._sendLoadStart = function () {
        this._isCanceled() || this.dispatchEvent("loadstart");
      }),
      (t._sendProgress = function (e) {
        if (!this._isCanceled()) {
          var t = null;
          "number" == typeof e
            ? ((this.progress = e),
              (t = new createjs.ProgressEvent(this.progress)))
            : ((t = e),
              (this.progress = e.loaded / e.total),
              (t.progress = this.progress),
              (isNaN(this.progress) || this.progress == 1 / 0) &&
                (this.progress = 0)),
            this.hasEventListener("progress") && this.dispatchEvent(t);
        }
      }),
      (t._sendComplete = function () {
        if (!this._isCanceled()) {
          this.loaded = !0;
          var e = new createjs.Event("complete");
          (e.rawResult = this._rawResult),
            null != this._result && (e.result = this._result),
            this.dispatchEvent(e);
        }
      }),
      (t._sendError = function (e) {
        !this._isCanceled() &&
          this.hasEventListener("error") &&
          (null == e && (e = new createjs.ErrorEvent("PRELOAD_ERROR_EMPTY")),
          this.dispatchEvent(e));
      }),
      (t._isCanceled = function () {
        return null == window.createjs || this.canceled ? !0 : !1;
      }),
      (t.resultFormatter = null),
      (t.handleEvent = function (e) {
        switch (e.type) {
          case "complete":
            this._rawResult = e.target._response;
            var t = this.resultFormatter && this.resultFormatter(this),
              i = this;
            t instanceof Function
              ? t(function (e) {
                  (i._result = e), i._sendComplete();
                })
              : ((this._result = t || this._rawResult), this._sendComplete());
            break;
          case "progress":
            this._sendProgress(e);
            break;
          case "error":
            this._sendError(e);
            break;
          case "loadstart":
            this._sendLoadStart();
            break;
          case "abort":
          case "timeout":
            this._isCanceled() || this.dispatchEvent(e.type);
        }
      }),
      (t.buildPath = function (e, t) {
        return createjs.RequestUtils.buildPath(e, t);
      }),
      (t.toString = function () {
        return "[PreloadJS AbstractLoader]";
      }),
      (createjs.AbstractLoader = createjs.promote(e, "EventDispatcher"));
  })(),
  (this.createjs = this.createjs || {}),
  (function () {
    "use strict";
    function e(e, t, i) {
      this.AbstractLoader_constructor(e, t, i),
        (this.resultFormatter = this._formatResult),
        (this._tagSrcAttribute = "src");
    }
    var t = createjs.extend(e, createjs.AbstractLoader);
    (t.load = function () {
      this._tag || (this._tag = this._createTag(this._item.src)),
        (this._tag.preload = "auto"),
        this._tag.load(),
        this.AbstractLoader_load();
    }),
      (t._createTag = function () {}),
      (t._createRequest = function () {
        this._preferXHR
          ? (this._request = new createjs.XHRRequest(this._item))
          : (this._request = new createjs.MediaTagRequest(
              this._item,
              this._tag || this._createTag(),
              this._tagSrcAttribute
            ));
      }),
      (t._formatResult = function (e) {
        return (
          this._tag.removeEventListener &&
            this._tag.removeEventListener(
              "canplaythrough",
              this._loadedHandler
            ),
          (this._tag.onstalled = null),
          this._preferXHR && (e.getTag().src = e.getResult(!0)),
          e.getTag()
        );
      }),
      (createjs.AbstractMediaLoader = createjs.promote(e, "AbstractLoader"));
  })(),
  (this.createjs = this.createjs || {}),
  (function () {
    "use strict";
    var e = function (e) {
        this._item = e;
      },
      t = createjs.extend(e, createjs.EventDispatcher);
    (t.load = function () {}),
      (t.destroy = function () {}),
      (t.cancel = function () {}),
      (createjs.AbstractRequest = createjs.promote(e, "EventDispatcher"));
  })(),
  (this.createjs = this.createjs || {}),
  (function () {
    "use strict";
    function e(e, t, i) {
      this.AbstractRequest_constructor(e),
        (this._tag = t),
        (this._tagSrcAttribute = i),
        (this._loadedHandler = createjs.proxy(this._handleTagComplete, this)),
        (this._addedToDOM = !1),
        (this._startTagVisibility = null);
    }
    var t = createjs.extend(e, createjs.AbstractRequest);
    (t.load = function () {
      null == this._tag.parentNode &&
        (window.document.body.appendChild(this._tag), (this._addedToDOM = !0)),
        (this._tag.onload = createjs.proxy(this._handleTagComplete, this)),
        (this._tag.onreadystatechange = createjs.proxy(
          this._handleReadyStateChange,
          this
        ));
      var e = new createjs.Event("initialize");
      (e.loader = this._tag),
        this.dispatchEvent(e),
        this._hideTag(),
        (this._tag[this._tagSrcAttribute] = this._item.src);
    }),
      (t.destroy = function () {
        this._clean(), (this._tag = null), this.AbstractRequest_destroy();
      }),
      (t._handleReadyStateChange = function () {
        clearTimeout(this._loadTimeout);
        var e = this._tag;
        ("loaded" == e.readyState || "complete" == e.readyState) &&
          this._handleTagComplete();
      }),
      (t._handleTagComplete = function () {
        (this._rawResult = this._tag),
          (this._result =
            (this.resultFormatter && this.resultFormatter(this)) ||
            this._rawResult),
          this._clean(),
          this._showTag(),
          this.dispatchEvent("complete");
      }),
      (t._clean = function () {
        (this._tag.onload = null),
          (this._tag.onreadystatechange = null),
          this._addedToDOM &&
            null != this._tag.parentNode &&
            this._tag.parentNode.removeChild(this._tag);
      }),
      (t._hideTag = function () {
        (this._startTagVisibility = this._tag.style.visibility),
          (this._tag.style.visibility = "hidden");
      }),
      (t._showTag = function () {
        this._tag.style.visibility = this._startTagVisibility;
      }),
      (t._handleStalled = function () {}),
      (createjs.TagRequest = createjs.promote(e, "AbstractRequest"));
  })(),
  (this.createjs = this.createjs || {}),
  (function () {
    "use strict";
    function e(e, t, i) {
      this.AbstractRequest_constructor(e),
        (this._tag = t),
        (this._tagSrcAttribute = i),
        (this._loadedHandler = createjs.proxy(this._handleTagComplete, this));
    }
    var t = createjs.extend(e, createjs.TagRequest);
    (t.load = function () {
      (this._tag.onstalled = createjs.proxy(this._handleStalled, this)),
        (this._tag.onprogress = createjs.proxy(this._handleProgress, this)),
        this._tag.addEventListener &&
          this._tag.addEventListener("canplaythrough", this._loadedHandler, !1),
        this.TagRequest_load();
    }),
      (t._handleReadyStateChange = function () {
        clearTimeout(this._loadTimeout);
        var e = this._tag;
        ("loaded" == e.readyState || "complete" == e.readyState) &&
          this._handleTagComplete();
      }),
      (t._handleStalled = function () {}),
      (t._handleProgress = function (e) {
        if (e && !(e.loaded > 0 && 0 == e.total)) {
          var t = new createjs.ProgressEvent(e.loaded, e.total);
          this.dispatchEvent(t);
        }
      }),
      (t._clean = function () {
        this._tag.removeEventListener &&
          this._tag.removeEventListener("canplaythrough", this._loadedHandler),
          (this._tag.onstalled = null),
          (this._tag.onprogress = null),
          this.TagRequest__clean();
      }),
      (createjs.MediaTagRequest = createjs.promote(e, "TagRequest"));
  })(),
  (this.createjs = this.createjs || {}),
  (function () {
    "use strict";
    function e(e) {
      this.AbstractRequest_constructor(e),
        (this._request = null),
        (this._loadTimeout = null),
        (this._xhrLevel = 1),
        (this._response = null),
        (this._rawResponse = null),
        (this._canceled = !1),
        (this._handleLoadStartProxy = createjs.proxy(
          this._handleLoadStart,
          this
        )),
        (this._handleProgressProxy = createjs.proxy(
          this._handleProgress,
          this
        )),
        (this._handleAbortProxy = createjs.proxy(this._handleAbort, this)),
        (this._handleErrorProxy = createjs.proxy(this._handleError, this)),
        (this._handleTimeoutProxy = createjs.proxy(this._handleTimeout, this)),
        (this._handleLoadProxy = createjs.proxy(this._handleLoad, this)),
        (this._handleReadyStateChangeProxy = createjs.proxy(
          this._handleReadyStateChange,
          this
        )),
        !this._createXHR(e);
    }
    var t = createjs.extend(e, createjs.AbstractRequest);
    (e.ACTIVEX_VERSIONS = [
      "Msxml2.XMLHTTP.6.0",
      "Msxml2.XMLHTTP.5.0",
      "Msxml2.XMLHTTP.4.0",
      "MSXML2.XMLHTTP.3.0",
      "MSXML2.XMLHTTP",
      "Microsoft.XMLHTTP",
    ]),
      (t.getResult = function (e) {
        return e && this._rawResponse ? this._rawResponse : this._response;
      }),
      (t.cancel = function () {
        (this.canceled = !0), this._clean(), this._request.abort();
      }),
      (t.load = function () {
        if (null == this._request) return void this._handleError();
        this._request.addEventListener(
          "loadstart",
          this._handleLoadStartProxy,
          !1
        ),
          this._request.addEventListener(
            "progress",
            this._handleProgressProxy,
            !1
          ),
          this._request.addEventListener("abort", this._handleAbortProxy, !1),
          this._request.addEventListener("error", this._handleErrorProxy, !1),
          this._request.addEventListener(
            "timeout",
            this._handleTimeoutProxy,
            !1
          ),
          this._request.addEventListener("load", this._handleLoadProxy, !1),
          this._request.addEventListener(
            "readystatechange",
            this._handleReadyStateChangeProxy,
            !1
          ),
          1 == this._xhrLevel &&
            (this._loadTimeout = setTimeout(
              createjs.proxy(this._handleTimeout, this),
              this._item.loadTimeout
            ));
        try {
          this._item.values && this._item.method != createjs.AbstractLoader.GET
            ? this._item.method == createjs.AbstractLoader.POST &&
              this._request.send(
                createjs.RequestUtils.formatQueryString(this._item.values)
              )
            : this._request.send();
        } catch (e) {
          this.dispatchEvent(new createjs.ErrorEvent("XHR_SEND", null, e));
        }
      }),
      (t.setResponseType = function (e) {
        this._request.responseType = e;
      }),
      (t.getAllResponseHeaders = function () {
        return this._request.getAllResponseHeaders instanceof Function
          ? this._request.getAllResponseHeaders()
          : null;
      }),
      (t.getResponseHeader = function (e) {
        return this._request.getResponseHeader instanceof Function
          ? this._request.getResponseHeader(e)
          : null;
      }),
      (t._handleProgress = function (e) {
        if (e && !(e.loaded > 0 && 0 == e.total)) {
          var t = new createjs.ProgressEvent(e.loaded, e.total);
          this.dispatchEvent(t);
        }
      }),
      (t._handleLoadStart = function (e) {
        clearTimeout(this._loadTimeout), this.dispatchEvent("loadstart");
      }),
      (t._handleAbort = function (e) {
        this._clean(),
          this.dispatchEvent(new createjs.ErrorEvent("XHR_ABORTED", null, e));
      }),
      (t._handleError = function (e) {
        this._clean(), this.dispatchEvent(new createjs.ErrorEvent(e.message));
      }),
      (t._handleReadyStateChange = function (e) {
        4 == this._request.readyState && this._handleLoad();
      }),
      (t._handleLoad = function (e) {
        if (!this.loaded) {
          this.loaded = !0;
          var t = this._checkError();
          if (t) return void this._handleError(t);
          (this._response = this._getResponse()),
            this._clean(),
            this.dispatchEvent(new createjs.Event("complete"));
        }
      }),
      (t._handleTimeout = function (e) {
        this._clean(),
          this.dispatchEvent(
            new createjs.ErrorEvent("PRELOAD_TIMEOUT", null, e)
          );
      }),
      (t._checkError = function () {
        var e = parseInt(this._request.status);
        switch (e) {
          case 404:
          case 0:
            return new Error(e);
        }
        return null;
      }),
      (t._getResponse = function () {
        if (null != this._response) return this._response;
        if (null != this._request.response) return this._request.response;
        try {
          if (null != this._request.responseText)
            return this._request.responseText;
        } catch (e) {}
        try {
          if (null != this._request.responseXML)
            return this._request.responseXML;
        } catch (e) {}
        return null;
      }),
      (t._createXHR = function (e) {
        var t = createjs.RequestUtils.isCrossDomain(e),
          i = {},
          r = null;
        if (window.XMLHttpRequest)
          (r = new XMLHttpRequest()),
            t &&
              void 0 === r.withCredentials &&
              window.XDomainRequest &&
              (r = new XDomainRequest());
        else {
          for (var n = 0, o = s.ACTIVEX_VERSIONS.length; o > n; n++) {
            s.ACTIVEX_VERSIONS[n];
            try {
              r = new ActiveXObject(axVersions);
              break;
            } catch (a) {}
          }
          if (null == r) return !1;
        }
        e.mimeType && r.overrideMimeType && r.overrideMimeType(e.mimeType),
          (this._xhrLevel = "string" == typeof r.responseType ? 2 : 1);
        var l = null;
        if (
          ((l =
            e.method == createjs.AbstractLoader.GET
              ? createjs.RequestUtils.buildPath(e.src, e.values)
              : e.src),
          r.open(e.method || createjs.AbstractLoader.GET, l, !0),
          t &&
            r instanceof XMLHttpRequest &&
            1 == this._xhrLevel &&
            (i.Origin = location.origin),
          e.values &&
            e.method == createjs.AbstractLoader.POST &&
            (i["Content-Type"] = "application/x-www-form-urlencoded"),
          t ||
            i["X-Requested-With"] ||
            (i["X-Requested-With"] = "XMLHttpRequest"),
          e.headers)
        )
          for (var h in e.headers) i[h] = e.headers[h];
        for (h in i) r.setRequestHeader(h, i[h]);
        return (
          r instanceof XMLHttpRequest &&
            void 0 !== e.withCredentials &&
            (r.withCredentials = e.withCredentials),
          (this._request = r),
          !0
        );
      }),
      (t._clean = function () {
        clearTimeout(this._loadTimeout),
          this._request.removeEventListener(
            "loadstart",
            this._handleLoadStartProxy
          ),
          this._request.removeEventListener(
            "progress",
            this._handleProgressProxy
          ),
          this._request.removeEventListener("abort", this._handleAbortProxy),
          this._request.removeEventListener("error", this._handleErrorProxy),
          this._request.removeEventListener(
            "timeout",
            this._handleTimeoutProxy
          ),
          this._request.removeEventListener("load", this._handleLoadProxy),
          this._request.removeEventListener(
            "readystatechange",
            this._handleReadyStateChangeProxy
          );
      }),
      (t.toString = function () {
        return "[PreloadJS XHRRequest]";
      }),
      (createjs.XHRRequest = createjs.promote(e, "AbstractRequest"));
  })(),
  (this.createjs = this.createjs || {}),
  (function () {
    "use strict";
    function e(e, t, i) {
      this.AbstractLoader_constructor(), this.init(e, t, i);
    }
    var t = createjs.extend(e, createjs.AbstractLoader),
      i = e;
    (t.init = function (e, t, i) {
      (this.useXHR = !0),
        (this.preferXHR = !0),
        (this._preferXHR = !0),
        this.setPreferXHR(e),
        (this.stopOnError = !1),
        (this.maintainScriptOrder = !0),
        (this.next = null),
        (this._paused = !1),
        (this._basePath = t),
        (this._crossOrigin = i),
        (this._typeCallbacks = {}),
        (this._extensionCallbacks = {}),
        (this._loadStartWasDispatched = !1),
        (this._maxConnections = 1),
        (this._currentlyLoadingScript = null),
        (this._currentLoads = []),
        (this._loadQueue = []),
        (this._loadQueueBackup = []),
        (this._loadItemsById = {}),
        (this._loadItemsBySrc = {}),
        (this._loadedResults = {}),
        (this._loadedRawResults = {}),
        (this._numItems = 0),
        (this._numItemsLoaded = 0),
        (this._scriptOrder = []),
        (this._loadedScripts = []),
        (this._lastProgress = NaN),
        (this._availableLoaders = [
          createjs.ImageLoader,
          createjs.JavaScriptLoader,
          createjs.CSSLoader,
          createjs.JSONLoader,
          createjs.JSONPLoader,
          createjs.SoundLoader,
          createjs.ManifestLoader,
          createjs.SpriteSheetLoader,
          createjs.XMLLoader,
          createjs.SVGLoader,
          createjs.BinaryLoader,
          createjs.VideoLoader,
          createjs.TextLoader,
        ]),
        (this._defaultLoaderLength = this._availableLoaders.length);
    }),
      (i.loadTimeout = 8e3),
      (i.LOAD_TIMEOUT = 0),
      (i.BINARY = createjs.AbstractLoader.BINARY),
      (i.CSS = createjs.AbstractLoader.CSS),
      (i.IMAGE = createjs.AbstractLoader.IMAGE),
      (i.JAVASCRIPT = createjs.AbstractLoader.JAVASCRIPT),
      (i.JSON = createjs.AbstractLoader.JSON),
      (i.JSONP = createjs.AbstractLoader.JSONP),
      (i.MANIFEST = createjs.AbstractLoader.MANIFEST),
      (i.SOUND = createjs.AbstractLoader.SOUND),
      (i.VIDEO = createjs.AbstractLoader.VIDEO),
      (i.SVG = createjs.AbstractLoader.SVG),
      (i.TEXT = createjs.AbstractLoader.TEXT),
      (i.XML = createjs.AbstractLoader.XML),
      (i.POST = createjs.AbstractLoader.POST),
      (i.GET = createjs.AbstractLoader.GET),
      (t.registerLoader = function (e) {
        if (!e || !e.canLoadItem)
          throw new Error("loader is of an incorrect type.");
        if (-1 != this._availableLoaders.indexOf(e))
          throw new Error("loader already exists.");
        this._availableLoaders.unshift(e);
      }),
      (t.unregisterLoader = function (e) {
        var t = this._availableLoaders.indexOf(e);
        -1 != t &&
          t < this._defaultLoaderLength - 1 &&
          this._availableLoaders.splice(t, 1);
      }),
      (t.setUseXHR = function (e) {
        return this.setPreferXHR(e);
      }),
      (t.setPreferXHR = function (e) {
        return (
          (this.preferXHR = 0 != e && null != window.XMLHttpRequest),
          this.preferXHR
        );
      }),
      (t.removeAll = function () {
        this.remove();
      }),
      (t.remove = function (e) {
        var t = null;
        if (!e || e instanceof Array) {
          if (e) t = e;
          else if (arguments.length > 0) return;
        } else t = [e];
        var i = !1;
        if (t) {
          for (; t.length; ) {
            var r = t.pop(),
              n = this.getResult(r);
            for (o = this._loadQueue.length - 1; o >= 0; o--)
              if (
                ((a = this._loadQueue[o].getItem()), a.id == r || a.src == r)
              ) {
                this._loadQueue.splice(o, 1)[0].cancel();
                break;
              }
            for (o = this._loadQueueBackup.length - 1; o >= 0; o--)
              if (
                ((a = this._loadQueueBackup[o].getItem()),
                a.id == r || a.src == r)
              ) {
                this._loadQueueBackup.splice(o, 1)[0].cancel();
                break;
              }
            if (n)
              delete this._loadItemsById[n.id],
                delete this._loadItemsBySrc[n.src],
                this._disposeItem(n);
            else
              for (var o = this._currentLoads.length - 1; o >= 0; o--) {
                var a = this._currentLoads[o].getItem();
                if (a.id == r || a.src == r) {
                  this._currentLoads.splice(o, 1)[0].cancel(), (i = !0);
                  break;
                }
              }
          }
          i && this._loadNext();
        } else {
          this.close();
          for (var s in this._loadItemsById)
            this._disposeItem(this._loadItemsById[s]);
          this.init(this.preferXHR, this._basePath);
        }
      }),
      (t.reset = function () {
        this.close();
        for (var e in this._loadItemsById)
          this._disposeItem(this._loadItemsById[e]);
        for (var t = [], i = 0, r = this._loadQueueBackup.length; r > i; i++)
          t.push(this._loadQueueBackup[i].getItem());
        this.loadManifest(t, !1);
      }),
      (t.installPlugin = function (e) {
        if (null != e && null != e.getPreloadHandlers) {
          var t = e.getPreloadHandlers();
          if (((t.scope = e), null != t.types))
            for (var i = 0, r = t.types.length; r > i; i++)
              this._typeCallbacks[t.types[i]] = t;
          if (null != t.extensions)
            for (i = 0, r = t.extensions.length; r > i; i++)
              this._extensionCallbacks[t.extensions[i]] = t;
        }
      }),
      (t.setMaxConnections = function (e) {
        (this._maxConnections = e),
          !this._paused && this._loadQueue.length > 0 && this._loadNext();
      }),
      (t.loadFile = function (e, t, i) {
        if (null == e) {
          var r = new createjs.ErrorEvent("PRELOAD_NO_FILE");
          return void this._sendError(r);
        }
        this._addItem(e, null, i),
          t !== !1 ? this.setPaused(!1) : this.setPaused(!0);
      }),
      (t.loadManifest = function (e, t, r) {
        var n = null,
          o = null;
        if (e instanceof Array) {
          if (0 == e.length) {
            var a = new createjs.ErrorEvent("PRELOAD_MANIFEST_EMPTY");
            return void this._sendError(a);
          }
          n = e;
        } else if ("string" == typeof e) n = [{ src: e, type: i.MANIFEST }];
        else {
          if ("object" != typeof e) {
            var a = new createjs.ErrorEvent("PRELOAD_MANIFEST_NULL");
            return void this._sendError(a);
          }
          if (void 0 !== e.src) {
            if (null == e.type) e.type = i.MANIFEST;
            else if (e.type != i.MANIFEST) {
              var a = new createjs.ErrorEvent("PRELOAD_MANIFEST_TYPE");
              this._sendError(a);
            }
            n = [e];
          } else void 0 !== e.manifest && ((n = e.manifest), (o = e.path));
        }
        for (var s = 0, l = n.length; l > s; s++) this._addItem(n[s], o, r);
        t !== !1 ? this.setPaused(!1) : this.setPaused(!0);
      }),
      (t.load = function () {
        this.setPaused(!1);
      }),
      (t.getItem = function (e) {
        return this._loadItemsById[e] || this._loadItemsBySrc[e];
      }),
      (t.getResult = function (e, t) {
        var i = this._loadItemsById[e] || this._loadItemsBySrc[e];
        if (null == i) return null;
        var r = i.id;
        return t && this._loadedRawResults[r]
          ? this._loadedRawResults[r]
          : this._loadedResults[r];
      }),
      (t.getItems = function (e) {
        for (var t = [], i = 0, r = this._loadQueueBackup.length; r > i; i++) {
          var n = this._loadQueueBackup[i],
            o = n.getItem();
          (e !== !0 || n.loaded) &&
            t.push({
              item: o,
              result: this.getResult(o.id),
              rawResult: this.getResult(o.id, !0),
            });
        }
        return t;
      }),
      (t.setPaused = function (e) {
        (this._paused = e), this._paused || this._loadNext();
      }),
      (t.close = function () {
        for (; this._currentLoads.length; ) this._currentLoads.pop().cancel();
        (this._scriptOrder.length = 0),
          (this._loadedScripts.length = 0),
          (this.loadStartWasDispatched = !1),
          (this._itemCount = 0),
          (this._lastProgress = NaN);
      }),
      (t._addItem = function (e, t, i) {
        var r = this._createLoadItem(e, t, i);
        if (null != r) {
          var n = this._createLoader(r);
          null != n &&
            ((r._loader = n),
            this._loadQueue.push(n),
            this._loadQueueBackup.push(n),
            this._numItems++,
            this._updateProgress(),
            ((this.maintainScriptOrder &&
              r.type == createjs.LoadQueue.JAVASCRIPT) ||
              r.maintainOrder === !0) &&
              (this._scriptOrder.push(r), this._loadedScripts.push(null)));
        }
      }),
      (t._createLoadItem = function (e, t, r) {
        var n = createjs.LoadItem.create(e);
        if (null == n) return null;
        var o = createjs.RequestUtils.parseURI(n.src);
        o.extension && (n.ext = o.extension),
          null == n.type &&
            (n.type = createjs.RequestUtils.getTypeByExtension(n.ext));
        var a = "",
          s = r || this._basePath,
          l = n.src;
        if (!o.absolute && !o.relative)
          if (t) {
            a = t;
            var h = createjs.RequestUtils.parseURI(t);
            (l = t + l), null == s || h.absolute || h.relative || (a = s + a);
          } else null != s && (a = s);
        (n.src = a + n.src),
          (n.path = a),
          (void 0 === n.id || null === n.id || "" === n.id) && (n.id = l);
        var c = this._typeCallbacks[n.type] || this._extensionCallbacks[n.ext];
        if (c) {
          var u = c.callback.call(c.scope, n, this);
          if (u === !1) return null;
          u === !0 || (null != u && (n._loader = u)),
            (o = createjs.RequestUtils.parseURI(n.src)),
            null != o.extension && (n.ext = o.extension);
        }
        return (
          (this._loadItemsById[n.id] = n),
          (this._loadItemsBySrc[n.src] = n),
          null == n.loadTimeout && (n.loadTimeout = i.loadTimeout),
          null == n.crossOrigin && (n.crossOrigin = this._crossOrigin),
          n
        );
      }),
      (t._createLoader = function (e) {
        if (null != e._loader) return e._loader;
        for (
          var t = this.preferXHR, i = 0;
          i < this._availableLoaders.length;
          i++
        ) {
          var r = this._availableLoaders[i];
          if (r && r.canLoadItem(e)) return new r(e, t);
        }
        return null;
      }),
      (t._loadNext = function () {
        if (!this._paused) {
          this._loadStartWasDispatched ||
            (this._sendLoadStart(), (this._loadStartWasDispatched = !0)),
            this._numItems == this._numItemsLoaded
              ? ((this.loaded = !0),
                this._sendComplete(),
                this.next && this.next.load && this.next.load())
              : (this.loaded = !1);
          for (
            var e = 0;
            e < this._loadQueue.length &&
            !(this._currentLoads.length >= this._maxConnections);
            e++
          ) {
            var t = this._loadQueue[e];
            this._canStartLoad(t) &&
              (this._loadQueue.splice(e, 1), e--, this._loadItem(t));
          }
        }
      }),
      (t._loadItem = function (e) {
        e.on("fileload", this._handleFileLoad, this),
          e.on("progress", this._handleProgress, this),
          e.on("complete", this._handleFileComplete, this),
          e.on("error", this._handleError, this),
          e.on("fileerror", this._handleFileError, this),
          this._currentLoads.push(e),
          this._sendFileStart(e.getItem()),
          e.load();
      }),
      (t._handleFileLoad = function (e) {
        (e.target = null), this.dispatchEvent(e);
      }),
      (t._handleFileError = function (e) {
        var t = new createjs.ErrorEvent("FILE_LOAD_ERROR", null, e.item);
        this._sendError(t);
      }),
      (t._handleError = function (e) {
        var t = e.target;
        this._numItemsLoaded++,
          this._finishOrderedItem(t, !0),
          this._updateProgress();
        var i = new createjs.ErrorEvent("FILE_LOAD_ERROR", null, t.getItem());
        this._sendError(i),
          this.stopOnError || (this._removeLoadItem(t), this._loadNext());
      }),
      (t._handleFileComplete = function (e) {
        var t = e.target,
          i = t.getItem(),
          r = t.getResult();
        this._loadedResults[i.id] = r;
        var n = t.getResult(!0);
        null != n && n !== r && (this._loadedRawResults[i.id] = n),
          this._saveLoadedItems(t),
          this._removeLoadItem(t),
          this._finishOrderedItem(t) || this._processFinishedLoad(i, t);
      }),
      (t._saveLoadedItems = function (e) {
        var t = e.getLoadedItems();
        if (null !== t)
          for (var i = 0; i < t.length; i++) {
            var r = t[i].item;
            (this._loadItemsBySrc[r.src] = r),
              (this._loadItemsById[r.id] = r),
              (this._loadedResults[r.id] = t[i].result),
              (this._loadedRawResults[r.id] = t[i].rawResult);
          }
      }),
      (t._finishOrderedItem = function (e, t) {
        var i = e.getItem();
        if (
          (this.maintainScriptOrder &&
            i.type == createjs.LoadQueue.JAVASCRIPT) ||
          i.maintainOrder
        ) {
          e instanceof createjs.JavaScriptLoader &&
            (this._currentlyLoadingScript = !1);
          var r = createjs.indexOf(this._scriptOrder, i);
          return -1 == r
            ? !1
            : ((this._loadedScripts[r] = t === !0 ? !0 : i),
              this._checkScriptLoadOrder(),
              !0);
        }
        return !1;
      }),
      (t._checkScriptLoadOrder = function () {
        for (var e = this._loadedScripts.length, t = 0; e > t; t++) {
          var i = this._loadedScripts[t];
          if (null === i) break;
          if (i !== !0) {
            var r = this._loadedResults[i.id];
            i.type == createjs.LoadQueue.JAVASCRIPT &&
              (
                document.body || document.getElementsByTagName("body")[0]
              ).appendChild(r);
            var n = i._loader;
            this._processFinishedLoad(i, n), (this._loadedScripts[t] = !0);
          }
        }
      }),
      (t._processFinishedLoad = function (e, t) {
        this._numItemsLoaded++,
          this._updateProgress(),
          this._sendFileComplete(e, t),
          this._loadNext();
      }),
      (t._canStartLoad = function (e) {
        if (!this.maintainScriptOrder || e.preferXHR) return !0;
        var t = e.getItem();
        if (t.type != createjs.LoadQueue.JAVASCRIPT) return !0;
        if (this._currentlyLoadingScript) return !1;
        for (var i = this._scriptOrder.indexOf(t), r = 0; i > r; ) {
          var n = this._loadedScripts[r];
          if (null == n) return !1;
          r++;
        }
        return (this._currentlyLoadingScript = !0), !0;
      }),
      (t._removeLoadItem = function (e) {
        var t = e.getItem();
        delete t._loader;
        for (var i = this._currentLoads.length, r = 0; i > r; r++)
          if (this._currentLoads[r] == e) {
            this._currentLoads.splice(r, 1);
            break;
          }
      }),
      (t._handleProgress = function (e) {
        var t = e.target;
        this._sendFileProgress(t.getItem(), t.progress), this._updateProgress();
      }),
      (t._updateProgress = function () {
        var e = this._numItemsLoaded / this._numItems,
          t = this._numItems - this._numItemsLoaded;
        if (t > 0) {
          for (var i = 0, r = 0, n = this._currentLoads.length; n > r; r++)
            i += this._currentLoads[r].progress;
          e += (i / t) * (t / this._numItems);
        }
        this._lastProgress != e &&
          (this._sendProgress(e), (this._lastProgress = e));
      }),
      (t._disposeItem = function (e) {
        delete this._loadedResults[e.id],
          delete this._loadedRawResults[e.id],
          delete this._loadItemsById[e.id],
          delete this._loadItemsBySrc[e.src];
      }),
      (t._sendFileProgress = function (e, t) {
        if (this._isCanceled()) return void this._cleanUp();
        if (this.hasEventListener("fileprogress")) {
          var i = new createjs.Event("fileprogress");
          (i.progress = t),
            (i.loaded = t),
            (i.total = 1),
            (i.item = e),
            this.dispatchEvent(i);
        }
      }),
      (t._sendFileComplete = function (e, t) {
        if (!this._isCanceled()) {
          var i = new createjs.Event("fileload");
          (i.loader = t),
            (i.item = e),
            (i.result = this._loadedResults[e.id]),
            (i.rawResult = this._loadedRawResults[e.id]),
            e.completeHandler && e.completeHandler(i),
            this.hasEventListener("fileload") && this.dispatchEvent(i);
        }
      }),
      (t._sendFileStart = function (e) {
        var t = new createjs.Event("filestart");
        (t.item = e),
          this.hasEventListener("filestart") && this.dispatchEvent(t);
      }),
      (t.toString = function () {
        return "[PreloadJS LoadQueue]";
      }),
      (createjs.LoadQueue = createjs.promote(e, "AbstractLoader"));
  })(),
  (this.createjs = this.createjs || {}),
  (function () {
    "use strict";
    function e(e) {
      this.AbstractLoader_constructor(e, !0, createjs.AbstractLoader.TEXT);
    }
    var t = (createjs.extend(e, createjs.AbstractLoader), e);
    (t.canLoadItem = function (e) {
      return e.type == createjs.AbstractLoader.TEXT;
    }),
      (createjs.TextLoader = createjs.promote(e, "AbstractLoader"));
  })(),
  (this.createjs = this.createjs || {}),
  (function () {
    "use strict";
    function e(e) {
      this.AbstractLoader_constructor(e, !0, createjs.AbstractLoader.BINARY),
        this.on("initialize", this._updateXHR, this);
    }
    var t = createjs.extend(e, createjs.AbstractLoader),
      i = e;
    (i.canLoadItem = function (e) {
      return e.type == createjs.AbstractLoader.BINARY;
    }),
      (t._updateXHR = function (e) {
        e.loader.setResponseType("arraybuffer");
      }),
      (createjs.BinaryLoader = createjs.promote(e, "AbstractLoader"));
  })(),
  (this.createjs = this.createjs || {}),
  (function () {
    "use strict";
    function e(e, t) {
      this.AbstractLoader_constructor(e, t, createjs.AbstractLoader.CSS),
        (this.resultFormatter = this._formatResult),
        (this._tagSrcAttribute = "href"),
        t
          ? (this._tag = document.createElement("style"))
          : (this._tag = document.createElement("link")),
        (this._tag.rel = "stylesheet"),
        (this._tag.type = "text/css");
    }
    var t = createjs.extend(e, createjs.AbstractLoader),
      i = e;
    (i.canLoadItem = function (e) {
      return e.type == createjs.AbstractLoader.CSS;
    }),
      (t._formatResult = function (e) {
        if (this._preferXHR) {
          var t = e.getTag(),
            i = document.getElementsByTagName("head")[0];
          if ((i.appendChild(t), t.styleSheet))
            t.styleSheet.cssText = e.getResult(!0);
          else {
            var r = document.createTextNode(e.getResult(!0));
            t.appendChild(r);
          }
        } else t = this._tag;
        return t;
      }),
      (createjs.CSSLoader = createjs.promote(e, "AbstractLoader"));
  })(),
  (this.createjs = this.createjs || {}),
  (function () {
    "use strict";
    function e(e, t) {
      this.AbstractLoader_constructor(e, t, createjs.AbstractLoader.IMAGE),
        (this.resultFormatter = this._formatResult),
        (this._tagSrcAttribute = "src"),
        createjs.RequestUtils.isImageTag(e)
          ? (this._tag = e)
          : createjs.RequestUtils.isImageTag(e.src)
          ? (this._tag = e.src)
          : createjs.RequestUtils.isImageTag(e.tag) && (this._tag = e.tag),
        null != this._tag
          ? (this._preferXHR = !1)
          : (this._tag = document.createElement("img")),
        this.on("initialize", this._updateXHR, this);
    }
    var t = createjs.extend(e, createjs.AbstractLoader),
      i = e;
    (i.canLoadItem = function (e) {
      return e.type == createjs.AbstractLoader.IMAGE;
    }),
      (t.load = function () {
        if ("" != this._tag.src && this._tag.complete)
          return void this._sendComplete();
        var e = this._item.crossOrigin;
        1 == e && (e = "Anonymous"),
          null == e ||
            createjs.RequestUtils.isLocal(this._item.src) ||
            (this._tag.crossOrigin = e),
          this.AbstractLoader_load();
      }),
      (t._updateXHR = function (e) {
        (e.loader.mimeType = "text/plain; charset=x-user-defined-binary"),
          e.loader.setResponseType && e.loader.setResponseType("blob");
      }),
      (t._formatResult = function (e) {
        var t = this;
        return function (i) {
          var r = t._tag,
            n = window.URL || window.webkitURL;
          if (t._preferXHR)
            if (n) {
              var o = n.createObjectURL(e.getResult(!0));
              (r.src = o),
                (r.onload = function () {
                  n.revokeObjectURL(t.src);
                });
            } else r.src = e.getItem().src;
          else;
          r.complete
            ? i(r)
            : (r.onload = function () {
                i(this);
              });
        };
      }),
      (createjs.ImageLoader = createjs.promote(e, "AbstractLoader"));
  })(),
  (this.createjs = this.createjs || {}),
  (function () {
    "use strict";
    function e(e, t) {
      this.AbstractLoader_constructor(e, t, createjs.AbstractLoader.JAVASCRIPT),
        (this.resultFormatter = this._formatResult),
        (this._tagSrcAttribute = "src"),
        this.setTag(document.createElement("script"));
    }
    var t = createjs.extend(e, createjs.AbstractLoader),
      i = e;
    (i.canLoadItem = function (e) {
      return e.type == createjs.AbstractLoader.JAVASCRIPT;
    }),
      (t._formatResult = function (e) {
        var t = e.getTag();
        return this._preferXHR && (t.text = e.getResult(!0)), t;
      }),
      (createjs.JavaScriptLoader = createjs.promote(e, "AbstractLoader"));
  })(),
  (this.createjs = this.createjs || {}),
  (function () {
    "use strict";
    function e(e) {
      this.AbstractLoader_constructor(e, !0, createjs.AbstractLoader.JSON),
        (this.resultFormatter = this._formatResult);
    }
    var t = createjs.extend(e, createjs.AbstractLoader),
      i = e;
    (i.canLoadItem = function (e) {
      return e.type == createjs.AbstractLoader.JSON && !e._loadAsJSONP;
    }),
      (t._formatResult = function (e) {
        var t = null;
        try {
          t = createjs.DataUtils.parseJSON(e.getResult(!0));
        } catch (i) {
          var r = new createjs.ErrorEvent("JSON_FORMAT", null, i);
          return this._sendError(r), i;
        }
        return t;
      }),
      (createjs.JSONLoader = createjs.promote(e, "AbstractLoader"));
  })(),
  (this.createjs = this.createjs || {}),
  (function () {
    "use strict";
    function e(e) {
      this.AbstractLoader_constructor(e, !1, createjs.AbstractLoader.JSONP),
        this.setTag(document.createElement("script")),
        (this.getTag().type = "text/javascript");
    }
    var t = createjs.extend(e, createjs.AbstractLoader),
      i = e;
    (i.canLoadItem = function (e) {
      return e.type == createjs.AbstractLoader.JSONP || e._loadAsJSONP;
    }),
      (t.cancel = function () {
        this.AbstractLoader_cancel(), this._dispose();
      }),
      (t.load = function () {
        if (null == this._item.callback)
          throw new Error("callback is required for loading JSONP requests.");
        if (null != window[this._item.callback])
          throw new Error(
            "JSONP callback '" +
              this._item.callback +
              "' already exists on window. You need to specify a different callback or re-name the current one."
          );
        (window[this._item.callback] = createjs.proxy(this._handleLoad, this)),
          window.document.body.appendChild(this._tag),
          (this._tag.src = this._item.src);
      }),
      (t._handleLoad = function (e) {
        (this._result = this._rawResult = e),
          this._sendComplete(),
          this._dispose();
      }),
      (t._dispose = function () {
        window.document.body.removeChild(this._tag),
          delete window[this._item.callback];
      }),
      (createjs.JSONPLoader = createjs.promote(e, "AbstractLoader"));
  })(),
  (this.createjs = this.createjs || {}),
  (function () {
    "use strict";
    function e(e) {
      this.AbstractLoader_constructor(
        e,
        null,
        createjs.AbstractLoader.MANIFEST
      ),
        (this._manifestQueue = null);
    }
    var t = createjs.extend(e, createjs.AbstractLoader),
      i = e;
    (i.MANIFEST_PROGRESS = 0.25),
      (i.canLoadItem = function (e) {
        return e.type == createjs.AbstractLoader.MANIFEST;
      }),
      (t.load = function () {
        this.AbstractLoader_load();
      }),
      (t._createRequest = function () {
        var e = this._item.callback;
        null != e
          ? (this._request = new createjs.JSONPLoader(this._item))
          : (this._request = new createjs.JSONLoader(this._item));
      }),
      (t.handleEvent = function (e) {
        switch (e.type) {
          case "complete":
            return (
              (this._rawResult = e.target.getResult(!0)),
              (this._result = e.target.getResult()),
              this._sendProgress(i.MANIFEST_PROGRESS),
              void this._loadManifest(this._result)
            );
          case "progress":
            return (
              (e.loaded *= i.MANIFEST_PROGRESS),
              (this.progress = e.loaded / e.total),
              (isNaN(this.progress) || this.progress == 1 / 0) &&
                (this.progress = 0),
              void this._sendProgress(e)
            );
        }
        this.AbstractLoader_handleEvent(e);
      }),
      (t.destroy = function () {
        this.AbstractLoader_destroy(), this._manifestQueue.close();
      }),
      (t._loadManifest = function (e) {
        if (e && e.manifest) {
          var t = (this._manifestQueue = new createjs.LoadQueue());
          t.on("fileload", this._handleManifestFileLoad, this),
            t.on("progress", this._handleManifestProgress, this),
            t.on("complete", this._handleManifestComplete, this, !0),
            t.on("error", this._handleManifestError, this, !0),
            t.loadManifest(e);
        } else this._sendComplete();
      }),
      (t._handleManifestFileLoad = function (e) {
        (e.target = null), this.dispatchEvent(e);
      }),
      (t._handleManifestComplete = function (e) {
        (this._loadedItems = this._manifestQueue.getItems(!0)),
          this._sendComplete();
      }),
      (t._handleManifestProgress = function (e) {
        (this.progress =
          e.progress * (1 - i.MANIFEST_PROGRESS) + i.MANIFEST_PROGRESS),
          this._sendProgress(this.progress);
      }),
      (t._handleManifestError = function (e) {
        var t = new createjs.Event("fileerror");
        (t.item = e.data), this.dispatchEvent(t);
      }),
      (createjs.ManifestLoader = createjs.promote(e, "AbstractLoader"));
  })(),
  (this.createjs = this.createjs || {}),
  (function () {
    "use strict";
    function e(e, t) {
      this.AbstractMediaLoader_constructor(e, t, createjs.AbstractLoader.SOUND),
        createjs.RequestUtils.isAudioTag(e)
          ? (this._tag = e)
          : createjs.RequestUtils.isAudioTag(e.src)
          ? (this._tag = e)
          : createjs.RequestUtils.isAudioTag(e.tag) &&
            (this._tag = createjs.RequestUtils.isAudioTag(e) ? e : e.src),
        null != this._tag && (this._preferXHR = !1);
    }
    var t = createjs.extend(e, createjs.AbstractMediaLoader),
      i = e;
    (i.canLoadItem = function (e) {
      return e.type == createjs.AbstractLoader.SOUND;
    }),
      (t._createTag = function (e) {
        var t = document.createElement("audio");
        return (t.autoplay = !1), (t.preload = "none"), (t.src = e), t;
      }),
      (createjs.SoundLoader = createjs.promote(e, "AbstractMediaLoader"));
  })(),
  (this.createjs = this.createjs || {}),
  (function () {
    "use strict";
    function e(e, t) {
      this.AbstractMediaLoader_constructor(e, t, createjs.AbstractLoader.VIDEO),
        createjs.RequestUtils.isVideoTag(e) ||
        createjs.RequestUtils.isVideoTag(e.src)
          ? (this.setTag(createjs.RequestUtils.isVideoTag(e) ? e : e.src),
            (this._preferXHR = !1))
          : this.setTag(this._createTag());
    }
    var t = createjs.extend(e, createjs.AbstractMediaLoader),
      i = e;
    (t._createTag = function () {
      return document.createElement("video");
    }),
      (i.canLoadItem = function (e) {
        return e.type == createjs.AbstractLoader.VIDEO;
      }),
      (createjs.VideoLoader = createjs.promote(e, "AbstractMediaLoader"));
  })(),
  (this.createjs = this.createjs || {}),
  (function () {
    "use strict";
    function e(e) {
      this.AbstractLoader_constructor(
        e,
        null,
        createjs.AbstractLoader.SPRITESHEET
      ),
        (this._manifestQueue = null);
    }
    var t = createjs.extend(e, createjs.AbstractLoader),
      i = e;
    (i.SPRITESHEET_PROGRESS = 0.25),
      (i.canLoadItem = function (e) {
        return e.type == createjs.AbstractLoader.SPRITESHEET;
      }),
      (t.destroy = function () {
        this.AbstractLoader_destroy, this._manifestQueue.close();
      }),
      (t._createRequest = function () {
        var e = this._item.callback;
        null != e && e instanceof Function
          ? (this._request = new createjs.JSONPLoader(this._item))
          : (this._request = new createjs.JSONLoader(this._item));
      }),
      (t.handleEvent = function (e) {
        switch (e.type) {
          case "complete":
            return (
              (this._rawResult = e.target.getResult(!0)),
              (this._result = e.target.getResult()),
              this._sendProgress(i.SPRITESHEET_PROGRESS),
              void this._loadManifest(this._result)
            );
          case "progress":
            return (
              (e.loaded *= i.SPRITESHEET_PROGRESS),
              (this.progress = e.loaded / e.total),
              (isNaN(this.progress) || this.progress == 1 / 0) &&
                (this.progress = 0),
              void this._sendProgress(e)
            );
        }
        this.AbstractLoader_handleEvent(e);
      }),
      (t._loadManifest = function (e) {
        if (e && e.images) {
          var t = (this._manifestQueue = new createjs.LoadQueue());
          t.on("complete", this._handleManifestComplete, this, !0),
            t.on("fileload", this._handleManifestFileLoad, this),
            t.on("progress", this._handleManifestProgress, this),
            t.on("error", this._handleManifestError, this, !0),
            t.loadManifest(e.images);
        }
      }),
      (t._handleManifestFileLoad = function (e) {
        var t = e.result;
        if (null != t) {
          var i = this.getResult().images,
            r = i.indexOf(e.item.src);
          i[r] = t;
        }
      }),
      (t._handleManifestComplete = function (e) {
        (this._result = new createjs.SpriteSheet(this._result)),
          (this._loadedItems = this._manifestQueue.getItems(!0)),
          this._sendComplete();
      }),
      (t._handleManifestProgress = function (e) {
        (this.progress =
          e.progress * (1 - i.SPRITESHEET_PROGRESS) + i.SPRITESHEET_PROGRESS),
          this._sendProgress(this.progress);
      }),
      (t._handleManifestError = function (e) {
        var t = new createjs.Event("fileerror");
        (t.item = e.data), this.dispatchEvent(t);
      }),
      (createjs.SpriteSheetLoader = createjs.promote(e, "AbstractLoader"));
  })(),
  (this.createjs = this.createjs || {}),
  (function () {
    "use strict";
    function e(e, t) {
      this.AbstractLoader_constructor(e, t, createjs.AbstractLoader.SVG),
        (this.resultFormatter = this._formatResult),
        (this._tagSrcAttribute = "data"),
        t
          ? this.setTag(document.createElement("svg"))
          : (this.setTag(document.createElement("object")),
            (this.getTag().type = "image/svg+xml")),
        (this.getTag().style.visibility = "hidden");
    }
    var t = createjs.extend(e, createjs.AbstractLoader),
      i = e;
    (i.canLoadItem = function (e) {
      return e.type == createjs.AbstractLoader.SVG;
    }),
      (t._formatResult = function (e) {
        var t = createjs.DataUtils.parseXML(e.getResult(!0), "text/xml"),
          i = e.getTag();
        return (
          !this._preferXHR &&
            document.body.contains(i) &&
            document.body.removeChild(i),
          null != t.documentElement
            ? (i.appendChild(t.documentElement),
              (i.style.visibility = "visible"),
              i)
            : t
        );
      }),
      (createjs.SVGLoader = createjs.promote(e, "AbstractLoader"));
  })(),
  (this.createjs = this.createjs || {}),
  (function () {
    "use strict";
    function e(e) {
      this.AbstractLoader_constructor(e, !0, createjs.AbstractLoader.XML),
        (this.resultFormatter = this._formatResult);
    }
    var t = createjs.extend(e, createjs.AbstractLoader),
      i = e;
    (i.canLoadItem = function (e) {
      return e.type == createjs.AbstractLoader.XML;
    }),
      (t._formatResult = function (e) {
        return createjs.DataUtils.parseXML(e.getResult(!0), "text/xml");
      }),
      (createjs.XMLLoader = createjs.promote(e, "AbstractLoader"));
  })(),
  (this.createjs = this.createjs || {}),
  (function () {
    var e = (createjs.SoundJS = createjs.SoundJS || {});
    (e.version = "0.6.0"), (e.buildDate = "Thu, 11 Dec 2014 23:32:09 GMT");
  })(),
  (this.createjs = this.createjs || {}),
  (createjs.extend = function (e, t) {
    "use strict";
    function i() {
      this.constructor = e;
    }
    return (i.prototype = t.prototype), (e.prototype = new i());
  }),
  (this.createjs = this.createjs || {}),
  (createjs.promote = function (e, t) {
    "use strict";
    var i = e.prototype,
      r = (Object.getPrototypeOf && Object.getPrototypeOf(i)) || i.__proto__;
    if (r) {
      i[(t += "_") + "constructor"] = r.constructor;
      for (var n in r)
        i.hasOwnProperty(n) && "function" == typeof r[n] && (i[t + n] = r[n]);
    }
    return e;
  }),
  (this.createjs = this.createjs || {}),
  (createjs.indexOf = function (e, t) {
    "use strict";
    for (var i = 0, r = e.length; r > i; i++) if (t === e[i]) return i;
    return -1;
  }),
  (this.createjs = this.createjs || {}),
  (function () {
    "use strict";
    createjs.proxy = function (e, t) {
      var i = Array.prototype.slice.call(arguments, 2);
      return function () {
        return e.apply(t, Array.prototype.slice.call(arguments, 0).concat(i));
      };
    };
  })(),
  (this.createjs = this.createjs || {}),
  (function () {
    "use strict";
    var e = Object.defineProperty ? !0 : !1,
      t = {};
    try {
      Object.defineProperty(t, "bar", {
        get: function () {
          return this._bar;
        },
        set: function (e) {
          this._bar = e;
        },
      });
    } catch (i) {
      e = !1;
    }
    createjs.definePropertySupported = e;
  })(),
  (this.createjs = this.createjs || {}),
  (function () {
    "use strict";
    function e() {
      throw "BrowserDetect cannot be instantiated";
    }
    var t = (e.agent = window.navigator.userAgent);
    (e.isWindowPhone =
      t.indexOf("IEMobile") > -1 || t.indexOf("Windows Phone") > -1),
      (e.isFirefox = t.indexOf("Firefox") > -1),
      (e.isOpera = null != window.opera),
      (e.isChrome = t.indexOf("Chrome") > -1),
      (e.isIOS =
        (t.indexOf("iPod") > -1 ||
          t.indexOf("iPhone") > -1 ||
          t.indexOf("iPad") > -1) &&
        !e.isWindowPhone),
      (e.isAndroid = t.indexOf("Android") > -1 && !e.isWindowPhone),
      (e.isBlackberry = t.indexOf("Blackberry") > -1),
      (createjs.BrowserDetect = e);
  })(),
  (this.createjs = this.createjs || {}),
  (function () {
    "use strict";
    function e() {
      (this._listeners = null), (this._captureListeners = null);
    }
    var t = e.prototype;
    (e.initialize = function (e) {
      (e.addEventListener = t.addEventListener),
        (e.on = t.on),
        (e.removeEventListener = e.off = t.removeEventListener),
        (e.removeAllEventListeners = t.removeAllEventListeners),
        (e.hasEventListener = t.hasEventListener),
        (e.dispatchEvent = t.dispatchEvent),
        (e._dispatchEvent = t._dispatchEvent),
        (e.willTrigger = t.willTrigger);
    }),
      (t.addEventListener = function (e, t, i) {
        var r;
        r = i
          ? (this._captureListeners = this._captureListeners || {})
          : (this._listeners = this._listeners || {});
        var n = r[e];
        return (
          n && this.removeEventListener(e, t, i),
          (n = r[e]),
          n ? n.push(t) : (r[e] = [t]),
          t
        );
      }),
      (t.on = function (e, t, i, r, n, o) {
        return (
          t.handleEvent && ((i = i || t), (t = t.handleEvent)),
          (i = i || this),
          this.addEventListener(
            e,
            function (e) {
              t.call(i, e, n), r && e.remove();
            },
            o
          )
        );
      }),
      (t.removeEventListener = function (e, t, i) {
        var r = i ? this._captureListeners : this._listeners;
        if (r) {
          var n = r[e];
          if (n)
            for (var o = 0, a = n.length; a > o; o++)
              if (n[o] == t) {
                1 == a ? delete r[e] : n.splice(o, 1);
                break;
              }
        }
      }),
      (t.off = t.removeEventListener),
      (t.removeAllEventListeners = function (e) {
        e
          ? (this._listeners && delete this._listeners[e],
            this._captureListeners && delete this._captureListeners[e])
          : (this._listeners = this._captureListeners = null);
      }),
      (t.dispatchEvent = function (e) {
        if ("string" == typeof e) {
          var t = this._listeners;
          if (!t || !t[e]) return !1;
          e = new createjs.Event(e);
        } else e.target && e.clone && (e = e.clone());
        try {
          e.target = this;
        } catch (i) {}
        if (e.bubbles && this.parent) {
          for (var r = this, n = [r]; r.parent; ) n.push((r = r.parent));
          var o,
            a = n.length;
          for (o = a - 1; o >= 0 && !e.propagationStopped; o--)
            n[o]._dispatchEvent(e, 1 + (0 == o));
          for (o = 1; a > o && !e.propagationStopped; o++)
            n[o]._dispatchEvent(e, 3);
        } else this._dispatchEvent(e, 2);
        return e.defaultPrevented;
      }),
      (t.hasEventListener = function (e) {
        var t = this._listeners,
          i = this._captureListeners;
        return !!((t && t[e]) || (i && i[e]));
      }),
      (t.willTrigger = function (e) {
        for (var t = this; t; ) {
          if (t.hasEventListener(e)) return !0;
          t = t.parent;
        }
        return !1;
      }),
      (t.toString = function () {
        return "[EventDispatcher]";
      }),
      (t._dispatchEvent = function (e, t) {
        var i,
          r = 1 == t ? this._captureListeners : this._listeners;
        if (e && r) {
          var n = r[e.type];
          if (!n || !(i = n.length)) return;
          try {
            e.currentTarget = this;
          } catch (o) {}
          try {
            e.eventPhase = t;
          } catch (o) {}
          (e.removed = !1), (n = n.slice());
          for (var a = 0; i > a && !e.immediatePropagationStopped; a++) {
            var s = n[a];
            s.handleEvent ? s.handleEvent(e) : s(e),
              e.removed && (this.off(e.type, s, 1 == t), (e.removed = !1));
          }
        }
      }),
      (createjs.EventDispatcher = e);
  })(),
  (this.createjs = this.createjs || {}),
  (function () {
    "use strict";
    function e(e, t, i) {
      (this.type = e),
        (this.target = null),
        (this.currentTarget = null),
        (this.eventPhase = 0),
        (this.bubbles = !!t),
        (this.cancelable = !!i),
        (this.timeStamp = new Date().getTime()),
        (this.defaultPrevented = !1),
        (this.propagationStopped = !1),
        (this.immediatePropagationStopped = !1),
        (this.removed = !1);
    }
    var t = e.prototype;
    (t.preventDefault = function () {
      this.defaultPrevented = this.cancelable && !0;
    }),
      (t.stopPropagation = function () {
        this.propagationStopped = !0;
      }),
      (t.stopImmediatePropagation = function () {
        this.immediatePropagationStopped = this.propagationStopped = !0;
      }),
      (t.remove = function () {
        this.removed = !0;
      }),
      (t.clone = function () {
        return new e(this.type, this.bubbles, this.cancelable);
      }),
      (t.set = function (e) {
        for (var t in e) this[t] = e[t];
        return this;
      }),
      (t.toString = function () {
        return "[Event (type=" + this.type + ")]";
      }),
      (createjs.Event = e);
  })(),
  (this.createjs = this.createjs || {}),
  (function () {
    "use strict";
    function e(e, t, i) {
      this.Event_constructor("error"),
        (this.title = e),
        (this.message = t),
        (this.data = i);
    }
    var t = createjs.extend(e, createjs.Event);
    (t.clone = function () {
      return new createjs.ErrorEvent(this.title, this.message, this.data);
    }),
      (createjs.ErrorEvent = createjs.promote(e, "Event"));
  })(),
  (this.createjs = this.createjs || {}),
  (function () {
    "use strict";
    function e(e, t) {
      this.Event_constructor("progress"),
        (this.loaded = e),
        (this.total = null == t ? 1 : t),
        (this.progress = 0 == t ? 0 : this.loaded / this.total);
    }
    var t = createjs.extend(e, createjs.Event);
    (t.clone = function () {
      return new createjs.ProgressEvent(this.loaded, this.total);
    }),
      (createjs.ProgressEvent = createjs.promote(e, "Event"));
  })(window),
  (this.createjs = this.createjs || {}),
  (function () {
    "use strict";
    function e() {
      (this.src = null),
        (this.type = null),
        (this.id = null),
        (this.maintainOrder = !1),
        (this.callback = null),
        (this.data = null),
        (this.method = createjs.LoadItem.GET),
        (this.values = null),
        (this.headers = null),
        (this.withCredentials = !1),
        (this.mimeType = null),
        (this.crossOrigin = "Anonymous"),
        (this.loadTimeout = 8e3);
    }
    var t = (e.prototype = {}),
      i = e;
    (i.create = function (t) {
      if ("string" == typeof t) {
        var r = new e();
        return (r.src = t), r;
      }
      if (t instanceof i) return t;
      if (t instanceof Object) return t;
      throw new Error("Type not recognized.");
    }),
      (t.set = function (e) {
        for (var t in e) this[t] = e[t];
        return this;
      }),
      (createjs.LoadItem = i);
  })(),
  (function () {
    var e = {};
    (e.ABSOLUTE_PATT = /^(?:\w+:)?\/{2}/i),
      (e.RELATIVE_PATT = /^[./]*?\//i),
      (e.EXTENSION_PATT = /\/?[^/]+\.(\w{1,5})$/i),
      (e.parseURI = function (t) {
        var i = { absolute: !1, relative: !1 };
        if (null == t) return i;
        var r = t.indexOf("?");
        r > -1 && (t = t.substr(0, r));
        var n;
        return (
          e.ABSOLUTE_PATT.test(t)
            ? (i.absolute = !0)
            : e.RELATIVE_PATT.test(t) && (i.relative = !0),
          (n = t.match(e.EXTENSION_PATT)) && (i.extension = n[1].toLowerCase()),
          i
        );
      }),
      (e.formatQueryString = function (e, t) {
        if (null == e) throw new Error("You must specify data.");
        var i = [];
        for (var r in e) i.push(r + "=" + escape(e[r]));
        return t && (i = i.concat(t)), i.join("&");
      }),
      (e.buildPath = function (e, t) {
        if (null == t) return e;
        var i = [],
          r = e.indexOf("?");
        if (-1 != r) {
          var n = e.slice(r + 1);
          i = i.concat(n.split("&"));
        }
        return -1 != r
          ? e.slice(0, r) + "?" + this._formatQueryString(t, i)
          : e + "?" + this._formatQueryString(t, i);
      }),
      (e.isCrossDomain = function (e) {
        var t = document.createElement("a");
        t.href = e.src;
        var i = document.createElement("a");
        i.href = location.href;
        var r =
          "" != t.hostname &&
          (t.port != i.port ||
            t.protocol != i.protocol ||
            t.hostname != i.hostname);
        return r;
      }),
      (e.isLocal = function (e) {
        var t = document.createElement("a");
        return (t.href = e.src), "" == t.hostname && "file:" == t.protocol;
      }),
      (e.isBinary = function (e) {
        switch (e) {
          case createjs.AbstractLoader.IMAGE:
          case createjs.AbstractLoader.BINARY:
            return !0;
          default:
            return !1;
        }
      }),
      (e.isImageTag = function (e) {
        return e instanceof HTMLImageElement;
      }),
      (e.isAudioTag = function (e) {
        return window.HTMLAudioElement ? e instanceof HTMLAudioElement : !1;
      }),
      (e.isVideoTag = function (e) {
        return window.HTMLVideoElement ? e instanceof HTMLVideoElement : void 0;
      }),
      (e.isText = function (e) {
        switch (e) {
          case createjs.AbstractLoader.TEXT:
          case createjs.AbstractLoader.JSON:
          case createjs.AbstractLoader.MANIFEST:
          case createjs.AbstractLoader.XML:
          case createjs.AbstractLoader.CSS:
          case createjs.AbstractLoader.SVG:
          case createjs.AbstractLoader.JAVASCRIPT:
            return !0;
          default:
            return !1;
        }
      }),
      (e.getTypeByExtension = function (e) {
        if (null == e) return createjs.AbstractLoader.TEXT;
        switch (e.toLowerCase()) {
          case "jpeg":
          case "jpg":
          case "gif":
          case "png":
          case "webp":
          case "bmp":
            return createjs.AbstractLoader.IMAGE;
          case "ogg":
          case "mp3":
          case "webm":
            return createjs.AbstractLoader.SOUND;
          case "mp4":
          case "webm":
          case "ts":
            return createjs.AbstractLoader.VIDEO;
          case "json":
            return createjs.AbstractLoader.JSON;
          case "xml":
            return createjs.AbstractLoader.XML;
          case "css":
            return createjs.AbstractLoader.CSS;
          case "js":
            return createjs.AbstractLoader.JAVASCRIPT;
          case "svg":
            return createjs.AbstractLoader.SVG;
          default:
            return createjs.AbstractLoader.TEXT;
        }
      }),
      (createjs.RequestUtils = e);
  })(),
  (this.createjs = this.createjs || {}),
  (function () {
    "use strict";
    function e(e, t, i) {
      this.EventDispatcher_constructor(),
        (this.loaded = !1),
        (this.canceled = !1),
        (this.progress = 0),
        (this.type = i),
        (this.resultFormatter = null),
        (this._item = e ? createjs.LoadItem.create(e) : null),
        (this._preferXHR = t),
        (this._result = null),
        (this._rawResult = null),
        (this._loadedItems = null),
        (this._tagSrcAttribute = null),
        (this._tag = null);
    }
    var t = createjs.extend(e, createjs.EventDispatcher),
      i = e;
    (i.POST = "POST"),
      (i.GET = "GET"),
      (i.BINARY = "binary"),
      (i.CSS = "css"),
      (i.IMAGE = "image"),
      (i.JAVASCRIPT = "javascript"),
      (i.JSON = "json"),
      (i.JSONP = "jsonp"),
      (i.MANIFEST = "manifest"),
      (i.SOUND = "sound"),
      (i.VIDEO = "video"),
      (i.SPRITESHEET = "spritesheet"),
      (i.SVG = "svg"),
      (i.TEXT = "text"),
      (i.XML = "xml"),
      (t.getItem = function () {
        return this._item;
      }),
      (t.getResult = function (e) {
        return e ? this._rawResult : this._result;
      }),
      (t.getTag = function () {
        return this._tag;
      }),
      (t.setTag = function (e) {
        this._tag = e;
      }),
      (t.load = function () {
        this._createRequest(),
          this._request.on("complete", this, this),
          this._request.on("progress", this, this),
          this._request.on("loadStart", this, this),
          this._request.on("abort", this, this),
          this._request.on("timeout", this, this),
          this._request.on("error", this, this);
        var e = new createjs.Event("initialize");
        (e.loader = this._request), this.dispatchEvent(e), this._request.load();
      }),
      (t.cancel = function () {
        (this.canceled = !0), this.destroy();
      }),
      (t.destroy = function () {
        this._request &&
          (this._request.removeAllEventListeners(), this._request.destroy()),
          (this._request = null),
          (this._item = null),
          (this._rawResult = null),
          (this._result = null),
          (this._loadItems = null),
          this.removeAllEventListeners();
      }),
      (t.getLoadedItems = function () {
        return this._loadedItems;
      }),
      (t._createRequest = function () {
        this._request = this._preferXHR
          ? new createjs.XHRRequest(this._item)
          : new createjs.TagRequest(
              this._item,
              this._tag || this._createTag(),
              this._tagSrcAttribute
            );
      }),
      (t._createTag = function () {
        return null;
      }),
      (t._sendLoadStart = function () {
        this._isCanceled() || this.dispatchEvent("loadstart");
      }),
      (t._sendProgress = function (e) {
        if (!this._isCanceled()) {
          var t = null;
          "number" == typeof e
            ? ((this.progress = e),
              (t = new createjs.ProgressEvent(this.progress)))
            : ((t = e),
              (this.progress = e.loaded / e.total),
              (t.progress = this.progress),
              (isNaN(this.progress) || 1 / 0 == this.progress) &&
                (this.progress = 0)),
            this.hasEventListener("progress") && this.dispatchEvent(t);
        }
      }),
      (t._sendComplete = function () {
        if (!this._isCanceled()) {
          this.loaded = !0;
          var e = new createjs.Event("complete");
          (e.rawResult = this._rawResult),
            null != this._result && (e.result = this._result),
            this.dispatchEvent(e);
        }
      }),
      (t._sendError = function (e) {
        !this._isCanceled() &&
          this.hasEventListener("error") &&
          (null == e && (e = new createjs.ErrorEvent("PRELOAD_ERROR_EMPTY")),
          this.dispatchEvent(e));
      }),
      (t._isCanceled = function () {
        return null == window.createjs || this.canceled ? !0 : !1;
      }),
      (t.resultFormatter = null),
      (t.handleEvent = function (e) {
        switch (e.type) {
          case "complete":
            this._rawResult = e.target._response;
            var t = this.resultFormatter && this.resultFormatter(this),
              i = this;
            t instanceof Function
              ? t(function (e) {
                  (i._result = e), i._sendComplete();
                })
              : ((this._result = t || this._rawResult), this._sendComplete());
            break;
          case "progress":
            this._sendProgress(e);
            break;
          case "error":
            this._sendError(e);
            break;
          case "loadstart":
            this._sendLoadStart();
            break;
          case "abort":
          case "timeout":
            this._isCanceled() || this.dispatchEvent(e.type);
        }
      }),
      (t.buildPath = function (e, t) {
        return createjs.RequestUtils.buildPath(e, t);
      }),
      (t.toString = function () {
        return "[PreloadJS AbstractLoader]";
      }),
      (createjs.AbstractLoader = createjs.promote(e, "EventDispatcher"));
  })(),
  (this.createjs = this.createjs || {}),
  (function () {
    "use strict";
    function e(e, t, i) {
      this.AbstractLoader_constructor(e, t, i),
        (this.resultFormatter = this._formatResult),
        (this._tagSrcAttribute = "src");
    }
    var t = createjs.extend(e, createjs.AbstractLoader);
    (t.load = function () {
      this._tag || (this._tag = this._createTag(this._item.src)),
        (this._tag.preload = "auto"),
        this._tag.load(),
        this.AbstractLoader_load();
    }),
      (t._createTag = function () {}),
      (t._createRequest = function () {
        this._request = this._preferXHR
          ? new createjs.XHRRequest(this._item)
          : new createjs.MediaTagRequest(
              this._item,
              this._tag || this._createTag(),
              this._tagSrcAttribute
            );
      }),
      (t._formatResult = function (e) {
        return (
          this._tag.removeEventListener &&
            this._tag.removeEventListener(
              "canplaythrough",
              this._loadedHandler
            ),
          (this._tag.onstalled = null),
          this._preferXHR && (e.getTag().src = e.getResult(!0)),
          e.getTag()
        );
      }),
      (createjs.AbstractMediaLoader = createjs.promote(e, "AbstractLoader"));
  })(),
  (this.createjs = this.createjs || {}),
  (function () {
    "use strict";
    var e = function (e) {
        this._item = e;
      },
      t = createjs.extend(e, createjs.EventDispatcher);
    (t.load = function () {}),
      (t.destroy = function () {}),
      (t.cancel = function () {}),
      (createjs.AbstractRequest = createjs.promote(e, "EventDispatcher"));
  })(),
  (this.createjs = this.createjs || {}),
  (function () {
    "use strict";
    function e(e, t, i) {
      this.AbstractRequest_constructor(e),
        (this._tag = t),
        (this._tagSrcAttribute = i),
        (this._loadedHandler = createjs.proxy(this._handleTagComplete, this)),
        (this._addedToDOM = !1),
        (this._startTagVisibility = null);
    }
    var t = createjs.extend(e, createjs.AbstractRequest);
    (t.load = function () {
      null == this._tag.parentNode &&
        (window.document.body.appendChild(this._tag), (this._addedToDOM = !0)),
        (this._tag.onload = createjs.proxy(this._handleTagComplete, this)),
        (this._tag.onreadystatechange = createjs.proxy(
          this._handleReadyStateChange,
          this
        ));
      var e = new createjs.Event("initialize");
      (e.loader = this._tag),
        this.dispatchEvent(e),
        this._hideTag(),
        (this._tag[this._tagSrcAttribute] = this._item.src);
    }),
      (t.destroy = function () {
        this._clean(), (this._tag = null), this.AbstractRequest_destroy();
      }),
      (t._handleReadyStateChange = function () {
        clearTimeout(this._loadTimeout);
        var e = this._tag;
        ("loaded" == e.readyState || "complete" == e.readyState) &&
          this._handleTagComplete();
      }),
      (t._handleTagComplete = function () {
        (this._rawResult = this._tag),
          (this._result =
            (this.resultFormatter && this.resultFormatter(this)) ||
            this._rawResult),
          this._clean(),
          this._showTag(),
          this.dispatchEvent("complete");
      }),
      (t._clean = function () {
        (this._tag.onload = null),
          (this._tag.onreadystatechange = null),
          this._addedToDOM &&
            null != this._tag.parentNode &&
            this._tag.parentNode.removeChild(this._tag);
      }),
      (t._hideTag = function () {
        (this._startTagVisibility = this._tag.style.visibility),
          (this._tag.style.visibility = "hidden");
      }),
      (t._showTag = function () {
        this._tag.style.visibility = this._startTagVisibility;
      }),
      (t._handleStalled = function () {}),
      (createjs.TagRequest = createjs.promote(e, "AbstractRequest"));
  })(),
  (this.createjs = this.createjs || {}),
  (function () {
    "use strict";
    function e(e, t, i) {
      this.AbstractRequest_constructor(e),
        (this._tag = t),
        (this._tagSrcAttribute = i),
        (this._loadedHandler = createjs.proxy(this._handleTagComplete, this));
    }
    var t = createjs.extend(e, createjs.TagRequest);
    (t.load = function () {
      (this._tag.onstalled = createjs.proxy(this._handleStalled, this)),
        (this._tag.onprogress = createjs.proxy(this._handleProgress, this)),
        this._tag.addEventListener &&
          this._tag.addEventListener("canplaythrough", this._loadedHandler, !1),
        this.TagRequest_load();
    }),
      (t._handleReadyStateChange = function () {
        clearTimeout(this._loadTimeout);
        var e = this._tag;
        ("loaded" == e.readyState || "complete" == e.readyState) &&
          this._handleTagComplete();
      }),
      (t._handleStalled = function () {}),
      (t._handleProgress = function (e) {
        if (e && !(e.loaded > 0 && 0 == e.total)) {
          var t = new createjs.ProgressEvent(e.loaded, e.total);
          this.dispatchEvent(t);
        }
      }),
      (t._clean = function () {
        this._tag.removeEventListener &&
          this._tag.removeEventListener("canplaythrough", this._loadedHandler),
          (this._tag.onstalled = null),
          (this._tag.onprogress = null),
          this.TagRequest__clean();
      }),
      (createjs.MediaTagRequest = createjs.promote(e, "TagRequest"));
  })(),
  (this.createjs = this.createjs || {}),
  (function () {
    "use strict";
    function e(e) {
      this.AbstractRequest_constructor(e),
        (this._request = null),
        (this._loadTimeout = null),
        (this._xhrLevel = 1),
        (this._response = null),
        (this._rawResponse = null),
        (this._canceled = !1),
        (this._handleLoadStartProxy = createjs.proxy(
          this._handleLoadStart,
          this
        )),
        (this._handleProgressProxy = createjs.proxy(
          this._handleProgress,
          this
        )),
        (this._handleAbortProxy = createjs.proxy(this._handleAbort, this)),
        (this._handleErrorProxy = createjs.proxy(this._handleError, this)),
        (this._handleTimeoutProxy = createjs.proxy(this._handleTimeout, this)),
        (this._handleLoadProxy = createjs.proxy(this._handleLoad, this)),
        (this._handleReadyStateChangeProxy = createjs.proxy(
          this._handleReadyStateChange,
          this
        )),
        !this._createXHR(e);
    }
    var t = createjs.extend(e, createjs.AbstractRequest);
    (e.ACTIVEX_VERSIONS = [
      "Msxml2.XMLHTTP.6.0",
      "Msxml2.XMLHTTP.5.0",
      "Msxml2.XMLHTTP.4.0",
      "MSXML2.XMLHTTP.3.0",
      "MSXML2.XMLHTTP",
      "Microsoft.XMLHTTP",
    ]),
      (t.getResult = function (e) {
        return e && this._rawResponse ? this._rawResponse : this._response;
      }),
      (t.cancel = function () {
        (this.canceled = !0), this._clean(), this._request.abort();
      }),
      (t.load = function () {
        if (null == this._request) return void this._handleError();
        this._request.addEventListener(
          "loadstart",
          this._handleLoadStartProxy,
          !1
        ),
          this._request.addEventListener(
            "progress",
            this._handleProgressProxy,
            !1
          ),
          this._request.addEventListener("abort", this._handleAbortProxy, !1),
          this._request.addEventListener("error", this._handleErrorProxy, !1),
          this._request.addEventListener(
            "timeout",
            this._handleTimeoutProxy,
            !1
          ),
          this._request.addEventListener("load", this._handleLoadProxy, !1),
          this._request.addEventListener(
            "readystatechange",
            this._handleReadyStateChangeProxy,
            !1
          ),
          1 == this._xhrLevel &&
            (this._loadTimeout = setTimeout(
              createjs.proxy(this._handleTimeout, this),
              this._item.loadTimeout
            ));
        try {
          this._item.values && this._item.method != createjs.AbstractLoader.GET
            ? this._item.method == createjs.AbstractLoader.POST &&
              this._request.send(
                createjs.RequestUtils.formatQueryString(this._item.values)
              )
            : this._request.send();
        } catch (e) {
          this.dispatchEvent(new createjs.ErrorEvent("XHR_SEND", null, e));
        }
      }),
      (t.setResponseType = function (e) {
        this._request.responseType = e;
      }),
      (t.getAllResponseHeaders = function () {
        return this._request.getAllResponseHeaders instanceof Function
          ? this._request.getAllResponseHeaders()
          : null;
      }),
      (t.getResponseHeader = function (e) {
        return this._request.getResponseHeader instanceof Function
          ? this._request.getResponseHeader(e)
          : null;
      }),
      (t._handleProgress = function (e) {
        if (e && !(e.loaded > 0 && 0 == e.total)) {
          var t = new createjs.ProgressEvent(e.loaded, e.total);
          this.dispatchEvent(t);
        }
      }),
      (t._handleLoadStart = function () {
        clearTimeout(this._loadTimeout), this.dispatchEvent("loadstart");
      }),
      (t._handleAbort = function (e) {
        this._clean(),
          this.dispatchEvent(new createjs.ErrorEvent("XHR_ABORTED", null, e));
      }),
      (t._handleError = function (e) {
        this._clean(), this.dispatchEvent(new createjs.ErrorEvent(e.message));
      }),
      (t._handleReadyStateChange = function () {
        4 == this._request.readyState && this._handleLoad();
      }),
      (t._handleLoad = function () {
        if (!this.loaded) {
          this.loaded = !0;
          var e = this._checkError();
          if (e) return void this._handleError(e);
          (this._response = this._getResponse()),
            this._clean(),
            this.dispatchEvent(new createjs.Event("complete"));
        }
      }),
      (t._handleTimeout = function (e) {
        this._clean(),
          this.dispatchEvent(
            new createjs.ErrorEvent("PRELOAD_TIMEOUT", null, e)
          );
      }),
      (t._checkError = function () {
        var e = parseInt(this._request.status);
        switch (e) {
          case 404:
          case 0:
            return new Error(e);
        }
        return null;
      }),
      (t._getResponse = function () {
        if (null != this._response) return this._response;
        if (null != this._request.response) return this._request.response;
        try {
          if (null != this._request.responseText)
            return this._request.responseText;
        } catch (e) {}
        try {
          if (null != this._request.responseXML)
            return this._request.responseXML;
        } catch (e) {}
        return null;
      }),
      (t._createXHR = function (e) {
        var t = createjs.RequestUtils.isCrossDomain(e),
          i = {},
          r = null;
        if (window.XMLHttpRequest)
          (r = new XMLHttpRequest()),
            t &&
              void 0 === r.withCredentials &&
              window.XDomainRequest &&
              (r = new XDomainRequest());
        else {
          for (var n = 0, o = s.ACTIVEX_VERSIONS.length; o > n; n++) {
            s.ACTIVEX_VERSIONS[n];
            try {
              r = new ActiveXObject(axVersions);
              break;
            } catch (a) {}
          }
          if (null == r) return !1;
        }
        e.mimeType && r.overrideMimeType && r.overrideMimeType(e.mimeType),
          (this._xhrLevel = "string" == typeof r.responseType ? 2 : 1);
        var l = null;
        if (
          ((l =
            e.method == createjs.AbstractLoader.GET
              ? createjs.RequestUtils.buildPath(e.src, e.values)
              : e.src),
          r.open(e.method || createjs.AbstractLoader.GET, l, !0),
          t &&
            r instanceof XMLHttpRequest &&
            1 == this._xhrLevel &&
            (i.Origin = location.origin),
          e.values &&
            e.method == createjs.AbstractLoader.POST &&
            (i["Content-Type"] = "application/x-www-form-urlencoded"),
          t ||
            i["X-Requested-With"] ||
            (i["X-Requested-With"] = "XMLHttpRequest"),
          e.headers)
        )
          for (var h in e.headers) i[h] = e.headers[h];
        for (h in i) r.setRequestHeader(h, i[h]);
        return (
          r instanceof XMLHttpRequest &&
            void 0 !== e.withCredentials &&
            (r.withCredentials = e.withCredentials),
          (this._request = r),
          !0
        );
      }),
      (t._clean = function () {
        clearTimeout(this._loadTimeout),
          this._request.removeEventListener(
            "loadstart",
            this._handleLoadStartProxy
          ),
          this._request.removeEventListener(
            "progress",
            this._handleProgressProxy
          ),
          this._request.removeEventListener("abort", this._handleAbortProxy),
          this._request.removeEventListener("error", this._handleErrorProxy),
          this._request.removeEventListener(
            "timeout",
            this._handleTimeoutProxy
          ),
          this._request.removeEventListener("load", this._handleLoadProxy),
          this._request.removeEventListener(
            "readystatechange",
            this._handleReadyStateChangeProxy
          );
      }),
      (t.toString = function () {
        return "[PreloadJS XHRRequest]";
      }),
      (createjs.XHRRequest = createjs.promote(e, "AbstractRequest"));
  })(),
  (this.createjs = this.createjs || {}),
  (function () {
    "use strict";
    function e(e, t) {
      this.AbstractMediaLoader_constructor(e, t, createjs.AbstractLoader.SOUND),
        createjs.RequestUtils.isAudioTag(e)
          ? (this._tag = e)
          : createjs.RequestUtils.isAudioTag(e.src)
          ? (this._tag = e)
          : createjs.RequestUtils.isAudioTag(e.tag) &&
            (this._tag = createjs.RequestUtils.isAudioTag(e) ? e : e.src),
        null != this._tag && (this._preferXHR = !1);
    }
    var t = createjs.extend(e, createjs.AbstractMediaLoader),
      i = e;
    (i.canLoadItem = function (e) {
      return e.type == createjs.AbstractLoader.SOUND;
    }),
      (t._createTag = function (e) {
        var t = document.createElement("audio");
        return (t.autoplay = !1), (t.preload = "none"), (t.src = e), t;
      }),
      (createjs.SoundLoader = createjs.promote(e, "AbstractMediaLoader"));
  })(),
  (this.createjs = this.createjs || {}),
  (function () {
    "use strict";
    function e() {
      throw "Sound cannot be instantiated";
    }
    function t(e, t) {
      this.init(e, t);
    }
    var i = e;
    (i.INTERRUPT_ANY = "any"),
      (i.INTERRUPT_EARLY = "early"),
      (i.INTERRUPT_LATE = "late"),
      (i.INTERRUPT_NONE = "none"),
      (i.PLAY_INITED = "playInited"),
      (i.PLAY_SUCCEEDED = "playSucceeded"),
      (i.PLAY_INTERRUPTED = "playInterrupted"),
      (i.PLAY_FINISHED = "playFinished"),
      (i.PLAY_FAILED = "playFailed"),
      (i.SUPPORTED_EXTENSIONS = [
        "mp3",
        "ogg",
        "mpeg",
        "wav",
        "m4a",
        "mp4",
        "aiff",
        "wma",
        "mid",
      ]),
      (i.EXTENSION_MAP = { m4a: "mp4" }),
      (i.FILE_PATTERN =
        /^(?:(\w+:)\/{2}(\w+(?:\.\w+)*\/?))?([/.]*?(?:[^?]+)?\/)?((?:[^/?]+)\.(\w+))(?:\?(\S+)?)?$/),
      (i.defaultInterruptBehavior = i.INTERRUPT_NONE),
      (i.alternateExtensions = []),
      (i.activePlugin = null),
      (i._pluginsRegistered = !1),
      (i._lastID = 0),
      (i._masterVolume = 1),
      (i._masterMute = !1),
      (i._instances = []),
      (i._idHash = {}),
      (i._preloadHash = {}),
      (i.addEventListener = null),
      (i.removeEventListener = null),
      (i.removeAllEventListeners = null),
      (i.dispatchEvent = null),
      (i.hasEventListener = null),
      (i._listeners = null),
      createjs.EventDispatcher.initialize(i),
      (i.getPreloadHandlers = function () {
        return {
          callback: createjs.proxy(i.initLoad, i),
          types: ["sound"],
          extensions: i.SUPPORTED_EXTENSIONS,
        };
      }),
      (i._handleLoadComplete = function (e) {
        var t = e.target.getItem().src;
        if (i._preloadHash[t])
          for (var r = 0, n = i._preloadHash[t].length; n > r; r++) {
            var o = i._preloadHash[t][r];
            if (((i._preloadHash[t][r] = !0), i.hasEventListener("fileload"))) {
              var e = new createjs.Event("fileload");
              (e.src = o.src),
                (e.id = o.id),
                (e.data = o.data),
                (e.sprite = o.sprite),
                i.dispatchEvent(e);
            }
          }
      }),
      (i._handleLoadError = function (e) {
        var t = e.target.getItem().src;
        if (i._preloadHash[t])
          for (var r = 0, n = i._preloadHash[t].length; n > r; r++) {
            var o = i._preloadHash[t][r];
            if (
              ((i._preloadHash[t][r] = !1), i.hasEventListener("fileerror"))
            ) {
              var e = new createjs.Event("fileerror");
              (e.src = o.src),
                (e.id = o.id),
                (e.data = o.data),
                (e.sprite = o.sprite),
                i.dispatchEvent(e);
            }
          }
      }),
      (i._registerPlugin = function (e) {
        return e.isSupported() ? ((i.activePlugin = new e()), !0) : !1;
      }),
      (i.registerPlugins = function (e) {
        i._pluginsRegistered = !0;
        for (var t = 0, r = e.length; r > t; t++)
          if (i._registerPlugin(e[t])) return !0;
        return !1;
      }),
      (i.initializeDefaultPlugins = function () {
        return null != i.activePlugin
          ? !0
          : i._pluginsRegistered
          ? !1
          : i.registerPlugins([
              createjs.WebAudioPlugin,
              createjs.HTMLAudioPlugin,
            ])
          ? !0
          : !1;
      }),
      (i.isReady = function () {
        return null != i.activePlugin;
      }),
      (i.getCapabilities = function () {
        return null == i.activePlugin ? null : i.activePlugin._capabilities;
      }),
      (i.getCapability = function (e) {
        return null == i.activePlugin ? null : i.activePlugin._capabilities[e];
      }),
      (i.initLoad = function (e) {
        return i._registerSound(e);
      }),
      (i._registerSound = function (e) {
        if (!i.initializeDefaultPlugins()) return !1;
        var r = i._parsePath(e.src);
        if (null == r) return !1;
        (e.src = r.src), (e.type = "sound");
        var n = e.data,
          o = i.activePlugin.defaultNumChannels || null;
        if (
          null != n &&
          (isNaN(n.channels)
            ? isNaN(n) || (o = parseInt(n))
            : (o = parseInt(n.channels)),
          n.audioSprite)
        )
          for (var a, s = n.audioSprite.length; s--; )
            (a = n.audioSprite[s]),
              (i._idHash[a.id] = {
                src: e.src,
                startTime: parseInt(a.startTime),
                duration: parseInt(a.duration),
              });
        null != e.id && (i._idHash[e.id] = { src: e.src });
        var l = i.activePlugin.register(e, o);
        return (
          t.create(e.src, o),
          null != n && isNaN(n)
            ? (e.data.channels = o || t.maxPerChannel())
            : (e.data = o || t.maxPerChannel()),
          l.type && (e.type = l.type),
          l
        );
      }),
      (i.registerSound = function (e, t, r, n) {
        var o = { src: e, id: t, data: r };
        e instanceof Object && ((n = t), (o = e)),
          (o = createjs.LoadItem.create(o)),
          null != n && (o.src = n + e);
        var a = i._registerSound(o);
        if (!a) return !1;
        if (
          (i._preloadHash[o.src] || (i._preloadHash[o.src] = []),
          i._preloadHash[o.src].push(o),
          1 == i._preloadHash[o.src].length)
        )
          a.on("complete", createjs.proxy(this._handleLoadComplete, this)),
            a.on("error", createjs.proxy(this._handleLoadError, this)),
            i.activePlugin.preload(a);
        else if (1 == i._preloadHash[o.src][0]) return !0;
        return o;
      }),
      (i.registerSounds = function (e, t) {
        var i = [];
        e.path && (t ? (t += e.path) : (t = e.path));
        for (var r = 0, n = e.length; n > r; r++)
          i[r] = createjs.Sound.registerSound(e[r].src, e[r].id, e[r].data, t);
        return i;
      }),
      (i.registerManifest = function (e, t) {
        try {
          console.log(
            "createjs.Sound.registerManifest is deprecated, please use createjs.Sound.registerSounds."
          );
        } catch (i) {}
        return this.registerSounds(e, t);
      }),
      (i.removeSound = function (e, r) {
        if (null == i.activePlugin) return !1;
        e instanceof Object && (e = e.src),
          (e = i._getSrcById(e).src),
          null != r && (e = r + e);
        var n = i._parsePath(e);
        if (null == n) return !1;
        e = n.src;
        for (var o in i._idHash) i._idHash[o].src == e && delete i._idHash[o];
        return (
          t.removeSrc(e),
          delete i._preloadHash[e],
          i.activePlugin.removeSound(e),
          !0
        );
      }),
      (i.removeSounds = function (e, t) {
        var i = [];
        e.path && (t ? (t += e.path) : (t = e.path));
        for (var r = 0, n = e.length; n > r; r++)
          i[r] = createjs.Sound.removeSound(e[r].src, t);
        return i;
      }),
      (i.removeManifest = function (e, t) {
        try {
          console.log(
            "createjs.Sound.removeManifest is deprecated, please use createjs.Sound.removeSounds."
          );
        } catch (r) {}
        return i.removeSounds(e, t);
      }),
      (i.removeAllSounds = function () {
        (i._idHash = {}),
          (i._preloadHash = {}),
          t.removeAll(),
          i.activePlugin && i.activePlugin.removeAllSounds();
      }),
      (i.loadComplete = function (e) {
        if (!i.isReady()) return !1;
        var t = i._parsePath(e);
        return (
          (e = t ? i._getSrcById(t.src).src : i._getSrcById(e).src),
          1 == i._preloadHash[e][0]
        );
      }),
      (i._parsePath = function (e) {
        "string" != typeof e && (e = e.toString());
        var t = e.match(i.FILE_PATTERN);
        if (null == t) return !1;
        for (var r = t[4], n = t[5], o = i.getCapabilities(), a = 0; !o[n]; )
          if (
            ((n = i.alternateExtensions[a++]), a > i.alternateExtensions.length)
          )
            return null;
        e = e.replace("." + t[5], "." + n);
        var s = { name: r, src: e, extension: n };
        return s;
      }),
      (i.play = function (e, t, r, n, o, a, s, l, h) {
        t instanceof Object &&
          ((r = t.delay),
          (n = t.offset),
          (o = t.loop),
          (a = t.volume),
          (s = t.pan),
          (l = t.startTime),
          (h = t.duration),
          (t = t.interrupt));
        var c = i.createInstance(e, l, h),
          u = i._playInstance(c, t, r, n, o, a, s);
        return u || c._playFailed(), c;
      }),
      (i.createInstance = function (e, r, n) {
        if (!i.initializeDefaultPlugins())
          return new createjs.DefaultSoundInstance(e, r, n);
        e = i._getSrcById(e);
        var o = i._parsePath(e.src),
          a = null;
        return (
          null != o && null != o.src
            ? (t.create(o.src),
              null == r && (r = e.startTime),
              (a = i.activePlugin.create(o.src, r, n || e.duration)))
            : (a = new createjs.DefaultSoundInstance(e, r, n)),
          (a.uniqueId = i._lastID++),
          a
        );
      }),
      (i.setVolume = function (e) {
        if (null == Number(e)) return !1;
        if (
          ((e = Math.max(0, Math.min(1, e))),
          (i._masterVolume = e),
          !this.activePlugin ||
            !this.activePlugin.setVolume ||
            !this.activePlugin.setVolume(e))
        )
          for (var t = this._instances, r = 0, n = t.length; n > r; r++)
            t[r].setMasterVolume(e);
      }),
      (i.getVolume = function () {
        return i._masterVolume;
      }),
      (i.setMute = function (e) {
        if (null == e) return !1;
        if (
          ((this._masterMute = e),
          !this.activePlugin ||
            !this.activePlugin.setMute ||
            !this.activePlugin.setMute(e))
        )
          for (var t = this._instances, i = 0, r = t.length; r > i; i++)
            t[i].setMasterMute(e);
        return !0;
      }),
      (i.getMute = function () {
        return this._masterMute;
      }),
      (i.stop = function () {
        for (var e = this._instances, t = e.length; t--; ) e[t].stop();
      }),
      (i._playInstance = function (e, t, r, n, o, a, s) {
        if (
          (t instanceof Object &&
            ((r = t.delay),
            (n = t.offset),
            (o = t.loop),
            (a = t.volume),
            (s = t.pan),
            (t = t.interrupt)),
          (t = t || i.defaultInterruptBehavior),
          null == r && (r = 0),
          null == n && (n = e.getPosition()),
          null == o && (o = e.loop),
          null == a && (a = e.volume),
          null == s && (s = e.pan),
          0 == r)
        ) {
          var l = i._beginPlaying(e, t, n, o, a, s);
          if (!l) return !1;
        } else {
          var h = setTimeout(function () {
            i._beginPlaying(e, t, n, o, a, s);
          }, r);
          e.delayTimeoutId = h;
        }
        return this._instances.push(e), !0;
      }),
      (i._beginPlaying = function (e, i, r, n, o, a) {
        if (!t.add(e, i)) return !1;
        var s = e._beginPlaying(r, n, o, a);
        if (!s) {
          var l = createjs.indexOf(this._instances, e);
          return l > -1 && this._instances.splice(l, 1), !1;
        }
        return !0;
      }),
      (i._getSrcById = function (e) {
        return i._idHash[e] || { src: e };
      }),
      (i._playFinished = function (e) {
        t.remove(e);
        var i = createjs.indexOf(this._instances, e);
        i > -1 && this._instances.splice(i, 1);
      }),
      (createjs.Sound = e),
      (t.channels = {}),
      (t.create = function (e, i) {
        var r = t.get(e);
        return null == r ? ((t.channels[e] = new t(e, i)), !0) : !1;
      }),
      (t.removeSrc = function (e) {
        var i = t.get(e);
        return null == i ? !1 : (i._removeAll(), delete t.channels[e], !0);
      }),
      (t.removeAll = function () {
        for (var e in t.channels) t.channels[e]._removeAll();
        t.channels = {};
      }),
      (t.add = function (e, i) {
        var r = t.get(e.src);
        return null == r ? !1 : r._add(e, i);
      }),
      (t.remove = function (e) {
        var i = t.get(e.src);
        return null == i ? !1 : (i._remove(e), !0);
      }),
      (t.maxPerChannel = function () {
        return r.maxDefault;
      }),
      (t.get = function (e) {
        return t.channels[e];
      });
    var r = t.prototype;
    (r.constructor = t),
      (r.src = null),
      (r.max = null),
      (r.maxDefault = 100),
      (r.length = 0),
      (r.init = function (e, t) {
        (this.src = e),
          (this.max = t || this.maxDefault),
          -1 == this.max && (this.max = this.maxDefault),
          (this._instances = []);
      }),
      (r._get = function (e) {
        return this._instances[e];
      }),
      (r._add = function (e, t) {
        return this._getSlot(t, e)
          ? (this._instances.push(e), this.length++, !0)
          : !1;
      }),
      (r._remove = function (e) {
        var t = createjs.indexOf(this._instances, e);
        return -1 == t ? !1 : (this._instances.splice(t, 1), this.length--, !0);
      }),
      (r._removeAll = function () {
        for (var e = this.length - 1; e >= 0; e--) this._instances[e].stop();
      }),
      (r._getSlot = function (t) {
        var i, r;
        if (t != e.INTERRUPT_NONE && ((r = this._get(0)), null == r)) return !0;
        for (var n = 0, o = this.max; o > n; n++) {
          if (((i = this._get(n)), null == i)) return !0;
          if (
            i.playState == e.PLAY_FINISHED ||
            i.playState == e.PLAY_INTERRUPTED ||
            i.playState == e.PLAY_FAILED
          ) {
            r = i;
            break;
          }
          t != e.INTERRUPT_NONE &&
            ((t == e.INTERRUPT_EARLY && i.getPosition() < r.getPosition()) ||
              (t == e.INTERRUPT_LATE && i.getPosition() > r.getPosition())) &&
            (r = i);
        }
        return null != r ? (r._interrupt(), this._remove(r), !0) : !1;
      }),
      (r.toString = function () {
        return "[Sound SoundChannel]";
      });
  })(),
  (this.createjs = this.createjs || {}),
  (function () {
    "use strict";
    var e = function (e, t, i, r) {
        this.EventDispatcher_constructor(),
          (this.src = e),
          (this.uniqueId = -1),
          (this.playState = null),
          (this.delayTimeoutId = null),
          (this._startTime = Math.max(0, t || 0)),
          (this._volume = 1),
          createjs.definePropertySupported &&
            Object.defineProperty(this, "volume", {
              get: this.getVolume,
              set: this.setVolume,
            }),
          (this._pan = 0),
          createjs.definePropertySupported &&
            Object.defineProperty(this, "pan", {
              get: this.getPan,
              set: this.setPan,
            }),
          (this._duration = Math.max(0, i || 0)),
          createjs.definePropertySupported &&
            Object.defineProperty(this, "duration", {
              get: this.getDuration,
              set: this.setDuration,
            }),
          (this._playbackResource = null),
          createjs.definePropertySupported &&
            Object.defineProperty(this, "playbackResource", {
              get: this.getPlaybackResource,
              set: this.setPlaybackResource,
            }),
          r !== !1 && r !== !0 && this.setPlaybackResource(r),
          (this._position = 0),
          createjs.definePropertySupported &&
            Object.defineProperty(this, "position", {
              get: this.getPosition,
              set: this.setPosition,
            }),
          (this._loop = 0),
          createjs.definePropertySupported &&
            Object.defineProperty(this, "loop", {
              get: this.getLoop,
              set: this.setLoop,
            }),
          (this._muted = !1),
          createjs.definePropertySupported &&
            Object.defineProperty(this, "muted", {
              get: this.getMuted,
              set: this.setMuted,
            }),
          (this._paused = !1),
          createjs.definePropertySupported &&
            Object.defineProperty(this, "paused", {
              get: this.getPaused,
              set: this.setPaused,
            });
      },
      t = createjs.extend(e, createjs.EventDispatcher);
    (t.play = function (e, t, i, r, n, o) {
      return this.playState == createjs.Sound.PLAY_SUCCEEDED
        ? (e instanceof Object &&
            ((i = e.offset), (r = e.loop), (n = e.volume), (o = e.pan)),
          null != i && this.setPosition(i),
          null != r && this.setLoop(r),
          null != n && this.setVolume(n),
          null != o && this.setPan(o),
          void (this._paused && this.setPaused(!1)))
        : (this._cleanUp(),
          createjs.Sound._playInstance(this, e, t, i, r, n, o),
          this);
    }),
      (t.pause = function () {
        return this._paused || this.playState != createjs.Sound.PLAY_SUCCEEDED
          ? !1
          : (this.setPaused(!0), !0);
      }),
      (t.resume = function () {
        return this._paused ? (this.setPaused(!1), !0) : !1;
      }),
      (t.stop = function () {
        return (
          (this._position = 0),
          (this._paused = !1),
          this._handleStop(),
          this._cleanUp(),
          (this.playState = createjs.Sound.PLAY_FINISHED),
          this
        );
      }),
      (t.destroy = function () {
        this._cleanUp(),
          (this.src = null),
          (this.playbackResource = null),
          this.removeAllEventListeners();
      }),
      (t.toString = function () {
        return "[AbstractSoundInstance]";
      }),
      (t.getPaused = function () {
        return this._paused;
      }),
      (t.setPaused = function (e) {
        return (e !== !0 && e !== !1) ||
          this._paused == e ||
          (1 == e && this.playState != createjs.Sound.PLAY_SUCCEEDED)
          ? void 0
          : ((this._paused = e),
            e ? this._pause() : this._resume(),
            clearTimeout(this.delayTimeoutId),
            this);
      }),
      (t.setVolume = function (e) {
        return e == this._volume
          ? this
          : ((this._volume = Math.max(0, Math.min(1, e))),
            this._muted || this._updateVolume(),
            this);
      }),
      (t.getVolume = function () {
        return this._volume;
      }),
      (t.setMute = function (e) {
        this.setMuted(e);
      }),
      (t.getMute = function () {
        return this._muted;
      }),
      (t.setMuted = function (e) {
        return e === !0 || e === !1
          ? ((this._muted = e), this._updateVolume(), this)
          : void 0;
      }),
      (t.getMuted = function () {
        return this._muted;
      }),
      (t.setPan = function (e) {
        return e == this._pan
          ? this
          : ((this._pan = Math.max(-1, Math.min(1, e))),
            this._updatePan(),
            this);
      }),
      (t.getPan = function () {
        return this._pan;
      }),
      (t.getPosition = function () {
        return this._paused || this.playState != createjs.Sound.PLAY_SUCCEEDED
          ? this._position
          : this._calculateCurrentPosition();
      }),
      (t.setPosition = function (e) {
        return (
          (this._position = Math.max(0, e)),
          this.playState == createjs.Sound.PLAY_SUCCEEDED &&
            this._updatePosition(),
          this
        );
      }),
      (t.getDuration = function () {
        return this._duration;
      }),
      (t.setDuration = function (e) {
        return e == this._duration
          ? this
          : ((this._duration = Math.max(0, e || 0)),
            this._updateDuration(),
            this);
      }),
      (t.setPlaybackResource = function (e) {
        return (
          (this._playbackResource = e),
          0 == this._duration && this._setDurationFromSource(),
          this
        );
      }),
      (t.getPlaybackResource = function () {
        return this._playbackResource;
      }),
      (t.getLoop = function () {
        return this._loop;
      }),
      (t.setLoop = function (e) {
        null != this._playbackResource &&
          (0 != this._loop && 0 == e && this._removeLooping(e),
          0 == this._loop && 0 != e && this._addLooping(e)),
          (this._loop = e);
      }),
      (t._sendEvent = function (e) {
        var t = new createjs.Event(e);
        this.dispatchEvent(t);
      }),
      (t._cleanUp = function () {
        clearTimeout(this.delayTimeoutId),
          this._handleCleanUp(),
          (this._paused = !1),
          createjs.Sound._playFinished(this);
      }),
      (t._interrupt = function () {
        this._cleanUp(),
          (this.playState = createjs.Sound.PLAY_INTERRUPTED),
          this._sendEvent("interrupted");
      }),
      (t._beginPlaying = function (e, t, i, r) {
        return (
          this.setPosition(e),
          this.setLoop(t),
          this.setVolume(i),
          this.setPan(r),
          null != this._playbackResource && this._position < this._duration
            ? ((this._paused = !1),
              this._handleSoundReady(),
              (this.playState = createjs.Sound.PLAY_SUCCEEDED),
              this._sendEvent("succeeded"),
              !0)
            : (this._playFailed(), !1)
        );
      }),
      (t._playFailed = function () {
        this._cleanUp(),
          (this.playState = createjs.Sound.PLAY_FAILED),
          this._sendEvent("failed");
      }),
      (t._handleSoundComplete = function () {
        return (
          (this._position = 0),
          0 != this._loop
            ? (this._loop--, this._handleLoop(), void this._sendEvent("loop"))
            : (this._cleanUp(),
              (this.playState = createjs.Sound.PLAY_FINISHED),
              void this._sendEvent("complete"))
        );
      }),
      (t._handleSoundReady = function () {}),
      (t._updateVolume = function () {}),
      (t._updatePan = function () {}),
      (t._updateDuration = function () {}),
      (t._setDurationFromSource = function () {}),
      (t._calculateCurrentPosition = function () {}),
      (t._updatePosition = function () {}),
      (t._removeLooping = function () {}),
      (t._addLooping = function () {}),
      (t._pause = function () {}),
      (t._resume = function () {}),
      (t._handleStop = function () {}),
      (t._handleCleanUp = function () {}),
      (t._handleLoop = function () {}),
      (createjs.AbstractSoundInstance = createjs.promote(e, "EventDispatcher")),
      (createjs.DefaultSoundInstance = createjs.AbstractSoundInstance);
  })(),
  (this.createjs = this.createjs || {}),
  (function () {
    "use strict";
    var e = function () {
        (this._capabilities = null),
          (this._loaders = {}),
          (this._audioSources = {}),
          (this._soundInstances = {}),
          this._loaderClass,
          this._soundInstanceClass;
      },
      t = e.prototype;
    (e._capabilities = null),
      (e.isSupported = function () {
        return !0;
      }),
      (t.register = function (e) {
        if (
          ((this._audioSources[e.src] = !0),
          (this._soundInstances[e.src] = []),
          this._loaders[e.src])
        )
          return this._loaders[e.src];
        var t = new this._loaderClass(e);
        return (
          t.on("complete", createjs.proxy(this._handlePreloadComplete, this)),
          (this._loaders[e.src] = t),
          t
        );
      }),
      (t.preload = function (e) {
        e.on("error", createjs.proxy(this._handlePreloadError, this)), e.load();
      }),
      (t.isPreloadStarted = function (e) {
        return null != this._audioSources[e];
      }),
      (t.isPreloadComplete = function (e) {
        return !(null == this._audioSources[e] || 1 == this._audioSources[e]);
      }),
      (t.removeSound = function (e) {
        if (this._soundInstances[e]) {
          for (var t = this._soundInstances[e].length; t--; ) {
            var i = this._soundInstances[e][t];
            i.destroy();
          }
          delete this._soundInstances[e],
            delete this._audioSources[e],
            this._loaders[e] && this._loaders[e].destroy(),
            delete this._loaders[e];
        }
      }),
      (t.removeAllSounds = function () {
        for (var e in this._audioSources) this.removeSound(e);
      }),
      (t.create = function (e, t, i) {
        this.isPreloadStarted(e) || this.preload(this.register(e));
        var r = new this._soundInstanceClass(e, t, i, this._audioSources[e]);
        return this._soundInstances[e].push(r), r;
      }),
      (t.setVolume = function (e) {
        return (this._volume = e), this._updateVolume(), !0;
      }),
      (t.getVolume = function () {
        return this._volume;
      }),
      (t.setMute = function () {
        return this._updateVolume(), !0;
      }),
      (t.toString = function () {
        return "[AbstractPlugin]";
      }),
      (t._handlePreloadComplete = function (e) {
        var t = e.target.getItem().src;
        this._audioSources[t] = e.result;
        for (var i = 0, r = this._soundInstances[t].length; r > i; i++) {
          var n = this._soundInstances[t][i];
          n.setPlaybackResource(this._audioSources[t]);
        }
      }),
      (t._handlePreloadError = function () {}),
      (t._updateVolume = function () {}),
      (createjs.AbstractPlugin = e);
  })(),
  (this.createjs = this.createjs || {}),
  (function () {
    "use strict";
    function e(e) {
      this.AbstractLoader_constructor(e, !0, createjs.AbstractLoader.SOUND);
    }
    var t = createjs.extend(e, createjs.AbstractLoader);
    (e.context = null),
      (t.toString = function () {
        return "[WebAudioLoader]";
      }),
      (t._createRequest = function () {
        (this._request = new createjs.XHRRequest(this._item, !1)),
          this._request.setResponseType("arraybuffer");
      }),
      (t._sendComplete = function () {
        e.context.decodeAudioData(
          this._rawResult,
          createjs.proxy(this._handleAudioDecoded, this),
          createjs.proxy(this._handleError, this)
        );
      }),
      (t._handleAudioDecoded = function (e) {
        (this._result = e), this.AbstractLoader__sendComplete();
      }),
      (createjs.WebAudioLoader = createjs.promote(e, "AbstractLoader"));
  })(),
  (this.createjs = this.createjs || {}),
  (function () {
    "use strict";
    function e(e, t, r, n) {
      this.AbstractSoundInstance_constructor(e, t, r, n),
        (this.gainNode = i.context.createGain()),
        (this.panNode = i.context.createPanner()),
        (this.panNode.panningModel = i._panningModel),
        this.panNode.connect(this.gainNode),
        (this.sourceNode = null),
        (this._soundCompleteTimeout = null),
        (this._sourceNodeNext = null),
        (this._playbackStartTime = 0),
        (this._endedHandler = createjs.proxy(this._handleSoundComplete, this));
    }
    var t = createjs.extend(e, createjs.AbstractSoundInstance),
      i = e;
    (i.context = null),
      (i.destinationNode = null),
      (i._panningModel = "equalpower"),
      (t.destroy = function () {
        this.AbstractSoundInstance_destroy(),
          this.panNode.disconnect(0),
          (this.panNode = null),
          this.gainNode.disconnect(0),
          (this.gainNode = null);
      }),
      (t.toString = function () {
        return "[WebAudioSoundInstance]";
      }),
      (t._updatePan = function () {
        this.panNode.setPosition(this._pan, 0, -0.5);
      }),
      (t._removeLooping = function () {
        this._sourceNodeNext = this._cleanUpAudioNode(this._sourceNodeNext);
      }),
      (t._addLooping = function () {
        this.playState == createjs.Sound.PLAY_SUCCEEDED &&
          (this._sourceNodeNext = this._createAndPlayAudioNode(
            this._playbackStartTime,
            0
          ));
      }),
      (t._setDurationFromSource = function () {
        this._duration = 1e3 * this.playbackResource.duration;
      }),
      (t._handleCleanUp = function () {
        this.sourceNode &&
          this.playState == createjs.Sound.PLAY_SUCCEEDED &&
          ((this.sourceNode = this._cleanUpAudioNode(this.sourceNode)),
          (this._sourceNodeNext = this._cleanUpAudioNode(
            this._sourceNodeNext
          ))),
          0 != this.gainNode.numberOfOutputs && this.gainNode.disconnect(0),
          clearTimeout(this._soundCompleteTimeout),
          (this._playbackStartTime = 0);
      }),
      (t._cleanUpAudioNode = function (e) {
        return e && (e.stop(0), e.disconnect(0), (e = null)), e;
      }),
      (t._handleSoundReady = function () {
        this.gainNode.connect(i.destinationNode);
        var e = 0.001 * this._duration,
          t = 0.001 * this._position;
        (this.sourceNode = this._createAndPlayAudioNode(
          i.context.currentTime - e,
          t
        )),
          (this._playbackStartTime = this.sourceNode.startTime - t),
          (this._soundCompleteTimeout = setTimeout(
            this._endedHandler,
            1e3 * (e - t)
          )),
          0 != this._loop &&
            (this._sourceNodeNext = this._createAndPlayAudioNode(
              this._playbackStartTime,
              0
            ));
      }),
      (t._createAndPlayAudioNode = function (e, t) {
        var r = i.context.createBufferSource();
        (r.buffer = this.playbackResource), r.connect(this.panNode);
        var n = 0.001 * this._duration;
        return (
          (r.startTime = e + n),
          r.start(r.startTime, t + 0.001 * this._startTime, n - t),
          r
        );
      }),
      (t._pause = function () {
        (this._position =
          1e3 * (i.context.currentTime - this._playbackStartTime)),
          (this.sourceNode = this._cleanUpAudioNode(this.sourceNode)),
          (this._sourceNodeNext = this._cleanUpAudioNode(this._sourceNodeNext)),
          0 != this.gainNode.numberOfOutputs && this.gainNode.disconnect(0),
          clearTimeout(this._soundCompleteTimeout);
      }),
      (t._resume = function () {
        this._handleSoundReady();
      }),
      (t._updateVolume = function () {
        var e = this._muted ? 0 : this._volume;
        e != this.gainNode.gain.value && (this.gainNode.gain.value = e);
      }),
      (t._calculateCurrentPosition = function () {
        return 1e3 * (i.context.currentTime - this._playbackStartTime);
      }),
      (t._updatePosition = function () {
        (this.sourceNode = this._cleanUpAudioNode(this.sourceNode)),
          (this._sourceNodeNext = this._cleanUpAudioNode(this._sourceNodeNext)),
          clearTimeout(this._soundCompleteTimeout),
          this._paused || this._handleSoundReady();
      }),
      (t._handleLoop = function () {
        this._cleanUpAudioNode(this.sourceNode),
          (this.sourceNode = this._sourceNodeNext),
          (this._playbackStartTime = this.sourceNode.startTime),
          (this._sourceNodeNext = this._createAndPlayAudioNode(
            this._playbackStartTime,
            0
          )),
          (this._soundCompleteTimeout = setTimeout(
            this._endedHandler,
            this._duration
          ));
      }),
      (t._updateDuration = function () {
        this._pause(), this._resume();
      }),
      (createjs.WebAudioSoundInstance = createjs.promote(
        e,
        "AbstractSoundInstance"
      ));
  })(),
  (this.createjs = this.createjs || {}),
  (function () {
    "use strict";
    function e() {
      this.AbstractPlugin_constructor(),
        (this._panningModel = i._panningModel),
        (this._volume = 1),
        (this.context = i.context),
        (this.dynamicsCompressorNode = this.context.createDynamicsCompressor()),
        this.dynamicsCompressorNode.connect(this.context.destination),
        (this.gainNode = this.context.createGain()),
        this.gainNode.connect(this.dynamicsCompressorNode),
        (createjs.WebAudioSoundInstance.destinationNode = this.gainNode),
        (this._capabilities = i._capabilities),
        (this._loaderClass = createjs.WebAudioLoader),
        (this._soundInstanceClass = createjs.WebAudioSoundInstance),
        this._addPropsToClasses();
    }
    var t = createjs.extend(e, createjs.AbstractPlugin),
      i = e;
    (i._capabilities = null),
      (i._panningModel = "equalpower"),
      (i.context = null),
      (i.isSupported = function () {
        var e =
          createjs.BrowserDetect.isIOS ||
          createjs.BrowserDetect.isAndroid ||
          createjs.BrowserDetect.isBlackberry;
        return "file:" != location.protocol || e || this._isFileXHRSupported()
          ? (i._generateCapabilities(), null == i.context ? !1 : !0)
          : !1;
      }),
      (i.playEmptySound = function () {
        var e = i.context.createBufferSource();
        (e.buffer = i.context.createBuffer(1, 1, 22050)),
          e.connect(i.context.destination),
          e.start(0, 0, 0);
      }),
      (i._isFileXHRSupported = function () {
        var e = !0,
          t = new XMLHttpRequest();
        try {
          t.open("GET", "WebAudioPluginTest.fail", !1);
        } catch (i) {
          return (e = !1);
        }
        (t.onerror = function () {
          e = !1;
        }),
          (t.onload = function () {
            e =
              404 == this.status ||
              200 == this.status ||
              (0 == this.status && "" != this.response);
          });
        try {
          t.send();
        } catch (i) {
          e = !1;
        }
        return e;
      }),
      (i._generateCapabilities = function () {
        if (null == i._capabilities) {
          var e = document.createElement("audio");
          if (null == e.canPlayType) return null;
          if (null == i.context)
            if (window.AudioContext) i.context = new AudioContext();
            else {
              if (!window.webkitAudioContext) return null;
              i.context = new webkitAudioContext();
            }
          i._compatibilitySetUp(),
            i.playEmptySound(),
            (i._capabilities = { panning: !0, volume: !0, tracks: -1 });
          for (
            var t = createjs.Sound.SUPPORTED_EXTENSIONS,
              r = createjs.Sound.EXTENSION_MAP,
              n = 0,
              o = t.length;
            o > n;
            n++
          ) {
            var a = t[n],
              s = r[a] || a;
            i._capabilities[a] =
              ("no" != e.canPlayType("audio/" + a) &&
                "" != e.canPlayType("audio/" + a)) ||
              ("no" != e.canPlayType("audio/" + s) &&
                "" != e.canPlayType("audio/" + s));
          }
          i.context.destination.numberOfChannels < 2 &&
            (i._capabilities.panning = !1);
        }
      }),
      (i._compatibilitySetUp = function () {
        if (((i._panningModel = "equalpower"), !i.context.createGain)) {
          i.context.createGain = i.context.createGainNode;
          var e = i.context.createBufferSource();
          (e.__proto__.start = e.__proto__.noteGrainOn),
            (e.__proto__.stop = e.__proto__.noteOff),
            (i._panningModel = 0);
        }
      }),
      (t.toString = function () {
        return "[WebAudioPlugin]";
      }),
      (t._addPropsToClasses = function () {
        var e = this._soundInstanceClass;
        (e.context = this.context),
          (e.destinationNode = this.gainNode),
          (e._panningModel = this._panningModel),
          (this._loaderClass.context = this.context);
      }),
      (t._updateVolume = function () {
        var e = createjs.Sound._masterMute ? 0 : this._volume;
        e != this.gainNode.gain.value && (this.gainNode.gain.value = e);
      }),
      (createjs.WebAudioPlugin = createjs.promote(e, "AbstractPlugin"));
  })(),
  (this.createjs = this.createjs || {}),
  (function () {
    "use strict";
    function e(e) {
      (this.src = e),
        (this.length = 0),
        (this.available = 0),
        (this.tags = []),
        (this.duration = 0);
    }
    var t = e.prototype;
    t.constructor = e;
    var i = e;
    (i.tags = {}),
      (i.get = function (t) {
        var r = i.tags[t];
        return null == r && (r = i.tags[t] = new e(t)), r;
      }),
      (i.remove = function (e) {
        var t = i.tags[e];
        return null == t ? !1 : (t.removeAll(), delete i.tags[e], !0);
      }),
      (i.getInstance = function (e) {
        var t = i.tags[e];
        return null == t ? null : t.get();
      }),
      (i.setInstance = function (e, t) {
        var r = i.tags[e];
        return null == r ? null : r.set(t);
      }),
      (i.getDuration = function (e) {
        var t = i.tags[e];
        return null == t ? 0 : t.getDuration();
      }),
      (t.add = function (e) {
        this.tags.push(e), this.length++, this.available++;
      }),
      (t.removeAll = function () {
        for (var e; this.length--; )
          (e = this.tags[this.length]),
            e.parentNode && e.parentNode.removeChild(e),
            delete this.tags[this.length];
        (this.src = null), (this.tags.length = 0);
      }),
      (t.get = function () {
        if (0 == this.tags.length) return null;
        this.available = this.tags.length;
        var e = this.tags.pop();
        return null == e.parentNode && document.body.appendChild(e), e;
      }),
      (t.set = function (e) {
        var t = createjs.indexOf(this.tags, e);
        -1 == t && this.tags.push(e), (this.available = this.tags.length);
      }),
      (t.getDuration = function () {
        return (
          this.duration ||
            (this.duration = 1e3 * this.tags[this.tags.length - 1].duration),
          this.duration
        );
      }),
      (t.toString = function () {
        return "[HTMLAudioTagPool]";
      }),
      (createjs.HTMLAudioTagPool = e);
  })(),
  (this.createjs = this.createjs || {}),
  (function () {
    "use strict";
    function e(e, t, i, r) {
      this.AbstractSoundInstance_constructor(e, t, i, r),
        (this._audioSpriteStopTime = null),
        (this._delayTimeoutId = null),
        (this._endedHandler = createjs.proxy(this._handleSoundComplete, this)),
        (this._readyHandler = createjs.proxy(this._handleTagReady, this)),
        (this._stalledHandler = createjs.proxy(this.playFailed, this)),
        (this._audioSpriteEndHandler = createjs.proxy(
          this._handleAudioSpriteLoop,
          this
        )),
        (this._loopHandler = createjs.proxy(this._handleSoundComplete, this)),
        i
          ? (this._audioSpriteStopTime = 0.001 * (t + i))
          : (this._duration = createjs.HTMLAudioTagPool.getDuration(this.src));
    }
    var t = createjs.extend(e, createjs.AbstractSoundInstance);
    (t.setMasterVolume = function () {
      this._updateVolume();
    }),
      (t.setMasterMute = function () {
        this._updateVolume();
      }),
      (t.toString = function () {
        return "[HTMLAudioSoundInstance]";
      }),
      (t._removeLooping = function () {
        null != this._playbackResource &&
          ((this._playbackResource.loop = !1),
          this._playbackResource.removeEventListener(
            createjs.HTMLAudioPlugin._AUDIO_SEEKED,
            this._loopHandler,
            !1
          ));
      }),
      (t._addLooping = function () {
        null == this._playbackResource ||
          this._audioSpriteStopTime ||
          (this._playbackResource.addEventListener(
            createjs.HTMLAudioPlugin._AUDIO_SEEKED,
            this._loopHandler,
            !1
          ),
          (this._playbackResource.loop = !0));
      }),
      (t._handleCleanUp = function () {
        var e = this._playbackResource;
        if (null != e) {
          e.pause(),
            (e.loop = !1),
            e.removeEventListener(
              createjs.HTMLAudioPlugin._AUDIO_ENDED,
              this._endedHandler,
              !1
            ),
            e.removeEventListener(
              createjs.HTMLAudioPlugin._AUDIO_READY,
              this._readyHandler,
              !1
            ),
            e.removeEventListener(
              createjs.HTMLAudioPlugin._AUDIO_STALLED,
              this._stalledHandler,
              !1
            ),
            e.removeEventListener(
              createjs.HTMLAudioPlugin._AUDIO_SEEKED,
              this._loopHandler,
              !1
            ),
            e.removeEventListener(
              createjs.HTMLAudioPlugin._TIME_UPDATE,
              this._audioSpriteEndHandler,
              !1
            );
          try {
            e.currentTime = this._startTime;
          } catch (t) {}
          createjs.HTMLAudioTagPool.setInstance(this.src, e),
            (this._playbackResource = null);
        }
      }),
      (t._beginPlaying = function (e, t, i, r) {
        return (
          (this._playbackResource = createjs.HTMLAudioTagPool.getInstance(
            this.src
          )),
          this.AbstractSoundInstance__beginPlaying(e, t, i, r)
        );
      }),
      (t._handleSoundReady = function () {
        if (4 !== this._playbackResource.readyState) {
          var e = this._playbackResource;
          return (
            e.addEventListener(
              createjs.HTMLAudioPlugin._AUDIO_READY,
              this._readyHandler,
              !1
            ),
            e.addEventListener(
              createjs.HTMLAudioPlugin._AUDIO_STALLED,
              this._stalledHandler,
              !1
            ),
            (e.preload = "auto"),
            void e.load()
          );
        }
        this._updateVolume(),
          (this._playbackResource.currentTime =
            0.001 * (this._startTime + this._position)),
          this._audioSpriteStopTime
            ? this._playbackResource.addEventListener(
                createjs.HTMLAudioPlugin._TIME_UPDATE,
                this._audioSpriteEndHandler,
                !1
              )
            : (this._playbackResource.addEventListener(
                createjs.HTMLAudioPlugin._AUDIO_ENDED,
                this._endedHandler,
                !1
              ),
              0 != this._loop &&
                (this._playbackResource.addEventListener(
                  createjs.HTMLAudioPlugin._AUDIO_SEEKED,
                  this._loopHandler,
                  !1
                ),
                (this._playbackResource.loop = !0))),
          this._playbackResource.play();
      }),
      (t._handleTagReady = function () {
        this._playbackResource.removeEventListener(
          createjs.HTMLAudioPlugin._AUDIO_READY,
          this._readyHandler,
          !1
        ),
          this._playbackResource.removeEventListener(
            createjs.HTMLAudioPlugin._AUDIO_STALLED,
            this._stalledHandler,
            !1
          ),
          this._handleSoundReady();
      }),
      (t._pause = function () {
        this._playbackResource.pause();
      }),
      (t._resume = function () {
        this._playbackResource.play();
      }),
      (t._updateVolume = function () {
        if (null != this._playbackResource) {
          var e =
            this._muted || createjs.Sound._masterMute
              ? 0
              : this._volume * createjs.Sound._masterVolume;
          e != this._playbackResource.volume &&
            (this._playbackResource.volume = e);
        }
      }),
      (t._calculateCurrentPosition = function () {
        return 1e3 * this._playbackResource.currentTime - this._startTime;
      }),
      (t._updatePosition = function () {
        this._playbackResource.removeEventListener(
          createjs.HTMLAudioPlugin._AUDIO_SEEKED,
          this._loopHandler,
          !1
        ),
          this._playbackResource.addEventListener(
            createjs.HTMLAudioPlugin._AUDIO_SEEKED,
            this._handleSetPositionSeek,
            !1
          );
        try {
          this._playbackResource.currentTime =
            0.001 * (this._position + this._startTime);
        } catch (e) {
          this._handleSetPositionSeek(null);
        }
      }),
      (t._handleSetPositionSeek = function () {
        null != this._playbackResource &&
          (this._playbackResource.removeEventListener(
            createjs.HTMLAudioPlugin._AUDIO_SEEKED,
            this._handleSetPositionSeek,
            !1
          ),
          this._playbackResource.addEventListener(
            createjs.HTMLAudioPlugin._AUDIO_SEEKED,
            this._loopHandler,
            !1
          ));
      }),
      (t._handleAudioSpriteLoop = function () {
        this._playbackResource.currentTime <= this._audioSpriteStopTime ||
          (this._playbackResource.pause(),
          0 == this._loop
            ? this._handleSoundComplete(null)
            : ((this._position = 0),
              this._loop--,
              (this._playbackResource.currentTime = 0.001 * this._startTime),
              this._paused || this._playbackResource.play(),
              this._sendEvent("loop")));
      }),
      (t._handleLoop = function () {
        0 == this._loop &&
          ((this._playbackResource.loop = !1),
          this._playbackResource.removeEventListener(
            createjs.HTMLAudioPlugin._AUDIO_SEEKED,
            this._loopHandler,
            !1
          ));
      }),
      (t._updateDuration = function () {
        (this._audioSpriteStopTime = 0.001 * (startTime + duration)),
          this.playState == createjs.Sound.PLAY_SUCCEEDED &&
            (this._playbackResource.removeEventListener(
              createjs.HTMLAudioPlugin._AUDIO_ENDED,
              this._endedHandler,
              !1
            ),
            this._playbackResource.addEventListener(
              createjs.HTMLAudioPlugin._TIME_UPDATE,
              this._audioSpriteEndHandler,
              !1
            ));
      }),
      (createjs.HTMLAudioSoundInstance = createjs.promote(
        e,
        "AbstractSoundInstance"
      ));
  })(),
  (this.createjs = this.createjs || {}),
  (function () {
    "use strict";
    function e() {
      this.AbstractPlugin_constructor(),
        (this.defaultNumChannels = 2),
        (this._capabilities = i._capabilities),
        (this._loaderClass = createjs.SoundLoader),
        (this._soundInstanceClass = createjs.HTMLAudioSoundInstance);
    }
    var t = createjs.extend(e, createjs.AbstractPlugin),
      i = e;
    (i.MAX_INSTANCES = 30),
      (i._AUDIO_READY = "canplaythrough"),
      (i._AUDIO_ENDED = "ended"),
      (i._AUDIO_SEEKED = "seeked"),
      (i._AUDIO_STALLED = "stalled"),
      (i._TIME_UPDATE = "timeupdate"),
      (i._capabilities = null),
      (i.enableIOS = !1),
      (i.isSupported = function () {
        return i._generateCapabilities(), null == i._capabilities ? !1 : !0;
      }),
      (i._generateCapabilities = function () {
        if (null == i._capabilities) {
          var e = document.createElement("audio");
          if (null == e.canPlayType) return null;
          i._capabilities = { panning: !0, volume: !0, tracks: -1 };
          for (
            var t = createjs.Sound.SUPPORTED_EXTENSIONS,
              r = createjs.Sound.EXTENSION_MAP,
              n = 0,
              o = t.length;
            o > n;
            n++
          ) {
            var a = t[n],
              s = r[a] || a;
            i._capabilities[a] =
              ("no" != e.canPlayType("audio/" + a) &&
                "" != e.canPlayType("audio/" + a)) ||
              ("no" != e.canPlayType("audio/" + s) &&
                "" != e.canPlayType("audio/" + s));
          }
        }
      }),
      (t.register = function (e, t) {
        for (
          var i = createjs.HTMLAudioTagPool.get(e.src), r = null, n = 0;
          t > n;
          n++
        )
          (r = this._createTag(e.src)), i.add(r);
        var o = this.AbstractPlugin_register(e, t);
        return o.setTag(r), o;
      }),
      (t.removeSound = function (e) {
        this.AbstractPlugin_removeSound(e), createjs.HTMLAudioTagPool.remove(e);
      }),
      (t.create = function (e, t, i) {
        var r = this.AbstractPlugin_create(e, t, i);
        return r.setPlaybackResource(null), r;
      }),
      (t.toString = function () {
        return "[HTMLAudioPlugin]";
      }),
      (t.setVolume = t.getVolume = t.setMute = null),
      (t._createTag = function (e) {
        var t = document.createElement("audio");
        return (t.autoplay = !1), (t.preload = "none"), (t.src = e), t;
      }),
      (createjs.HTMLAudioPlugin = createjs.promote(e, "AbstractPlugin"));
  })(),
  define("libs/createjs/soundjs", function () {}),
  define(
    "createjs",
    ["libs/createjs/preloadjs", "libs/createjs/soundjs"],
    function (e, t) {
      "use strict";
      return window.createjs;
    }
  ),
  define(
    "model/loader_collection",
    ["console", "underscore", "jquery", "backbone", "config", "createjs"],
    function (e, t, i, r, n, o) {
      "use strict";
      var a = r.Collection.extend({
        loadDone: !1,
        loaders: {},
        initialize: function () {
          (o.SoundJS.alternateExtensions = ["ogg"]),
            this.on("add", this.onAdded, this),
            this.on("change:loaded", this.onLoaded, this);
        },
        createLoader: function (e) {
          if (!this.loaders[e]) {
            var i = new o.LoadQueue(!1);
            i.installPlugin(o.Sound),
              i.setMaxConnections(4),
              (i.maintainScriptOrder = !1),
              i.addEventListener("fileload", t.bind(this.onFileLoaded, this)),
              i.addEventListener("complete", t.bind(this.onComplete, this)),
              i.addEventListener("progress", t.bind(this.onProgress, this)),
              i.addEventListener("error", t.bind(this.onError, this)),
              (this.loaders[e] = i);
          }
          return this.loaders[e];
        },
        onLoaded: function (e, t) {
          if (!t) throw new Error("Load set to false");
        },
        onProgress: function (e) {
          this.trigger("progress", e);
        },
        onAdded: function (e, i, r) {
          e.has("id") || e.set({ id: e.get("src") }),
            e.has("loadTimeout ") || e.set({ loadTimeout: 6e5 }),
            t.isUndefined(r.group) || e.set({ group: r.group }),
            e.has("group") || e.set({ group: "main" }),
            e.set({ loaded: !1 }, { silent: !0 });
          var n = this.getLoader(e.get("group"));
          n || (n = this.createLoader(e.get("group")));
          var a = e.toJSON(),
            s = new o.LoadItem().set(a);
          n.loadFile(s, !1);
        },
        getLoader: function (e) {
          return this.loaders[e];
        },
        onFileLoaded: function (e) {
          this.get(e.item.id).set(t.extend(e.item, { loaded: !0 })),
            this.trigger("loaded", e);
        },
        onComplete: function (e) {
          this.loadDone = !0;
          var i;
          t.each(
            this.loaders,
            function (t, r) {
              t === e.target && (i = r);
            },
            this
          ),
            i && t.extend(e, { group: i }),
            this.trigger("complete", e);
        },
        setPaused: function (e, i) {
          t.isUndefined(i) && (i = "main");
          var r = this.getLoader(i);
          r && r.setPaused(e);
        },
        stop: function (e) {
          t.isUndefined(e) && (e = "main");
          var i = this.getLoader(e);
          i && (i.close(), i.reset());
        },
        start: function (e) {
          t.isUndefined(e) && (e = "main");
          var i = this.getLoader(e);
          i ? i.load() : this.onComplete({});
        },
        hasLoaded: function (e) {
          var t = !0;
          return (
            e && this.loaders[e]
              ? (t = this.loaders[e].loaded)
              : i.each(this.loaders, function (e, i) {
                  var r = i.loaded;
                  r || (t = !1);
                }),
            t
          );
        },
        getResult: function (e) {
          var t;
          return (
            i.each(this.loaders, function (i, r) {
              var n = r.getResult(e);
              n && (t = n);
            }),
            t
          );
        },
        onError: function (t) {
          e.error(t),
            this.get(t.item.id).set({ loaded: !0, error: !0 }),
            this.trigger("load_error", t);
        },
      });
      return new a();
    }
  ),
  define(
    "util/anim_frame",
    ["config", "underscore", "backbone"],
    function (e, t, i) {
      "use strict";
      !(function () {
        for (
          var e = 0, t = ["ms", "moz", "webkit", "o"], i = 0;
          i < t.length && !window.requestAnimationFrame;
          ++i
        )
          (window.requestAnimationFrame =
            window[t[i] + "RequestAnimationFrame"]),
            (window.cancelAnimationFrame =
              window[t[i] + "CancelAnimationFrame"] ||
              window[t[i] + "CancelRequestAnimationFrame"]);
        window.requestAnimationFrame ||
          (window.requestAnimationFrame = function (t, i) {
            var r = new Date().getTime(),
              n = Math.max(0, 16 - (r - e)),
              o = window.setTimeout(function () {
                t(r + n);
              }, n);
            return (e = r + n), o;
          }),
          window.cancelAnimationFrame ||
            (window.cancelAnimationFrame = function (e) {
              clearTimeout(e);
            });
      })();
      var r = {};
      r.onAnimRequestFrame = function () {
        this.trigger("anim_frame"), window.requestAnimationFrame(n);
      };
      var n = t.bind(r.onAnimRequestFrame, r);
      return t.extend(r, i.Events), r.onAnimRequestFrame(), r;
    }
  ),
  define(
    "view/common/communicator",
    ["jquery", "underscore", "backbone"],
    function (e, t, i) {
      var r = {
          EVENTS: {
            SITE: {
              MOUSE: { MOVE: "EVENTS.SITE.MOUSE.MOVE" },
              PARTICLES: {
                RESET_POSITION: "EVENTS.SITE.PARTICLE.RESET_POSITION",
              },
            },
          },
        },
        n = {};
      return t.extend(n, i.Events), t.extend(n, r), n;
    }
  ),
  define(
    "controller/app_controller",
    [
      "underscore",
      "backbone",
      "route/router",
      "model/app_model",
      "model/loader_collection",
      "util/anim_frame",
      "view/common/communicator",
    ],
    function (e, t, i, r, n, o, a) {
      var s = {
        init: function () {
          this.setupExternalInterface(),
            n.on("complete", this.onLoaderComplete, this),
            i.on("page", this.onRouterPage, this);
        },
        onRouterPage: function (e, t) {
          e === r.PAGES.LOADER || n.hasLoaded()
            ? r.set({ page: e, pageOptions: t })
            : (r.set({ postLoaderPage: e, postLoaderPageOptions: t }),
              r.set("page", r.PAGES.LOADER));
        },
        onLoaderComplete: function (e) {
          ("main" !== e.group && n.getLoader("main")) ||
            (r.get("postLoaderPage") &&
              (this.onRouterPage(
                r.get("postLoaderPage"),
                r.get("postLoaderPageOptions")
              ),
              window.CocaineHeader.trigger("ready")));
        },
        activateApp: function () {
          r.startRender();
        },
        deactivateApp: function () {
          r.stopRender();
        },
        resetParticles: function () {
          a.trigger(a.EVENTS.SITE.PARTICLES.RESET_POSITION);
        },
        destroy: function () {},
        addApp: function () {},
        setupExternalInterface: function () {
          (window.CocaineHeader = {}),
            e.extend(window.CocaineHeader, t.Events),
            (window.CocaineHeader.mode = "INTERACTIVE"),
            (window.CocaineHeader.activate = e.bind(this.activateApp, this)),
            (window.CocaineHeader.deactivate = e.bind(
              this.deactivateApp,
              this
            )),
            (window.CocaineHeader.resetParticles = e.bind(
              this.resetParticles,
              this
            ));
        },
      };
      return s.init(), s;
    }
  ),
  define(
    "controller/loader_controller",
    ["underscore", "route/router", "model/loader_collection"],
    function (e, t, i) {
      "use strict";
      var r = {
        init: function () {},
        start: function () {
          i.start("main");
        },
      };
      return r.init(), r;
    }
  ),
  define(
    "view/common/base_view",
    ["jquery", "underscore", "backbone"],
    function (e, t, i) {
      "use strict";
      return i.View.extend({
        initialize: function (e) {},
        show: function () {},
        render: function () {},
        hide: function () {
          this.onHideComplete();
        },
        onHideComplete: function () {
          this.trigger("hideComplete");
        },
        onResize: function (e) {},
        destroy: function () {
          this.stopListening(), this.off();
        },
      });
    }
  ),
  define("route/route_object", ["jquery", "underscore"], function (e, t) {
    "use strict";
    var i = function (e, i, r, n) {
      t.isArray(e) || (e = [e]),
        (this.fragments = e),
        (this.id = i),
        (this.toURL = r || function () {}),
        (this.fromURL = n || function () {}),
        (this.getFragment = function () {
          return e[0];
        });
    };
    return i;
  });
var _gsScope =
  "undefined" != typeof module && module.exports && "undefined" != typeof global
    ? global
    : this || window;
(_gsScope._gsQueue || (_gsScope._gsQueue = [])).push(function () {
  "use strict";
  _gsScope._gsDefine(
    "TweenMax",
    ["core.Animation", "core.SimpleTimeline", "TweenLite"],
    function (e, t, i) {
      var r = function (e) {
          var t,
            i = [],
            r = e.length;
          for (t = 0; t !== r; i.push(e[t++]));
          return i;
        },
        n = function (e, t, r) {
          i.call(this, e, t, r),
            (this._cycle = 0),
            (this._yoyo = this.vars.yoyo === !0),
            (this._repeat = this.vars.repeat || 0),
            (this._repeatDelay = this.vars.repeatDelay || 0),
            (this._dirty = !0),
            (this.render = n.prototype.render);
        },
        o = 1e-10,
        a = i._internals,
        s = a.isSelector,
        l = a.isArray,
        h = (n.prototype = i.to({}, 0.1, {})),
        c = [];
      (n.version = "1.17.0"),
        (h.constructor = n),
        (h.kill()._gc = !1),
        (n.killTweensOf = n.killDelayedCallsTo = i.killTweensOf),
        (n.getTweensOf = i.getTweensOf),
        (n.lagSmoothing = i.lagSmoothing),
        (n.ticker = i.ticker),
        (n.render = i.render),
        (h.invalidate = function () {
          return (
            (this._yoyo = this.vars.yoyo === !0),
            (this._repeat = this.vars.repeat || 0),
            (this._repeatDelay = this.vars.repeatDelay || 0),
            this._uncache(!0),
            i.prototype.invalidate.call(this)
          );
        }),
        (h.updateTo = function (e, t) {
          var r,
            n = this.ratio,
            o = this.vars.immediateRender || e.immediateRender;
          t &&
            this._startTime < this._timeline._time &&
            ((this._startTime = this._timeline._time),
            this._uncache(!1),
            this._gc
              ? this._enabled(!0, !1)
              : this._timeline.insert(this, this._startTime - this._delay));
          for (r in e) this.vars[r] = e[r];
          if (this._initted || o)
            if (t) (this._initted = !1), o && this.render(0, !0, !0);
            else if (
              (this._gc && this._enabled(!0, !1),
              this._notifyPluginsOfEnabled &&
                this._firstPT &&
                i._onPluginEvent("_onDisable", this),
              this._time / this._duration > 0.998)
            ) {
              var a = this._time;
              this.render(0, !0, !1),
                (this._initted = !1),
                this.render(a, !0, !1);
            } else if (this._time > 0 || o) {
              (this._initted = !1), this._init();
              for (var s, l = 1 / (1 - n), h = this._firstPT; h; )
                (s = h.s + h.c), (h.c *= l), (h.s = s - h.c), (h = h._next);
            }
          return this;
        }),
        (h.render = function (e, t, i) {
          this._initted ||
            (0 === this._duration && this.vars.repeat && this.invalidate());
          var r,
            n,
            s,
            l,
            h,
            c,
            u,
            d,
            f = this._dirty ? this.totalDuration() : this._totalDuration,
            p = this._time,
            m = this._totalTime,
            g = this._cycle,
            E = this._duration,
            v = this._rawPrevTime;
          if (
            (e >= f
              ? ((this._totalTime = f),
                (this._cycle = this._repeat),
                this._yoyo && 0 !== (1 & this._cycle)
                  ? ((this._time = 0),
                    (this.ratio = this._ease._calcEnd
                      ? this._ease.getRatio(0)
                      : 0))
                  : ((this._time = E),
                    (this.ratio = this._ease._calcEnd
                      ? this._ease.getRatio(1)
                      : 1)),
                this._reversed ||
                  ((r = !0),
                  (n = "onComplete"),
                  (i = i || this._timeline.autoRemoveChildren)),
                0 === E &&
                  (this._initted || !this.vars.lazy || i) &&
                  (this._startTime === this._timeline._duration && (e = 0),
                  (0 === e || 0 > v || v === o) &&
                    v !== e &&
                    ((i = !0), v > o && (n = "onReverseComplete")),
                  (this._rawPrevTime = d = !t || e || v === e ? e : o)))
              : 1e-7 > e
              ? ((this._totalTime = this._time = this._cycle = 0),
                (this.ratio = this._ease._calcEnd ? this._ease.getRatio(0) : 0),
                (0 !== m || (0 === E && v > 0)) &&
                  ((n = "onReverseComplete"), (r = this._reversed)),
                0 > e &&
                  ((this._active = !1),
                  0 === E &&
                    (this._initted || !this.vars.lazy || i) &&
                    (v >= 0 && (i = !0),
                    (this._rawPrevTime = d = !t || e || v === e ? e : o))),
                this._initted || (i = !0))
              : ((this._totalTime = this._time = e),
                0 !== this._repeat &&
                  ((l = E + this._repeatDelay),
                  (this._cycle = (this._totalTime / l) >> 0),
                  0 !== this._cycle &&
                    this._cycle === this._totalTime / l &&
                    this._cycle--,
                  (this._time = this._totalTime - this._cycle * l),
                  this._yoyo &&
                    0 !== (1 & this._cycle) &&
                    (this._time = E - this._time),
                  this._time > E
                    ? (this._time = E)
                    : 0 > this._time && (this._time = 0)),
                this._easeType
                  ? ((h = this._time / E),
                    (c = this._easeType),
                    (u = this._easePower),
                    (1 === c || (3 === c && h >= 0.5)) && (h = 1 - h),
                    3 === c && (h *= 2),
                    1 === u
                      ? (h *= h)
                      : 2 === u
                      ? (h *= h * h)
                      : 3 === u
                      ? (h *= h * h * h)
                      : 4 === u && (h *= h * h * h * h),
                    (this.ratio =
                      1 === c
                        ? 1 - h
                        : 2 === c
                        ? h
                        : 0.5 > this._time / E
                        ? h / 2
                        : 1 - h / 2))
                  : (this.ratio = this._ease.getRatio(this._time / E))),
            p === this._time && !i && g === this._cycle)
          )
            return void (
              m !== this._totalTime &&
              this._onUpdate &&
              (t || this._callback("onUpdate"))
            );
          if (!this._initted) {
            if ((this._init(), !this._initted || this._gc)) return;
            if (
              !i &&
              this._firstPT &&
              ((this.vars.lazy !== !1 && this._duration) ||
                (this.vars.lazy && !this._duration))
            )
              return (
                (this._time = p),
                (this._totalTime = m),
                (this._rawPrevTime = v),
                (this._cycle = g),
                a.lazyTweens.push(this),
                void (this._lazy = [e, t])
              );
            this._time && !r
              ? (this.ratio = this._ease.getRatio(this._time / E))
              : r &&
                this._ease._calcEnd &&
                (this.ratio = this._ease.getRatio(0 === this._time ? 0 : 1));
          }
          for (
            this._lazy !== !1 && (this._lazy = !1),
              this._active ||
                (!this._paused &&
                  this._time !== p &&
                  e >= 0 &&
                  (this._active = !0)),
              0 === m &&
                (2 === this._initted && e > 0 && this._init(),
                this._startAt &&
                  (e >= 0
                    ? this._startAt.render(e, t, i)
                    : n || (n = "_dummyGS")),
                this.vars.onStart &&
                  (0 !== this._totalTime || 0 === E) &&
                  (t || this._callback("onStart"))),
              s = this._firstPT;
            s;

          )
            s.f
              ? s.t[s.p](s.c * this.ratio + s.s)
              : (s.t[s.p] = s.c * this.ratio + s.s),
              (s = s._next);
          this._onUpdate &&
            (0 > e &&
              this._startAt &&
              this._startTime &&
              this._startAt.render(e, t, i),
            t || ((this._totalTime !== m || r) && this._callback("onUpdate"))),
            this._cycle !== g &&
              (t ||
                this._gc ||
                (this.vars.onRepeat && this._callback("onRepeat"))),
            n &&
              (!this._gc || i) &&
              (0 > e &&
                this._startAt &&
                !this._onUpdate &&
                this._startTime &&
                this._startAt.render(e, t, i),
              r &&
                (this._timeline.autoRemoveChildren && this._enabled(!1, !1),
                (this._active = !1)),
              !t && this.vars[n] && this._callback(n),
              0 === E &&
                this._rawPrevTime === o &&
                d !== o &&
                (this._rawPrevTime = 0));
        }),
        (n.to = function (e, t, i) {
          return new n(e, t, i);
        }),
        (n.from = function (e, t, i) {
          return (
            (i.runBackwards = !0),
            (i.immediateRender = 0 != i.immediateRender),
            new n(e, t, i)
          );
        }),
        (n.fromTo = function (e, t, i, r) {
          return (
            (r.startAt = i),
            (r.immediateRender =
              0 != r.immediateRender && 0 != i.immediateRender),
            new n(e, t, r)
          );
        }),
        (n.staggerTo = n.allTo =
          function (e, t, o, a, h, u, d) {
            a = a || 0;
            var f,
              p,
              m,
              g,
              E = o.delay || 0,
              v = [],
              _ = function () {
                o.onComplete &&
                  o.onComplete.apply(o.onCompleteScope || this, arguments),
                  h.apply(d || o.callbackScope || this, u || c);
              };
            for (
              l(e) ||
                ("string" == typeof e && (e = i.selector(e) || e),
                s(e) && (e = r(e))),
                e = e || [],
                0 > a && ((e = r(e)), e.reverse(), (a *= -1)),
                f = e.length - 1,
                m = 0;
              f >= m;
              m++
            ) {
              p = {};
              for (g in o) p[g] = o[g];
              (p.delay = E),
                m === f && h && (p.onComplete = _),
                (v[m] = new n(e[m], t, p)),
                (E += a);
            }
            return v;
          }),
        (n.staggerFrom = n.allFrom =
          function (e, t, i, r, o, a, s) {
            return (
              (i.runBackwards = !0),
              (i.immediateRender = 0 != i.immediateRender),
              n.staggerTo(e, t, i, r, o, a, s)
            );
          }),
        (n.staggerFromTo = n.allFromTo =
          function (e, t, i, r, o, a, s, l) {
            return (
              (r.startAt = i),
              (r.immediateRender =
                0 != r.immediateRender && 0 != i.immediateRender),
              n.staggerTo(e, t, r, o, a, s, l)
            );
          }),
        (n.delayedCall = function (e, t, i, r, o) {
          return new n(t, 0, {
            delay: e,
            onComplete: t,
            onCompleteParams: i,
            callbackScope: r,
            onReverseComplete: t,
            onReverseCompleteParams: i,
            immediateRender: !1,
            useFrames: o,
            overwrite: 0,
          });
        }),
        (n.set = function (e, t) {
          return new n(e, 0, t);
        }),
        (n.isTweening = function (e) {
          return i.getTweensOf(e, !0).length > 0;
        });
      var u = function (e, t) {
          for (var r = [], n = 0, o = e._first; o; )
            o instanceof i
              ? (r[n++] = o)
              : (t && (r[n++] = o), (r = r.concat(u(o, t))), (n = r.length)),
              (o = o._next);
          return r;
        },
        d = (n.getAllTweens = function (t) {
          return u(e._rootTimeline, t).concat(u(e._rootFramesTimeline, t));
        });
      (n.killAll = function (e, i, r, n) {
        null == i && (i = !0), null == r && (r = !0);
        var o,
          a,
          s,
          l = d(0 != n),
          h = l.length,
          c = i && r && n;
        for (s = 0; h > s; s++)
          (a = l[s]),
            (c ||
              a instanceof t ||
              ((o = a.target === a.vars.onComplete) && r) ||
              (i && !o)) &&
              (e
                ? a.totalTime(a._reversed ? 0 : a.totalDuration())
                : a._enabled(!1, !1));
      }),
        (n.killChildTweensOf = function (e, t) {
          if (null != e) {
            var o,
              h,
              c,
              u,
              d,
              f = a.tweenLookup;
            if (
              ("string" == typeof e && (e = i.selector(e) || e),
              s(e) && (e = r(e)),
              l(e))
            )
              for (u = e.length; --u > -1; ) n.killChildTweensOf(e[u], t);
            else {
              o = [];
              for (c in f)
                for (h = f[c].target.parentNode; h; )
                  h === e && (o = o.concat(f[c].tweens)), (h = h.parentNode);
              for (d = o.length, u = 0; d > u; u++)
                t && o[u].totalTime(o[u].totalDuration()),
                  o[u]._enabled(!1, !1);
            }
          }
        });
      var f = function (e, i, r, n) {
        (i = i !== !1), (r = r !== !1), (n = n !== !1);
        for (var o, a, s = d(n), l = i && r && n, h = s.length; --h > -1; )
          (a = s[h]),
            (l ||
              a instanceof t ||
              ((o = a.target === a.vars.onComplete) && r) ||
              (i && !o)) &&
              a.paused(e);
      };
      return (
        (n.pauseAll = function (e, t, i) {
          f(!0, e, t, i);
        }),
        (n.resumeAll = function (e, t, i) {
          f(!1, e, t, i);
        }),
        (n.globalTimeScale = function (t) {
          var r = e._rootTimeline,
            n = i.ticker.time;
          return arguments.length
            ? ((t = t || o),
              (r._startTime = n - ((n - r._startTime) * r._timeScale) / t),
              (r = e._rootFramesTimeline),
              (n = i.ticker.frame),
              (r._startTime = n - ((n - r._startTime) * r._timeScale) / t),
              (r._timeScale = e._rootTimeline._timeScale = t),
              t)
            : r._timeScale;
        }),
        (h.progress = function (e) {
          return arguments.length
            ? this.totalTime(
                this.duration() *
                  (this._yoyo && 0 !== (1 & this._cycle) ? 1 - e : e) +
                  this._cycle * (this._duration + this._repeatDelay),
                !1
              )
            : this._time / this.duration();
        }),
        (h.totalProgress = function (e) {
          return arguments.length
            ? this.totalTime(this.totalDuration() * e, !1)
            : this._totalTime / this.totalDuration();
        }),
        (h.time = function (e, t) {
          return arguments.length
            ? (this._dirty && this.totalDuration(),
              e > this._duration && (e = this._duration),
              this._yoyo && 0 !== (1 & this._cycle)
                ? (e =
                    this._duration -
                    e +
                    this._cycle * (this._duration + this._repeatDelay))
                : 0 !== this._repeat &&
                  (e += this._cycle * (this._duration + this._repeatDelay)),
              this.totalTime(e, t))
            : this._time;
        }),
        (h.duration = function (t) {
          return arguments.length
            ? e.prototype.duration.call(this, t)
            : this._duration;
        }),
        (h.totalDuration = function (e) {
          return arguments.length
            ? -1 === this._repeat
              ? this
              : this.duration(
                  (e - this._repeat * this._repeatDelay) / (this._repeat + 1)
                )
            : (this._dirty &&
                ((this._totalDuration =
                  -1 === this._repeat
                    ? 999999999999
                    : this._duration * (this._repeat + 1) +
                      this._repeatDelay * this._repeat),
                (this._dirty = !1)),
              this._totalDuration);
        }),
        (h.repeat = function (e) {
          return arguments.length
            ? ((this._repeat = e), this._uncache(!0))
            : this._repeat;
        }),
        (h.repeatDelay = function (e) {
          return arguments.length
            ? ((this._repeatDelay = e), this._uncache(!0))
            : this._repeatDelay;
        }),
        (h.yoyo = function (e) {
          return arguments.length ? ((this._yoyo = e), this) : this._yoyo;
        }),
        n
      );
    },
    !0
  ),
    _gsScope._gsDefine(
      "TimelineLite",
      ["core.Animation", "core.SimpleTimeline", "TweenLite"],
      function (e, t, i) {
        var r = function (e) {
            t.call(this, e),
              (this._labels = {}),
              (this.autoRemoveChildren = this.vars.autoRemoveChildren === !0),
              (this.smoothChildTiming = this.vars.smoothChildTiming === !0),
              (this._sortChildren = !0),
              (this._onUpdate = this.vars.onUpdate);
            var i,
              r,
              n = this.vars;
            for (r in n)
              (i = n[r]),
                l(i) &&
                  -1 !== i.join("").indexOf("{self}") &&
                  (n[r] = this._swapSelfInParams(i));
            l(n.tweens) && this.add(n.tweens, 0, n.align, n.stagger);
          },
          n = 1e-10,
          o = i._internals,
          a = (r._internals = {}),
          s = o.isSelector,
          l = o.isArray,
          h = o.lazyTweens,
          c = o.lazyRender,
          u = [],
          d = _gsScope._gsDefine.globals,
          f = function (e) {
            var t,
              i = {};
            for (t in e) i[t] = e[t];
            return i;
          },
          p = (a.pauseCallback = function (e, t, i, r) {
            var o,
              a = e._timeline,
              s = a._totalTime,
              l = e._startTime,
              h = 0 > e._rawPrevTime || (0 === e._rawPrevTime && a._reversed),
              c = h ? 0 : n,
              d = h ? n : 0;
            if (t || !this._forcingPlayhead) {
              for (a.pause(l), o = e._prev; o && o._startTime === l; )
                (o._rawPrevTime = d), (o = o._prev);
              for (o = e._next; o && o._startTime === l; )
                (o._rawPrevTime = c), (o = o._next);
              t && t.apply(r || a.vars.callbackScope || a, i || u),
                (this._forcingPlayhead || !a._paused) && a.seek(s);
            }
          }),
          m = function (e) {
            var t,
              i = [],
              r = e.length;
            for (t = 0; t !== r; i.push(e[t++]));
            return i;
          },
          g = (r.prototype = new t());
        return (
          (r.version = "1.17.0"),
          (g.constructor = r),
          (g.kill()._gc = g._forcingPlayhead = !1),
          (g.to = function (e, t, r, n) {
            var o = (r.repeat && d.TweenMax) || i;
            return t ? this.add(new o(e, t, r), n) : this.set(e, r, n);
          }),
          (g.from = function (e, t, r, n) {
            return this.add(((r.repeat && d.TweenMax) || i).from(e, t, r), n);
          }),
          (g.fromTo = function (e, t, r, n, o) {
            var a = (n.repeat && d.TweenMax) || i;
            return t ? this.add(a.fromTo(e, t, r, n), o) : this.set(e, n, o);
          }),
          (g.staggerTo = function (e, t, n, o, a, l, h, c) {
            var u,
              d = new r({
                onComplete: l,
                onCompleteParams: h,
                callbackScope: c,
                smoothChildTiming: this.smoothChildTiming,
              });
            for (
              "string" == typeof e && (e = i.selector(e) || e),
                e = e || [],
                s(e) && (e = m(e)),
                o = o || 0,
                0 > o && ((e = m(e)), e.reverse(), (o *= -1)),
                u = 0;
              e.length > u;
              u++
            )
              n.startAt && (n.startAt = f(n.startAt)),
                d.to(e[u], t, f(n), u * o);
            return this.add(d, a);
          }),
          (g.staggerFrom = function (e, t, i, r, n, o, a, s) {
            return (
              (i.immediateRender = 0 != i.immediateRender),
              (i.runBackwards = !0),
              this.staggerTo(e, t, i, r, n, o, a, s)
            );
          }),
          (g.staggerFromTo = function (e, t, i, r, n, o, a, s, l) {
            return (
              (r.startAt = i),
              (r.immediateRender =
                0 != r.immediateRender && 0 != i.immediateRender),
              this.staggerTo(e, t, r, n, o, a, s, l)
            );
          }),
          (g.call = function (e, t, r, n) {
            return this.add(i.delayedCall(0, e, t, r), n);
          }),
          (g.set = function (e, t, r) {
            return (
              (r = this._parseTimeOrLabel(r, 0, !0)),
              null == t.immediateRender &&
                (t.immediateRender = r === this._time && !this._paused),
              this.add(new i(e, 0, t), r)
            );
          }),
          (r.exportRoot = function (e, t) {
            (e = e || {}),
              null == e.smoothChildTiming && (e.smoothChildTiming = !0);
            var n,
              o,
              a = new r(e),
              s = a._timeline;
            for (
              null == t && (t = !0),
                s._remove(a, !0),
                a._startTime = 0,
                a._rawPrevTime = a._time = a._totalTime = s._time,
                n = s._first;
              n;

            )
              (o = n._next),
                (t && n instanceof i && n.target === n.vars.onComplete) ||
                  a.add(n, n._startTime - n._delay),
                (n = o);
            return s.add(a, 0), a;
          }),
          (g.add = function (n, o, a, s) {
            var h, c, u, d, f, p;
            if (
              ("number" != typeof o &&
                (o = this._parseTimeOrLabel(o, 0, !0, n)),
              !(n instanceof e))
            ) {
              if (n instanceof Array || (n && n.push && l(n))) {
                for (
                  a = a || "normal", s = s || 0, h = o, c = n.length, u = 0;
                  c > u;
                  u++
                )
                  l((d = n[u])) && (d = new r({ tweens: d })),
                    this.add(d, h),
                    "string" != typeof d &&
                      "function" != typeof d &&
                      ("sequence" === a
                        ? (h = d._startTime + d.totalDuration() / d._timeScale)
                        : "start" === a && (d._startTime -= d.delay())),
                    (h += s);
                return this._uncache(!0);
              }
              if ("string" == typeof n) return this.addLabel(n, o);
              if ("function" != typeof n)
                throw (
                  "Cannot add " +
                  n +
                  " into the timeline; it is not a tween, timeline, function, or string."
                );
              n = i.delayedCall(0, n);
            }
            if (
              (t.prototype.add.call(this, n, o),
              (this._gc || this._time === this._duration) &&
                !this._paused &&
                this._duration < this.duration())
            )
              for (f = this, p = f.rawTime() > n._startTime; f._timeline; )
                p && f._timeline.smoothChildTiming
                  ? f.totalTime(f._totalTime, !0)
                  : f._gc && f._enabled(!0, !1),
                  (f = f._timeline);
            return this;
          }),
          (g.remove = function (t) {
            if (t instanceof e) return this._remove(t, !1);
            if (t instanceof Array || (t && t.push && l(t))) {
              for (var i = t.length; --i > -1; ) this.remove(t[i]);
              return this;
            }
            return "string" == typeof t
              ? this.removeLabel(t)
              : this.kill(null, t);
          }),
          (g._remove = function (e, i) {
            t.prototype._remove.call(this, e, i);
            var r = this._last;
            return (
              r
                ? this._time > r._startTime + r._totalDuration / r._timeScale &&
                  ((this._time = this.duration()),
                  (this._totalTime = this._totalDuration))
                : (this._time =
                    this._totalTime =
                    this._duration =
                    this._totalDuration =
                      0),
              this
            );
          }),
          (g.append = function (e, t) {
            return this.add(e, this._parseTimeOrLabel(null, t, !0, e));
          }),
          (g.insert = g.insertMultiple =
            function (e, t, i, r) {
              return this.add(e, t || 0, i, r);
            }),
          (g.appendMultiple = function (e, t, i, r) {
            return this.add(e, this._parseTimeOrLabel(null, t, !0, e), i, r);
          }),
          (g.addLabel = function (e, t) {
            return (this._labels[e] = this._parseTimeOrLabel(t)), this;
          }),
          (g.addPause = function (e, t, r, n) {
            var o = i.delayedCall(0, p, ["{self}", t, r, n], this);
            return (o.data = "isPause"), this.add(o, e);
          }),
          (g.removeLabel = function (e) {
            return delete this._labels[e], this;
          }),
          (g.getLabelTime = function (e) {
            return null != this._labels[e] ? this._labels[e] : -1;
          }),
          (g._parseTimeOrLabel = function (t, i, r, n) {
            var o;
            if (n instanceof e && n.timeline === this) this.remove(n);
            else if (n && (n instanceof Array || (n.push && l(n))))
              for (o = n.length; --o > -1; )
                n[o] instanceof e &&
                  n[o].timeline === this &&
                  this.remove(n[o]);
            if ("string" == typeof i)
              return this._parseTimeOrLabel(
                i,
                r && "number" == typeof t && null == this._labels[i]
                  ? t - this.duration()
                  : 0,
                r
              );
            if (
              ((i = i || 0),
              "string" != typeof t || (!isNaN(t) && null == this._labels[t]))
            )
              null == t && (t = this.duration());
            else {
              if (((o = t.indexOf("=")), -1 === o))
                return null == this._labels[t]
                  ? r
                    ? (this._labels[t] = this.duration() + i)
                    : i
                  : this._labels[t] + i;
              (i =
                parseInt(t.charAt(o - 1) + "1", 10) * Number(t.substr(o + 1))),
                (t =
                  o > 1
                    ? this._parseTimeOrLabel(t.substr(0, o - 1), 0, r)
                    : this.duration());
            }
            return Number(t) + i;
          }),
          (g.seek = function (e, t) {
            return this.totalTime(
              "number" == typeof e ? e : this._parseTimeOrLabel(e),
              t !== !1
            );
          }),
          (g.stop = function () {
            return this.paused(!0);
          }),
          (g.gotoAndPlay = function (e, t) {
            return this.play(e, t);
          }),
          (g.gotoAndStop = function (e, t) {
            return this.pause(e, t);
          }),
          (g.render = function (e, t, i) {
            this._gc && this._enabled(!0, !1);
            var r,
              o,
              a,
              s,
              l,
              u = this._dirty ? this.totalDuration() : this._totalDuration,
              d = this._time,
              f = this._startTime,
              p = this._timeScale,
              m = this._paused;
            if (e >= u)
              (this._totalTime = this._time = u),
                this._reversed ||
                  this._hasPausedChild() ||
                  ((o = !0),
                  (s = "onComplete"),
                  (l = !!this._timeline.autoRemoveChildren),
                  0 === this._duration &&
                    (0 === e ||
                      0 > this._rawPrevTime ||
                      this._rawPrevTime === n) &&
                    this._rawPrevTime !== e &&
                    this._first &&
                    ((l = !0),
                    this._rawPrevTime > n && (s = "onReverseComplete"))),
                (this._rawPrevTime =
                  this._duration || !t || e || this._rawPrevTime === e ? e : n),
                (e = u + 1e-4);
            else if (1e-7 > e)
              if (
                ((this._totalTime = this._time = 0),
                (0 !== d ||
                  (0 === this._duration &&
                    this._rawPrevTime !== n &&
                    (this._rawPrevTime > 0 ||
                      (0 > e && this._rawPrevTime >= 0)))) &&
                  ((s = "onReverseComplete"), (o = this._reversed)),
                0 > e)
              )
                (this._active = !1),
                  this._timeline.autoRemoveChildren && this._reversed
                    ? ((l = o = !0), (s = "onReverseComplete"))
                    : this._rawPrevTime >= 0 && this._first && (l = !0),
                  (this._rawPrevTime = e);
              else {
                if (
                  ((this._rawPrevTime =
                    this._duration || !t || e || this._rawPrevTime === e
                      ? e
                      : n),
                  0 === e && o)
                )
                  for (r = this._first; r && 0 === r._startTime; )
                    r._duration || (o = !1), (r = r._next);
                (e = 0), this._initted || (l = !0);
              }
            else this._totalTime = this._time = this._rawPrevTime = e;
            if ((this._time !== d && this._first) || i || l) {
              if (
                (this._initted || (this._initted = !0),
                this._active ||
                  (!this._paused &&
                    this._time !== d &&
                    e > 0 &&
                    (this._active = !0)),
                0 === d &&
                  this.vars.onStart &&
                  0 !== this._time &&
                  (t || this._callback("onStart")),
                this._time >= d)
              )
                for (
                  r = this._first;
                  r && ((a = r._next), !this._paused || m);

                )
                  (r._active ||
                    (r._startTime <= this._time && !r._paused && !r._gc)) &&
                    (r._reversed
                      ? r.render(
                          (r._dirty ? r.totalDuration() : r._totalDuration) -
                            (e - r._startTime) * r._timeScale,
                          t,
                          i
                        )
                      : r.render((e - r._startTime) * r._timeScale, t, i)),
                    (r = a);
              else
                for (r = this._last; r && ((a = r._prev), !this._paused || m); )
                  (r._active || (d >= r._startTime && !r._paused && !r._gc)) &&
                    (r._reversed
                      ? r.render(
                          (r._dirty ? r.totalDuration() : r._totalDuration) -
                            (e - r._startTime) * r._timeScale,
                          t,
                          i
                        )
                      : r.render((e - r._startTime) * r._timeScale, t, i)),
                    (r = a);
              this._onUpdate &&
                (t || (h.length && c(), this._callback("onUpdate"))),
                s &&
                  (this._gc ||
                    ((f === this._startTime || p !== this._timeScale) &&
                      (0 === this._time || u >= this.totalDuration()) &&
                      (o &&
                        (h.length && c(),
                        this._timeline.autoRemoveChildren &&
                          this._enabled(!1, !1),
                        (this._active = !1)),
                      !t && this.vars[s] && this._callback(s))));
            }
          }),
          (g._hasPausedChild = function () {
            for (var e = this._first; e; ) {
              if (e._paused || (e instanceof r && e._hasPausedChild()))
                return !0;
              e = e._next;
            }
            return !1;
          }),
          (g.getChildren = function (e, t, r, n) {
            n = n || -9999999999;
            for (var o = [], a = this._first, s = 0; a; )
              n > a._startTime ||
                (a instanceof i
                  ? t !== !1 && (o[s++] = a)
                  : (r !== !1 && (o[s++] = a),
                    e !== !1 &&
                      ((o = o.concat(a.getChildren(!0, t, r))),
                      (s = o.length)))),
                (a = a._next);
            return o;
          }),
          (g.getTweensOf = function (e, t) {
            var r,
              n,
              o = this._gc,
              a = [],
              s = 0;
            for (
              o && this._enabled(!0, !0), r = i.getTweensOf(e), n = r.length;
              --n > -1;

            )
              (r[n].timeline === this || (t && this._contains(r[n]))) &&
                (a[s++] = r[n]);
            return o && this._enabled(!1, !0), a;
          }),
          (g.recent = function () {
            return this._recent;
          }),
          (g._contains = function (e) {
            for (var t = e.timeline; t; ) {
              if (t === this) return !0;
              t = t.timeline;
            }
            return !1;
          }),
          (g.shiftChildren = function (e, t, i) {
            i = i || 0;
            for (var r, n = this._first, o = this._labels; n; )
              n._startTime >= i && (n._startTime += e), (n = n._next);
            if (t) for (r in o) o[r] >= i && (o[r] += e);
            return this._uncache(!0);
          }),
          (g._kill = function (e, t) {
            if (!e && !t) return this._enabled(!1, !1);
            for (
              var i = t ? this.getTweensOf(t) : this.getChildren(!0, !0, !1),
                r = i.length,
                n = !1;
              --r > -1;

            )
              i[r]._kill(e, t) && (n = !0);
            return n;
          }),
          (g.clear = function (e) {
            var t = this.getChildren(!1, !0, !0),
              i = t.length;
            for (this._time = this._totalTime = 0; --i > -1; )
              t[i]._enabled(!1, !1);
            return e !== !1 && (this._labels = {}), this._uncache(!0);
          }),
          (g.invalidate = function () {
            for (var t = this._first; t; ) t.invalidate(), (t = t._next);
            return e.prototype.invalidate.call(this);
          }),
          (g._enabled = function (e, i) {
            if (e === this._gc)
              for (var r = this._first; r; ) r._enabled(e, !0), (r = r._next);
            return t.prototype._enabled.call(this, e, i);
          }),
          (g.totalTime = function () {
            this._forcingPlayhead = !0;
            var t = e.prototype.totalTime.apply(this, arguments);
            return (this._forcingPlayhead = !1), t;
          }),
          (g.duration = function (e) {
            return arguments.length
              ? (0 !== this.duration() &&
                  0 !== e &&
                  this.timeScale(this._duration / e),
                this)
              : (this._dirty && this.totalDuration(), this._duration);
          }),
          (g.totalDuration = function (e) {
            if (!arguments.length) {
              if (this._dirty) {
                for (var t, i, r = 0, n = this._last, o = 999999999999; n; )
                  (t = n._prev),
                    n._dirty && n.totalDuration(),
                    n._startTime > o && this._sortChildren && !n._paused
                      ? this.add(n, n._startTime - n._delay)
                      : (o = n._startTime),
                    0 > n._startTime &&
                      !n._paused &&
                      ((r -= n._startTime),
                      this._timeline.smoothChildTiming &&
                        (this._startTime += n._startTime / this._timeScale),
                      this.shiftChildren(-n._startTime, !1, -9999999999),
                      (o = 0)),
                    (i = n._startTime + n._totalDuration / n._timeScale),
                    i > r && (r = i),
                    (n = t);
                (this._duration = this._totalDuration = r), (this._dirty = !1);
              }
              return this._totalDuration;
            }
            return (
              0 !== this.totalDuration() &&
                0 !== e &&
                this.timeScale(this._totalDuration / e),
              this
            );
          }),
          (g.paused = function (t) {
            if (!t)
              for (var i = this._first, r = this._time; i; )
                i._startTime === r &&
                  "isPause" === i.data &&
                  (i._rawPrevTime = 0),
                  (i = i._next);
            return e.prototype.paused.apply(this, arguments);
          }),
          (g.usesFrames = function () {
            for (var t = this._timeline; t._timeline; ) t = t._timeline;
            return t === e._rootFramesTimeline;
          }),
          (g.rawTime = function () {
            return this._paused
              ? this._totalTime
              : (this._timeline.rawTime() - this._startTime) * this._timeScale;
          }),
          r
        );
      },
      !0
    ),
    _gsScope._gsDefine(
      "TimelineMax",
      ["TimelineLite", "TweenLite", "easing.Ease"],
      function (e, t, i) {
        var r = function (t) {
            e.call(this, t),
              (this._repeat = this.vars.repeat || 0),
              (this._repeatDelay = this.vars.repeatDelay || 0),
              (this._cycle = 0),
              (this._yoyo = this.vars.yoyo === !0),
              (this._dirty = !0);
          },
          n = 1e-10,
          o = t._internals,
          a = o.lazyTweens,
          s = o.lazyRender,
          l = new i(null, null, 1, 0),
          h = (r.prototype = new e());
        return (
          (h.constructor = r),
          (h.kill()._gc = !1),
          (r.version = "1.17.0"),
          (h.invalidate = function () {
            return (
              (this._yoyo = this.vars.yoyo === !0),
              (this._repeat = this.vars.repeat || 0),
              (this._repeatDelay = this.vars.repeatDelay || 0),
              this._uncache(!0),
              e.prototype.invalidate.call(this)
            );
          }),
          (h.addCallback = function (e, i, r, n) {
            return this.add(t.delayedCall(0, e, r, n), i);
          }),
          (h.removeCallback = function (e, t) {
            if (e)
              if (null == t) this._kill(null, e);
              else
                for (
                  var i = this.getTweensOf(e, !1),
                    r = i.length,
                    n = this._parseTimeOrLabel(t);
                  --r > -1;

                )
                  i[r]._startTime === n && i[r]._enabled(!1, !1);
            return this;
          }),
          (h.removePause = function (t) {
            return this.removeCallback(e._internals.pauseCallback, t);
          }),
          (h.tweenTo = function (e, i) {
            i = i || {};
            var r,
              n,
              o,
              a = {
                ease: l,
                useFrames: this.usesFrames(),
                immediateRender: !1,
              };
            for (n in i) a[n] = i[n];
            return (
              (a.time = this._parseTimeOrLabel(e)),
              (r =
                Math.abs(Number(a.time) - this._time) / this._timeScale ||
                0.001),
              (o = new t(this, r, a)),
              (a.onStart = function () {
                o.target.paused(!0),
                  o.vars.time !== o.target.time() &&
                    r === o.duration() &&
                    o.duration(
                      Math.abs(o.vars.time - o.target.time()) /
                        o.target._timeScale
                    ),
                  i.onStart && o._callback("onStart");
              }),
              o
            );
          }),
          (h.tweenFromTo = function (e, t, i) {
            (i = i || {}),
              (e = this._parseTimeOrLabel(e)),
              (i.startAt = {
                onComplete: this.seek,
                onCompleteParams: [e],
                callbackScope: this,
              }),
              (i.immediateRender = i.immediateRender !== !1);
            var r = this.tweenTo(t, i);
            return r.duration(
              Math.abs(r.vars.time - e) / this._timeScale || 0.001
            );
          }),
          (h.render = function (e, t, i) {
            this._gc && this._enabled(!0, !1);
            var r,
              o,
              l,
              h,
              c,
              u,
              d = this._dirty ? this.totalDuration() : this._totalDuration,
              f = this._duration,
              p = this._time,
              m = this._totalTime,
              g = this._startTime,
              E = this._timeScale,
              v = this._rawPrevTime,
              _ = this._paused,
              y = this._cycle;
            if (e >= d)
              this._locked ||
                ((this._totalTime = d), (this._cycle = this._repeat)),
                this._reversed ||
                  this._hasPausedChild() ||
                  ((o = !0),
                  (h = "onComplete"),
                  (c = !!this._timeline.autoRemoveChildren),
                  0 === this._duration &&
                    (0 === e || 0 > v || v === n) &&
                    v !== e &&
                    this._first &&
                    ((c = !0), v > n && (h = "onReverseComplete"))),
                (this._rawPrevTime =
                  this._duration || !t || e || this._rawPrevTime === e ? e : n),
                this._yoyo && 0 !== (1 & this._cycle)
                  ? (this._time = e = 0)
                  : ((this._time = f), (e = f + 1e-4));
            else if (1e-7 > e)
              if (
                (this._locked || (this._totalTime = this._cycle = 0),
                (this._time = 0),
                (0 !== p ||
                  (0 === f &&
                    v !== n &&
                    (v > 0 || (0 > e && v >= 0)) &&
                    !this._locked)) &&
                  ((h = "onReverseComplete"), (o = this._reversed)),
                0 > e)
              )
                (this._active = !1),
                  this._timeline.autoRemoveChildren && this._reversed
                    ? ((c = o = !0), (h = "onReverseComplete"))
                    : v >= 0 && this._first && (c = !0),
                  (this._rawPrevTime = e);
              else {
                if (
                  ((this._rawPrevTime =
                    f || !t || e || this._rawPrevTime === e ? e : n),
                  0 === e && o)
                )
                  for (r = this._first; r && 0 === r._startTime; )
                    r._duration || (o = !1), (r = r._next);
                (e = 0), this._initted || (c = !0);
              }
            else
              0 === f && 0 > v && (c = !0),
                (this._time = this._rawPrevTime = e),
                this._locked ||
                  ((this._totalTime = e),
                  0 !== this._repeat &&
                    ((u = f + this._repeatDelay),
                    (this._cycle = (this._totalTime / u) >> 0),
                    0 !== this._cycle &&
                      this._cycle === this._totalTime / u &&
                      this._cycle--,
                    (this._time = this._totalTime - this._cycle * u),
                    this._yoyo &&
                      0 !== (1 & this._cycle) &&
                      (this._time = f - this._time),
                    this._time > f
                      ? ((this._time = f), (e = f + 1e-4))
                      : 0 > this._time
                      ? (this._time = e = 0)
                      : (e = this._time)));
            if (this._cycle !== y && !this._locked) {
              var T = this._yoyo && 0 !== (1 & y),
                x = T === (this._yoyo && 0 !== (1 & this._cycle)),
                R = this._totalTime,
                b = this._cycle,
                w = this._rawPrevTime,
                H = this._time;
              if (
                ((this._totalTime = y * f),
                y > this._cycle ? (T = !T) : (this._totalTime += f),
                (this._time = p),
                (this._rawPrevTime = 0 === f ? v - 1e-4 : v),
                (this._cycle = y),
                (this._locked = !0),
                (p = T ? 0 : f),
                this.render(p, t, 0 === f),
                t ||
                  this._gc ||
                  (this.vars.onRepeat && this._callback("onRepeat")),
                x && ((p = T ? f + 1e-4 : -1e-4), this.render(p, !0, !1)),
                (this._locked = !1),
                this._paused && !_)
              )
                return;
              (this._time = H),
                (this._totalTime = R),
                (this._cycle = b),
                (this._rawPrevTime = w);
            }
            if (!((this._time !== p && this._first) || i || c))
              return void (
                m !== this._totalTime &&
                this._onUpdate &&
                (t || this._callback("onUpdate"))
              );
            if (
              (this._initted || (this._initted = !0),
              this._active ||
                (!this._paused &&
                  this._totalTime !== m &&
                  e > 0 &&
                  (this._active = !0)),
              0 === m &&
                this.vars.onStart &&
                0 !== this._totalTime &&
                (t || this._callback("onStart")),
              this._time >= p)
            )
              for (r = this._first; r && ((l = r._next), !this._paused || _); )
                (r._active ||
                  (r._startTime <= this._time && !r._paused && !r._gc)) &&
                  (r._reversed
                    ? r.render(
                        (r._dirty ? r.totalDuration() : r._totalDuration) -
                          (e - r._startTime) * r._timeScale,
                        t,
                        i
                      )
                    : r.render((e - r._startTime) * r._timeScale, t, i)),
                  (r = l);
            else
              for (r = this._last; r && ((l = r._prev), !this._paused || _); )
                (r._active || (p >= r._startTime && !r._paused && !r._gc)) &&
                  (r._reversed
                    ? r.render(
                        (r._dirty ? r.totalDuration() : r._totalDuration) -
                          (e - r._startTime) * r._timeScale,
                        t,
                        i
                      )
                    : r.render((e - r._startTime) * r._timeScale, t, i)),
                  (r = l);
            this._onUpdate &&
              (t || (a.length && s(), this._callback("onUpdate"))),
              h &&
                (this._locked ||
                  this._gc ||
                  ((g === this._startTime || E !== this._timeScale) &&
                    (0 === this._time || d >= this.totalDuration()) &&
                    (o &&
                      (a.length && s(),
                      this._timeline.autoRemoveChildren &&
                        this._enabled(!1, !1),
                      (this._active = !1)),
                    !t && this.vars[h] && this._callback(h))));
          }),
          (h.getActive = function (e, t, i) {
            null == e && (e = !0), null == t && (t = !0), null == i && (i = !1);
            var r,
              n,
              o = [],
              a = this.getChildren(e, t, i),
              s = 0,
              l = a.length;
            for (r = 0; l > r; r++) (n = a[r]), n.isActive() && (o[s++] = n);
            return o;
          }),
          (h.getLabelAfter = function (e) {
            e || (0 !== e && (e = this._time));
            var t,
              i = this.getLabelsArray(),
              r = i.length;
            for (t = 0; r > t; t++) if (i[t].time > e) return i[t].name;
            return null;
          }),
          (h.getLabelBefore = function (e) {
            null == e && (e = this._time);
            for (var t = this.getLabelsArray(), i = t.length; --i > -1; )
              if (e > t[i].time) return t[i].name;
            return null;
          }),
          (h.getLabelsArray = function () {
            var e,
              t = [],
              i = 0;
            for (e in this._labels) t[i++] = { time: this._labels[e], name: e };
            return (
              t.sort(function (e, t) {
                return e.time - t.time;
              }),
              t
            );
          }),
          (h.progress = function (e, t) {
            return arguments.length
              ? this.totalTime(
                  this.duration() *
                    (this._yoyo && 0 !== (1 & this._cycle) ? 1 - e : e) +
                    this._cycle * (this._duration + this._repeatDelay),
                  t
                )
              : this._time / this.duration();
          }),
          (h.totalProgress = function (e, t) {
            return arguments.length
              ? this.totalTime(this.totalDuration() * e, t)
              : this._totalTime / this.totalDuration();
          }),
          (h.totalDuration = function (t) {
            return arguments.length
              ? -1 === this._repeat
                ? this
                : this.duration(
                    (t - this._repeat * this._repeatDelay) / (this._repeat + 1)
                  )
              : (this._dirty &&
                  (e.prototype.totalDuration.call(this),
                  (this._totalDuration =
                    -1 === this._repeat
                      ? 999999999999
                      : this._duration * (this._repeat + 1) +
                        this._repeatDelay * this._repeat)),
                this._totalDuration);
          }),
          (h.time = function (e, t) {
            return arguments.length
              ? (this._dirty && this.totalDuration(),
                e > this._duration && (e = this._duration),
                this._yoyo && 0 !== (1 & this._cycle)
                  ? (e =
                      this._duration -
                      e +
                      this._cycle * (this._duration + this._repeatDelay))
                  : 0 !== this._repeat &&
                    (e += this._cycle * (this._duration + this._repeatDelay)),
                this.totalTime(e, t))
              : this._time;
          }),
          (h.repeat = function (e) {
            return arguments.length
              ? ((this._repeat = e), this._uncache(!0))
              : this._repeat;
          }),
          (h.repeatDelay = function (e) {
            return arguments.length
              ? ((this._repeatDelay = e), this._uncache(!0))
              : this._repeatDelay;
          }),
          (h.yoyo = function (e) {
            return arguments.length ? ((this._yoyo = e), this) : this._yoyo;
          }),
          (h.currentLabel = function (e) {
            return arguments.length
              ? this.seek(e, !0)
              : this.getLabelBefore(this._time + 1e-8);
          }),
          r
        );
      },
      !0
    ),
    (function () {
      var e = 180 / Math.PI,
        t = [],
        i = [],
        r = [],
        n = {},
        o = _gsScope._gsDefine.globals,
        a = function (e, t, i, r) {
          (this.a = e),
            (this.b = t),
            (this.c = i),
            (this.d = r),
            (this.da = r - e),
            (this.ca = i - e),
            (this.ba = t - e);
        },
        s =
          ",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",
        l = function (e, t, i, r) {
          var n = { a: e },
            o = {},
            a = {},
            s = { c: r },
            l = (e + t) / 2,
            h = (t + i) / 2,
            c = (i + r) / 2,
            u = (l + h) / 2,
            d = (h + c) / 2,
            f = (d - u) / 8;
          return (
            (n.b = l + (e - l) / 4),
            (o.b = u + f),
            (n.c = o.a = (n.b + o.b) / 2),
            (o.c = a.a = (u + d) / 2),
            (a.b = d - f),
            (s.b = c + (r - c) / 4),
            (a.c = s.a = (a.b + s.b) / 2),
            [n, o, a, s]
          );
        },
        h = function (e, n, o, a, s) {
          var h,
            c,
            u,
            d,
            f,
            p,
            m,
            g,
            E,
            v,
            _,
            y,
            T,
            x = e.length - 1,
            R = 0,
            b = e[0].a;
          for (h = 0; x > h; h++)
            (f = e[R]),
              (c = f.a),
              (u = f.d),
              (d = e[R + 1].d),
              s
                ? ((_ = t[h]),
                  (y = i[h]),
                  (T = (0.25 * (y + _) * n) / (a ? 0.5 : r[h] || 0.5)),
                  (p = u - (u - c) * (a ? 0.5 * n : 0 !== _ ? T / _ : 0)),
                  (m = u + (d - u) * (a ? 0.5 * n : 0 !== y ? T / y : 0)),
                  (g =
                    u - (p + (((m - p) * ((3 * _) / (_ + y) + 0.5)) / 4 || 0))))
                : ((p = u - 0.5 * (u - c) * n),
                  (m = u + 0.5 * (d - u) * n),
                  (g = u - (p + m) / 2)),
              (p += g),
              (m += g),
              (f.c = E = p),
              (f.b = 0 !== h ? b : (b = f.a + 0.6 * (f.c - f.a))),
              (f.da = u - c),
              (f.ca = E - c),
              (f.ba = b - c),
              o
                ? ((v = l(c, b, E, u)),
                  e.splice(R, 1, v[0], v[1], v[2], v[3]),
                  (R += 4))
                : R++,
              (b = m);
          (f = e[R]),
            (f.b = b),
            (f.c = b + 0.4 * (f.d - b)),
            (f.da = f.d - f.a),
            (f.ca = f.c - f.a),
            (f.ba = b - f.a),
            o &&
              ((v = l(f.a, b, f.c, f.d)),
              e.splice(R, 1, v[0], v[1], v[2], v[3]));
        },
        c = function (e, r, n, o) {
          var s,
            l,
            h,
            c,
            u,
            d,
            f = [];
          if (o)
            for (e = [o].concat(e), l = e.length; --l > -1; )
              "string" == typeof (d = e[l][r]) &&
                "=" === d.charAt(1) &&
                (e[l][r] = o[r] + Number(d.charAt(0) + d.substr(2)));
          if (((s = e.length - 2), 0 > s))
            return (f[0] = new a(e[0][r], 0, 0, e[-1 > s ? 0 : 1][r])), f;
          for (l = 0; s > l; l++)
            (h = e[l][r]),
              (c = e[l + 1][r]),
              (f[l] = new a(h, 0, 0, c)),
              n &&
                ((u = e[l + 2][r]),
                (t[l] = (t[l] || 0) + (c - h) * (c - h)),
                (i[l] = (i[l] || 0) + (u - c) * (u - c)));
          return (f[l] = new a(e[l][r], 0, 0, e[l + 1][r])), f;
        },
        u = function (e, o, a, l, u, d) {
          var f,
            p,
            m,
            g,
            E,
            v,
            _,
            y,
            T = {},
            x = [],
            R = d || e[0];
          (u = "string" == typeof u ? "," + u + "," : s), null == o && (o = 1);
          for (p in e[0]) x.push(p);
          if (e.length > 1) {
            for (y = e[e.length - 1], _ = !0, f = x.length; --f > -1; )
              if (((p = x[f]), Math.abs(R[p] - y[p]) > 0.05)) {
                _ = !1;
                break;
              }
            _ &&
              ((e = e.concat()),
              d && e.unshift(d),
              e.push(e[1]),
              (d = e[e.length - 3]));
          }
          for (t.length = i.length = r.length = 0, f = x.length; --f > -1; )
            (p = x[f]),
              (n[p] = -1 !== u.indexOf("," + p + ",")),
              (T[p] = c(e, p, n[p], d));
          for (f = t.length; --f > -1; )
            (t[f] = Math.sqrt(t[f])), (i[f] = Math.sqrt(i[f]));
          if (!l) {
            for (f = x.length; --f > -1; )
              if (n[p])
                for (m = T[x[f]], v = m.length - 1, g = 0; v > g; g++)
                  (E = m[g + 1].da / i[g] + m[g].da / t[g]),
                    (r[g] = (r[g] || 0) + E * E);
            for (f = r.length; --f > -1; ) r[f] = Math.sqrt(r[f]);
          }
          for (f = x.length, g = a ? 4 : 1; --f > -1; )
            (p = x[f]),
              (m = T[p]),
              h(m, o, a, l, n[p]),
              _ && (m.splice(0, g), m.splice(m.length - g, g));
          return T;
        },
        d = function (e, t, i) {
          t = t || "soft";
          var r,
            n,
            o,
            s,
            l,
            h,
            c,
            u,
            d,
            f,
            p,
            m = {},
            g = "cubic" === t ? 3 : 2,
            E = "soft" === t,
            v = [];
          if ((E && i && (e = [i].concat(e)), null == e || g + 1 > e.length))
            throw "invalid Bezier data";
          for (d in e[0]) v.push(d);
          for (h = v.length; --h > -1; ) {
            for (
              d = v[h], m[d] = l = [], f = 0, u = e.length, c = 0;
              u > c;
              c++
            )
              (r =
                null == i
                  ? e[c][d]
                  : "string" == typeof (p = e[c][d]) && "=" === p.charAt(1)
                  ? i[d] + Number(p.charAt(0) + p.substr(2))
                  : Number(p)),
                E && c > 1 && u - 1 > c && (l[f++] = (r + l[f - 2]) / 2),
                (l[f++] = r);
            for (u = f - g + 1, f = 0, c = 0; u > c; c += g)
              (r = l[c]),
                (n = l[c + 1]),
                (o = l[c + 2]),
                (s = 2 === g ? 0 : l[c + 3]),
                (l[f++] = p =
                  3 === g
                    ? new a(r, n, o, s)
                    : new a(r, (2 * n + r) / 3, (2 * n + o) / 3, o));
            l.length = f;
          }
          return m;
        },
        f = function (e, t, i) {
          for (
            var r, n, o, a, s, l, h, c, u, d, f, p = 1 / i, m = e.length;
            --m > -1;

          )
            for (
              d = e[m],
                o = d.a,
                a = d.d - o,
                s = d.c - o,
                l = d.b - o,
                r = n = 0,
                c = 1;
              i >= c;
              c++
            )
              (h = p * c),
                (u = 1 - h),
                (r = n - (n = (h * h * a + 3 * u * (h * s + u * l)) * h)),
                (f = m * i + c - 1),
                (t[f] = (t[f] || 0) + r * r);
        },
        p = function (e, t) {
          t = t >> 0 || 6;
          var i,
            r,
            n,
            o,
            a = [],
            s = [],
            l = 0,
            h = 0,
            c = t - 1,
            u = [],
            d = [];
          for (i in e) f(e[i], a, t);
          for (n = a.length, r = 0; n > r; r++)
            (l += Math.sqrt(a[r])),
              (o = r % t),
              (d[o] = l),
              o === c &&
                ((h += l),
                (o = (r / t) >> 0),
                (u[o] = d),
                (s[o] = h),
                (l = 0),
                (d = []));
          return { length: h, lengths: s, segments: u };
        },
        m = _gsScope._gsDefine.plugin({
          propName: "bezier",
          priority: -1,
          version: "1.3.4",
          API: 2,
          global: !0,
          init: function (e, t, i) {
            (this._target = e),
              t instanceof Array && (t = { values: t }),
              (this._func = {}),
              (this._round = {}),
              (this._props = []),
              (this._timeRes =
                null == t.timeResolution ? 6 : parseInt(t.timeResolution, 10));
            var r,
              n,
              o,
              a,
              s,
              l = t.values || [],
              h = {},
              c = l[0],
              f = t.autoRotate || i.vars.orientToBezier;
            this._autoRotate = f
              ? f instanceof Array
                ? f
                : [["x", "y", "rotation", f === !0 ? 0 : Number(f) || 0]]
              : null;
            for (r in c) this._props.push(r);
            for (o = this._props.length; --o > -1; )
              (r = this._props[o]),
                this._overwriteProps.push(r),
                (n = this._func[r] = "function" == typeof e[r]),
                (h[r] = n
                  ? e[
                      r.indexOf("set") ||
                      "function" != typeof e["get" + r.substr(3)]
                        ? r
                        : "get" + r.substr(3)
                    ]()
                  : parseFloat(e[r])),
                s || (h[r] !== l[0][r] && (s = h));
            if (
              ((this._beziers =
                "cubic" !== t.type &&
                "quadratic" !== t.type &&
                "soft" !== t.type
                  ? u(
                      l,
                      isNaN(t.curviness) ? 1 : t.curviness,
                      !1,
                      "thruBasic" === t.type,
                      t.correlate,
                      s
                    )
                  : d(l, t.type, h)),
              (this._segCount = this._beziers[r].length),
              this._timeRes)
            ) {
              var m = p(this._beziers, this._timeRes);
              (this._length = m.length),
                (this._lengths = m.lengths),
                (this._segments = m.segments),
                (this._l1 = this._li = this._s1 = this._si = 0),
                (this._l2 = this._lengths[0]),
                (this._curSeg = this._segments[0]),
                (this._s2 = this._curSeg[0]),
                (this._prec = 1 / this._curSeg.length);
            }
            if ((f = this._autoRotate))
              for (
                this._initialRotations = [],
                  f[0] instanceof Array || (this._autoRotate = f = [f]),
                  o = f.length;
                --o > -1;

              ) {
                for (a = 0; 3 > a; a++)
                  (r = f[o][a]),
                    (this._func[r] =
                      "function" == typeof e[r]
                        ? e[
                            r.indexOf("set") ||
                            "function" != typeof e["get" + r.substr(3)]
                              ? r
                              : "get" + r.substr(3)
                          ]
                        : !1);
                (r = f[o][2]),
                  (this._initialRotations[o] = this._func[r]
                    ? this._func[r].call(this._target)
                    : this._target[r]);
              }
            return (this._startRatio = i.vars.runBackwards ? 1 : 0), !0;
          },
          set: function (t) {
            var i,
              r,
              n,
              o,
              a,
              s,
              l,
              h,
              c,
              u,
              d = this._segCount,
              f = this._func,
              p = this._target,
              m = t !== this._startRatio;
            if (this._timeRes) {
              if (
                ((c = this._lengths),
                (u = this._curSeg),
                (t *= this._length),
                (n = this._li),
                t > this._l2 && d - 1 > n)
              ) {
                for (h = d - 1; h > n && t >= (this._l2 = c[++n]); );
                (this._l1 = c[n - 1]),
                  (this._li = n),
                  (this._curSeg = u = this._segments[n]),
                  (this._s2 = u[(this._s1 = this._si = 0)]);
              } else if (this._l1 > t && n > 0) {
                for (; n > 0 && (this._l1 = c[--n]) >= t; );
                0 === n && this._l1 > t ? (this._l1 = 0) : n++,
                  (this._l2 = c[n]),
                  (this._li = n),
                  (this._curSeg = u = this._segments[n]),
                  (this._s1 = u[(this._si = u.length - 1) - 1] || 0),
                  (this._s2 = u[this._si]);
              }
              if (
                ((i = n),
                (t -= this._l1),
                (n = this._si),
                t > this._s2 && u.length - 1 > n)
              ) {
                for (h = u.length - 1; h > n && t >= (this._s2 = u[++n]); );
                (this._s1 = u[n - 1]), (this._si = n);
              } else if (this._s1 > t && n > 0) {
                for (; n > 0 && (this._s1 = u[--n]) >= t; );
                0 === n && this._s1 > t ? (this._s1 = 0) : n++,
                  (this._s2 = u[n]),
                  (this._si = n);
              }
              s = (n + (t - this._s1) / (this._s2 - this._s1)) * this._prec;
            } else
              (i = 0 > t ? 0 : t >= 1 ? d - 1 : (d * t) >> 0),
                (s = (t - i * (1 / d)) * d);
            for (r = 1 - s, n = this._props.length; --n > -1; )
              (o = this._props[n]),
                (a = this._beziers[o][i]),
                (l = (s * s * a.da + 3 * r * (s * a.ca + r * a.ba)) * s + a.a),
                this._round[o] && (l = Math.round(l)),
                f[o] ? p[o](l) : (p[o] = l);
            if (this._autoRotate) {
              var g,
                E,
                v,
                _,
                y,
                T,
                x,
                R = this._autoRotate;
              for (n = R.length; --n > -1; )
                (o = R[n][2]),
                  (T = R[n][3] || 0),
                  (x = R[n][4] === !0 ? 1 : e),
                  (a = this._beziers[R[n][0]]),
                  (g = this._beziers[R[n][1]]),
                  a &&
                    g &&
                    ((a = a[i]),
                    (g = g[i]),
                    (E = a.a + (a.b - a.a) * s),
                    (_ = a.b + (a.c - a.b) * s),
                    (E += (_ - E) * s),
                    (_ += (a.c + (a.d - a.c) * s - _) * s),
                    (v = g.a + (g.b - g.a) * s),
                    (y = g.b + (g.c - g.b) * s),
                    (v += (y - v) * s),
                    (y += (g.c + (g.d - g.c) * s - y) * s),
                    (l = m
                      ? Math.atan2(y - v, _ - E) * x + T
                      : this._initialRotations[n]),
                    f[o] ? p[o](l) : (p[o] = l));
            }
          },
        }),
        g = m.prototype;
      (m.bezierThrough = u),
        (m.cubicToQuadratic = l),
        (m._autoCSS = !0),
        (m.quadraticToCubic = function (e, t, i) {
          return new a(e, (2 * t + e) / 3, (2 * t + i) / 3, i);
        }),
        (m._cssRegister = function () {
          var e = o.CSSPlugin;
          if (e) {
            var t = e._internals,
              i = t._parseToProxy,
              r = t._setPluginRatio,
              n = t.CSSPropTween;
            t._registerComplexSpecialProp("bezier", {
              parser: function (e, t, o, a, s, l) {
                t instanceof Array && (t = { values: t }), (l = new m());
                var h,
                  c,
                  u,
                  d = t.values,
                  f = d.length - 1,
                  p = [],
                  g = {};
                if (0 > f) return s;
                for (h = 0; f >= h; h++)
                  (u = i(e, d[h], a, s, l, f !== h)), (p[h] = u.end);
                for (c in t) g[c] = t[c];
                return (
                  (g.values = p),
                  (s = new n(e, "bezier", 0, 0, u.pt, 2)),
                  (s.data = u),
                  (s.plugin = l),
                  (s.setRatio = r),
                  0 === g.autoRotate && (g.autoRotate = !0),
                  !g.autoRotate ||
                    g.autoRotate instanceof Array ||
                    ((h = g.autoRotate === !0 ? 0 : Number(g.autoRotate)),
                    (g.autoRotate =
                      null != u.end.left
                        ? [["left", "top", "rotation", h, !1]]
                        : null != u.end.x
                        ? [["x", "y", "rotation", h, !1]]
                        : !1)),
                  g.autoRotate &&
                    (a._transform || a._enableTransforms(!1),
                    (u.autoRotate = a._target._gsTransform)),
                  l._onInitTween(u.proxy, g, a._tween),
                  s
                );
              },
            });
          }
        }),
        (g._roundProps = function (e, t) {
          for (var i = this._overwriteProps, r = i.length; --r > -1; )
            (e[i[r]] || e.bezier || e.bezierThrough) && (this._round[i[r]] = t);
        }),
        (g._kill = function (e) {
          var t,
            i,
            r = this._props;
          for (t in this._beziers)
            if (t in e)
              for (
                delete this._beziers[t], delete this._func[t], i = r.length;
                --i > -1;

              )
                r[i] === t && r.splice(i, 1);
          return this._super._kill.call(this, e);
        });
    })(),
    _gsScope._gsDefine(
      "plugins.CSSPlugin",
      ["plugins.TweenPlugin", "TweenLite"],
      function (e, t) {
        var i,
          r,
          n,
          o,
          a = function () {
            e.call(this, "css"),
              (this._overwriteProps.length = 0),
              (this.setRatio = a.prototype.setRatio);
          },
          s = _gsScope._gsDefine.globals,
          l = {},
          h = (a.prototype = new e("css"));
        (h.constructor = a),
          (a.version = "1.17.0"),
          (a.API = 2),
          (a.defaultTransformPerspective = 0),
          (a.defaultSkewType = "compensated"),
          (a.defaultSmoothOrigin = !0),
          (h = "px"),
          (a.suffixMap = {
            top: h,
            right: h,
            bottom: h,
            left: h,
            width: h,
            height: h,
            fontSize: h,
            padding: h,
            margin: h,
            perspective: h,
            lineHeight: "",
          });
        var c,
          u,
          d,
          f,
          p,
          m,
          g = /(?:\d|\-\d|\.\d|\-\.\d)+/g,
          E = /(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,
          v = /(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,
          _ = /(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,
          y = /(?:\d|\-|\+|=|#|\.)*/g,
          T = /opacity *= *([^)]*)/i,
          x = /opacity:([^;]*)/i,
          R = /alpha\(opacity *=.+?\)/i,
          b = /^(rgb|hsl)/,
          w = /([A-Z])/g,
          H = /-([a-z])/gi,
          S = /(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,
          A = function (e, t) {
            return t.toUpperCase();
          },
          M = /(?:Left|Right|Width)/i,
          C = /(M11|M12|M21|M22)=[\d\-\.e]+/gi,
          P = /progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,
          L = /,(?=[^\)]*(?:\(|$))/gi,
          D = Math.PI / 180,
          O = 180 / Math.PI,
          k = {},
          F = document,
          N = function (e) {
            return F.createElementNS
              ? F.createElementNS("http://www.w3.org/1999/xhtml", e)
              : F.createElement(e);
          },
          j = N("div"),
          U = N("img"),
          I = (a._internals = { _specialProps: l }),
          B = navigator.userAgent,
          V = (function () {
            var e = B.indexOf("Android"),
              t = N("a");
            return (
              (d =
                -1 !== B.indexOf("Safari") &&
                -1 === B.indexOf("Chrome") &&
                (-1 === e || Number(B.substr(e + 8, 1)) > 3)),
              (p = d && 6 > Number(B.substr(B.indexOf("Version/") + 8, 1))),
              (f = -1 !== B.indexOf("Firefox")),
              (/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(B) ||
                /Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(B)) &&
                (m = parseFloat(RegExp.$1)),
              t
                ? ((t.style.cssText = "top:1px;opacity:.55;"),
                  /^0.55/.test(t.style.opacity))
                : !1
            );
          })(),
          z = function (e) {
            return T.test(
              "string" == typeof e
                ? e
                : (e.currentStyle ? e.currentStyle.filter : e.style.filter) ||
                    ""
            )
              ? parseFloat(RegExp.$1) / 100
              : 1;
          },
          G = function (e) {
            window.console && console.log(e);
          },
          W = "",
          X = "",
          q = function (e, t) {
            t = t || j;
            var i,
              r,
              n = t.style;
            if (void 0 !== n[e]) return e;
            for (
              e = e.charAt(0).toUpperCase() + e.substr(1),
                i = ["O", "Moz", "ms", "Ms", "Webkit"],
                r = 5;
              --r > -1 && void 0 === n[i[r] + e];

            );
            return r >= 0
              ? ((X = 3 === r ? "ms" : i[r]),
                (W = "-" + X.toLowerCase() + "-"),
                X + e)
              : null;
          },
          Y = F.defaultView ? F.defaultView.getComputedStyle : function () {},
          K = (a.getStyle = function (e, t, i, r, n) {
            var o;
            return V || "opacity" !== t
              ? (!r && e.style[t]
                  ? (o = e.style[t])
                  : (i = i || Y(e))
                  ? (o =
                      i[t] ||
                      i.getPropertyValue(t) ||
                      i.getPropertyValue(t.replace(w, "-$1").toLowerCase()))
                  : e.currentStyle && (o = e.currentStyle[t]),
                null == n ||
                (o && "none" !== o && "auto" !== o && "auto auto" !== o)
                  ? o
                  : n)
              : z(e);
          }),
          Q = (I.convertToPixels = function (e, i, r, n, o) {
            if ("px" === n || !n) return r;
            if ("auto" === n || !r) return 0;
            var s,
              l,
              h,
              c = M.test(i),
              u = e,
              d = j.style,
              f = 0 > r;
            if ((f && (r = -r), "%" === n && -1 !== i.indexOf("border")))
              s = (r / 100) * (c ? e.clientWidth : e.clientHeight);
            else {
              if (
                ((d.cssText =
                  "border:0 solid red;position:" +
                  K(e, "position") +
                  ";line-height:0;"),
                "%" !== n && u.appendChild)
              )
                d[c ? "borderLeftWidth" : "borderTopWidth"] = r + n;
              else {
                if (
                  ((u = e.parentNode || F.body),
                  (l = u._gsCache),
                  (h = t.ticker.frame),
                  l && c && l.time === h)
                )
                  return (l.width * r) / 100;
                d[c ? "width" : "height"] = r + n;
              }
              u.appendChild(j),
                (s = parseFloat(j[c ? "offsetWidth" : "offsetHeight"])),
                u.removeChild(j),
                c &&
                  "%" === n &&
                  a.cacheWidths !== !1 &&
                  ((l = u._gsCache = u._gsCache || {}),
                  (l.time = h),
                  (l.width = 100 * (s / r))),
                0 !== s || o || (s = Q(e, i, r, n, !0));
            }
            return f ? -s : s;
          }),
          $ = (I.calculateOffset = function (e, t, i) {
            if ("absolute" !== K(e, "position", i)) return 0;
            var r = "left" === t ? "Left" : "Top",
              n = K(e, "margin" + r, i);
            return (
              e["offset" + r] - (Q(e, t, parseFloat(n), n.replace(y, "")) || 0)
            );
          }),
          J = function (e, t) {
            var i,
              r,
              n,
              o = {};
            if ((t = t || Y(e, null)))
              if ((i = t.length))
                for (; --i > -1; )
                  (n = t[i]),
                    (-1 === n.indexOf("-transform") || be === n) &&
                      (o[n.replace(H, A)] = t.getPropertyValue(n));
              else
                for (i in t)
                  (-1 === i.indexOf("Transform") || Re === i) && (o[i] = t[i]);
            else if ((t = e.currentStyle || e.style))
              for (i in t)
                "string" == typeof i &&
                  void 0 === o[i] &&
                  (o[i.replace(H, A)] = t[i]);
            return (
              V || (o.opacity = z(e)),
              (r = Fe(e, t, !1)),
              (o.rotation = r.rotation),
              (o.skewX = r.skewX),
              (o.scaleX = r.scaleX),
              (o.scaleY = r.scaleY),
              (o.x = r.x),
              (o.y = r.y),
              He &&
                ((o.z = r.z),
                (o.rotationX = r.rotationX),
                (o.rotationY = r.rotationY),
                (o.scaleZ = r.scaleZ)),
              o.filters && delete o.filters,
              o
            );
          },
          Z = function (e, t, i, r, n) {
            var o,
              a,
              s,
              l = {},
              h = e.style;
            for (a in i)
              "cssText" !== a &&
                "length" !== a &&
                isNaN(a) &&
                (t[a] !== (o = i[a]) || (n && n[a])) &&
                -1 === a.indexOf("Origin") &&
                ("number" == typeof o || "string" == typeof o) &&
                ((l[a] =
                  "auto" !== o || ("left" !== a && "top" !== a)
                    ? ("" !== o && "auto" !== o && "none" !== o) ||
                      "string" != typeof t[a] ||
                      "" === t[a].replace(_, "")
                      ? o
                      : 0
                    : $(e, a)),
                void 0 !== h[a] && (s = new fe(h, a, h[a], s)));
            if (r) for (a in r) "className" !== a && (l[a] = r[a]);
            return { difs: l, firstMPT: s };
          },
          ee = { width: ["Left", "Right"], height: ["Top", "Bottom"] },
          te = ["marginLeft", "marginRight", "marginTop", "marginBottom"],
          ie = function (e, t, i) {
            var r = parseFloat("width" === t ? e.offsetWidth : e.offsetHeight),
              n = ee[t],
              o = n.length;
            for (i = i || Y(e, null); --o > -1; )
              (r -= parseFloat(K(e, "padding" + n[o], i, !0)) || 0),
                (r -= parseFloat(K(e, "border" + n[o] + "Width", i, !0)) || 0);
            return r;
          },
          re = function (e, t) {
            (null == e || "" === e || "auto" === e || "auto auto" === e) &&
              (e = "0 0");
            var i = e.split(" "),
              r =
                -1 !== e.indexOf("left")
                  ? "0%"
                  : -1 !== e.indexOf("right")
                  ? "100%"
                  : i[0],
              n =
                -1 !== e.indexOf("top")
                  ? "0%"
                  : -1 !== e.indexOf("bottom")
                  ? "100%"
                  : i[1];
            return (
              null == n
                ? (n = "center" === r ? "50%" : "0")
                : "center" === n && (n = "50%"),
              ("center" === r ||
                (isNaN(parseFloat(r)) && -1 === (r + "").indexOf("="))) &&
                (r = "50%"),
              (e = r + " " + n + (i.length > 2 ? " " + i[2] : "")),
              t &&
                ((t.oxp = -1 !== r.indexOf("%")),
                (t.oyp = -1 !== n.indexOf("%")),
                (t.oxr = "=" === r.charAt(1)),
                (t.oyr = "=" === n.charAt(1)),
                (t.ox = parseFloat(r.replace(_, ""))),
                (t.oy = parseFloat(n.replace(_, ""))),
                (t.v = e)),
              t || e
            );
          },
          ne = function (e, t) {
            return "string" == typeof e && "=" === e.charAt(1)
              ? parseInt(e.charAt(0) + "1", 10) * parseFloat(e.substr(2))
              : parseFloat(e) - parseFloat(t);
          },
          oe = function (e, t) {
            return null == e
              ? t
              : "string" == typeof e && "=" === e.charAt(1)
              ? parseInt(e.charAt(0) + "1", 10) * parseFloat(e.substr(2)) + t
              : parseFloat(e);
          },
          ae = function (e, t, i, r) {
            var n,
              o,
              a,
              s,
              l,
              h = 1e-6;
            return (
              null == e
                ? (s = t)
                : "number" == typeof e
                ? (s = e)
                : ((n = 360),
                  (o = e.split("_")),
                  (l = "=" === e.charAt(1)),
                  (a =
                    (l
                      ? parseInt(e.charAt(0) + "1", 10) *
                        parseFloat(o[0].substr(2))
                      : parseFloat(o[0])) *
                      (-1 === e.indexOf("rad") ? 1 : O) -
                    (l ? 0 : t)),
                  o.length &&
                    (r && (r[i] = t + a),
                    -1 !== e.indexOf("short") &&
                      ((a %= n),
                      a !== a % (n / 2) && (a = 0 > a ? a + n : a - n)),
                    -1 !== e.indexOf("_cw") && 0 > a
                      ? (a = ((a + 9999999999 * n) % n) - (0 | (a / n)) * n)
                      : -1 !== e.indexOf("ccw") &&
                        a > 0 &&
                        (a = ((a - 9999999999 * n) % n) - (0 | (a / n)) * n)),
                  (s = t + a)),
              h > s && s > -h && (s = 0),
              s
            );
          },
          se = {
            aqua: [0, 255, 255],
            lime: [0, 255, 0],
            silver: [192, 192, 192],
            black: [0, 0, 0],
            maroon: [128, 0, 0],
            teal: [0, 128, 128],
            blue: [0, 0, 255],
            navy: [0, 0, 128],
            white: [255, 255, 255],
            fuchsia: [255, 0, 255],
            olive: [128, 128, 0],
            yellow: [255, 255, 0],
            orange: [255, 165, 0],
            gray: [128, 128, 128],
            purple: [128, 0, 128],
            green: [0, 128, 0],
            red: [255, 0, 0],
            pink: [255, 192, 203],
            cyan: [0, 255, 255],
            transparent: [255, 255, 255, 0],
          },
          le = function (e, t, i) {
            return (
              (e = 0 > e ? e + 1 : e > 1 ? e - 1 : e),
              0 |
                (255 *
                  (1 > 6 * e
                    ? t + 6 * (i - t) * e
                    : 0.5 > e
                    ? i
                    : 2 > 3 * e
                    ? t + 6 * (i - t) * (2 / 3 - e)
                    : t) +
                  0.5)
            );
          },
          he = (a.parseColor = function (e) {
            var t, i, r, n, o, a;
            return e && "" !== e
              ? "number" == typeof e
                ? [e >> 16, 255 & (e >> 8), 255 & e]
                : ("," === e.charAt(e.length - 1) &&
                    (e = e.substr(0, e.length - 1)),
                  se[e]
                    ? se[e]
                    : "#" === e.charAt(0)
                    ? (4 === e.length &&
                        ((t = e.charAt(1)),
                        (i = e.charAt(2)),
                        (r = e.charAt(3)),
                        (e = "#" + t + t + i + i + r + r)),
                      (e = parseInt(e.substr(1), 16)),
                      [e >> 16, 255 & (e >> 8), 255 & e])
                    : "hsl" === e.substr(0, 3)
                    ? ((e = e.match(g)),
                      (n = (Number(e[0]) % 360) / 360),
                      (o = Number(e[1]) / 100),
                      (a = Number(e[2]) / 100),
                      (i = 0.5 >= a ? a * (o + 1) : a + o - a * o),
                      (t = 2 * a - i),
                      e.length > 3 && (e[3] = Number(e[3])),
                      (e[0] = le(n + 1 / 3, t, i)),
                      (e[1] = le(n, t, i)),
                      (e[2] = le(n - 1 / 3, t, i)),
                      e)
                    : ((e = e.match(g) || se.transparent),
                      (e[0] = Number(e[0])),
                      (e[1] = Number(e[1])),
                      (e[2] = Number(e[2])),
                      e.length > 3 && (e[3] = Number(e[3])),
                      e))
              : se.black;
          }),
          ce = "(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#.+?\\b";
        for (h in se) ce += "|" + h + "\\b";
        ce = RegExp(ce + ")", "gi");
        var ue = function (e, t, i, r) {
            if (null == e)
              return function (e) {
                return e;
              };
            var n,
              o = t ? (e.match(ce) || [""])[0] : "",
              a = e.split(o).join("").match(v) || [],
              s = e.substr(0, e.indexOf(a[0])),
              l = ")" === e.charAt(e.length - 1) ? ")" : "",
              h = -1 !== e.indexOf(" ") ? " " : ",",
              c = a.length,
              u = c > 0 ? a[0].replace(g, "") : "";
            return c
              ? (n = t
                  ? function (e) {
                      var t, d, f, p;
                      if ("number" == typeof e) e += u;
                      else if (r && L.test(e)) {
                        for (
                          p = e.replace(L, "|").split("|"), f = 0;
                          p.length > f;
                          f++
                        )
                          p[f] = n(p[f]);
                        return p.join(",");
                      }
                      if (
                        ((t = (e.match(ce) || [o])[0]),
                        (d = e.split(t).join("").match(v) || []),
                        (f = d.length),
                        c > f--)
                      )
                        for (; c > ++f; )
                          d[f] = i ? d[0 | ((f - 1) / 2)] : a[f];
                      return (
                        s +
                        d.join(h) +
                        h +
                        t +
                        l +
                        (-1 !== e.indexOf("inset") ? " inset" : "")
                      );
                    }
                  : function (e) {
                      var t, o, d;
                      if ("number" == typeof e) e += u;
                      else if (r && L.test(e)) {
                        for (
                          o = e.replace(L, "|").split("|"), d = 0;
                          o.length > d;
                          d++
                        )
                          o[d] = n(o[d]);
                        return o.join(",");
                      }
                      if (((t = e.match(v) || []), (d = t.length), c > d--))
                        for (; c > ++d; )
                          t[d] = i ? t[0 | ((d - 1) / 2)] : a[d];
                      return s + t.join(h) + l;
                    })
              : function (e) {
                  return e;
                };
          },
          de = function (e) {
            return (
              (e = e.split(",")),
              function (t, i, r, n, o, a, s) {
                var l,
                  h = (i + "").split(" ");
                for (s = {}, l = 0; 4 > l; l++)
                  s[e[l]] = h[l] = h[l] || h[((l - 1) / 2) >> 0];
                return n.parse(t, s, o, a);
              }
            );
          },
          fe =
            ((I._setPluginRatio = function (e) {
              this.plugin.setRatio(e);
              for (
                var t,
                  i,
                  r,
                  n,
                  o = this.data,
                  a = o.proxy,
                  s = o.firstMPT,
                  l = 1e-6;
                s;

              )
                (t = a[s.v]),
                  s.r ? (t = Math.round(t)) : l > t && t > -l && (t = 0),
                  (s.t[s.p] = t),
                  (s = s._next);
              if (
                (o.autoRotate && (o.autoRotate.rotation = a.rotation), 1 === e)
              )
                for (s = o.firstMPT; s; ) {
                  if (((i = s.t), i.type)) {
                    if (1 === i.type) {
                      for (n = i.xs0 + i.s + i.xs1, r = 1; i.l > r; r++)
                        n += i["xn" + r] + i["xs" + (r + 1)];
                      i.e = n;
                    }
                  } else i.e = i.s + i.xs0;
                  s = s._next;
                }
            }),
            function (e, t, i, r, n) {
              (this.t = e),
                (this.p = t),
                (this.v = i),
                (this.r = n),
                r && ((r._prev = this), (this._next = r));
            }),
          pe =
            ((I._parseToProxy = function (e, t, i, r, n, o) {
              var a,
                s,
                l,
                h,
                c,
                u = r,
                d = {},
                f = {},
                p = i._transform,
                m = k;
              for (
                i._transform = null,
                  k = t,
                  r = c = i.parse(e, t, r, n),
                  k = m,
                  o &&
                    ((i._transform = p),
                    u && ((u._prev = null), u._prev && (u._prev._next = null)));
                r && r !== u;

              ) {
                if (
                  1 >= r.type &&
                  ((s = r.p),
                  (f[s] = r.s + r.c),
                  (d[s] = r.s),
                  o || ((h = new fe(r, "s", s, h, r.r)), (r.c = 0)),
                  1 === r.type)
                )
                  for (a = r.l; --a > 0; )
                    (l = "xn" + a),
                      (s = r.p + "_" + l),
                      (f[s] = r.data[l]),
                      (d[s] = r[l]),
                      o || (h = new fe(r, l, s, h, r.rxp[l]));
                r = r._next;
              }
              return { proxy: d, end: f, firstMPT: h, pt: c };
            }),
            (I.CSSPropTween = function (e, t, r, n, a, s, l, h, c, u, d) {
              (this.t = e),
                (this.p = t),
                (this.s = r),
                (this.c = n),
                (this.n = l || t),
                e instanceof pe || o.push(this.n),
                (this.r = h),
                (this.type = s || 0),
                c && ((this.pr = c), (i = !0)),
                (this.b = void 0 === u ? r : u),
                (this.e = void 0 === d ? r + n : d),
                a && ((this._next = a), (a._prev = this));
            })),
          me = function (e, t, i, r, n, o) {
            var a = new pe(e, t, i, r - i, n, -1, o);
            return (a.b = i), (a.e = a.xs0 = r), a;
          },
          ge = (a.parseComplex = function (e, t, i, r, n, o, a, s, l, h) {
            (i = i || o || ""),
              (a = new pe(e, t, 0, 0, a, h ? 2 : 1, null, !1, s, i, r)),
              (r += "");
            var u,
              d,
              f,
              p,
              m,
              v,
              _,
              y,
              T,
              x,
              R,
              w,
              H = i.split(", ").join(",").split(" "),
              S = r.split(", ").join(",").split(" "),
              A = H.length,
              M = c !== !1;
            for (
              (-1 !== r.indexOf(",") || -1 !== i.indexOf(",")) &&
                ((H = H.join(" ").replace(L, ", ").split(" ")),
                (S = S.join(" ").replace(L, ", ").split(" ")),
                (A = H.length)),
                A !== S.length && ((H = (o || "").split(" ")), (A = H.length)),
                a.plugin = l,
                a.setRatio = h,
                u = 0;
              A > u;
              u++
            )
              if (((p = H[u]), (m = S[u]), (y = parseFloat(p)), y || 0 === y))
                a.appendXtra(
                  "",
                  y,
                  ne(m, y),
                  m.replace(E, ""),
                  M && -1 !== m.indexOf("px"),
                  !0
                );
              else if (n && ("#" === p.charAt(0) || se[p] || b.test(p)))
                (w = "," === m.charAt(m.length - 1) ? ")," : ")"),
                  (p = he(p)),
                  (m = he(m)),
                  (T = p.length + m.length > 6),
                  T && !V && 0 === m[3]
                    ? ((a["xs" + a.l] += a.l ? " transparent" : "transparent"),
                      (a.e = a.e.split(S[u]).join("transparent")))
                    : (V || (T = !1),
                      a
                        .appendXtra(
                          T ? "rgba(" : "rgb(",
                          p[0],
                          m[0] - p[0],
                          ",",
                          !0,
                          !0
                        )
                        .appendXtra("", p[1], m[1] - p[1], ",", !0)
                        .appendXtra("", p[2], m[2] - p[2], T ? "," : w, !0),
                      T &&
                        ((p = 4 > p.length ? 1 : p[3]),
                        a.appendXtra(
                          "",
                          p,
                          (4 > m.length ? 1 : m[3]) - p,
                          w,
                          !1
                        )));
              else if ((v = p.match(g))) {
                if (((_ = m.match(E)), !_ || _.length !== v.length)) return a;
                for (f = 0, d = 0; v.length > d; d++)
                  (R = v[d]),
                    (x = p.indexOf(R, f)),
                    a.appendXtra(
                      p.substr(f, x - f),
                      Number(R),
                      ne(_[d], R),
                      "",
                      M && "px" === p.substr(x + R.length, 2),
                      0 === d
                    ),
                    (f = x + R.length);
                a["xs" + a.l] += p.substr(f);
              } else a["xs" + a.l] += a.l ? " " + p : p;
            if (-1 !== r.indexOf("=") && a.data) {
              for (w = a.xs0 + a.data.s, u = 1; a.l > u; u++)
                w += a["xs" + u] + a.data["xn" + u];
              a.e = w + a["xs" + u];
            }
            return a.l || ((a.type = -1), (a.xs0 = a.e)), a.xfirst || a;
          }),
          Ee = 9;
        for (h = pe.prototype, h.l = h.pr = 0; --Ee > 0; )
          (h["xn" + Ee] = 0), (h["xs" + Ee] = "");
        (h.xs0 = ""),
          (h._next =
            h._prev =
            h.xfirst =
            h.data =
            h.plugin =
            h.setRatio =
            h.rxp =
              null),
          (h.appendXtra = function (e, t, i, r, n, o) {
            var a = this,
              s = a.l;
            return (
              (a["xs" + s] += o && s ? " " + e : e || ""),
              i || 0 === s || a.plugin
                ? (a.l++,
                  (a.type = a.setRatio ? 2 : 1),
                  (a["xs" + a.l] = r || ""),
                  s > 0
                    ? ((a.data["xn" + s] = t + i),
                      (a.rxp["xn" + s] = n),
                      (a["xn" + s] = t),
                      a.plugin ||
                        ((a.xfirst = new pe(
                          a,
                          "xn" + s,
                          t,
                          i,
                          a.xfirst || a,
                          0,
                          a.n,
                          n,
                          a.pr
                        )),
                        (a.xfirst.xs0 = 0)),
                      a)
                    : ((a.data = { s: t + i }),
                      (a.rxp = {}),
                      (a.s = t),
                      (a.c = i),
                      (a.r = n),
                      a))
                : ((a["xs" + s] += t + (r || "")), a)
            );
          });
        var ve = function (e, t) {
            (t = t || {}),
              (this.p = t.prefix ? q(e) || e : e),
              (l[e] = l[this.p] = this),
              (this.format =
                t.formatter ||
                ue(t.defaultValue, t.color, t.collapsible, t.multi)),
              t.parser && (this.parse = t.parser),
              (this.clrs = t.color),
              (this.multi = t.multi),
              (this.keyword = t.keyword),
              (this.dflt = t.defaultValue),
              (this.pr = t.priority || 0);
          },
          _e = (I._registerComplexSpecialProp = function (e, t, i) {
            "object" != typeof t && (t = { parser: i });
            var r,
              n,
              o = e.split(","),
              a = t.defaultValue;
            for (i = i || [a], r = 0; o.length > r; r++)
              (t.prefix = 0 === r && t.prefix),
                (t.defaultValue = i[r] || a),
                (n = new ve(o[r], t));
          }),
          ye = function (e) {
            if (!l[e]) {
              var t = e.charAt(0).toUpperCase() + e.substr(1) + "Plugin";
              _e(e, {
                parser: function (e, i, r, n, o, a, h) {
                  var c = s.com.greensock.plugins[t];
                  return c
                    ? (c._cssRegister(), l[r].parse(e, i, r, n, o, a, h))
                    : (G("Error: " + t + " js file not loaded."), o);
                },
              });
            }
          };
        (h = ve.prototype),
          (h.parseComplex = function (e, t, i, r, n, o) {
            var a,
              s,
              l,
              h,
              c,
              u,
              d = this.keyword;
            if (
              (this.multi &&
                (L.test(i) || L.test(t)
                  ? ((s = t.replace(L, "|").split("|")),
                    (l = i.replace(L, "|").split("|")))
                  : d && ((s = [t]), (l = [i]))),
              l)
            ) {
              for (
                h = l.length > s.length ? l.length : s.length, a = 0;
                h > a;
                a++
              )
                (t = s[a] = s[a] || this.dflt),
                  (i = l[a] = l[a] || this.dflt),
                  d &&
                    ((c = t.indexOf(d)),
                    (u = i.indexOf(d)),
                    c !== u &&
                      (-1 === u
                        ? (s[a] = s[a].split(d).join(""))
                        : -1 === c && (s[a] += " " + d)));
              (t = s.join(", ")), (i = l.join(", "));
            }
            return ge(e, this.p, t, i, this.clrs, this.dflt, r, this.pr, n, o);
          }),
          (h.parse = function (e, t, i, r, o, a) {
            return this.parseComplex(
              e.style,
              this.format(K(e, this.p, n, !1, this.dflt)),
              this.format(t),
              o,
              a
            );
          }),
          (a.registerSpecialProp = function (e, t, i) {
            _e(e, {
              parser: function (e, r, n, o, a, s) {
                var l = new pe(e, n, 0, 0, a, 2, n, !1, i);
                return (l.plugin = s), (l.setRatio = t(e, r, o._tween, n)), l;
              },
              priority: i,
            });
          }),
          (a.useSVGTransformAttr = d || f);
        var Te,
          xe =
            "scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(
              ","
            ),
          Re = q("transform"),
          be = W + "transform",
          we = q("transformOrigin"),
          He = null !== q("perspective"),
          Se = (I.Transform = function () {
            (this.perspective = parseFloat(a.defaultTransformPerspective) || 0),
              (this.force3D =
                a.defaultForce3D !== !1 && He
                  ? a.defaultForce3D || "auto"
                  : !1);
          }),
          Ae = window.SVGElement,
          Me = function (e, t, i) {
            var r,
              n = F.createElementNS("http://www.w3.org/2000/svg", e),
              o = /([a-z])([A-Z])/g;
            for (r in i)
              n.setAttributeNS(null, r.replace(o, "$1-$2").toLowerCase(), i[r]);
            return t.appendChild(n), n;
          },
          Ce = F.documentElement,
          Pe = (function () {
            var e,
              t,
              i,
              r = m || (/Android/i.test(B) && !window.chrome);
            return (
              F.createElementNS &&
                !r &&
                ((e = Me("svg", Ce)),
                (t = Me("rect", e, { width: 100, height: 50, x: 100 })),
                (i = t.getBoundingClientRect().width),
                (t.style[we] = "50% 50%"),
                (t.style[Re] = "scaleX(0.5)"),
                (r = i === t.getBoundingClientRect().width && !(f && He)),
                Ce.removeChild(e)),
              r
            );
          })(),
          Le = function (e, t, i, r, n) {
            var o,
              s,
              l,
              h,
              c,
              u,
              d,
              f,
              p,
              m,
              g,
              E,
              v,
              _,
              y = e._gsTransform,
              T = ke(e, !0);
            y && ((v = y.xOrigin), (_ = y.yOrigin)),
              (!r || 2 > (o = r.split(" ")).length) &&
                ((d = e.getBBox()),
                (t = re(t).split(" ")),
                (o = [
                  (-1 !== t[0].indexOf("%")
                    ? (parseFloat(t[0]) / 100) * d.width
                    : parseFloat(t[0])) + d.x,
                  (-1 !== t[1].indexOf("%")
                    ? (parseFloat(t[1]) / 100) * d.height
                    : parseFloat(t[1])) + d.y,
                ])),
              (i.xOrigin = h = parseFloat(o[0])),
              (i.yOrigin = c = parseFloat(o[1])),
              r &&
                T !== Oe &&
                ((u = T[0]),
                (d = T[1]),
                (f = T[2]),
                (p = T[3]),
                (m = T[4]),
                (g = T[5]),
                (E = u * p - d * f),
                (s = h * (p / E) + c * (-f / E) + (f * g - p * m) / E),
                (l = h * (-d / E) + c * (u / E) - (u * g - d * m) / E),
                (h = i.xOrigin = o[0] = s),
                (c = i.yOrigin = o[1] = l)),
              y &&
                (n || (n !== !1 && a.defaultSmoothOrigin !== !1)
                  ? ((s = h - v),
                    (l = c - _),
                    (y.xOffset += s * T[0] + l * T[2] - s),
                    (y.yOffset += s * T[1] + l * T[3] - l))
                  : (y.xOffset = y.yOffset = 0)),
              e.setAttribute("data-svg-origin", o.join(" "));
          },
          De = function (e) {
            return !!(
              Ae &&
              "function" == typeof e.getBBox &&
              e.getCTM &&
              (!e.parentNode || (e.parentNode.getBBox && e.parentNode.getCTM))
            );
          },
          Oe = [1, 0, 0, 1, 0, 0],
          ke = function (e, t) {
            var i,
              r,
              n,
              o,
              a,
              s = e._gsTransform || new Se(),
              l = 1e5;
            if (
              (Re
                ? (r = K(e, be, null, !0))
                : e.currentStyle &&
                  ((r = e.currentStyle.filter.match(C)),
                  (r =
                    r && 4 === r.length
                      ? [
                          r[0].substr(4),
                          Number(r[2].substr(4)),
                          Number(r[1].substr(4)),
                          r[3].substr(4),
                          s.x || 0,
                          s.y || 0,
                        ].join(",")
                      : "")),
              (i = !r || "none" === r || "matrix(1, 0, 0, 1, 0, 0)" === r),
              (s.svg || (e.getBBox && De(e))) &&
                (i &&
                  -1 !== (e.style[Re] + "").indexOf("matrix") &&
                  ((r = e.style[Re]), (i = 0)),
                (n = e.getAttribute("transform")),
                i &&
                  n &&
                  (-1 !== n.indexOf("matrix")
                    ? ((r = n), (i = 0))
                    : -1 !== n.indexOf("translate") &&
                      ((r =
                        "matrix(1,0,0,1," +
                        n.match(/(?:\-|\b)[\d\-\.e]+\b/gi).join(",") +
                        ")"),
                      (i = 0)))),
              i)
            )
              return Oe;
            for (
              n = (r || "").match(/(?:\-|\b)[\d\-\.e]+\b/gi) || [],
                Ee = n.length;
              --Ee > -1;

            )
              (o = Number(n[Ee])),
                (n[Ee] = (a = o - (o |= 0))
                  ? (0 | (a * l + (0 > a ? -0.5 : 0.5))) / l + o
                  : o);
            return t && n.length > 6
              ? [n[0], n[1], n[4], n[5], n[12], n[13]]
              : n;
          },
          Fe = (I.getTransform = function (e, i, r, o) {
            if (e._gsTransform && r && !o) return e._gsTransform;
            var s,
              l,
              h,
              c,
              u,
              d,
              f = r ? e._gsTransform || new Se() : new Se(),
              p = 0 > f.scaleX,
              m = 2e-5,
              g = 1e5,
              E = He
                ? parseFloat(K(e, we, i, !1, "0 0 0").split(" ")[2]) ||
                  f.zOrigin ||
                  0
                : 0,
              v = parseFloat(a.defaultTransformPerspective) || 0;
            if (
              ((f.svg = !(!e.getBBox || !De(e))),
              f.svg &&
                (Le(
                  e,
                  K(e, we, n, !1, "50% 50%") + "",
                  f,
                  e.getAttribute("data-svg-origin")
                ),
                (Te = a.useSVGTransformAttr || Pe)),
              (s = ke(e)),
              s !== Oe)
            ) {
              if (16 === s.length) {
                var _,
                  y,
                  T,
                  x,
                  R,
                  b = s[0],
                  w = s[1],
                  H = s[2],
                  S = s[3],
                  A = s[4],
                  M = s[5],
                  C = s[6],
                  P = s[7],
                  L = s[8],
                  D = s[9],
                  k = s[10],
                  F = s[12],
                  N = s[13],
                  j = s[14],
                  U = s[11],
                  I = Math.atan2(C, k);
                f.zOrigin &&
                  ((j = -f.zOrigin),
                  (F = L * j - s[12]),
                  (N = D * j - s[13]),
                  (j = k * j + f.zOrigin - s[14])),
                  (f.rotationX = I * O),
                  I &&
                    ((x = Math.cos(-I)),
                    (R = Math.sin(-I)),
                    (_ = A * x + L * R),
                    (y = M * x + D * R),
                    (T = C * x + k * R),
                    (L = A * -R + L * x),
                    (D = M * -R + D * x),
                    (k = C * -R + k * x),
                    (U = P * -R + U * x),
                    (A = _),
                    (M = y),
                    (C = T)),
                  (I = Math.atan2(L, k)),
                  (f.rotationY = I * O),
                  I &&
                    ((x = Math.cos(-I)),
                    (R = Math.sin(-I)),
                    (_ = b * x - L * R),
                    (y = w * x - D * R),
                    (T = H * x - k * R),
                    (D = w * R + D * x),
                    (k = H * R + k * x),
                    (U = S * R + U * x),
                    (b = _),
                    (w = y),
                    (H = T)),
                  (I = Math.atan2(w, b)),
                  (f.rotation = I * O),
                  I &&
                    ((x = Math.cos(-I)),
                    (R = Math.sin(-I)),
                    (b = b * x + A * R),
                    (y = w * x + M * R),
                    (M = w * -R + M * x),
                    (C = H * -R + C * x),
                    (w = y)),
                  f.rotationX &&
                    Math.abs(f.rotationX) + Math.abs(f.rotation) > 359.9 &&
                    ((f.rotationX = f.rotation = 0), (f.rotationY += 180)),
                  (f.scaleX = (0 | (Math.sqrt(b * b + w * w) * g + 0.5)) / g),
                  (f.scaleY = (0 | (Math.sqrt(M * M + D * D) * g + 0.5)) / g),
                  (f.scaleZ = (0 | (Math.sqrt(C * C + k * k) * g + 0.5)) / g),
                  (f.skewX = 0),
                  (f.perspective = U ? 1 / (0 > U ? -U : U) : 0),
                  (f.x = F),
                  (f.y = N),
                  (f.z = j),
                  f.svg &&
                    ((f.x -= f.xOrigin - (f.xOrigin * b - f.yOrigin * A)),
                    (f.y -= f.yOrigin - (f.yOrigin * w - f.xOrigin * M)));
              } else if (
                !(
                  (He &&
                    !o &&
                    s.length &&
                    f.x === s[4] &&
                    f.y === s[5] &&
                    (f.rotationX || f.rotationY)) ||
                  (void 0 !== f.x && "none" === K(e, "display", i))
                )
              ) {
                var B = s.length >= 6,
                  V = B ? s[0] : 1,
                  z = s[1] || 0,
                  G = s[2] || 0,
                  W = B ? s[3] : 1;
                (f.x = s[4] || 0),
                  (f.y = s[5] || 0),
                  (h = Math.sqrt(V * V + z * z)),
                  (c = Math.sqrt(W * W + G * G)),
                  (u = V || z ? Math.atan2(z, V) * O : f.rotation || 0),
                  (d = G || W ? Math.atan2(G, W) * O + u : f.skewX || 0),
                  Math.abs(d) > 90 &&
                    270 > Math.abs(d) &&
                    (p
                      ? ((h *= -1),
                        (d += 0 >= u ? 180 : -180),
                        (u += 0 >= u ? 180 : -180))
                      : ((c *= -1), (d += 0 >= d ? 180 : -180))),
                  (f.scaleX = h),
                  (f.scaleY = c),
                  (f.rotation = u),
                  (f.skewX = d),
                  He &&
                    ((f.rotationX = f.rotationY = f.z = 0),
                    (f.perspective = v),
                    (f.scaleZ = 1)),
                  f.svg &&
                    ((f.x -= f.xOrigin - (f.xOrigin * V + f.yOrigin * G)),
                    (f.y -= f.yOrigin - (f.xOrigin * z + f.yOrigin * W)));
              }
              f.zOrigin = E;
              for (l in f) m > f[l] && f[l] > -m && (f[l] = 0);
            }
            return (
              r &&
                ((e._gsTransform = f),
                f.svg &&
                  (Te && e.style[Re]
                    ? t.delayedCall(0.001, function () {
                        Ie(e.style, Re);
                      })
                    : !Te &&
                      e.getAttribute("transform") &&
                      t.delayedCall(0.001, function () {
                        e.removeAttribute("transform");
                      }))),
              f
            );
          }),
          Ne = function (e) {
            var t,
              i,
              r = this.data,
              n = -r.rotation * D,
              o = n + r.skewX * D,
              a = 1e5,
              s = (0 | (Math.cos(n) * r.scaleX * a)) / a,
              l = (0 | (Math.sin(n) * r.scaleX * a)) / a,
              h = (0 | (Math.sin(o) * -r.scaleY * a)) / a,
              c = (0 | (Math.cos(o) * r.scaleY * a)) / a,
              u = this.t.style,
              d = this.t.currentStyle;
            if (d) {
              (i = l), (l = -h), (h = -i), (t = d.filter), (u.filter = "");
              var f,
                p,
                g = this.t.offsetWidth,
                E = this.t.offsetHeight,
                v = "absolute" !== d.position,
                _ =
                  "progid:DXImageTransform.Microsoft.Matrix(M11=" +
                  s +
                  ", M12=" +
                  l +
                  ", M21=" +
                  h +
                  ", M22=" +
                  c,
                x = r.x + (g * r.xPercent) / 100,
                R = r.y + (E * r.yPercent) / 100;
              if (
                (null != r.ox &&
                  ((f = (r.oxp ? 0.01 * g * r.ox : r.ox) - g / 2),
                  (p = (r.oyp ? 0.01 * E * r.oy : r.oy) - E / 2),
                  (x += f - (f * s + p * l)),
                  (R += p - (f * h + p * c))),
                v
                  ? ((f = g / 2),
                    (p = E / 2),
                    (_ +=
                      ", Dx=" +
                      (f - (f * s + p * l) + x) +
                      ", Dy=" +
                      (p - (f * h + p * c) + R) +
                      ")"))
                  : (_ += ", sizingMethod='auto expand')"),
                (u.filter =
                  -1 !== t.indexOf("DXImageTransform.Microsoft.Matrix(")
                    ? t.replace(P, _)
                    : _ + " " + t),
                (0 === e || 1 === e) &&
                  1 === s &&
                  0 === l &&
                  0 === h &&
                  1 === c &&
                  ((v && -1 === _.indexOf("Dx=0, Dy=0")) ||
                    (T.test(t) && 100 !== parseFloat(RegExp.$1)) ||
                    (-1 === t.indexOf("gradient(" && t.indexOf("Alpha")) &&
                      u.removeAttribute("filter"))),
                !v)
              ) {
                var b,
                  w,
                  H,
                  S = 8 > m ? 1 : -1;
                for (
                  f = r.ieOffsetX || 0,
                    p = r.ieOffsetY || 0,
                    r.ieOffsetX = Math.round(
                      (g - ((0 > s ? -s : s) * g + (0 > l ? -l : l) * E)) / 2 +
                        x
                    ),
                    r.ieOffsetY = Math.round(
                      (E - ((0 > c ? -c : c) * E + (0 > h ? -h : h) * g)) / 2 +
                        R
                    ),
                    Ee = 0;
                  4 > Ee;
                  Ee++
                )
                  (w = te[Ee]),
                    (b = d[w]),
                    (i =
                      -1 !== b.indexOf("px")
                        ? parseFloat(b)
                        : Q(this.t, w, parseFloat(b), b.replace(y, "")) || 0),
                    (H =
                      i !== r[w]
                        ? 2 > Ee
                          ? -r.ieOffsetX
                          : -r.ieOffsetY
                        : 2 > Ee
                        ? f - r.ieOffsetX
                        : p - r.ieOffsetY),
                    (u[w] =
                      (r[w] = Math.round(
                        i - H * (0 === Ee || 2 === Ee ? 1 : S)
                      )) + "px");
              }
            }
          },
          je =
            (I.set3DTransformRatio =
            I.setTransformRatio =
              function (e) {
                var t,
                  i,
                  r,
                  n,
                  o,
                  a,
                  s,
                  l,
                  h,
                  c,
                  u,
                  d,
                  p,
                  m,
                  g,
                  E,
                  v,
                  _,
                  y,
                  T,
                  x,
                  R,
                  b,
                  w = this.data,
                  H = this.t.style,
                  S = w.rotation,
                  A = w.rotationX,
                  M = w.rotationY,
                  C = w.scaleX,
                  P = w.scaleY,
                  L = w.scaleZ,
                  O = w.x,
                  k = w.y,
                  F = w.z,
                  N = w.svg,
                  j = w.perspective,
                  U = w.force3D;
                if (
                  !(
                    (((1 !== e && 0 !== e) ||
                      "auto" !== U ||
                      (this.tween._totalTime !== this.tween._totalDuration &&
                        this.tween._totalTime)) &&
                      U) ||
                    F ||
                    j ||
                    M ||
                    A
                  ) ||
                  (Te && N) ||
                  !He
                )
                  return void (S || w.skewX || N
                    ? ((S *= D),
                      (R = w.skewX * D),
                      (b = 1e5),
                      (t = Math.cos(S) * C),
                      (n = Math.sin(S) * C),
                      (i = Math.sin(S - R) * -P),
                      (o = Math.cos(S - R) * P),
                      R &&
                        "simple" === w.skewType &&
                        ((v = Math.tan(R)),
                        (v = Math.sqrt(1 + v * v)),
                        (i *= v),
                        (o *= v),
                        w.skewY && ((t *= v), (n *= v))),
                      N &&
                        ((O +=
                          w.xOrigin -
                          (w.xOrigin * t + w.yOrigin * i) +
                          w.xOffset),
                        (k +=
                          w.yOrigin -
                          (w.xOrigin * n + w.yOrigin * o) +
                          w.yOffset),
                        Te &&
                          (w.xPercent || w.yPercent) &&
                          ((m = this.t.getBBox()),
                          (O += 0.01 * w.xPercent * m.width),
                          (k += 0.01 * w.yPercent * m.height)),
                        (m = 1e-6),
                        m > O && O > -m && (O = 0),
                        m > k && k > -m && (k = 0)),
                      (y =
                        (0 | (t * b)) / b +
                        "," +
                        (0 | (n * b)) / b +
                        "," +
                        (0 | (i * b)) / b +
                        "," +
                        (0 | (o * b)) / b +
                        "," +
                        O +
                        "," +
                        k +
                        ")"),
                      N && Te
                        ? this.t.setAttribute("transform", "matrix(" + y)
                        : (H[Re] =
                            (w.xPercent || w.yPercent
                              ? "translate(" +
                                w.xPercent +
                                "%," +
                                w.yPercent +
                                "%) matrix("
                              : "matrix(") + y))
                    : (H[Re] =
                        (w.xPercent || w.yPercent
                          ? "translate(" +
                            w.xPercent +
                            "%," +
                            w.yPercent +
                            "%) matrix("
                          : "matrix(") +
                        C +
                        ",0,0," +
                        P +
                        "," +
                        O +
                        "," +
                        k +
                        ")"));
                if (
                  (f &&
                    ((m = 1e-4),
                    m > C && C > -m && (C = L = 2e-5),
                    m > P && P > -m && (P = L = 2e-5),
                    !j || w.z || w.rotationX || w.rotationY || (j = 0)),
                  S || w.skewX)
                )
                  (S *= D),
                    (g = t = Math.cos(S)),
                    (E = n = Math.sin(S)),
                    w.skewX &&
                      ((S -= w.skewX * D),
                      (g = Math.cos(S)),
                      (E = Math.sin(S)),
                      "simple" === w.skewType &&
                        ((v = Math.tan(w.skewX * D)),
                        (v = Math.sqrt(1 + v * v)),
                        (g *= v),
                        (E *= v),
                        w.skewY && ((t *= v), (n *= v)))),
                    (i = -E),
                    (o = g);
                else {
                  if (!(M || A || 1 !== L || j || N))
                    return void (H[Re] =
                      (w.xPercent || w.yPercent
                        ? "translate(" +
                          w.xPercent +
                          "%," +
                          w.yPercent +
                          "%) translate3d("
                        : "translate3d(") +
                      O +
                      "px," +
                      k +
                      "px," +
                      F +
                      "px)" +
                      (1 !== C || 1 !== P
                        ? " scale(" + C + "," + P + ")"
                        : ""));
                  (t = o = 1), (i = n = 0);
                }
                (h = 1),
                  (r = a = s = l = c = u = 0),
                  (d = j ? -1 / j : 0),
                  (p = w.zOrigin),
                  (m = 1e-6),
                  (T = ","),
                  (x = "0"),
                  (S = M * D),
                  S &&
                    ((g = Math.cos(S)),
                    (E = Math.sin(S)),
                    (s = -E),
                    (c = d * -E),
                    (r = t * E),
                    (a = n * E),
                    (h = g),
                    (d *= g),
                    (t *= g),
                    (n *= g)),
                  (S = A * D),
                  S &&
                    ((g = Math.cos(S)),
                    (E = Math.sin(S)),
                    (v = i * g + r * E),
                    (_ = o * g + a * E),
                    (l = h * E),
                    (u = d * E),
                    (r = i * -E + r * g),
                    (a = o * -E + a * g),
                    (h *= g),
                    (d *= g),
                    (i = v),
                    (o = _)),
                  1 !== L && ((r *= L), (a *= L), (h *= L), (d *= L)),
                  1 !== P && ((i *= P), (o *= P), (l *= P), (u *= P)),
                  1 !== C && ((t *= C), (n *= C), (s *= C), (c *= C)),
                  (p || N) &&
                    (p && ((O += r * -p), (k += a * -p), (F += h * -p + p)),
                    N &&
                      ((O +=
                        w.xOrigin -
                        (w.xOrigin * t + w.yOrigin * i) +
                        w.xOffset),
                      (k +=
                        w.yOrigin -
                        (w.xOrigin * n + w.yOrigin * o) +
                        w.yOffset)),
                    m > O && O > -m && (O = x),
                    m > k && k > -m && (k = x),
                    m > F && F > -m && (F = 0)),
                  (y =
                    w.xPercent || w.yPercent
                      ? "translate(" +
                        w.xPercent +
                        "%," +
                        w.yPercent +
                        "%) matrix3d("
                      : "matrix3d("),
                  (y +=
                    (m > t && t > -m ? x : t) +
                    T +
                    (m > n && n > -m ? x : n) +
                    T +
                    (m > s && s > -m ? x : s)),
                  (y +=
                    T +
                    (m > c && c > -m ? x : c) +
                    T +
                    (m > i && i > -m ? x : i) +
                    T +
                    (m > o && o > -m ? x : o)),
                  A || M
                    ? ((y +=
                        T +
                        (m > l && l > -m ? x : l) +
                        T +
                        (m > u && u > -m ? x : u) +
                        T +
                        (m > r && r > -m ? x : r)),
                      (y +=
                        T +
                        (m > a && a > -m ? x : a) +
                        T +
                        (m > h && h > -m ? x : h) +
                        T +
                        (m > d && d > -m ? x : d) +
                        T))
                    : (y += ",0,0,0,0,1,0,"),
                  (y += O + T + k + T + F + T + (j ? 1 + -F / j : 1) + ")"),
                  (H[Re] = y);
              });
        (h = Se.prototype),
          (h.x =
            h.y =
            h.z =
            h.skewX =
            h.skewY =
            h.rotation =
            h.rotationX =
            h.rotationY =
            h.zOrigin =
            h.xPercent =
            h.yPercent =
            h.xOffset =
            h.yOffset =
              0),
          (h.scaleX = h.scaleY = h.scaleZ = 1),
          _e(
            "transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",
            {
              parser: function (e, t, i, r, o, s, l) {
                if (r._lastParsedTransform === l) return o;
                r._lastParsedTransform = l;
                var h,
                  c,
                  u,
                  d,
                  f,
                  p,
                  m,
                  g,
                  E,
                  v = e._gsTransform,
                  _ = (r._transform = Fe(e, n, !0, l.parseTransform)),
                  y = e.style,
                  T = 1e-6,
                  x = xe.length,
                  R = l,
                  b = {},
                  w = "transformOrigin";
                if ("string" == typeof R.transform && Re)
                  (u = j.style),
                    (u[Re] = R.transform),
                    (u.display = "block"),
                    (u.position = "absolute"),
                    F.body.appendChild(j),
                    (h = Fe(j, null, !1)),
                    F.body.removeChild(j),
                    null != R.xPercent &&
                      (h.xPercent = oe(R.xPercent, _.xPercent)),
                    null != R.yPercent &&
                      (h.yPercent = oe(R.yPercent, _.yPercent));
                else if ("object" == typeof R) {
                  if (
                    ((h = {
                      scaleX: oe(
                        null != R.scaleX ? R.scaleX : R.scale,
                        _.scaleX
                      ),
                      scaleY: oe(
                        null != R.scaleY ? R.scaleY : R.scale,
                        _.scaleY
                      ),
                      scaleZ: oe(R.scaleZ, _.scaleZ),
                      x: oe(R.x, _.x),
                      y: oe(R.y, _.y),
                      z: oe(R.z, _.z),
                      xPercent: oe(R.xPercent, _.xPercent),
                      yPercent: oe(R.yPercent, _.yPercent),
                      perspective: oe(R.transformPerspective, _.perspective),
                    }),
                    (m = R.directionalRotation),
                    null != m)
                  )
                    if ("object" == typeof m) for (u in m) R[u] = m[u];
                    else R.rotation = m;
                  "string" == typeof R.x &&
                    -1 !== R.x.indexOf("%") &&
                    ((h.x = 0), (h.xPercent = oe(R.x, _.xPercent))),
                    "string" == typeof R.y &&
                      -1 !== R.y.indexOf("%") &&
                      ((h.y = 0), (h.yPercent = oe(R.y, _.yPercent))),
                    (h.rotation = ae(
                      "rotation" in R
                        ? R.rotation
                        : "shortRotation" in R
                        ? R.shortRotation + "_short"
                        : "rotationZ" in R
                        ? R.rotationZ
                        : _.rotation,
                      _.rotation,
                      "rotation",
                      b
                    )),
                    He &&
                      ((h.rotationX = ae(
                        "rotationX" in R
                          ? R.rotationX
                          : "shortRotationX" in R
                          ? R.shortRotationX + "_short"
                          : _.rotationX || 0,
                        _.rotationX,
                        "rotationX",
                        b
                      )),
                      (h.rotationY = ae(
                        "rotationY" in R
                          ? R.rotationY
                          : "shortRotationY" in R
                          ? R.shortRotationY + "_short"
                          : _.rotationY || 0,
                        _.rotationY,
                        "rotationY",
                        b
                      ))),
                    (h.skewX =
                      null == R.skewX ? _.skewX : ae(R.skewX, _.skewX)),
                    (h.skewY =
                      null == R.skewY ? _.skewY : ae(R.skewY, _.skewY)),
                    (c = h.skewY - _.skewY) &&
                      ((h.skewX += c), (h.rotation += c));
                }
                for (
                  He &&
                    null != R.force3D &&
                    ((_.force3D = R.force3D), (p = !0)),
                    _.skewType = R.skewType || _.skewType || a.defaultSkewType,
                    f =
                      _.force3D ||
                      _.z ||
                      _.rotationX ||
                      _.rotationY ||
                      h.z ||
                      h.rotationX ||
                      h.rotationY ||
                      h.perspective,
                    f || null == R.scale || (h.scaleZ = 1);
                  --x > -1;

                )
                  (i = xe[x]),
                    (d = h[i] - _[i]),
                    (d > T || -T > d || null != R[i] || null != k[i]) &&
                      ((p = !0),
                      (o = new pe(_, i, _[i], d, o)),
                      i in b && (o.e = b[i]),
                      (o.xs0 = 0),
                      (o.plugin = s),
                      r._overwriteProps.push(o.n));
                return (
                  (d = R.transformOrigin),
                  _.svg &&
                    (d || R.svgOrigin) &&
                    ((g = _.xOffset),
                    (E = _.yOffset),
                    Le(e, re(d), h, R.svgOrigin, R.smoothOrigin),
                    (o = me(
                      _,
                      "xOrigin",
                      (v ? _ : h).xOrigin,
                      h.xOrigin,
                      o,
                      w
                    )),
                    (o = me(
                      _,
                      "yOrigin",
                      (v ? _ : h).yOrigin,
                      h.yOrigin,
                      o,
                      w
                    )),
                    (g !== _.xOffset || E !== _.yOffset) &&
                      ((o = me(
                        _,
                        "xOffset",
                        v ? g : _.xOffset,
                        _.xOffset,
                        o,
                        w
                      )),
                      (o = me(
                        _,
                        "yOffset",
                        v ? E : _.yOffset,
                        _.yOffset,
                        o,
                        w
                      ))),
                    (d = Te ? null : "0px 0px")),
                  (d || (He && f && _.zOrigin)) &&
                    (Re
                      ? ((p = !0),
                        (i = we),
                        (d = (d || K(e, i, n, !1, "50% 50%")) + ""),
                        (o = new pe(y, i, 0, 0, o, -1, w)),
                        (o.b = y[i]),
                        (o.plugin = s),
                        He
                          ? ((u = _.zOrigin),
                            (d = d.split(" ")),
                            (_.zOrigin =
                              (d.length > 2 && (0 === u || "0px" !== d[2])
                                ? parseFloat(d[2])
                                : u) || 0),
                            (o.xs0 = o.e =
                              d[0] + " " + (d[1] || "50%") + " 0px"),
                            (o = new pe(_, "zOrigin", 0, 0, o, -1, o.n)),
                            (o.b = u),
                            (o.xs0 = o.e = _.zOrigin))
                          : (o.xs0 = o.e = d))
                      : re(d + "", _)),
                  p &&
                    (r._transformType =
                      (_.svg && Te) || (!f && 3 !== this._transformType)
                        ? 2
                        : 3),
                  o
                );
              },
              prefix: !0,
            }
          ),
          _e("boxShadow", {
            defaultValue: "0px 0px 0px 0px #999",
            prefix: !0,
            color: !0,
            multi: !0,
            keyword: "inset",
          }),
          _e("borderRadius", {
            defaultValue: "0px",
            parser: function (e, t, i, o, a) {
              t = this.format(t);
              var s,
                l,
                h,
                c,
                u,
                d,
                f,
                p,
                m,
                g,
                E,
                v,
                _,
                y,
                T,
                x,
                R = [
                  "borderTopLeftRadius",
                  "borderTopRightRadius",
                  "borderBottomRightRadius",
                  "borderBottomLeftRadius",
                ],
                b = e.style;
              for (
                m = parseFloat(e.offsetWidth),
                  g = parseFloat(e.offsetHeight),
                  s = t.split(" "),
                  l = 0;
                R.length > l;
                l++
              )
                this.p.indexOf("border") && (R[l] = q(R[l])),
                  (u = c = K(e, R[l], n, !1, "0px")),
                  -1 !== u.indexOf(" ") &&
                    ((c = u.split(" ")), (u = c[0]), (c = c[1])),
                  (d = h = s[l]),
                  (f = parseFloat(u)),
                  (v = u.substr((f + "").length)),
                  (_ = "=" === d.charAt(1)),
                  _
                    ? ((p = parseInt(d.charAt(0) + "1", 10)),
                      (d = d.substr(2)),
                      (p *= parseFloat(d)),
                      (E = d.substr((p + "").length - (0 > p ? 1 : 0)) || ""))
                    : ((p = parseFloat(d)), (E = d.substr((p + "").length))),
                  "" === E && (E = r[i] || v),
                  E !== v &&
                    ((y = Q(e, "borderLeft", f, v)),
                    (T = Q(e, "borderTop", f, v)),
                    "%" === E
                      ? ((u = 100 * (y / m) + "%"), (c = 100 * (T / g) + "%"))
                      : "em" === E
                      ? ((x = Q(e, "borderLeft", 1, "em")),
                        (u = y / x + "em"),
                        (c = T / x + "em"))
                      : ((u = y + "px"), (c = T + "px")),
                    _ &&
                      ((d = parseFloat(u) + p + E),
                      (h = parseFloat(c) + p + E))),
                  (a = ge(b, R[l], u + " " + c, d + " " + h, !1, "0px", a));
              return a;
            },
            prefix: !0,
            formatter: ue("0px 0px 0px 0px", !1, !0),
          }),
          _e("backgroundPosition", {
            defaultValue: "0 0",
            parser: function (e, t, i, r, o, a) {
              var s,
                l,
                h,
                c,
                u,
                d,
                f = "background-position",
                p = n || Y(e, null),
                g = this.format(
                  (p
                    ? m
                      ? p.getPropertyValue(f + "-x") +
                        " " +
                        p.getPropertyValue(f + "-y")
                      : p.getPropertyValue(f)
                    : e.currentStyle.backgroundPositionX +
                      " " +
                      e.currentStyle.backgroundPositionY) || "0 0"
                ),
                E = this.format(t);
              if (
                (-1 !== g.indexOf("%")) != (-1 !== E.indexOf("%")) &&
                ((d = K(e, "backgroundImage").replace(S, "")),
                d && "none" !== d)
              ) {
                for (
                  s = g.split(" "),
                    l = E.split(" "),
                    U.setAttribute("src", d),
                    h = 2;
                  --h > -1;

                )
                  (g = s[h]),
                    (c = -1 !== g.indexOf("%")),
                    c !== (-1 !== l[h].indexOf("%")) &&
                      ((u =
                        0 === h
                          ? e.offsetWidth - U.width
                          : e.offsetHeight - U.height),
                      (s[h] = c
                        ? (parseFloat(g) / 100) * u + "px"
                        : 100 * (parseFloat(g) / u) + "%"));
                g = s.join(" ");
              }
              return this.parseComplex(e.style, g, E, o, a);
            },
            formatter: re,
          }),
          _e("backgroundSize", { defaultValue: "0 0", formatter: re }),
          _e("perspective", { defaultValue: "0px", prefix: !0 }),
          _e("perspectiveOrigin", { defaultValue: "50% 50%", prefix: !0 }),
          _e("transformStyle", { prefix: !0 }),
          _e("backfaceVisibility", { prefix: !0 }),
          _e("userSelect", { prefix: !0 }),
          _e("margin", {
            parser: de("marginTop,marginRight,marginBottom,marginLeft"),
          }),
          _e("padding", {
            parser: de("paddingTop,paddingRight,paddingBottom,paddingLeft"),
          }),
          _e("clip", {
            defaultValue: "rect(0px,0px,0px,0px)",
            parser: function (e, t, i, r, o, a) {
              var s, l, h;
              return (
                9 > m
                  ? ((l = e.currentStyle),
                    (h = 8 > m ? " " : ","),
                    (s =
                      "rect(" +
                      l.clipTop +
                      h +
                      l.clipRight +
                      h +
                      l.clipBottom +
                      h +
                      l.clipLeft +
                      ")"),
                    (t = this.format(t).split(",").join(h)))
                  : ((s = this.format(K(e, this.p, n, !1, this.dflt))),
                    (t = this.format(t))),
                this.parseComplex(e.style, s, t, o, a)
              );
            },
          }),
          _e("textShadow", {
            defaultValue: "0px 0px 0px #999",
            color: !0,
            multi: !0,
          }),
          _e("autoRound,strictUnits", {
            parser: function (e, t, i, r, n) {
              return n;
            },
          }),
          _e("border", {
            defaultValue: "0px solid #000",
            parser: function (e, t, i, r, o, a) {
              return this.parseComplex(
                e.style,
                this.format(
                  K(e, "borderTopWidth", n, !1, "0px") +
                    " " +
                    K(e, "borderTopStyle", n, !1, "solid") +
                    " " +
                    K(e, "borderTopColor", n, !1, "#000")
                ),
                this.format(t),
                o,
                a
              );
            },
            color: !0,
            formatter: function (e) {
              var t = e.split(" ");
              return (
                t[0] +
                " " +
                (t[1] || "solid") +
                " " +
                (e.match(ce) || ["#000"])[0]
              );
            },
          }),
          _e("borderWidth", {
            parser: de(
              "borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth"
            ),
          }),
          _e("float,cssFloat,styleFloat", {
            parser: function (e, t, i, r, n) {
              var o = e.style,
                a = "cssFloat" in o ? "cssFloat" : "styleFloat";
              return new pe(o, a, 0, 0, n, -1, i, !1, 0, o[a], t);
            },
          });
        var Ue = function (e) {
          var t,
            i = this.t,
            r = i.filter || K(this.data, "filter") || "",
            n = 0 | (this.s + this.c * e);
          100 === n &&
            (-1 === r.indexOf("atrix(") &&
            -1 === r.indexOf("radient(") &&
            -1 === r.indexOf("oader(")
              ? (i.removeAttribute("filter"), (t = !K(this.data, "filter")))
              : ((i.filter = r.replace(R, "")), (t = !0))),
            t ||
              (this.xn1 && (i.filter = r = r || "alpha(opacity=" + n + ")"),
              -1 === r.indexOf("pacity")
                ? (0 === n && this.xn1) ||
                  (i.filter = r + " alpha(opacity=" + n + ")")
                : (i.filter = r.replace(T, "opacity=" + n)));
        };
        _e("opacity,alpha,autoAlpha", {
          defaultValue: "1",
          parser: function (e, t, i, r, o, a) {
            var s = parseFloat(K(e, "opacity", n, !1, "1")),
              l = e.style,
              h = "autoAlpha" === i;
            return (
              "string" == typeof t &&
                "=" === t.charAt(1) &&
                (t =
                  ("-" === t.charAt(0) ? -1 : 1) * parseFloat(t.substr(2)) + s),
              h &&
                1 === s &&
                "hidden" === K(e, "visibility", n) &&
                0 !== t &&
                (s = 0),
              V
                ? (o = new pe(l, "opacity", s, t - s, o))
                : ((o = new pe(l, "opacity", 100 * s, 100 * (t - s), o)),
                  (o.xn1 = h ? 1 : 0),
                  (l.zoom = 1),
                  (o.type = 2),
                  (o.b = "alpha(opacity=" + o.s + ")"),
                  (o.e = "alpha(opacity=" + (o.s + o.c) + ")"),
                  (o.data = e),
                  (o.plugin = a),
                  (o.setRatio = Ue)),
              h &&
                ((o = new pe(
                  l,
                  "visibility",
                  0,
                  0,
                  o,
                  -1,
                  null,
                  !1,
                  0,
                  0 !== s ? "inherit" : "hidden",
                  0 === t ? "hidden" : "inherit"
                )),
                (o.xs0 = "inherit"),
                r._overwriteProps.push(o.n),
                r._overwriteProps.push(i)),
              o
            );
          },
        });
        var Ie = function (e, t) {
            t &&
              (e.removeProperty
                ? (("ms" === t.substr(0, 2) || "webkit" === t.substr(0, 6)) &&
                    (t = "-" + t),
                  e.removeProperty(t.replace(w, "-$1").toLowerCase()))
                : e.removeAttribute(t));
          },
          Be = function (e) {
            if (((this.t._gsClassPT = this), 1 === e || 0 === e)) {
              this.t.setAttribute("class", 0 === e ? this.b : this.e);
              for (var t = this.data, i = this.t.style; t; )
                t.v ? (i[t.p] = t.v) : Ie(i, t.p), (t = t._next);
              1 === e &&
                this.t._gsClassPT === this &&
                (this.t._gsClassPT = null);
            } else
              this.t.getAttribute("class") !== this.e &&
                this.t.setAttribute("class", this.e);
          };
        _e("className", {
          parser: function (e, t, r, o, a, s, l) {
            var h,
              c,
              u,
              d,
              f,
              p = e.getAttribute("class") || "",
              m = e.style.cssText;
            if (
              ((a = o._classNamePT = new pe(e, r, 0, 0, a, 2)),
              (a.setRatio = Be),
              (a.pr = -11),
              (i = !0),
              (a.b = p),
              (c = J(e, n)),
              (u = e._gsClassPT))
            ) {
              for (d = {}, f = u.data; f; ) (d[f.p] = 1), (f = f._next);
              u.setRatio(1);
            }
            return (
              (e._gsClassPT = a),
              (a.e =
                "=" !== t.charAt(1)
                  ? t
                  : p.replace(RegExp("\\s*\\b" + t.substr(2) + "\\b"), "") +
                    ("+" === t.charAt(0) ? " " + t.substr(2) : "")),
              e.setAttribute("class", a.e),
              (h = Z(e, c, J(e), l, d)),
              e.setAttribute("class", p),
              (a.data = h.firstMPT),
              (e.style.cssText = m),
              (a = a.xfirst = o.parse(e, h.difs, a, s))
            );
          },
        });
        var Ve = function (e) {
          if (
            (1 === e || 0 === e) &&
            this.data._totalTime === this.data._totalDuration &&
            "isFromStart" !== this.data.data
          ) {
            var t,
              i,
              r,
              n,
              o,
              a = this.t.style,
              s = l.transform.parse;
            if ("all" === this.e) (a.cssText = ""), (n = !0);
            else
              for (
                t = this.e.split(" ").join("").split(","), r = t.length;
                --r > -1;

              )
                (i = t[r]),
                  l[i] &&
                    (l[i].parse === s
                      ? (n = !0)
                      : (i = "transformOrigin" === i ? we : l[i].p)),
                  Ie(a, i);
            n &&
              (Ie(a, Re),
              (o = this.t._gsTransform),
              o &&
                (o.svg && this.t.removeAttribute("data-svg-origin"),
                delete this.t._gsTransform));
          }
        };
        for (
          _e("clearProps", {
            parser: function (e, t, r, n, o) {
              return (
                (o = new pe(e, r, 0, 0, o, 2)),
                (o.setRatio = Ve),
                (o.e = t),
                (o.pr = -10),
                (o.data = n._tween),
                (i = !0),
                o
              );
            },
          }),
            h = "bezier,throwProps,physicsProps,physics2D".split(","),
            Ee = h.length;
          Ee--;

        )
          ye(h[Ee]);
        (h = a.prototype),
          (h._firstPT = h._lastParsedTransform = h._transform = null),
          (h._onInitTween = function (e, t, s) {
            if (!e.nodeType) return !1;
            (this._target = e),
              (this._tween = s),
              (this._vars = t),
              (c = t.autoRound),
              (i = !1),
              (r = t.suffixMap || a.suffixMap),
              (n = Y(e, "")),
              (o = this._overwriteProps);
            var h,
              f,
              m,
              g,
              E,
              v,
              _,
              y,
              T,
              R = e.style;
            if (
              (u &&
                "" === R.zIndex &&
                ((h = K(e, "zIndex", n)),
                ("auto" === h || "" === h) && this._addLazySet(R, "zIndex", 0)),
              "string" == typeof t &&
                ((g = R.cssText),
                (h = J(e, n)),
                (R.cssText = g + ";" + t),
                (h = Z(e, h, J(e)).difs),
                !V && x.test(t) && (h.opacity = parseFloat(RegExp.$1)),
                (t = h),
                (R.cssText = g)),
              (this._firstPT = f =
                t.className
                  ? l.className.parse(
                      e,
                      t.className,
                      "className",
                      this,
                      null,
                      null,
                      t
                    )
                  : this.parse(e, t, null)),
              this._transformType)
            ) {
              for (
                T = 3 === this._transformType,
                  Re
                    ? d &&
                      ((u = !0),
                      "" === R.zIndex &&
                        ((_ = K(e, "zIndex", n)),
                        ("auto" === _ || "" === _) &&
                          this._addLazySet(R, "zIndex", 0)),
                      p &&
                        this._addLazySet(
                          R,
                          "WebkitBackfaceVisibility",
                          this._vars.WebkitBackfaceVisibility ||
                            (T ? "visible" : "hidden")
                        ))
                    : (R.zoom = 1),
                  m = f;
                m && m._next;

              )
                m = m._next;
              (y = new pe(e, "transform", 0, 0, null, 2)),
                this._linkCSSP(y, null, m),
                (y.setRatio = Re ? je : Ne),
                (y.data = this._transform || Fe(e, n, !0)),
                (y.tween = s),
                (y.pr = -1),
                o.pop();
            }
            if (i) {
              for (; f; ) {
                for (v = f._next, m = g; m && m.pr > f.pr; ) m = m._next;
                (f._prev = m ? m._prev : E) ? (f._prev._next = f) : (g = f),
                  (f._next = m) ? (m._prev = f) : (E = f),
                  (f = v);
              }
              this._firstPT = g;
            }
            return !0;
          }),
          (h.parse = function (e, t, i, o) {
            var a,
              s,
              h,
              u,
              d,
              f,
              p,
              m,
              g,
              E,
              v = e.style;
            for (a in t)
              (f = t[a]),
                (s = l[a]),
                s
                  ? (i = s.parse(e, f, a, this, i, o, t))
                  : ((d = K(e, a, n) + ""),
                    (g = "string" == typeof f),
                    "color" === a ||
                    "fill" === a ||
                    "stroke" === a ||
                    -1 !== a.indexOf("Color") ||
                    (g && b.test(f))
                      ? (g ||
                          ((f = he(f)),
                          (f =
                            (f.length > 3 ? "rgba(" : "rgb(") +
                            f.join(",") +
                            ")")),
                        (i = ge(v, a, d, f, !0, "transparent", i, 0, o)))
                      : !g || (-1 === f.indexOf(" ") && -1 === f.indexOf(","))
                      ? ((h = parseFloat(d)),
                        (p = h || 0 === h ? d.substr((h + "").length) : ""),
                        ("" === d || "auto" === d) &&
                          ("width" === a || "height" === a
                            ? ((h = ie(e, a, n)), (p = "px"))
                            : "left" === a || "top" === a
                            ? ((h = $(e, a, n)), (p = "px"))
                            : ((h = "opacity" !== a ? 0 : 1), (p = ""))),
                        (E = g && "=" === f.charAt(1)),
                        E
                          ? ((u = parseInt(f.charAt(0) + "1", 10)),
                            (f = f.substr(2)),
                            (u *= parseFloat(f)),
                            (m = f.replace(y, "")))
                          : ((u = parseFloat(f)),
                            (m = g ? f.replace(y, "") : "")),
                        "" === m && (m = a in r ? r[a] : p),
                        (f = u || 0 === u ? (E ? u + h : u) + m : t[a]),
                        p !== m &&
                          "" !== m &&
                          (u || 0 === u) &&
                          h &&
                          ((h = Q(e, a, h, p)),
                          "%" === m
                            ? ((h /= Q(e, a, 100, "%") / 100),
                              t.strictUnits !== !0 && (d = h + "%"))
                            : "em" === m
                            ? (h /= Q(e, a, 1, "em"))
                            : "px" !== m && ((u = Q(e, a, u, m)), (m = "px")),
                          E && (u || 0 === u) && (f = u + h + m)),
                        E && (u += h),
                        (!h && 0 !== h) || (!u && 0 !== u)
                          ? void 0 !== v[a] &&
                            (f || ("NaN" != f + "" && null != f))
                            ? ((i = new pe(
                                v,
                                a,
                                u || h || 0,
                                0,
                                i,
                                -1,
                                a,
                                !1,
                                0,
                                d,
                                f
                              )),
                              (i.xs0 =
                                "none" !== f ||
                                ("display" !== a && -1 === a.indexOf("Style"))
                                  ? f
                                  : d))
                            : G("invalid " + a + " tween value: " + t[a])
                          : ((i = new pe(
                              v,
                              a,
                              h,
                              u - h,
                              i,
                              0,
                              a,
                              c !== !1 && ("px" === m || "zIndex" === a),
                              0,
                              d,
                              f
                            )),
                            (i.xs0 = m)))
                      : (i = ge(v, a, d, f, !0, null, i, 0, o))),
                o && i && !i.plugin && (i.plugin = o);
            return i;
          }),
          (h.setRatio = function (e) {
            var t,
              i,
              r,
              n = this._firstPT,
              o = 1e-6;
            if (
              1 !== e ||
              (this._tween._time !== this._tween._duration &&
                0 !== this._tween._time)
            )
              if (
                e ||
                (this._tween._time !== this._tween._duration &&
                  0 !== this._tween._time) ||
                this._tween._rawPrevTime === -1e-6
              )
                for (; n; ) {
                  if (
                    ((t = n.c * e + n.s),
                    n.r ? (t = Math.round(t)) : o > t && t > -o && (t = 0),
                    n.type)
                  )
                    if (1 === n.type)
                      if (((r = n.l), 2 === r))
                        n.t[n.p] = n.xs0 + t + n.xs1 + n.xn1 + n.xs2;
                      else if (3 === r)
                        n.t[n.p] =
                          n.xs0 + t + n.xs1 + n.xn1 + n.xs2 + n.xn2 + n.xs3;
                      else if (4 === r)
                        n.t[n.p] =
                          n.xs0 +
                          t +
                          n.xs1 +
                          n.xn1 +
                          n.xs2 +
                          n.xn2 +
                          n.xs3 +
                          n.xn3 +
                          n.xs4;
                      else if (5 === r)
                        n.t[n.p] =
                          n.xs0 +
                          t +
                          n.xs1 +
                          n.xn1 +
                          n.xs2 +
                          n.xn2 +
                          n.xs3 +
                          n.xn3 +
                          n.xs4 +
                          n.xn4 +
                          n.xs5;
                      else {
                        for (i = n.xs0 + t + n.xs1, r = 1; n.l > r; r++)
                          i += n["xn" + r] + n["xs" + (r + 1)];
                        n.t[n.p] = i;
                      }
                    else
                      -1 === n.type
                        ? (n.t[n.p] = n.xs0)
                        : n.setRatio && n.setRatio(e);
                  else n.t[n.p] = t + n.xs0;
                  n = n._next;
                }
              else
                for (; n; )
                  2 !== n.type ? (n.t[n.p] = n.b) : n.setRatio(e),
                    (n = n._next);
            else
              for (; n; ) {
                if (2 !== n.type)
                  if (n.r && -1 !== n.type)
                    if (((t = Math.round(n.s + n.c)), n.type)) {
                      if (1 === n.type) {
                        for (
                          r = n.l, i = n.xs0 + t + n.xs1, r = 1;
                          n.l > r;
                          r++
                        )
                          i += n["xn" + r] + n["xs" + (r + 1)];
                        n.t[n.p] = i;
                      }
                    } else n.t[n.p] = t + n.xs0;
                  else n.t[n.p] = n.e;
                else n.setRatio(e);
                n = n._next;
              }
          }),
          (h._enableTransforms = function (e) {
            (this._transform = this._transform || Fe(this._target, n, !0)),
              (this._transformType =
                (this._transform.svg && Te) || (!e && 3 !== this._transformType)
                  ? 2
                  : 3);
          });
        var ze = function () {
          (this.t[this.p] = this.e),
            this.data._linkCSSP(this, this._next, null, !0);
        };
        (h._addLazySet = function (e, t, i) {
          var r = (this._firstPT = new pe(e, t, 0, 0, this._firstPT, 2));
          (r.e = i), (r.setRatio = ze), (r.data = this);
        }),
          (h._linkCSSP = function (e, t, i, r) {
            return (
              e &&
                (t && (t._prev = e),
                e._next && (e._next._prev = e._prev),
                e._prev
                  ? (e._prev._next = e._next)
                  : this._firstPT === e &&
                    ((this._firstPT = e._next), (r = !0)),
                i
                  ? (i._next = e)
                  : r || null !== this._firstPT || (this._firstPT = e),
                (e._next = t),
                (e._prev = i)),
              e
            );
          }),
          (h._kill = function (t) {
            var i,
              r,
              n,
              o = t;
            if (t.autoAlpha || t.alpha) {
              o = {};
              for (r in t) o[r] = t[r];
              (o.opacity = 1), o.autoAlpha && (o.visibility = 1);
            }
            return (
              t.className &&
                (i = this._classNamePT) &&
                ((n = i.xfirst),
                n && n._prev
                  ? this._linkCSSP(n._prev, i._next, n._prev._prev)
                  : n === this._firstPT && (this._firstPT = i._next),
                i._next && this._linkCSSP(i._next, i._next._next, n._prev),
                (this._classNamePT = null)),
              e.prototype._kill.call(this, o)
            );
          });
        var Ge = function (e, t, i) {
          var r, n, o, a;
          if (e.slice) for (n = e.length; --n > -1; ) Ge(e[n], t, i);
          else
            for (r = e.childNodes, n = r.length; --n > -1; )
              (o = r[n]),
                (a = o.type),
                o.style && (t.push(J(o)), i && i.push(o)),
                (1 !== a && 9 !== a && 11 !== a) ||
                  !o.childNodes.length ||
                  Ge(o, t, i);
        };
        return (
          (a.cascadeTo = function (e, i, r) {
            var n,
              o,
              a,
              s,
              l = t.to(e, i, r),
              h = [l],
              c = [],
              u = [],
              d = [],
              f = t._internals.reservedProps;
            for (
              e = l._targets || l.target,
                Ge(e, c, d),
                l.render(i, !0, !0),
                Ge(e, u),
                l.render(0, !0, !0),
                l._enabled(!0),
                n = d.length;
              --n > -1;

            )
              if (((o = Z(d[n], c[n], u[n])), o.firstMPT)) {
                o = o.difs;
                for (a in r) f[a] && (o[a] = r[a]);
                s = {};
                for (a in o) s[a] = c[n][a];
                h.push(t.fromTo(d[n], i, s, o));
              }
            return h;
          }),
          e.activate([a]),
          a
        );
      },
      !0
    ),
    (function () {
      var e = _gsScope._gsDefine.plugin({
          propName: "roundProps",
          priority: -1,
          API: 2,
          init: function (e, t, i) {
            return (this._tween = i), !0;
          },
        }),
        t = e.prototype;
      (t._onInitAllProps = function () {
        for (
          var e,
            t,
            i,
            r = this._tween,
            n =
              r.vars.roundProps instanceof Array
                ? r.vars.roundProps
                : r.vars.roundProps.split(","),
            o = n.length,
            a = {},
            s = r._propLookup.roundProps;
          --o > -1;

        )
          a[n[o]] = 1;
        for (o = n.length; --o > -1; )
          for (e = n[o], t = r._firstPT; t; )
            (i = t._next),
              t.pg
                ? t.t._roundProps(a, !0)
                : t.n === e &&
                  (this._add(t.t, e, t.s, t.c),
                  i && (i._prev = t._prev),
                  t._prev
                    ? (t._prev._next = i)
                    : r._firstPT === t && (r._firstPT = i),
                  (t._next = t._prev = null),
                  (r._propLookup[e] = s)),
              (t = i);
        return !1;
      }),
        (t._add = function (e, t, i, r) {
          this._addTween(e, t, i, i + r, t, !0), this._overwriteProps.push(t);
        });
    })(),
    (function () {
      var e = /(?:\d|\-|\+|=|#|\.)*/g,
        t = /[A-Za-z%]/g;
      _gsScope._gsDefine.plugin({
        propName: "attr",
        API: 2,
        version: "0.4.0",
        init: function (i, r) {
          var n, o, a, s, l;
          if ("function" != typeof i.setAttribute) return !1;
          (this._target = i),
            (this._proxy = {}),
            (this._start = {}),
            (this._end = {}),
            (this._suffix = {});
          for (n in r)
            (this._start[n] = this._proxy[n] = o = i.getAttribute(n) + ""),
              (this._end[n] = a = r[n] + ""),
              (this._suffix[n] = s =
                t.test(a)
                  ? a.replace(e, "")
                  : t.test(o)
                  ? o.replace(e, "")
                  : ""),
              s && ((l = a.indexOf(s)), -1 !== l && (a = a.substr(0, l))),
              this._addTween(this._proxy, n, parseFloat(o), a, n) ||
                (this._suffix[n] = ""),
              "=" === a.charAt(1) &&
                (this._end[n] = this._firstPT.s + this._firstPT.c + s),
              this._overwriteProps.push(n);
          return !0;
        },
        set: function (e) {
          this._super.setRatio.call(this, e);
          for (
            var t,
              i = this._overwriteProps,
              r = i.length,
              n = 1 === e ? this._end : e ? this._proxy : this._start,
              o = n === this._proxy;
            --r > -1;

          )
            (t = i[r]),
              this._target.setAttribute(t, n[t] + (o ? this._suffix[t] : ""));
        },
      });
    })(),
    (_gsScope._gsDefine.plugin({
      propName: "directionalRotation",
      version: "0.2.1",
      API: 2,
      init: function (e, t) {
        "object" != typeof t && (t = { rotation: t }), (this.finals = {});
        var i,
          r,
          n,
          o,
          a,
          s,
          l = t.useRadians === !0 ? 2 * Math.PI : 360,
          h = 1e-6;
        for (i in t)
          "useRadians" !== i &&
            ((s = (t[i] + "").split("_")),
            (r = s[0]),
            (n = parseFloat(
              "function" != typeof e[i]
                ? e[i]
                : e[
                    i.indexOf("set") ||
                    "function" != typeof e["get" + i.substr(3)]
                      ? i
                      : "get" + i.substr(3)
                  ]()
            )),
            (o = this.finals[i] =
              "string" == typeof r && "=" === r.charAt(1)
                ? n + parseInt(r.charAt(0) + "1", 10) * Number(r.substr(2))
                : Number(r) || 0),
            (a = o - n),
            s.length &&
              ((r = s.join("_")),
              -1 !== r.indexOf("short") &&
                ((a %= l), a !== a % (l / 2) && (a = 0 > a ? a + l : a - l)),
              -1 !== r.indexOf("_cw") && 0 > a
                ? (a = ((a + 9999999999 * l) % l) - (0 | (a / l)) * l)
                : -1 !== r.indexOf("ccw") &&
                  a > 0 &&
                  (a = ((a - 9999999999 * l) % l) - (0 | (a / l)) * l)),
            (a > h || -h > a) &&
              (this._addTween(e, i, n, n + a, i),
              this._overwriteProps.push(i)));
        return !0;
      },
      set: function (e) {
        var t;
        if (1 !== e) this._super.setRatio.call(this, e);
        else
          for (t = this._firstPT; t; )
            t.f ? t.t[t.p](this.finals[t.p]) : (t.t[t.p] = this.finals[t.p]),
              (t = t._next);
      },
    })._autoCSS = !0),
    _gsScope._gsDefine(
      "easing.Back",
      ["easing.Ease"],
      function (e) {
        var t,
          i,
          r,
          n = _gsScope.GreenSockGlobals || _gsScope,
          o = n.com.greensock,
          a = 2 * Math.PI,
          s = Math.PI / 2,
          l = o._class,
          h = function (t, i) {
            var r = l("easing." + t, function () {}, !0),
              n = (r.prototype = new e());
            return (n.constructor = r), (n.getRatio = i), r;
          },
          c = e.register || function () {},
          u = function (e, t, i, r) {
            var n = l(
              "easing." + e,
              { easeOut: new t(), easeIn: new i(), easeInOut: new r() },
              !0
            );
            return c(n, e), n;
          },
          d = function (e, t, i) {
            (this.t = e),
              (this.v = t),
              i &&
                ((this.next = i),
                (i.prev = this),
                (this.c = i.v - t),
                (this.gap = i.t - e));
          },
          f = function (t, i) {
            var r = l(
                "easing." + t,
                function (e) {
                  (this._p1 = e || 0 === e ? e : 1.70158),
                    (this._p2 = 1.525 * this._p1);
                },
                !0
              ),
              n = (r.prototype = new e());
            return (
              (n.constructor = r),
              (n.getRatio = i),
              (n.config = function (e) {
                return new r(e);
              }),
              r
            );
          },
          p = u(
            "Back",
            f("BackOut", function (e) {
              return (e -= 1) * e * ((this._p1 + 1) * e + this._p1) + 1;
            }),
            f("BackIn", function (e) {
              return e * e * ((this._p1 + 1) * e - this._p1);
            }),
            f("BackInOut", function (e) {
              return 1 > (e *= 2)
                ? 0.5 * e * e * ((this._p2 + 1) * e - this._p2)
                : 0.5 * ((e -= 2) * e * ((this._p2 + 1) * e + this._p2) + 2);
            })
          ),
          m = l(
            "easing.SlowMo",
            function (e, t, i) {
              (t = t || 0 === t ? t : 0.7),
                null == e ? (e = 0.7) : e > 1 && (e = 1),
                (this._p = 1 !== e ? t : 0),
                (this._p1 = (1 - e) / 2),
                (this._p2 = e),
                (this._p3 = this._p1 + this._p2),
                (this._calcEnd = i === !0);
            },
            !0
          ),
          g = (m.prototype = new e());
        return (
          (g.constructor = m),
          (g.getRatio = function (e) {
            var t = e + (0.5 - e) * this._p;
            return this._p1 > e
              ? this._calcEnd
                ? 1 - (e = 1 - e / this._p1) * e
                : t - (e = 1 - e / this._p1) * e * e * e * t
              : e > this._p3
              ? this._calcEnd
                ? 1 - (e = (e - this._p3) / this._p1) * e
                : t + (e - t) * (e = (e - this._p3) / this._p1) * e * e * e
              : this._calcEnd
              ? 1
              : t;
          }),
          (m.ease = new m(0.7, 0.7)),
          (g.config = m.config =
            function (e, t, i) {
              return new m(e, t, i);
            }),
          (t = l(
            "easing.SteppedEase",
            function (e) {
              (e = e || 1), (this._p1 = 1 / e), (this._p2 = e + 1);
            },
            !0
          )),
          (g = t.prototype = new e()),
          (g.constructor = t),
          (g.getRatio = function (e) {
            return (
              0 > e ? (e = 0) : e >= 1 && (e = 0.999999999),
              ((this._p2 * e) >> 0) * this._p1
            );
          }),
          (g.config = t.config =
            function (e) {
              return new t(e);
            }),
          (i = l(
            "easing.RoughEase",
            function (t) {
              t = t || {};
              for (
                var i,
                  r,
                  n,
                  o,
                  a,
                  s,
                  l = t.taper || "none",
                  h = [],
                  c = 0,
                  u = 0 | (t.points || 20),
                  f = u,
                  p = t.randomize !== !1,
                  m = t.clamp === !0,
                  g = t.template instanceof e ? t.template : null,
                  E = "number" == typeof t.strength ? 0.4 * t.strength : 0.4;
                --f > -1;

              )
                (i = p ? Math.random() : (1 / u) * f),
                  (r = g ? g.getRatio(i) : i),
                  "none" === l
                    ? (n = E)
                    : "out" === l
                    ? ((o = 1 - i), (n = o * o * E))
                    : "in" === l
                    ? (n = i * i * E)
                    : 0.5 > i
                    ? ((o = 2 * i), (n = 0.5 * o * o * E))
                    : ((o = 2 * (1 - i)), (n = 0.5 * o * o * E)),
                  p
                    ? (r += Math.random() * n - 0.5 * n)
                    : f % 2
                    ? (r += 0.5 * n)
                    : (r -= 0.5 * n),
                  m && (r > 1 ? (r = 1) : 0 > r && (r = 0)),
                  (h[c++] = { x: i, y: r });
              for (
                h.sort(function (e, t) {
                  return e.x - t.x;
                }),
                  s = new d(1, 1, null),
                  f = u;
                --f > -1;

              )
                (a = h[f]), (s = new d(a.x, a.y, s));
              this._prev = new d(0, 0, 0 !== s.t ? s : s.next);
            },
            !0
          )),
          (g = i.prototype = new e()),
          (g.constructor = i),
          (g.getRatio = function (e) {
            var t = this._prev;
            if (e > t.t) {
              for (; t.next && e >= t.t; ) t = t.next;
              t = t.prev;
            } else for (; t.prev && t.t >= e; ) t = t.prev;
            return (this._prev = t), t.v + ((e - t.t) / t.gap) * t.c;
          }),
          (g.config = function (e) {
            return new i(e);
          }),
          (i.ease = new i()),
          u(
            "Bounce",
            h("BounceOut", function (e) {
              return 1 / 2.75 > e
                ? 7.5625 * e * e
                : 2 / 2.75 > e
                ? 7.5625 * (e -= 1.5 / 2.75) * e + 0.75
                : 2.5 / 2.75 > e
                ? 7.5625 * (e -= 2.25 / 2.75) * e + 0.9375
                : 7.5625 * (e -= 2.625 / 2.75) * e + 0.984375;
            }),
            h("BounceIn", function (e) {
              return 1 / 2.75 > (e = 1 - e)
                ? 1 - 7.5625 * e * e
                : 2 / 2.75 > e
                ? 1 - (7.5625 * (e -= 1.5 / 2.75) * e + 0.75)
                : 2.5 / 2.75 > e
                ? 1 - (7.5625 * (e -= 2.25 / 2.75) * e + 0.9375)
                : 1 - (7.5625 * (e -= 2.625 / 2.75) * e + 0.984375);
            }),
            h("BounceInOut", function (e) {
              var t = 0.5 > e;
              return (
                (e = t ? 1 - 2 * e : 2 * e - 1),
                (e =
                  1 / 2.75 > e
                    ? 7.5625 * e * e
                    : 2 / 2.75 > e
                    ? 7.5625 * (e -= 1.5 / 2.75) * e + 0.75
                    : 2.5 / 2.75 > e
                    ? 7.5625 * (e -= 2.25 / 2.75) * e + 0.9375
                    : 7.5625 * (e -= 2.625 / 2.75) * e + 0.984375),
                t ? 0.5 * (1 - e) : 0.5 * e + 0.5
              );
            })
          ),
          u(
            "Circ",
            h("CircOut", function (e) {
              return Math.sqrt(1 - (e -= 1) * e);
            }),
            h("CircIn", function (e) {
              return -(Math.sqrt(1 - e * e) - 1);
            }),
            h("CircInOut", function (e) {
              return 1 > (e *= 2)
                ? -0.5 * (Math.sqrt(1 - e * e) - 1)
                : 0.5 * (Math.sqrt(1 - (e -= 2) * e) + 1);
            })
          ),
          (r = function (t, i, r) {
            var n = l(
                "easing." + t,
                function (e, t) {
                  (this._p1 = e >= 1 ? e : 1),
                    (this._p2 = (t || r) / (1 > e ? e : 1)),
                    (this._p3 =
                      (this._p2 / a) * (Math.asin(1 / this._p1) || 0)),
                    (this._p2 = a / this._p2);
                },
                !0
              ),
              o = (n.prototype = new e());
            return (
              (o.constructor = n),
              (o.getRatio = i),
              (o.config = function (e, t) {
                return new n(e, t);
              }),
              n
            );
          }),
          u(
            "Elastic",
            r(
              "ElasticOut",
              function (e) {
                return (
                  this._p1 *
                    Math.pow(2, -10 * e) *
                    Math.sin((e - this._p3) * this._p2) +
                  1
                );
              },
              0.3
            ),
            r(
              "ElasticIn",
              function (e) {
                return -(
                  this._p1 *
                  Math.pow(2, 10 * (e -= 1)) *
                  Math.sin((e - this._p3) * this._p2)
                );
              },
              0.3
            ),
            r(
              "ElasticInOut",
              function (e) {
                return 1 > (e *= 2)
                  ? -0.5 *
                      this._p1 *
                      Math.pow(2, 10 * (e -= 1)) *
                      Math.sin((e - this._p3) * this._p2)
                  : 0.5 *
                      this._p1 *
                      Math.pow(2, -10 * (e -= 1)) *
                      Math.sin((e - this._p3) * this._p2) +
                      1;
              },
              0.45
            )
          ),
          u(
            "Expo",
            h("ExpoOut", function (e) {
              return 1 - Math.pow(2, -10 * e);
            }),
            h("ExpoIn", function (e) {
              return Math.pow(2, 10 * (e - 1)) - 0.001;
            }),
            h("ExpoInOut", function (e) {
              return 1 > (e *= 2)
                ? 0.5 * Math.pow(2, 10 * (e - 1))
                : 0.5 * (2 - Math.pow(2, -10 * (e - 1)));
            })
          ),
          u(
            "Sine",
            h("SineOut", function (e) {
              return Math.sin(e * s);
            }),
            h("SineIn", function (e) {
              return -Math.cos(e * s) + 1;
            }),
            h("SineInOut", function (e) {
              return -0.5 * (Math.cos(Math.PI * e) - 1);
            })
          ),
          l(
            "easing.EaseLookup",
            {
              find: function (t) {
                return e.map[t];
              },
            },
            !0
          ),
          c(n.SlowMo, "SlowMo", "ease,"),
          c(i, "RoughEase", "ease,"),
          c(t, "SteppedEase", "ease,"),
          p
        );
      },
      !0
    );
}),
  _gsScope._gsDefine && _gsScope._gsQueue.pop()(),
  (function (e, t) {
    "use strict";
    var i = (e.GreenSockGlobals = e.GreenSockGlobals || e);
    if (!i.TweenLite) {
      var r,
        n,
        o,
        a,
        s,
        l = function (e) {
          var t,
            r = e.split("."),
            n = i;
          for (t = 0; r.length > t; t++) n[r[t]] = n = n[r[t]] || {};
          return n;
        },
        h = l("com.greensock"),
        c = 1e-10,
        u = function (e) {
          var t,
            i = [],
            r = e.length;
          for (t = 0; t !== r; i.push(e[t++]));
          return i;
        },
        d = function () {},
        f = (function () {
          var e = Object.prototype.toString,
            t = e.call([]);
          return function (i) {
            return (
              null != i &&
              (i instanceof Array ||
                ("object" == typeof i && !!i.push && e.call(i) === t))
            );
          };
        })(),
        p = {},
        m = function (r, n, o, a) {
          (this.sc = p[r] ? p[r].sc : []),
            (p[r] = this),
            (this.gsClass = null),
            (this.func = o);
          var s = [];
          (this.check = function (h) {
            for (var c, u, d, f, g = n.length, E = g; --g > -1; )
              (c = p[n[g]] || new m(n[g], [])).gsClass
                ? ((s[g] = c.gsClass), E--)
                : h && c.sc.push(this);
            if (0 === E && o)
              for (
                u = ("com.greensock." + r).split("."),
                  d = u.pop(),
                  f = l(u.join("."))[d] = this.gsClass = o.apply(o, s),
                  a &&
                    ((i[d] = f),
                    "function" == typeof define && define.amd
                      ? define(
                          (e.GreenSockAMDPath ? e.GreenSockAMDPath + "/" : "") +
                            r.split(".").pop(),
                          [],
                          function () {
                            return f;
                          }
                        )
                      : r === t &&
                        "undefined" != typeof module &&
                        module.exports &&
                        (module.exports = f)),
                  g = 0;
                this.sc.length > g;
                g++
              )
                this.sc[g].check();
          }),
            this.check(!0);
        },
        g = (e._gsDefine = function (e, t, i, r) {
          return new m(e, t, i, r);
        }),
        E = (h._class = function (e, t, i) {
          return (
            (t = t || function () {}),
            g(
              e,
              [],
              function () {
                return t;
              },
              i
            ),
            t
          );
        });
      g.globals = i;
      var v = [0, 0, 1, 1],
        _ = [],
        y = E(
          "easing.Ease",
          function (e, t, i, r) {
            (this._func = e),
              (this._type = i || 0),
              (this._power = r || 0),
              (this._params = t ? v.concat(t) : v);
          },
          !0
        ),
        T = (y.map = {}),
        x = (y.register = function (e, t, i, r) {
          for (
            var n,
              o,
              a,
              s,
              l = t.split(","),
              c = l.length,
              u = (i || "easeIn,easeOut,easeInOut").split(",");
            --c > -1;

          )
            for (
              o = l[c],
                n = r ? E("easing." + o, null, !0) : h.easing[o] || {},
                a = u.length;
              --a > -1;

            )
              (s = u[a]),
                (T[o + "." + s] =
                  T[s + o] =
                  n[s] =
                    e.getRatio ? e : e[s] || new e());
        });
      for (
        o = y.prototype,
          o._calcEnd = !1,
          o.getRatio = function (e) {
            if (this._func)
              return (
                (this._params[0] = e), this._func.apply(null, this._params)
              );
            var t = this._type,
              i = this._power,
              r = 1 === t ? 1 - e : 2 === t ? e : 0.5 > e ? 2 * e : 2 * (1 - e);
            return (
              1 === i
                ? (r *= r)
                : 2 === i
                ? (r *= r * r)
                : 3 === i
                ? (r *= r * r * r)
                : 4 === i && (r *= r * r * r * r),
              1 === t ? 1 - r : 2 === t ? r : 0.5 > e ? r / 2 : 1 - r / 2
            );
          },
          r = ["Linear", "Quad", "Cubic", "Quart", "Quint,Strong"],
          n = r.length;
        --n > -1;

      )
        (o = r[n] + ",Power" + n),
          x(new y(null, null, 1, n), o, "easeOut", !0),
          x(
            new y(null, null, 2, n),
            o,
            "easeIn" + (0 === n ? ",easeNone" : "")
          ),
          x(new y(null, null, 3, n), o, "easeInOut");
      (T.linear = h.easing.Linear.easeIn), (T.swing = h.easing.Quad.easeInOut);
      var R = E("events.EventDispatcher", function (e) {
        (this._listeners = {}), (this._eventTarget = e || this);
      });
      (o = R.prototype),
        (o.addEventListener = function (e, t, i, r, n) {
          n = n || 0;
          var o,
            l,
            h = this._listeners[e],
            c = 0;
          for (
            null == h && (this._listeners[e] = h = []), l = h.length;
            --l > -1;

          )
            (o = h[l]),
              o.c === t && o.s === i
                ? h.splice(l, 1)
                : 0 === c && n > o.pr && (c = l + 1);
          h.splice(c, 0, { c: t, s: i, up: r, pr: n }),
            this !== a || s || a.wake();
        }),
        (o.removeEventListener = function (e, t) {
          var i,
            r = this._listeners[e];
          if (r)
            for (i = r.length; --i > -1; )
              if (r[i].c === t) return void r.splice(i, 1);
        }),
        (o.dispatchEvent = function (e) {
          var t,
            i,
            r,
            n = this._listeners[e];
          if (n)
            for (t = n.length, i = this._eventTarget; --t > -1; )
              (r = n[t]),
                r &&
                  (r.up
                    ? r.c.call(r.s || i, { type: e, target: i })
                    : r.c.call(r.s || i));
        });
      var b = e.requestAnimationFrame,
        w = e.cancelAnimationFrame,
        H =
          Date.now ||
          function () {
            return new Date().getTime();
          },
        S = H();
      for (r = ["ms", "moz", "webkit", "o"], n = r.length; --n > -1 && !b; )
        (b = e[r[n] + "RequestAnimationFrame"]),
          (w =
            e[r[n] + "CancelAnimationFrame"] ||
            e[r[n] + "CancelRequestAnimationFrame"]);
      E("Ticker", function (e, t) {
        var i,
          r,
          n,
          o,
          l,
          h = this,
          u = H(),
          f = t !== !1 && b,
          p = 500,
          m = 33,
          g = "tick",
          E = function (e) {
            var t,
              a,
              s = H() - S;
            s > p && (u += s - m),
              (S += s),
              (h.time = (S - u) / 1e3),
              (t = h.time - l),
              (!i || t > 0 || e === !0) &&
                (h.frame++, (l += t + (t >= o ? 0.004 : o - t)), (a = !0)),
              e !== !0 && (n = r(E)),
              a && h.dispatchEvent(g);
          };
        R.call(h),
          (h.time = h.frame = 0),
          (h.tick = function () {
            E(!0);
          }),
          (h.lagSmoothing = function (e, t) {
            (p = e || 1 / c), (m = Math.min(t, p, 0));
          }),
          (h.sleep = function () {
            null != n &&
              (f && w ? w(n) : clearTimeout(n),
              (r = d),
              (n = null),
              h === a && (s = !1));
          }),
          (h.wake = function () {
            null !== n ? h.sleep() : h.frame > 10 && (S = H() - p + 5),
              (r =
                0 === i
                  ? d
                  : f && b
                  ? b
                  : function (e) {
                      return setTimeout(e, 0 | (1e3 * (l - h.time) + 1));
                    }),
              h === a && (s = !0),
              E(2);
          }),
          (h.fps = function (e) {
            return arguments.length
              ? ((i = e),
                (o = 1 / (i || 60)),
                (l = this.time + o),
                void h.wake())
              : i;
          }),
          (h.useRAF = function (e) {
            return arguments.length ? (h.sleep(), (f = e), void h.fps(i)) : f;
          }),
          h.fps(e),
          setTimeout(function () {
            f && 5 > h.frame && h.useRAF(!1);
          }, 1500);
      }),
        (o = h.Ticker.prototype = new h.events.EventDispatcher()),
        (o.constructor = h.Ticker);
      var A = E("core.Animation", function (e, t) {
        if (
          ((this.vars = t = t || {}),
          (this._duration = this._totalDuration = e || 0),
          (this._delay = Number(t.delay) || 0),
          (this._timeScale = 1),
          (this._active = t.immediateRender === !0),
          (this.data = t.data),
          (this._reversed = t.reversed === !0),
          z)
        ) {
          s || a.wake();
          var i = this.vars.useFrames ? V : z;
          i.add(this, i._time), this.vars.paused && this.paused(!0);
        }
      });
      (a = A.ticker = new h.Ticker()),
        (o = A.prototype),
        (o._dirty = o._gc = o._initted = o._paused = !1),
        (o._totalTime = o._time = 0),
        (o._rawPrevTime = -1),
        (o._next = o._last = o._onUpdate = o._timeline = o.timeline = null),
        (o._paused = !1);
      var M = function () {
        s && H() - S > 2e3 && a.wake(), setTimeout(M, 2e3);
      };
      M(),
        (o.play = function (e, t) {
          return null != e && this.seek(e, t), this.reversed(!1).paused(!1);
        }),
        (o.pause = function (e, t) {
          return null != e && this.seek(e, t), this.paused(!0);
        }),
        (o.resume = function (e, t) {
          return null != e && this.seek(e, t), this.paused(!1);
        }),
        (o.seek = function (e, t) {
          return this.totalTime(Number(e), t !== !1);
        }),
        (o.restart = function (e, t) {
          return this.reversed(!1)
            .paused(!1)
            .totalTime(e ? -this._delay : 0, t !== !1, !0);
        }),
        (o.reverse = function (e, t) {
          return (
            null != e && this.seek(e || this.totalDuration(), t),
            this.reversed(!0).paused(!1)
          );
        }),
        (o.render = function () {}),
        (o.invalidate = function () {
          return (
            (this._time = this._totalTime = 0),
            (this._initted = this._gc = !1),
            (this._rawPrevTime = -1),
            (this._gc || !this.timeline) && this._enabled(!0),
            this
          );
        }),
        (o.isActive = function () {
          var e,
            t = this._timeline,
            i = this._startTime;
          return (
            !t ||
            (!this._gc &&
              !this._paused &&
              t.isActive() &&
              (e = t.rawTime()) >= i &&
              i + this.totalDuration() / this._timeScale > e)
          );
        }),
        (o._enabled = function (e, t) {
          return (
            s || a.wake(),
            (this._gc = !e),
            (this._active = this.isActive()),
            t !== !0 &&
              (e && !this.timeline
                ? this._timeline.add(this, this._startTime - this._delay)
                : !e && this.timeline && this._timeline._remove(this, !0)),
            !1
          );
        }),
        (o._kill = function () {
          return this._enabled(!1, !1);
        }),
        (o.kill = function (e, t) {
          return this._kill(e, t), this;
        }),
        (o._uncache = function (e) {
          for (var t = e ? this : this.timeline; t; )
            (t._dirty = !0), (t = t.timeline);
          return this;
        }),
        (o._swapSelfInParams = function (e) {
          for (var t = e.length, i = e.concat(); --t > -1; )
            "{self}" === e[t] && (i[t] = this);
          return i;
        }),
        (o._callback = function (e) {
          var t = this.vars;
          t[e].apply(
            t[e + "Scope"] || t.callbackScope || this,
            t[e + "Params"] || _
          );
        }),
        (o.eventCallback = function (e, t, i, r) {
          if ("on" === (e || "").substr(0, 2)) {
            var n = this.vars;
            if (1 === arguments.length) return n[e];
            null == t
              ? delete n[e]
              : ((n[e] = t),
                (n[e + "Params"] =
                  f(i) && -1 !== i.join("").indexOf("{self}")
                    ? this._swapSelfInParams(i)
                    : i),
                (n[e + "Scope"] = r)),
              "onUpdate" === e && (this._onUpdate = t);
          }
          return this;
        }),
        (o.delay = function (e) {
          return arguments.length
            ? (this._timeline.smoothChildTiming &&
                this.startTime(this._startTime + e - this._delay),
              (this._delay = e),
              this)
            : this._delay;
        }),
        (o.duration = function (e) {
          return arguments.length
            ? ((this._duration = this._totalDuration = e),
              this._uncache(!0),
              this._timeline.smoothChildTiming &&
                this._time > 0 &&
                this._time < this._duration &&
                0 !== e &&
                this.totalTime(this._totalTime * (e / this._duration), !0),
              this)
            : ((this._dirty = !1), this._duration);
        }),
        (o.totalDuration = function (e) {
          return (
            (this._dirty = !1),
            arguments.length ? this.duration(e) : this._totalDuration
          );
        }),
        (o.time = function (e, t) {
          return arguments.length
            ? (this._dirty && this.totalDuration(),
              this.totalTime(e > this._duration ? this._duration : e, t))
            : this._time;
        }),
        (o.totalTime = function (e, t, i) {
          if ((s || a.wake(), !arguments.length)) return this._totalTime;
          if (this._timeline) {
            if (
              (0 > e && !i && (e += this.totalDuration()),
              this._timeline.smoothChildTiming)
            ) {
              this._dirty && this.totalDuration();
              var r = this._totalDuration,
                n = this._timeline;
              if (
                (e > r && !i && (e = r),
                (this._startTime =
                  (this._paused ? this._pauseTime : n._time) -
                  (this._reversed ? r - e : e) / this._timeScale),
                n._dirty || this._uncache(!1),
                n._timeline)
              )
                for (; n._timeline; )
                  n._timeline._time !==
                    (n._startTime + n._totalTime) / n._timeScale &&
                    n.totalTime(n._totalTime, !0),
                    (n = n._timeline);
            }
            this._gc && this._enabled(!0, !1),
              (this._totalTime !== e || 0 === this._duration) &&
                (this.render(e, t, !1), O.length && W());
          }
          return this;
        }),
        (o.progress = o.totalProgress =
          function (e, t) {
            return arguments.length
              ? this.totalTime(this.duration() * e, t)
              : this._time / this.duration();
          }),
        (o.startTime = function (e) {
          return arguments.length
            ? (e !== this._startTime &&
                ((this._startTime = e),
                this.timeline &&
                  this.timeline._sortChildren &&
                  this.timeline.add(this, e - this._delay)),
              this)
            : this._startTime;
        }),
        (o.endTime = function (e) {
          return (
            this._startTime +
            (0 != e ? this.totalDuration() : this.duration()) / this._timeScale
          );
        }),
        (o.timeScale = function (e) {
          if (!arguments.length) return this._timeScale;
          if (
            ((e = e || c), this._timeline && this._timeline.smoothChildTiming)
          ) {
            var t = this._pauseTime,
              i = t || 0 === t ? t : this._timeline.totalTime();
            this._startTime = i - ((i - this._startTime) * this._timeScale) / e;
          }
          return (this._timeScale = e), this._uncache(!1);
        }),
        (o.reversed = function (e) {
          return arguments.length
            ? (e != this._reversed &&
                ((this._reversed = e),
                this.totalTime(
                  this._timeline && !this._timeline.smoothChildTiming
                    ? this.totalDuration() - this._totalTime
                    : this._totalTime,
                  !0
                )),
              this)
            : this._reversed;
        }),
        (o.paused = function (e) {
          if (!arguments.length) return this._paused;
          var t,
            i,
            r = this._timeline;
          return (
            e != this._paused &&
              r &&
              (s || e || a.wake(),
              (t = r.rawTime()),
              (i = t - this._pauseTime),
              !e &&
                r.smoothChildTiming &&
                ((this._startTime += i), this._uncache(!1)),
              (this._pauseTime = e ? t : null),
              (this._paused = e),
              (this._active = this.isActive()),
              !e &&
                0 !== i &&
                this._initted &&
                this.duration() &&
                this.render(
                  r.smoothChildTiming
                    ? this._totalTime
                    : (t - this._startTime) / this._timeScale,
                  !0,
                  !0
                )),
            this._gc && !e && this._enabled(!0, !1),
            this
          );
        });
      var C = E("core.SimpleTimeline", function (e) {
        A.call(this, 0, e),
          (this.autoRemoveChildren = this.smoothChildTiming = !0);
      });
      (o = C.prototype = new A()),
        (o.constructor = C),
        (o.kill()._gc = !1),
        (o._first = o._last = o._recent = null),
        (o._sortChildren = !1),
        (o.add = o.insert =
          function (e, t) {
            var i, r;
            if (
              ((e._startTime = Number(t || 0) + e._delay),
              e._paused &&
                this !== e._timeline &&
                (e._pauseTime =
                  e._startTime +
                  (this.rawTime() - e._startTime) / e._timeScale),
              e.timeline && e.timeline._remove(e, !0),
              (e.timeline = e._timeline = this),
              e._gc && e._enabled(!0, !0),
              (i = this._last),
              this._sortChildren)
            )
              for (r = e._startTime; i && i._startTime > r; ) i = i._prev;
            return (
              i
                ? ((e._next = i._next), (i._next = e))
                : ((e._next = this._first), (this._first = e)),
              e._next ? (e._next._prev = e) : (this._last = e),
              (e._prev = i),
              (this._recent = e),
              this._timeline && this._uncache(!0),
              this
            );
          }),
        (o._remove = function (e, t) {
          return (
            e.timeline === this &&
              (t || e._enabled(!1, !0),
              e._prev
                ? (e._prev._next = e._next)
                : this._first === e && (this._first = e._next),
              e._next
                ? (e._next._prev = e._prev)
                : this._last === e && (this._last = e._prev),
              (e._next = e._prev = e.timeline = null),
              e === this._recent && (this._recent = this._last),
              this._timeline && this._uncache(!0)),
            this
          );
        }),
        (o.render = function (e, t, i) {
          var r,
            n = this._first;
          for (this._totalTime = this._time = this._rawPrevTime = e; n; )
            (r = n._next),
              (n._active || (e >= n._startTime && !n._paused)) &&
                (n._reversed
                  ? n.render(
                      (n._dirty ? n.totalDuration() : n._totalDuration) -
                        (e - n._startTime) * n._timeScale,
                      t,
                      i
                    )
                  : n.render((e - n._startTime) * n._timeScale, t, i)),
              (n = r);
        }),
        (o.rawTime = function () {
          return s || a.wake(), this._totalTime;
        });
      var P = E(
          "TweenLite",
          function (t, i, r) {
            if (
              (A.call(this, i, r),
              (this.render = P.prototype.render),
              null == t)
            )
              throw "Cannot tween a null target.";
            this.target = t = "string" != typeof t ? t : P.selector(t) || t;
            var n,
              o,
              a,
              s =
                t.jquery ||
                (t.length &&
                  t !== e &&
                  t[0] &&
                  (t[0] === e || (t[0].nodeType && t[0].style && !t.nodeType))),
              l = this.vars.overwrite;
            if (
              ((this._overwrite = l =
                null == l
                  ? B[P.defaultOverwrite]
                  : "number" == typeof l
                  ? l >> 0
                  : B[l]),
              (s || t instanceof Array || (t.push && f(t))) &&
                "number" != typeof t[0])
            )
              for (
                this._targets = a = u(t),
                  this._propLookup = [],
                  this._siblings = [],
                  n = 0;
                a.length > n;
                n++
              )
                (o = a[n]),
                  o
                    ? "string" != typeof o
                      ? o.length &&
                        o !== e &&
                        o[0] &&
                        (o[0] === e ||
                          (o[0].nodeType && o[0].style && !o.nodeType))
                        ? (a.splice(n--, 1),
                          (this._targets = a = a.concat(u(o))))
                        : ((this._siblings[n] = X(o, this, !1)),
                          1 === l &&
                            this._siblings[n].length > 1 &&
                            Y(o, this, null, 1, this._siblings[n]))
                      : ((o = a[n--] = P.selector(o)),
                        "string" == typeof o && a.splice(n + 1, 1))
                    : a.splice(n--, 1);
            else
              (this._propLookup = {}),
                (this._siblings = X(t, this, !1)),
                1 === l &&
                  this._siblings.length > 1 &&
                  Y(t, this, null, 1, this._siblings);
            (this.vars.immediateRender ||
              (0 === i &&
                0 === this._delay &&
                this.vars.immediateRender !== !1)) &&
              ((this._time = -c), this.render(-this._delay));
          },
          !0
        ),
        L = function (t) {
          return (
            t &&
            t.length &&
            t !== e &&
            t[0] &&
            (t[0] === e || (t[0].nodeType && t[0].style && !t.nodeType))
          );
        },
        D = function (e, t) {
          var i,
            r = {};
          for (i in e)
            I[i] ||
              (i in t &&
                "transform" !== i &&
                "x" !== i &&
                "y" !== i &&
                "width" !== i &&
                "height" !== i &&
                "className" !== i &&
                "border" !== i) ||
              !(!N[i] || (N[i] && N[i]._autoCSS)) ||
              ((r[i] = e[i]), delete e[i]);
          e.css = r;
        };
      (o = P.prototype = new A()),
        (o.constructor = P),
        (o.kill()._gc = !1),
        (o.ratio = 0),
        (o._firstPT = o._targets = o._overwrittenProps = o._startAt = null),
        (o._notifyPluginsOfEnabled = o._lazy = !1),
        (P.version = "1.17.0"),
        (P.defaultEase = o._ease = new y(null, null, 1, 1)),
        (P.defaultOverwrite = "auto"),
        (P.ticker = a),
        (P.autoSleep = 120),
        (P.lagSmoothing = function (e, t) {
          a.lagSmoothing(e, t);
        }),
        (P.selector =
          e.$ ||
          e.jQuery ||
          function (t) {
            var i = e.$ || e.jQuery;
            return i
              ? ((P.selector = i), i(t))
              : "undefined" == typeof document
              ? t
              : document.querySelectorAll
              ? document.querySelectorAll(t)
              : document.getElementById("#" === t.charAt(0) ? t.substr(1) : t);
          });
      var O = [],
        k = {},
        F = (P._internals = { isArray: f, isSelector: L, lazyTweens: O }),
        N = (P._plugins = {}),
        j = (F.tweenLookup = {}),
        U = 0,
        I = (F.reservedProps = {
          ease: 1,
          delay: 1,
          overwrite: 1,
          onComplete: 1,
          onCompleteParams: 1,
          onCompleteScope: 1,
          useFrames: 1,
          runBackwards: 1,
          startAt: 1,
          onUpdate: 1,
          onUpdateParams: 1,
          onUpdateScope: 1,
          onStart: 1,
          onStartParams: 1,
          onStartScope: 1,
          onReverseComplete: 1,
          onReverseCompleteParams: 1,
          onReverseCompleteScope: 1,
          onRepeat: 1,
          onRepeatParams: 1,
          onRepeatScope: 1,
          easeParams: 1,
          yoyo: 1,
          immediateRender: 1,
          repeat: 1,
          repeatDelay: 1,
          data: 1,
          paused: 1,
          reversed: 1,
          autoCSS: 1,
          lazy: 1,
          onOverwrite: 1,
          callbackScope: 1,
        }),
        B = {
          none: 0,
          all: 1,
          auto: 2,
          concurrent: 3,
          allOnStart: 4,
          preexisting: 5,
          true: 1,
          false: 0,
        },
        V = (A._rootFramesTimeline = new C()),
        z = (A._rootTimeline = new C()),
        G = 30,
        W = (F.lazyRender = function () {
          var e,
            t = O.length;
          for (k = {}; --t > -1; )
            (e = O[t]),
              e &&
                e._lazy !== !1 &&
                (e.render(e._lazy[0], e._lazy[1], !0), (e._lazy = !1));
          O.length = 0;
        });
      (z._startTime = a.time),
        (V._startTime = a.frame),
        (z._active = V._active = !0),
        setTimeout(W, 1),
        (A._updateRoot = P.render =
          function () {
            var e, t, i;
            if (
              (O.length && W(),
              z.render((a.time - z._startTime) * z._timeScale, !1, !1),
              V.render((a.frame - V._startTime) * V._timeScale, !1, !1),
              O.length && W(),
              a.frame >= G)
            ) {
              G = a.frame + (parseInt(P.autoSleep, 10) || 120);
              for (i in j) {
                for (t = j[i].tweens, e = t.length; --e > -1; )
                  t[e]._gc && t.splice(e, 1);
                0 === t.length && delete j[i];
              }
              if (
                ((i = z._first),
                (!i || i._paused) &&
                  P.autoSleep &&
                  !V._first &&
                  1 === a._listeners.tick.length)
              ) {
                for (; i && i._paused; ) i = i._next;
                i || a.sleep();
              }
            }
          }),
        a.addEventListener("tick", A._updateRoot);
      var X = function (e, t, i) {
          var r,
            n,
            o = e._gsTweenID;
          if (
            (j[o || (e._gsTweenID = o = "t" + U++)] ||
              (j[o] = { target: e, tweens: [] }),
            t && ((r = j[o].tweens), (r[(n = r.length)] = t), i))
          )
            for (; --n > -1; ) r[n] === t && r.splice(n, 1);
          return j[o].tweens;
        },
        q = function (e, t, i, r) {
          var n,
            o,
            a = e.vars.onOverwrite;
          return (
            a && (n = a(e, t, i, r)),
            (a = P.onOverwrite),
            a && (o = a(e, t, i, r)),
            n !== !1 && o !== !1
          );
        },
        Y = function (e, t, i, r, n) {
          var o, a, s, l;
          if (1 === r || r >= 4) {
            for (l = n.length, o = 0; l > o; o++)
              if ((s = n[o]) !== t) s._gc || (s._kill(null, e, t) && (a = !0));
              else if (5 === r) break;
            return a;
          }
          var h,
            u = t._startTime + c,
            d = [],
            f = 0,
            p = 0 === t._duration;
          for (o = n.length; --o > -1; )
            (s = n[o]) === t ||
              s._gc ||
              s._paused ||
              (s._timeline !== t._timeline
                ? ((h = h || K(t, 0, p)), 0 === K(s, h, p) && (d[f++] = s))
                : u >= s._startTime &&
                  s._startTime + s.totalDuration() / s._timeScale > u &&
                  (((p || !s._initted) && 2e-10 >= u - s._startTime) ||
                    (d[f++] = s)));
          for (o = f; --o > -1; )
            if (
              ((s = d[o]),
              2 === r && s._kill(i, e, t) && (a = !0),
              2 !== r || (!s._firstPT && s._initted))
            ) {
              if (2 !== r && !q(s, t)) continue;
              s._enabled(!1, !1) && (a = !0);
            }
          return a;
        },
        K = function (e, t, i) {
          for (
            var r = e._timeline, n = r._timeScale, o = e._startTime;
            r._timeline;

          ) {
            if (((o += r._startTime), (n *= r._timeScale), r._paused))
              return -100;
            r = r._timeline;
          }
          return (
            (o /= n),
            o > t
              ? o - t
              : (i && o === t) || (!e._initted && 2 * c > o - t)
              ? c
              : (o += e.totalDuration() / e._timeScale / n) > t + c
              ? 0
              : o - t - c
          );
        };
      (o._init = function () {
        var e,
          t,
          i,
          r,
          n,
          o = this.vars,
          a = this._overwrittenProps,
          s = this._duration,
          l = !!o.immediateRender,
          h = o.ease;
        if (o.startAt) {
          this._startAt && (this._startAt.render(-1, !0), this._startAt.kill()),
            (n = {});
          for (r in o.startAt) n[r] = o.startAt[r];
          if (
            ((n.overwrite = !1),
            (n.immediateRender = !0),
            (n.lazy = l && o.lazy !== !1),
            (n.startAt = n.delay = null),
            (this._startAt = P.to(this.target, 0, n)),
            l)
          )
            if (this._time > 0) this._startAt = null;
            else if (0 !== s) return;
        } else if (o.runBackwards && 0 !== s)
          if (this._startAt)
            this._startAt.render(-1, !0),
              this._startAt.kill(),
              (this._startAt = null);
          else {
            0 !== this._time && (l = !1), (i = {});
            for (r in o) (I[r] && "autoCSS" !== r) || (i[r] = o[r]);
            if (
              ((i.overwrite = 0),
              (i.data = "isFromStart"),
              (i.lazy = l && o.lazy !== !1),
              (i.immediateRender = l),
              (this._startAt = P.to(this.target, 0, i)),
              l)
            ) {
              if (0 === this._time) return;
            } else
              this._startAt._init(),
                this._startAt._enabled(!1),
                this.vars.immediateRender && (this._startAt = null);
          }
        if (
          ((this._ease = h =
            h
              ? h instanceof y
                ? h
                : "function" == typeof h
                ? new y(h, o.easeParams)
                : T[h] || P.defaultEase
              : P.defaultEase),
          o.easeParams instanceof Array &&
            h.config &&
            (this._ease = h.config.apply(h, o.easeParams)),
          (this._easeType = this._ease._type),
          (this._easePower = this._ease._power),
          (this._firstPT = null),
          this._targets)
        )
          for (e = this._targets.length; --e > -1; )
            this._initProps(
              this._targets[e],
              (this._propLookup[e] = {}),
              this._siblings[e],
              a ? a[e] : null
            ) && (t = !0);
        else
          t = this._initProps(this.target, this._propLookup, this._siblings, a);
        if (
          (t && P._onPluginEvent("_onInitAllProps", this),
          a &&
            (this._firstPT ||
              ("function" != typeof this.target && this._enabled(!1, !1))),
          o.runBackwards)
        )
          for (i = this._firstPT; i; )
            (i.s += i.c), (i.c = -i.c), (i = i._next);
        (this._onUpdate = o.onUpdate), (this._initted = !0);
      }),
        (o._initProps = function (t, i, r, n) {
          var o, a, s, l, h, c;
          if (null == t) return !1;
          k[t._gsTweenID] && W(),
            this.vars.css ||
              (t.style &&
                t !== e &&
                t.nodeType &&
                N.css &&
                this.vars.autoCSS !== !1 &&
                D(this.vars, t));
          for (o in this.vars) {
            if (((c = this.vars[o]), I[o]))
              c &&
                (c instanceof Array || (c.push && f(c))) &&
                -1 !== c.join("").indexOf("{self}") &&
                (this.vars[o] = c = this._swapSelfInParams(c, this));
            else if (
              N[o] &&
              (l = new N[o]())._onInitTween(t, this.vars[o], this)
            ) {
              for (
                this._firstPT = h =
                  {
                    _next: this._firstPT,
                    t: l,
                    p: "setRatio",
                    s: 0,
                    c: 1,
                    f: !0,
                    n: o,
                    pg: !0,
                    pr: l._priority,
                  },
                  a = l._overwriteProps.length;
                --a > -1;

              )
                i[l._overwriteProps[a]] = this._firstPT;
              (l._priority || l._onInitAllProps) && (s = !0),
                (l._onDisable || l._onEnable) &&
                  (this._notifyPluginsOfEnabled = !0);
            } else
              (this._firstPT =
                i[o] =
                h =
                  {
                    _next: this._firstPT,
                    t: t,
                    p: o,
                    f: "function" == typeof t[o],
                    n: o,
                    pg: !1,
                    pr: 0,
                  }),
                (h.s = h.f
                  ? t[
                      o.indexOf("set") ||
                      "function" != typeof t["get" + o.substr(3)]
                        ? o
                        : "get" + o.substr(3)
                    ]()
                  : parseFloat(t[o])),
                (h.c =
                  "string" == typeof c && "=" === c.charAt(1)
                    ? parseInt(c.charAt(0) + "1", 10) * Number(c.substr(2))
                    : Number(c) - h.s || 0);
            h && h._next && (h._next._prev = h);
          }
          return n && this._kill(n, t)
            ? this._initProps(t, i, r, n)
            : this._overwrite > 1 &&
              this._firstPT &&
              r.length > 1 &&
              Y(t, this, i, this._overwrite, r)
            ? (this._kill(i, t), this._initProps(t, i, r, n))
            : (this._firstPT &&
                ((this.vars.lazy !== !1 && this._duration) ||
                  (this.vars.lazy && !this._duration)) &&
                (k[t._gsTweenID] = !0),
              s);
        }),
        (o.render = function (e, t, i) {
          var r,
            n,
            o,
            a,
            s = this._time,
            l = this._duration,
            h = this._rawPrevTime;
          if (e >= l)
            (this._totalTime = this._time = l),
              (this.ratio = this._ease._calcEnd ? this._ease.getRatio(1) : 1),
              this._reversed ||
                ((r = !0),
                (n = "onComplete"),
                (i = i || this._timeline.autoRemoveChildren)),
              0 === l &&
                (this._initted || !this.vars.lazy || i) &&
                (this._startTime === this._timeline._duration && (e = 0),
                (0 === e || 0 > h || (h === c && "isPause" !== this.data)) &&
                  h !== e &&
                  ((i = !0), h > c && (n = "onReverseComplete")),
                (this._rawPrevTime = a = !t || e || h === e ? e : c));
          else if (1e-7 > e)
            (this._totalTime = this._time = 0),
              (this.ratio = this._ease._calcEnd ? this._ease.getRatio(0) : 0),
              (0 !== s || (0 === l && h > 0)) &&
                ((n = "onReverseComplete"), (r = this._reversed)),
              0 > e &&
                ((this._active = !1),
                0 === l &&
                  (this._initted || !this.vars.lazy || i) &&
                  (h >= 0 && (h !== c || "isPause" !== this.data) && (i = !0),
                  (this._rawPrevTime = a = !t || e || h === e ? e : c))),
              this._initted || (i = !0);
          else if (((this._totalTime = this._time = e), this._easeType)) {
            var u = e / l,
              d = this._easeType,
              f = this._easePower;
            (1 === d || (3 === d && u >= 0.5)) && (u = 1 - u),
              3 === d && (u *= 2),
              1 === f
                ? (u *= u)
                : 2 === f
                ? (u *= u * u)
                : 3 === f
                ? (u *= u * u * u)
                : 4 === f && (u *= u * u * u * u),
              (this.ratio =
                1 === d
                  ? 1 - u
                  : 2 === d
                  ? u
                  : 0.5 > e / l
                  ? u / 2
                  : 1 - u / 2);
          } else this.ratio = this._ease.getRatio(e / l);
          if (this._time !== s || i) {
            if (!this._initted) {
              if ((this._init(), !this._initted || this._gc)) return;
              if (
                !i &&
                this._firstPT &&
                ((this.vars.lazy !== !1 && this._duration) ||
                  (this.vars.lazy && !this._duration))
              )
                return (
                  (this._time = this._totalTime = s),
                  (this._rawPrevTime = h),
                  O.push(this),
                  void (this._lazy = [e, t])
                );
              this._time && !r
                ? (this.ratio = this._ease.getRatio(this._time / l))
                : r &&
                  this._ease._calcEnd &&
                  (this.ratio = this._ease.getRatio(0 === this._time ? 0 : 1));
            }
            for (
              this._lazy !== !1 && (this._lazy = !1),
                this._active ||
                  (!this._paused &&
                    this._time !== s &&
                    e >= 0 &&
                    (this._active = !0)),
                0 === s &&
                  (this._startAt &&
                    (e >= 0
                      ? this._startAt.render(e, t, i)
                      : n || (n = "_dummyGS")),
                  this.vars.onStart &&
                    (0 !== this._time || 0 === l) &&
                    (t || this._callback("onStart"))),
                o = this._firstPT;
              o;

            )
              o.f
                ? o.t[o.p](o.c * this.ratio + o.s)
                : (o.t[o.p] = o.c * this.ratio + o.s),
                (o = o._next);
            this._onUpdate &&
              (0 > e &&
                this._startAt &&
                e !== -1e-4 &&
                this._startAt.render(e, t, i),
              t || ((this._time !== s || r) && this._callback("onUpdate"))),
              n &&
                (!this._gc || i) &&
                (0 > e &&
                  this._startAt &&
                  !this._onUpdate &&
                  e !== -1e-4 &&
                  this._startAt.render(e, t, i),
                r &&
                  (this._timeline.autoRemoveChildren && this._enabled(!1, !1),
                  (this._active = !1)),
                !t && this.vars[n] && this._callback(n),
                0 === l &&
                  this._rawPrevTime === c &&
                  a !== c &&
                  (this._rawPrevTime = 0));
          }
        }),
        (o._kill = function (e, t, i) {
          if (
            ("all" === e && (e = null),
            null == e && (null == t || t === this.target))
          )
            return (this._lazy = !1), this._enabled(!1, !1);
          t =
            "string" != typeof t
              ? t || this._targets || this.target
              : P.selector(t) || t;
          var r,
            n,
            o,
            a,
            s,
            l,
            h,
            c,
            u,
            d =
              i &&
              this._time &&
              i._startTime === this._startTime &&
              this._timeline === i._timeline;
          if ((f(t) || L(t)) && "number" != typeof t[0])
            for (r = t.length; --r > -1; ) this._kill(e, t[r], i) && (l = !0);
          else {
            if (this._targets) {
              for (r = this._targets.length; --r > -1; )
                if (t === this._targets[r]) {
                  (s = this._propLookup[r] || {}),
                    (this._overwrittenProps = this._overwrittenProps || []),
                    (n = this._overwrittenProps[r] =
                      e ? this._overwrittenProps[r] || {} : "all");
                  break;
                }
            } else {
              if (t !== this.target) return !1;
              (s = this._propLookup),
                (n = this._overwrittenProps =
                  e ? this._overwrittenProps || {} : "all");
            }
            if (s) {
              if (
                ((h = e || s),
                (c =
                  e !== n &&
                  "all" !== n &&
                  e !== s &&
                  ("object" != typeof e || !e._tempKill)),
                i && (P.onOverwrite || this.vars.onOverwrite))
              ) {
                for (o in h) s[o] && (u || (u = []), u.push(o));
                if ((u || !e) && !q(this, i, t, u)) return !1;
              }
              for (o in h)
                (a = s[o]) &&
                  (d && (a.f ? a.t[a.p](a.s) : (a.t[a.p] = a.s), (l = !0)),
                  a.pg && a.t._kill(h) && (l = !0),
                  (a.pg && 0 !== a.t._overwriteProps.length) ||
                    (a._prev
                      ? (a._prev._next = a._next)
                      : a === this._firstPT && (this._firstPT = a._next),
                    a._next && (a._next._prev = a._prev),
                    (a._next = a._prev = null)),
                  delete s[o]),
                  c && (n[o] = 1);
              !this._firstPT && this._initted && this._enabled(!1, !1);
            }
          }
          return l;
        }),
        (o.invalidate = function () {
          return (
            this._notifyPluginsOfEnabled &&
              P._onPluginEvent("_onDisable", this),
            (this._firstPT =
              this._overwrittenProps =
              this._startAt =
              this._onUpdate =
                null),
            (this._notifyPluginsOfEnabled = this._active = this._lazy = !1),
            (this._propLookup = this._targets ? {} : []),
            A.prototype.invalidate.call(this),
            this.vars.immediateRender &&
              ((this._time = -c), this.render(-this._delay)),
            this
          );
        }),
        (o._enabled = function (e, t) {
          if ((s || a.wake(), e && this._gc)) {
            var i,
              r = this._targets;
            if (r)
              for (i = r.length; --i > -1; )
                this._siblings[i] = X(r[i], this, !0);
            else this._siblings = X(this.target, this, !0);
          }
          return (
            A.prototype._enabled.call(this, e, t),
            this._notifyPluginsOfEnabled && this._firstPT
              ? P._onPluginEvent(e ? "_onEnable" : "_onDisable", this)
              : !1
          );
        }),
        (P.to = function (e, t, i) {
          return new P(e, t, i);
        }),
        (P.from = function (e, t, i) {
          return (
            (i.runBackwards = !0),
            (i.immediateRender = 0 != i.immediateRender),
            new P(e, t, i)
          );
        }),
        (P.fromTo = function (e, t, i, r) {
          return (
            (r.startAt = i),
            (r.immediateRender =
              0 != r.immediateRender && 0 != i.immediateRender),
            new P(e, t, r)
          );
        }),
        (P.delayedCall = function (e, t, i, r, n) {
          return new P(t, 0, {
            delay: e,
            onComplete: t,
            onCompleteParams: i,
            callbackScope: r,
            onReverseComplete: t,
            onReverseCompleteParams: i,
            immediateRender: !1,
            lazy: !1,
            useFrames: n,
            overwrite: 0,
          });
        }),
        (P.set = function (e, t) {
          return new P(e, 0, t);
        }),
        (P.getTweensOf = function (e, t) {
          if (null == e) return [];
          e = "string" != typeof e ? e : P.selector(e) || e;
          var i, r, n, o;
          if ((f(e) || L(e)) && "number" != typeof e[0]) {
            for (i = e.length, r = []; --i > -1; )
              r = r.concat(P.getTweensOf(e[i], t));
            for (i = r.length; --i > -1; )
              for (o = r[i], n = i; --n > -1; ) o === r[n] && r.splice(i, 1);
          } else
            for (r = X(e).concat(), i = r.length; --i > -1; )
              (r[i]._gc || (t && !r[i].isActive())) && r.splice(i, 1);
          return r;
        }),
        (P.killTweensOf = P.killDelayedCallsTo =
          function (e, t, i) {
            "object" == typeof t && ((i = t), (t = !1));
            for (var r = P.getTweensOf(e, t), n = r.length; --n > -1; )
              r[n]._kill(i, e);
          });
      var Q = E(
        "plugins.TweenPlugin",
        function (e, t) {
          (this._overwriteProps = (e || "").split(",")),
            (this._propName = this._overwriteProps[0]),
            (this._priority = t || 0),
            (this._super = Q.prototype);
        },
        !0
      );
      if (
        ((o = Q.prototype),
        (Q.version = "1.10.1"),
        (Q.API = 2),
        (o._firstPT = null),
        (o._addTween = function (e, t, i, r, n, o) {
          var a, s;
          return null != r &&
            (a =
              "number" == typeof r || "=" !== r.charAt(1)
                ? Number(r) - Number(i)
                : parseInt(r.charAt(0) + "1", 10) * Number(r.substr(2)))
            ? ((this._firstPT = s =
                {
                  _next: this._firstPT,
                  t: e,
                  p: t,
                  s: i,
                  c: a,
                  f: "function" == typeof e[t],
                  n: n || t,
                  r: o,
                }),
              s._next && (s._next._prev = s),
              s)
            : void 0;
        }),
        (o.setRatio = function (e) {
          for (var t, i = this._firstPT, r = 1e-6; i; )
            (t = i.c * e + i.s),
              i.r ? (t = Math.round(t)) : r > t && t > -r && (t = 0),
              i.f ? i.t[i.p](t) : (i.t[i.p] = t),
              (i = i._next);
        }),
        (o._kill = function (e) {
          var t,
            i = this._overwriteProps,
            r = this._firstPT;
          if (null != e[this._propName]) this._overwriteProps = [];
          else for (t = i.length; --t > -1; ) null != e[i[t]] && i.splice(t, 1);
          for (; r; )
            null != e[r.n] &&
              (r._next && (r._next._prev = r._prev),
              r._prev
                ? ((r._prev._next = r._next), (r._prev = null))
                : this._firstPT === r && (this._firstPT = r._next)),
              (r = r._next);
          return !1;
        }),
        (o._roundProps = function (e, t) {
          for (var i = this._firstPT; i; )
            (e[this._propName] ||
              (null != i.n && e[i.n.split(this._propName + "_").join("")])) &&
              (i.r = t),
              (i = i._next);
        }),
        (P._onPluginEvent = function (e, t) {
          var i,
            r,
            n,
            o,
            a,
            s = t._firstPT;
          if ("_onInitAllProps" === e) {
            for (; s; ) {
              for (a = s._next, r = n; r && r.pr > s.pr; ) r = r._next;
              (s._prev = r ? r._prev : o) ? (s._prev._next = s) : (n = s),
                (s._next = r) ? (r._prev = s) : (o = s),
                (s = a);
            }
            s = t._firstPT = n;
          }
          for (; s; )
            s.pg && "function" == typeof s.t[e] && s.t[e]() && (i = !0),
              (s = s._next);
          return i;
        }),
        (Q.activate = function (e) {
          for (var t = e.length; --t > -1; )
            e[t].API === Q.API && (N[new e[t]()._propName] = e[t]);
          return !0;
        }),
        (g.plugin = function (e) {
          if (!(e && e.propName && e.init && e.API))
            throw "illegal plugin definition.";
          var t,
            i = e.propName,
            r = e.priority || 0,
            n = e.overwriteProps,
            o = {
              init: "_onInitTween",
              set: "setRatio",
              kill: "_kill",
              round: "_roundProps",
              initAll: "_onInitAllProps",
            },
            a = E(
              "plugins." + i.charAt(0).toUpperCase() + i.substr(1) + "Plugin",
              function () {
                Q.call(this, i, r), (this._overwriteProps = n || []);
              },
              e.global === !0
            ),
            s = (a.prototype = new Q(i));
          (s.constructor = a), (a.API = e.API);
          for (t in o) "function" == typeof e[t] && (s[o[t]] = e[t]);
          return (a.version = e.version), Q.activate([a]), a;
        }),
        (r = e._gsQueue))
      ) {
        for (n = 0; r.length > n; n++) r[n]();
        for (o in p)
          p[o].func ||
            e.console.log(
              "GSAP encountered missing dependency: com.greensock." + o
            );
      }
      s = !1;
    }
  })(
    "undefined" != typeof module &&
      module.exports &&
      "undefined" != typeof global
      ? global
      : this || window,
    "TweenMax"
  ),
  define("TweenMax", function () {}),
  define(
    "view/loader",
    [
      "jquery",
      "underscore",
      "view/common/base_view",
      "config",
      "route/router",
      "model/app_model",
      "model/loader_collection",
      "TweenMax",
      "util/anim_frame",
    ],
    function (e, t, i, r, n, o, a, s, l) {
      "use strict";
      return i.extend({
        rot: 0,
        initialize: function () {
          this.loaderWrapper = e(".js-rsn-loader-wrapper");
        },
        show: function () {
          a.on("progress", this.onLoadProgress, this);
        },
        hide: function () {
          s.to(this.loaderWrapper, 0.3, {
            opacity: 0,
            force3D: !0,
            onComplete: t.bind(this.onComplete, this),
          });
        },
        onComplete: function () {
          this.onHideComplete();
          var e = this;
          setTimeout(function () {
            e.loaderWrapper.remove();
          }, 50);
        },
        onLoadProgress: function (e) {},
      });
    }
  ),
  define("events/sound_events", [], function () {
    var e = {
      PLAY_SOUND: "PLAY_SOUND",
      STOP_SOUND: "STOP_SOUND",
      SET_SOUND_VOLUME: "SET_SOUND_VOLUME",
      SET_GLOBAL_VOLUME: "SET_GLOBAL_VOLUME",
    };
    return e;
  }),
  define("route/nav_options", ["jquery", "underscore"], function (e, t) {
    "use strict";
    var i = function (e, t) {
      t !== !1 && (t = !0),
        e !== !1 && (e = !0),
        (this.triggerRoute = t),
        (this.updateURL = e),
        (this.pageOptions = null);
    };
    return i;
  });
var THREE = { REVISION: "71" };
"object" == typeof module && (module.exports = THREE),
  void 0 === Math.sign &&
    (Math.sign = function (e) {
      return 0 > e ? -1 : e > 0 ? 1 : +e;
    }),
  (THREE.log = function () {
    console.log.apply(console, arguments);
  }),
  (THREE.warn = function () {
    console.warn.apply(console, arguments);
  }),
  (THREE.error = function () {
    console.error.apply(console, arguments);
  }),
  (THREE.MOUSE = { LEFT: 0, MIDDLE: 1, RIGHT: 2 }),
  (THREE.CullFaceNone = 0),
  (THREE.CullFaceBack = 1),
  (THREE.CullFaceFront = 2),
  (THREE.CullFaceFrontBack = 3),
  (THREE.FrontFaceDirectionCW = 0),
  (THREE.FrontFaceDirectionCCW = 1),
  (THREE.BasicShadowMap = 0),
  (THREE.PCFShadowMap = 1),
  (THREE.PCFSoftShadowMap = 2),
  (THREE.FrontSide = 0),
  (THREE.BackSide = 1),
  (THREE.DoubleSide = 2),
  (THREE.NoShading = 0),
  (THREE.FlatShading = 1),
  (THREE.SmoothShading = 2),
  (THREE.NoColors = 0),
  (THREE.FaceColors = 1),
  (THREE.VertexColors = 2),
  (THREE.NoBlending = 0),
  (THREE.NormalBlending = 1),
  (THREE.AdditiveBlending = 2),
  (THREE.SubtractiveBlending = 3),
  (THREE.MultiplyBlending = 4),
  (THREE.CustomBlending = 5),
  (THREE.AddEquation = 100),
  (THREE.SubtractEquation = 101),
  (THREE.ReverseSubtractEquation = 102),
  (THREE.MinEquation = 103),
  (THREE.MaxEquation = 104),
  (THREE.ZeroFactor = 200),
  (THREE.OneFactor = 201),
  (THREE.SrcColorFactor = 202),
  (THREE.OneMinusSrcColorFactor = 203),
  (THREE.SrcAlphaFactor = 204),
  (THREE.OneMinusSrcAlphaFactor = 205),
  (THREE.DstAlphaFactor = 206),
  (THREE.OneMinusDstAlphaFactor = 207),
  (THREE.DstColorFactor = 208),
  (THREE.OneMinusDstColorFactor = 209),
  (THREE.SrcAlphaSaturateFactor = 210),
  (THREE.MultiplyOperation = 0),
  (THREE.MixOperation = 1),
  (THREE.AddOperation = 2),
  (THREE.UVMapping = 300),
  (THREE.CubeReflectionMapping = 301),
  (THREE.CubeRefractionMapping = 302),
  (THREE.EquirectangularReflectionMapping = 303),
  (THREE.EquirectangularRefractionMapping = 304),
  (THREE.SphericalReflectionMapping = 305),
  (THREE.RepeatWrapping = 1e3),
  (THREE.ClampToEdgeWrapping = 1001),
  (THREE.MirroredRepeatWrapping = 1002),
  (THREE.NearestFilter = 1003),
  (THREE.NearestMipMapNearestFilter = 1004),
  (THREE.NearestMipMapLinearFilter = 1005),
  (THREE.LinearFilter = 1006),
  (THREE.LinearMipMapNearestFilter = 1007),
  (THREE.LinearMipMapLinearFilter = 1008),
  (THREE.UnsignedByteType = 1009),
  (THREE.ByteType = 1010),
  (THREE.ShortType = 1011),
  (THREE.UnsignedShortType = 1012),
  (THREE.IntType = 1013),
  (THREE.UnsignedIntType = 1014),
  (THREE.FloatType = 1015),
  (THREE.HalfFloatType = 1025),
  (THREE.UnsignedShort4444Type = 1016),
  (THREE.UnsignedShort5551Type = 1017),
  (THREE.UnsignedShort565Type = 1018),
  (THREE.AlphaFormat = 1019),
  (THREE.RGBFormat = 1020),
  (THREE.RGBAFormat = 1021),
  (THREE.LuminanceFormat = 1022),
  (THREE.LuminanceAlphaFormat = 1023),
  (THREE.RGBEFormat = THREE.RGBAFormat),
  (THREE.RGB_S3TC_DXT1_Format = 2001),
  (THREE.RGBA_S3TC_DXT1_Format = 2002),
  (THREE.RGBA_S3TC_DXT3_Format = 2003),
  (THREE.RGBA_S3TC_DXT5_Format = 2004),
  (THREE.RGB_PVRTC_4BPPV1_Format = 2100),
  (THREE.RGB_PVRTC_2BPPV1_Format = 2101),
  (THREE.RGBA_PVRTC_4BPPV1_Format = 2102),
  (THREE.RGBA_PVRTC_2BPPV1_Format = 2103),
  (THREE.Projector = function () {
    THREE.error(
      "THREE.Projector has been moved to /examples/js/renderers/Projector.js."
    ),
      (this.projectVector = function (e, t) {
        THREE.warn(
          "THREE.Projector: .projectVector() is now vector.project()."
        ),
          e.project(t);
      }),
      (this.unprojectVector = function (e, t) {
        THREE.warn(
          "THREE.Projector: .unprojectVector() is now vector.unproject()."
        ),
          e.unproject(t);
      }),
      (this.pickingRay = function (e, t) {
        THREE.error(
          "THREE.Projector: .pickingRay() is now raycaster.setFromCamera()."
        );
      });
  }),
  (THREE.CanvasRenderer = function () {
    THREE.error(
      "THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js"
    ),
      (this.domElement = document.createElement("canvas")),
      (this.clear = function () {}),
      (this.render = function () {}),
      (this.setClearColor = function () {}),
      (this.setSize = function () {});
  }),
  (THREE.Color = function (e) {
    return 3 === arguments.length
      ? this.setRGB(arguments[0], arguments[1], arguments[2])
      : this.set(e);
  }),
  (THREE.Color.prototype = {
    constructor: THREE.Color,
    r: 1,
    g: 1,
    b: 1,
    set: function (e) {
      return (
        e instanceof THREE.Color
          ? this.copy(e)
          : "number" == typeof e
          ? this.setHex(e)
          : "string" == typeof e && this.setStyle(e),
        this
      );
    },
    setHex: function (e) {
      return (
        (e = Math.floor(e)),
        (this.r = ((e >> 16) & 255) / 255),
        (this.g = ((e >> 8) & 255) / 255),
        (this.b = (255 & e) / 255),
        this
      );
    },
    setRGB: function (e, t, i) {
      return (this.r = e), (this.g = t), (this.b = i), this;
    },
    setHSL: function (e, t, i) {
      if (0 === t) this.r = this.g = this.b = i;
      else {
        var r = function (e, t, i) {
          return (
            0 > i && (i += 1),
            i > 1 && (i -= 1),
            1 / 6 > i
              ? e + 6 * (t - e) * i
              : 0.5 > i
              ? t
              : 2 / 3 > i
              ? e + 6 * (t - e) * (2 / 3 - i)
              : e
          );
        };
        (t = 0.5 >= i ? i * (1 + t) : i + t - i * t),
          (i = 2 * i - t),
          (this.r = r(i, t, e + 1 / 3)),
          (this.g = r(i, t, e)),
          (this.b = r(i, t, e - 1 / 3));
      }
      return this;
    },
    setStyle: function (e) {
      return /^rgb\((\d+), ?(\d+), ?(\d+)\)$/i.test(e)
        ? ((e = /^rgb\((\d+), ?(\d+), ?(\d+)\)$/i.exec(e)),
          (this.r = Math.min(255, parseInt(e[1], 10)) / 255),
          (this.g = Math.min(255, parseInt(e[2], 10)) / 255),
          (this.b = Math.min(255, parseInt(e[3], 10)) / 255),
          this)
        : /^rgb\((\d+)\%, ?(\d+)\%, ?(\d+)\%\)$/i.test(e)
        ? ((e = /^rgb\((\d+)\%, ?(\d+)\%, ?(\d+)\%\)$/i.exec(e)),
          (this.r = Math.min(100, parseInt(e[1], 10)) / 100),
          (this.g = Math.min(100, parseInt(e[2], 10)) / 100),
          (this.b = Math.min(100, parseInt(e[3], 10)) / 100),
          this)
        : /^\#([0-9a-f]{6})$/i.test(e)
        ? ((e = /^\#([0-9a-f]{6})$/i.exec(e)),
          this.setHex(parseInt(e[1], 16)),
          this)
        : /^\#([0-9a-f])([0-9a-f])([0-9a-f])$/i.test(e)
        ? ((e = /^\#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(e)),
          this.setHex(parseInt(e[1] + e[1] + e[2] + e[2] + e[3] + e[3], 16)),
          this)
        : /^(\w+)$/i.test(e)
        ? (this.setHex(THREE.ColorKeywords[e]), this)
        : void 0;
    },
    copy: function (e) {
      return (this.r = e.r), (this.g = e.g), (this.b = e.b), this;
    },
    copyGammaToLinear: function (e, t) {
      return (
        void 0 === t && (t = 2),
        (this.r = Math.pow(e.r, t)),
        (this.g = Math.pow(e.g, t)),
        (this.b = Math.pow(e.b, t)),
        this
      );
    },
    copyLinearToGamma: function (e, t) {
      void 0 === t && (t = 2);
      var i = t > 0 ? 1 / t : 1;
      return (
        (this.r = Math.pow(e.r, i)),
        (this.g = Math.pow(e.g, i)),
        (this.b = Math.pow(e.b, i)),
        this
      );
    },
    convertGammaToLinear: function () {
      var e = this.r,
        t = this.g,
        i = this.b;
      return (this.r = e * e), (this.g = t * t), (this.b = i * i), this;
    },
    convertLinearToGamma: function () {
      return (
        (this.r = Math.sqrt(this.r)),
        (this.g = Math.sqrt(this.g)),
        (this.b = Math.sqrt(this.b)),
        this
      );
    },
    getHex: function () {
      return (
        ((255 * this.r) << 16) ^ ((255 * this.g) << 8) ^ ((255 * this.b) << 0)
      );
    },
    getHexString: function () {
      return ("000000" + this.getHex().toString(16)).slice(-6);
    },
    getHSL: function (e) {
      e = e || { h: 0, s: 0, l: 0 };
      var t,
        i = this.r,
        r = this.g,
        n = this.b,
        o = Math.max(i, r, n),
        a = Math.min(i, r, n),
        s = (a + o) / 2;
      if (a === o) a = t = 0;
      else {
        var l = o - a,
          a = 0.5 >= s ? l / (o + a) : l / (2 - o - a);
        switch (o) {
          case i:
            t = (r - n) / l + (n > r ? 6 : 0);
            break;
          case r:
            t = (n - i) / l + 2;
            break;
          case n:
            t = (i - r) / l + 4;
        }
        t /= 6;
      }
      return (e.h = t), (e.s = a), (e.l = s), e;
    },
    getStyle: function () {
      return (
        "rgb(" +
        ((255 * this.r) | 0) +
        "," +
        ((255 * this.g) | 0) +
        "," +
        ((255 * this.b) | 0) +
        ")"
      );
    },
    offsetHSL: function (e, t, i) {
      var r = this.getHSL();
      return (
        (r.h += e), (r.s += t), (r.l += i), this.setHSL(r.h, r.s, r.l), this
      );
    },
    add: function (e) {
      return (this.r += e.r), (this.g += e.g), (this.b += e.b), this;
    },
    addColors: function (e, t) {
      return (
        (this.r = e.r + t.r), (this.g = e.g + t.g), (this.b = e.b + t.b), this
      );
    },
    addScalar: function (e) {
      return (this.r += e), (this.g += e), (this.b += e), this;
    },
    multiply: function (e) {
      return (this.r *= e.r), (this.g *= e.g), (this.b *= e.b), this;
    },
    multiplyScalar: function (e) {
      return (this.r *= e), (this.g *= e), (this.b *= e), this;
    },
    lerp: function (e, t) {
      return (
        (this.r += (e.r - this.r) * t),
        (this.g += (e.g - this.g) * t),
        (this.b += (e.b - this.b) * t),
        this
      );
    },
    equals: function (e) {
      return e.r === this.r && e.g === this.g && e.b === this.b;
    },
    fromArray: function (e) {
      return (this.r = e[0]), (this.g = e[1]), (this.b = e[2]), this;
    },
    toArray: function (e, t) {
      return (
        void 0 === e && (e = []),
        void 0 === t && (t = 0),
        (e[t] = this.r),
        (e[t + 1] = this.g),
        (e[t + 2] = this.b),
        e
      );
    },
    clone: function () {
      return new THREE.Color().setRGB(this.r, this.g, this.b);
    },
  }),
  (THREE.ColorKeywords = {
    aliceblue: 15792383,
    antiquewhite: 16444375,
    aqua: 65535,
    aquamarine: 8388564,
    azure: 15794175,
    beige: 16119260,
    bisque: 16770244,
    black: 0,
    blanchedalmond: 16772045,
    blue: 255,
    blueviolet: 9055202,
    brown: 10824234,
    burlywood: 14596231,
    cadetblue: 6266528,
    chartreuse: 8388352,
    chocolate: 13789470,
    coral: 16744272,
    cornflowerblue: 6591981,
    cornsilk: 16775388,
    crimson: 14423100,
    cyan: 65535,
    darkblue: 139,
    darkcyan: 35723,
    darkgoldenrod: 12092939,
    darkgray: 11119017,
    darkgreen: 25600,
    darkgrey: 11119017,
    darkkhaki: 12433259,
    darkmagenta: 9109643,
    darkolivegreen: 5597999,
    darkorange: 16747520,
    darkorchid: 10040012,
    darkred: 9109504,
    darksalmon: 15308410,
    darkseagreen: 9419919,
    darkslateblue: 4734347,
    darkslategray: 3100495,
    darkslategrey: 3100495,
    darkturquoise: 52945,
    darkviolet: 9699539,
    deeppink: 16716947,
    deepskyblue: 49151,
    dimgray: 6908265,
    dimgrey: 6908265,
    dodgerblue: 2003199,
    firebrick: 11674146,
    floralwhite: 16775920,
    forestgreen: 2263842,
    fuchsia: 16711935,
    gainsboro: 14474460,
    ghostwhite: 16316671,
    gold: 16766720,
    goldenrod: 14329120,
    gray: 8421504,
    green: 32768,
    greenyellow: 11403055,
    grey: 8421504,
    honeydew: 15794160,
    hotpink: 16738740,
    indianred: 13458524,
    indigo: 4915330,
    ivory: 16777200,
    khaki: 15787660,
    lavender: 15132410,
    lavenderblush: 16773365,
    lawngreen: 8190976,
    lemonchiffon: 16775885,
    lightblue: 11393254,
    lightcoral: 15761536,
    lightcyan: 14745599,
    lightgoldenrodyellow: 16448210,
    lightgray: 13882323,
    lightgreen: 9498256,
    lightgrey: 13882323,
    lightpink: 16758465,
    lightsalmon: 16752762,
    lightseagreen: 2142890,
    lightskyblue: 8900346,
    lightslategray: 7833753,
    lightslategrey: 7833753,
    lightsteelblue: 11584734,
    lightyellow: 16777184,
    lime: 65280,
    limegreen: 3329330,
    linen: 16445670,
    magenta: 16711935,
    maroon: 8388608,
    mediumaquamarine: 6737322,
    mediumblue: 205,
    mediumorchid: 12211667,
    mediumpurple: 9662683,
    mediumseagreen: 3978097,
    mediumslateblue: 8087790,
    mediumspringgreen: 64154,
    mediumturquoise: 4772300,
    mediumvioletred: 13047173,
    midnightblue: 1644912,
    mintcream: 16121850,
    mistyrose: 16770273,
    moccasin: 16770229,
    navajowhite: 16768685,
    navy: 128,
    oldlace: 16643558,
    olive: 8421376,
    olivedrab: 7048739,
    orange: 16753920,
    orangered: 16729344,
    orchid: 14315734,
    palegoldenrod: 15657130,
    palegreen: 10025880,
    paleturquoise: 11529966,
    palevioletred: 14381203,
    papayawhip: 16773077,
    peachpuff: 16767673,
    peru: 13468991,
    pink: 16761035,
    plum: 14524637,
    powderblue: 11591910,
    purple: 8388736,
    red: 16711680,
    rosybrown: 12357519,
    royalblue: 4286945,
    saddlebrown: 9127187,
    salmon: 16416882,
    sandybrown: 16032864,
    seagreen: 3050327,
    seashell: 16774638,
    sienna: 10506797,
    silver: 12632256,
    skyblue: 8900331,
    slateblue: 6970061,
    slategray: 7372944,
    slategrey: 7372944,
    snow: 16775930,
    springgreen: 65407,
    steelblue: 4620980,
    tan: 13808780,
    teal: 32896,
    thistle: 14204888,
    tomato: 16737095,
    turquoise: 4251856,
    violet: 15631086,
    wheat: 16113331,
    white: 16777215,
    whitesmoke: 16119285,
    yellow: 16776960,
    yellowgreen: 10145074,
  }),
  (THREE.Quaternion = function (e, t, i, r) {
    (this._x = e || 0),
      (this._y = t || 0),
      (this._z = i || 0),
      (this._w = void 0 !== r ? r : 1);
  }),
  (THREE.Quaternion.prototype = {
    constructor: THREE.Quaternion,
    _x: 0,
    _y: 0,
    _z: 0,
    _w: 0,
    get x() {
      return this._x;
    },
    set x(e) {
      (this._x = e), this.onChangeCallback();
    },
    get y() {
      return this._y;
    },
    set y(e) {
      (this._y = e), this.onChangeCallback();
    },
    get z() {
      return this._z;
    },
    set z(e) {
      (this._z = e), this.onChangeCallback();
    },
    get w() {
      return this._w;
    },
    set w(e) {
      (this._w = e), this.onChangeCallback();
    },
    set: function (e, t, i, r) {
      return (
        (this._x = e),
        (this._y = t),
        (this._z = i),
        (this._w = r),
        this.onChangeCallback(),
        this
      );
    },
    copy: function (e) {
      return (
        (this._x = e.x),
        (this._y = e.y),
        (this._z = e.z),
        (this._w = e.w),
        this.onChangeCallback(),
        this
      );
    },
    setFromEuler: function (e, t) {
      if (!1 == e instanceof THREE.Euler)
        throw Error(
          "THREE.Quaternion: .setFromEuler() now expects a Euler rotation rather than a Vector3 and order."
        );
      var i = Math.cos(e._x / 2),
        r = Math.cos(e._y / 2),
        n = Math.cos(e._z / 2),
        o = Math.sin(e._x / 2),
        a = Math.sin(e._y / 2),
        s = Math.sin(e._z / 2);
      return (
        "XYZ" === e.order
          ? ((this._x = o * r * n + i * a * s),
            (this._y = i * a * n - o * r * s),
            (this._z = i * r * s + o * a * n),
            (this._w = i * r * n - o * a * s))
          : "YXZ" === e.order
          ? ((this._x = o * r * n + i * a * s),
            (this._y = i * a * n - o * r * s),
            (this._z = i * r * s - o * a * n),
            (this._w = i * r * n + o * a * s))
          : "ZXY" === e.order
          ? ((this._x = o * r * n - i * a * s),
            (this._y = i * a * n + o * r * s),
            (this._z = i * r * s + o * a * n),
            (this._w = i * r * n - o * a * s))
          : "ZYX" === e.order
          ? ((this._x = o * r * n - i * a * s),
            (this._y = i * a * n + o * r * s),
            (this._z = i * r * s - o * a * n),
            (this._w = i * r * n + o * a * s))
          : "YZX" === e.order
          ? ((this._x = o * r * n + i * a * s),
            (this._y = i * a * n + o * r * s),
            (this._z = i * r * s - o * a * n),
            (this._w = i * r * n - o * a * s))
          : "XZY" === e.order &&
            ((this._x = o * r * n - i * a * s),
            (this._y = i * a * n - o * r * s),
            (this._z = i * r * s + o * a * n),
            (this._w = i * r * n + o * a * s)),
        !1 !== t && this.onChangeCallback(),
        this
      );
    },
    setFromAxisAngle: function (e, t) {
      var i = t / 2,
        r = Math.sin(i);
      return (
        (this._x = e.x * r),
        (this._y = e.y * r),
        (this._z = e.z * r),
        (this._w = Math.cos(i)),
        this.onChangeCallback(),
        this
      );
    },
    setFromRotationMatrix: function (e) {
      var t = e.elements,
        i = t[0];
      e = t[4];
      var r = t[8],
        n = t[1],
        o = t[5],
        a = t[9],
        s = t[2],
        l = t[6],
        t = t[10],
        h = i + o + t;
      return (
        h > 0
          ? ((i = 0.5 / Math.sqrt(h + 1)),
            (this._w = 0.25 / i),
            (this._x = (l - a) * i),
            (this._y = (r - s) * i),
            (this._z = (n - e) * i))
          : i > o && i > t
          ? ((i = 2 * Math.sqrt(1 + i - o - t)),
            (this._w = (l - a) / i),
            (this._x = 0.25 * i),
            (this._y = (e + n) / i),
            (this._z = (r + s) / i))
          : o > t
          ? ((i = 2 * Math.sqrt(1 + o - i - t)),
            (this._w = (r - s) / i),
            (this._x = (e + n) / i),
            (this._y = 0.25 * i),
            (this._z = (a + l) / i))
          : ((i = 2 * Math.sqrt(1 + t - i - o)),
            (this._w = (n - e) / i),
            (this._x = (r + s) / i),
            (this._y = (a + l) / i),
            (this._z = 0.25 * i)),
        this.onChangeCallback(),
        this
      );
    },
    setFromUnitVectors: (function () {
      var e, t;
      return function (i, r) {
        return (
          void 0 === e && (e = new THREE.Vector3()),
          (t = i.dot(r) + 1),
          1e-6 > t
            ? ((t = 0),
              Math.abs(i.x) > Math.abs(i.z)
                ? e.set(-i.y, i.x, 0)
                : e.set(0, -i.z, i.y))
            : e.crossVectors(i, r),
          (this._x = e.x),
          (this._y = e.y),
          (this._z = e.z),
          (this._w = t),
          this.normalize(),
          this
        );
      };
    })(),
    inverse: function () {
      return this.conjugate().normalize(), this;
    },
    conjugate: function () {
      return (
        (this._x *= -1),
        (this._y *= -1),
        (this._z *= -1),
        this.onChangeCallback(),
        this
      );
    },
    dot: function (e) {
      return this._x * e._x + this._y * e._y + this._z * e._z + this._w * e._w;
    },
    lengthSq: function () {
      return (
        this._x * this._x +
        this._y * this._y +
        this._z * this._z +
        this._w * this._w
      );
    },
    length: function () {
      return Math.sqrt(
        this._x * this._x +
          this._y * this._y +
          this._z * this._z +
          this._w * this._w
      );
    },
    normalize: function () {
      var e = this.length();
      return (
        0 === e
          ? ((this._z = this._y = this._x = 0), (this._w = 1))
          : ((e = 1 / e),
            (this._x *= e),
            (this._y *= e),
            (this._z *= e),
            (this._w *= e)),
        this.onChangeCallback(),
        this
      );
    },
    multiply: function (e, t) {
      return void 0 !== t
        ? (THREE.warn(
            "THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."
          ),
          this.multiplyQuaternions(e, t))
        : this.multiplyQuaternions(this, e);
    },
    multiplyQuaternions: function (e, t) {
      var i = e._x,
        r = e._y,
        n = e._z,
        o = e._w,
        a = t._x,
        s = t._y,
        l = t._z,
        h = t._w;
      return (
        (this._x = i * h + o * a + r * l - n * s),
        (this._y = r * h + o * s + n * a - i * l),
        (this._z = n * h + o * l + i * s - r * a),
        (this._w = o * h - i * a - r * s - n * l),
        this.onChangeCallback(),
        this
      );
    },
    multiplyVector3: function (e) {
      return (
        THREE.warn(
          "THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."
        ),
        e.applyQuaternion(this)
      );
    },
    slerp: function (e, t) {
      if (0 === t) return this;
      if (1 === t) return this.copy(e);
      var i = this._x,
        r = this._y,
        n = this._z,
        o = this._w,
        a = o * e._w + i * e._x + r * e._y + n * e._z;
      if (
        (0 > a
          ? ((this._w = -e._w),
            (this._x = -e._x),
            (this._y = -e._y),
            (this._z = -e._z),
            (a = -a))
          : this.copy(e),
        a >= 1)
      )
        return (this._w = o), (this._x = i), (this._y = r), (this._z = n), this;
      var s = Math.acos(a),
        l = Math.sqrt(1 - a * a);
      return 0.001 > Math.abs(l)
        ? ((this._w = 0.5 * (o + this._w)),
          (this._x = 0.5 * (i + this._x)),
          (this._y = 0.5 * (r + this._y)),
          (this._z = 0.5 * (n + this._z)),
          this)
        : ((a = Math.sin((1 - t) * s) / l),
          (s = Math.sin(t * s) / l),
          (this._w = o * a + this._w * s),
          (this._x = i * a + this._x * s),
          (this._y = r * a + this._y * s),
          (this._z = n * a + this._z * s),
          this.onChangeCallback(),
          this);
    },
    equals: function (e) {
      return (
        e._x === this._x &&
        e._y === this._y &&
        e._z === this._z &&
        e._w === this._w
      );
    },
    fromArray: function (e, t) {
      return (
        void 0 === t && (t = 0),
        (this._x = e[t]),
        (this._y = e[t + 1]),
        (this._z = e[t + 2]),
        (this._w = e[t + 3]),
        this.onChangeCallback(),
        this
      );
    },
    toArray: function (e, t) {
      return (
        void 0 === e && (e = []),
        void 0 === t && (t = 0),
        (e[t] = this._x),
        (e[t + 1] = this._y),
        (e[t + 2] = this._z),
        (e[t + 3] = this._w),
        e
      );
    },
    onChange: function (e) {
      return (this.onChangeCallback = e), this;
    },
    onChangeCallback: function () {},
    clone: function () {
      return new THREE.Quaternion(this._x, this._y, this._z, this._w);
    },
  }),
  (THREE.Quaternion.slerp = function (e, t, i, r) {
    return i.copy(e).slerp(t, r);
  }),
  (THREE.Vector2 = function (e, t) {
    (this.x = e || 0), (this.y = t || 0);
  }),
  (THREE.Vector2.prototype = {
    constructor: THREE.Vector2,
    set: function (e, t) {
      return (this.x = e), (this.y = t), this;
    },
    setX: function (e) {
      return (this.x = e), this;
    },
    setY: function (e) {
      return (this.y = e), this;
    },
    setComponent: function (e, t) {
      switch (e) {
        case 0:
          this.x = t;
          break;
        case 1:
          this.y = t;
          break;
        default:
          throw Error("index is out of range: " + e);
      }
    },
    getComponent: function (e) {
      switch (e) {
        case 0:
          return this.x;
        case 1:
          return this.y;
        default:
          throw Error("index is out of range: " + e);
      }
    },
    copy: function (e) {
      return (this.x = e.x), (this.y = e.y), this;
    },
    add: function (e, t) {
      return void 0 !== t
        ? (THREE.warn(
            "THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."
          ),
          this.addVectors(e, t))
        : ((this.x += e.x), (this.y += e.y), this);
    },
    addScalar: function (e) {
      return (this.x += e), (this.y += e), this;
    },
    addVectors: function (e, t) {
      return (this.x = e.x + t.x), (this.y = e.y + t.y), this;
    },
    sub: function (e, t) {
      return void 0 !== t
        ? (THREE.warn(
            "THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."
          ),
          this.subVectors(e, t))
        : ((this.x -= e.x), (this.y -= e.y), this);
    },
    subScalar: function (e) {
      return (this.x -= e), (this.y -= e), this;
    },
    subVectors: function (e, t) {
      return (this.x = e.x - t.x), (this.y = e.y - t.y), this;
    },
    multiply: function (e) {
      return (this.x *= e.x), (this.y *= e.y), this;
    },
    multiplyScalar: function (e) {
      return (this.x *= e), (this.y *= e), this;
    },
    divide: function (e) {
      return (this.x /= e.x), (this.y /= e.y), this;
    },
    divideScalar: function (e) {
      return (
        0 !== e
          ? ((e = 1 / e), (this.x *= e), (this.y *= e))
          : (this.y = this.x = 0),
        this
      );
    },
    min: function (e) {
      return (
        this.x > e.x && (this.x = e.x), this.y > e.y && (this.y = e.y), this
      );
    },
    max: function (e) {
      return (
        this.x < e.x && (this.x = e.x), this.y < e.y && (this.y = e.y), this
      );
    },
    clamp: function (e, t) {
      return (
        this.x < e.x ? (this.x = e.x) : this.x > t.x && (this.x = t.x),
        this.y < e.y ? (this.y = e.y) : this.y > t.y && (this.y = t.y),
        this
      );
    },
    clampScalar: (function () {
      var e, t;
      return function (i, r) {
        return (
          void 0 === e &&
            ((e = new THREE.Vector2()), (t = new THREE.Vector2())),
          e.set(i, i),
          t.set(r, r),
          this.clamp(e, t)
        );
      };
    })(),
    floor: function () {
      return (this.x = Math.floor(this.x)), (this.y = Math.floor(this.y)), this;
    },
    ceil: function () {
      return (this.x = Math.ceil(this.x)), (this.y = Math.ceil(this.y)), this;
    },
    round: function () {
      return (this.x = Math.round(this.x)), (this.y = Math.round(this.y)), this;
    },
    roundToZero: function () {
      return (
        (this.x = 0 > this.x ? Math.ceil(this.x) : Math.floor(this.x)),
        (this.y = 0 > this.y ? Math.ceil(this.y) : Math.floor(this.y)),
        this
      );
    },
    negate: function () {
      return (this.x = -this.x), (this.y = -this.y), this;
    },
    dot: function (e) {
      return this.x * e.x + this.y * e.y;
    },
    lengthSq: function () {
      return this.x * this.x + this.y * this.y;
    },
    length: function () {
      return Math.sqrt(this.x * this.x + this.y * this.y);
    },
    normalize: function () {
      return this.divideScalar(this.length());
    },
    distanceTo: function (e) {
      return Math.sqrt(this.distanceToSquared(e));
    },
    distanceToSquared: function (e) {
      var t = this.x - e.x;
      return (e = this.y - e.y), t * t + e * e;
    },
    setLength: function (e) {
      var t = this.length();
      return 0 !== t && e !== t && this.multiplyScalar(e / t), this;
    },
    lerp: function (e, t) {
      return (
        (this.x += (e.x - this.x) * t), (this.y += (e.y - this.y) * t), this
      );
    },
    lerpVectors: function (e, t, i) {
      return this.subVectors(t, e).multiplyScalar(i).add(e), this;
    },
    equals: function (e) {
      return e.x === this.x && e.y === this.y;
    },
    fromArray: function (e, t) {
      return (
        void 0 === t && (t = 0), (this.x = e[t]), (this.y = e[t + 1]), this
      );
    },
    toArray: function (e, t) {
      return (
        void 0 === e && (e = []),
        void 0 === t && (t = 0),
        (e[t] = this.x),
        (e[t + 1] = this.y),
        e
      );
    },
    fromAttribute: function (e, t, i) {
      return (
        void 0 === i && (i = 0),
        (t = t * e.itemSize + i),
        (this.x = e.array[t]),
        (this.y = e.array[t + 1]),
        this
      );
    },
    clone: function () {
      return new THREE.Vector2(this.x, this.y);
    },
  }),
  (THREE.Vector3 = function (e, t, i) {
    (this.x = e || 0), (this.y = t || 0), (this.z = i || 0);
  }),
  (THREE.Vector3.prototype = {
    constructor: THREE.Vector3,
    set: function (e, t, i) {
      return (this.x = e), (this.y = t), (this.z = i), this;
    },
    setX: function (e) {
      return (this.x = e), this;
    },
    setY: function (e) {
      return (this.y = e), this;
    },
    setZ: function (e) {
      return (this.z = e), this;
    },
    setComponent: function (e, t) {
      switch (e) {
        case 0:
          this.x = t;
          break;
        case 1:
          this.y = t;
          break;
        case 2:
          this.z = t;
          break;
        default:
          throw Error("index is out of range: " + e);
      }
    },
    getComponent: function (e) {
      switch (e) {
        case 0:
          return this.x;
        case 1:
          return this.y;
        case 2:
          return this.z;
        default:
          throw Error("index is out of range: " + e);
      }
    },
    copy: function (e) {
      return (this.x = e.x), (this.y = e.y), (this.z = e.z), this;
    },
    add: function (e, t) {
      return void 0 !== t
        ? (THREE.warn(
            "THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."
          ),
          this.addVectors(e, t))
        : ((this.x += e.x), (this.y += e.y), (this.z += e.z), this);
    },
    addScalar: function (e) {
      return (this.x += e), (this.y += e), (this.z += e), this;
    },
    addVectors: function (e, t) {
      return (
        (this.x = e.x + t.x), (this.y = e.y + t.y), (this.z = e.z + t.z), this
      );
    },
    sub: function (e, t) {
      return void 0 !== t
        ? (THREE.warn(
            "THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."
          ),
          this.subVectors(e, t))
        : ((this.x -= e.x), (this.y -= e.y), (this.z -= e.z), this);
    },
    subScalar: function (e) {
      return (this.x -= e), (this.y -= e), (this.z -= e), this;
    },
    subVectors: function (e, t) {
      return (
        (this.x = e.x - t.x), (this.y = e.y - t.y), (this.z = e.z - t.z), this
      );
    },
    multiply: function (e, t) {
      return void 0 !== t
        ? (THREE.warn(
            "THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."
          ),
          this.multiplyVectors(e, t))
        : ((this.x *= e.x), (this.y *= e.y), (this.z *= e.z), this);
    },
    multiplyScalar: function (e) {
      return (this.x *= e), (this.y *= e), (this.z *= e), this;
    },
    multiplyVectors: function (e, t) {
      return (
        (this.x = e.x * t.x), (this.y = e.y * t.y), (this.z = e.z * t.z), this
      );
    },
    applyEuler: (function () {
      var e;
      return function (t) {
        return (
          !1 == t instanceof THREE.Euler &&
            THREE.error(
              "THREE.Vector3: .applyEuler() now expects a Euler rotation rather than a Vector3 and order."
            ),
          void 0 === e && (e = new THREE.Quaternion()),
          this.applyQuaternion(e.setFromEuler(t)),
          this
        );
      };
    })(),
    applyAxisAngle: (function () {
      var e;
      return function (t, i) {
        return (
          void 0 === e && (e = new THREE.Quaternion()),
          this.applyQuaternion(e.setFromAxisAngle(t, i)),
          this
        );
      };
    })(),
    applyMatrix3: function (e) {
      var t = this.x,
        i = this.y,
        r = this.z;
      return (
        (e = e.elements),
        (this.x = e[0] * t + e[3] * i + e[6] * r),
        (this.y = e[1] * t + e[4] * i + e[7] * r),
        (this.z = e[2] * t + e[5] * i + e[8] * r),
        this
      );
    },
    applyMatrix4: function (e) {
      var t = this.x,
        i = this.y,
        r = this.z;
      return (
        (e = e.elements),
        (this.x = e[0] * t + e[4] * i + e[8] * r + e[12]),
        (this.y = e[1] * t + e[5] * i + e[9] * r + e[13]),
        (this.z = e[2] * t + e[6] * i + e[10] * r + e[14]),
        this
      );
    },
    applyProjection: function (e) {
      var t = this.x,
        i = this.y,
        r = this.z;
      e = e.elements;
      var n = 1 / (e[3] * t + e[7] * i + e[11] * r + e[15]);
      return (
        (this.x = (e[0] * t + e[4] * i + e[8] * r + e[12]) * n),
        (this.y = (e[1] * t + e[5] * i + e[9] * r + e[13]) * n),
        (this.z = (e[2] * t + e[6] * i + e[10] * r + e[14]) * n),
        this
      );
    },
    applyQuaternion: function (e) {
      var t = this.x,
        i = this.y,
        r = this.z,
        n = e.x,
        o = e.y,
        a = e.z;
      e = e.w;
      var s = e * t + o * r - a * i,
        l = e * i + a * t - n * r,
        h = e * r + n * i - o * t,
        t = -n * t - o * i - a * r;
      return (
        (this.x = s * e + t * -n + l * -a - h * -o),
        (this.y = l * e + t * -o + h * -n - s * -a),
        (this.z = h * e + t * -a + s * -o - l * -n),
        this
      );
    },
    project: (function () {
      var e;
      return function (t) {
        return (
          void 0 === e && (e = new THREE.Matrix4()),
          e.multiplyMatrices(t.projectionMatrix, e.getInverse(t.matrixWorld)),
          this.applyProjection(e)
        );
      };
    })(),
    unproject: (function () {
      var e;
      return function (t) {
        return (
          void 0 === e && (e = new THREE.Matrix4()),
          e.multiplyMatrices(t.matrixWorld, e.getInverse(t.projectionMatrix)),
          this.applyProjection(e)
        );
      };
    })(),
    transformDirection: function (e) {
      var t = this.x,
        i = this.y,
        r = this.z;
      return (
        (e = e.elements),
        (this.x = e[0] * t + e[4] * i + e[8] * r),
        (this.y = e[1] * t + e[5] * i + e[9] * r),
        (this.z = e[2] * t + e[6] * i + e[10] * r),
        this.normalize(),
        this
      );
    },
    divide: function (e) {
      return (this.x /= e.x), (this.y /= e.y), (this.z /= e.z), this;
    },
    divideScalar: function (e) {
      return (
        0 !== e
          ? ((e = 1 / e), (this.x *= e), (this.y *= e), (this.z *= e))
          : (this.z = this.y = this.x = 0),
        this
      );
    },
    min: function (e) {
      return (
        this.x > e.x && (this.x = e.x),
        this.y > e.y && (this.y = e.y),
        this.z > e.z && (this.z = e.z),
        this
      );
    },
    max: function (e) {
      return (
        this.x < e.x && (this.x = e.x),
        this.y < e.y && (this.y = e.y),
        this.z < e.z && (this.z = e.z),
        this
      );
    },
    clamp: function (e, t) {
      return (
        this.x < e.x ? (this.x = e.x) : this.x > t.x && (this.x = t.x),
        this.y < e.y ? (this.y = e.y) : this.y > t.y && (this.y = t.y),
        this.z < e.z ? (this.z = e.z) : this.z > t.z && (this.z = t.z),
        this
      );
    },
    clampScalar: (function () {
      var e, t;
      return function (i, r) {
        return (
          void 0 === e &&
            ((e = new THREE.Vector3()), (t = new THREE.Vector3())),
          e.set(i, i, i),
          t.set(r, r, r),
          this.clamp(e, t)
        );
      };
    })(),
    floor: function () {
      return (
        (this.x = Math.floor(this.x)),
        (this.y = Math.floor(this.y)),
        (this.z = Math.floor(this.z)),
        this
      );
    },
    ceil: function () {
      return (
        (this.x = Math.ceil(this.x)),
        (this.y = Math.ceil(this.y)),
        (this.z = Math.ceil(this.z)),
        this
      );
    },
    round: function () {
      return (
        (this.x = Math.round(this.x)),
        (this.y = Math.round(this.y)),
        (this.z = Math.round(this.z)),
        this
      );
    },
    roundToZero: function () {
      return (
        (this.x = 0 > this.x ? Math.ceil(this.x) : Math.floor(this.x)),
        (this.y = 0 > this.y ? Math.ceil(this.y) : Math.floor(this.y)),
        (this.z = 0 > this.z ? Math.ceil(this.z) : Math.floor(this.z)),
        this
      );
    },
    negate: function () {
      return (this.x = -this.x), (this.y = -this.y), (this.z = -this.z), this;
    },
    dot: function (e) {
      return this.x * e.x + this.y * e.y + this.z * e.z;
    },
    lengthSq: function () {
      return this.x * this.x + this.y * this.y + this.z * this.z;
    },
    length: function () {
      return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z);
    },
    lengthManhattan: function () {
      return Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z);
    },
    normalize: function () {
      return this.divideScalar(this.length());
    },
    setLength: function (e) {
      var t = this.length();
      return 0 !== t && e !== t && this.multiplyScalar(e / t), this;
    },
    lerp: function (e, t) {
      return (
        (this.x += (e.x - this.x) * t),
        (this.y += (e.y - this.y) * t),
        (this.z += (e.z - this.z) * t),
        this
      );
    },
    lerpVectors: function (e, t, i) {
      return this.subVectors(t, e).multiplyScalar(i).add(e), this;
    },
    cross: function (e, t) {
      if (void 0 !== t)
        return (
          THREE.warn(
            "THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."
          ),
          this.crossVectors(e, t)
        );
      var i = this.x,
        r = this.y,
        n = this.z;
      return (
        (this.x = r * e.z - n * e.y),
        (this.y = n * e.x - i * e.z),
        (this.z = i * e.y - r * e.x),
        this
      );
    },
    crossVectors: function (e, t) {
      var i = e.x,
        r = e.y,
        n = e.z,
        o = t.x,
        a = t.y,
        s = t.z;
      return (
        (this.x = r * s - n * a),
        (this.y = n * o - i * s),
        (this.z = i * a - r * o),
        this
      );
    },
    projectOnVector: (function () {
      var e, t;
      return function (i) {
        return (
          void 0 === e && (e = new THREE.Vector3()),
          e.copy(i).normalize(),
          (t = this.dot(e)),
          this.copy(e).multiplyScalar(t)
        );
      };
    })(),
    projectOnPlane: (function () {
      var e;
      return function (t) {
        return (
          void 0 === e && (e = new THREE.Vector3()),
          e.copy(this).projectOnVector(t),
          this.sub(e)
        );
      };
    })(),
    reflect: (function () {
      var e;
      return function (t) {
        return (
          void 0 === e && (e = new THREE.Vector3()),
          this.sub(e.copy(t).multiplyScalar(2 * this.dot(t)))
        );
      };
    })(),
    angleTo: function (e) {
      return (
        (e = this.dot(e) / (this.length() * e.length())),
        Math.acos(THREE.Math.clamp(e, -1, 1))
      );
    },
    distanceTo: function (e) {
      return Math.sqrt(this.distanceToSquared(e));
    },
    distanceToSquared: function (e) {
      var t = this.x - e.x,
        i = this.y - e.y;
      return (e = this.z - e.z), t * t + i * i + e * e;
    },
    setEulerFromRotationMatrix: function (e, t) {
      THREE.error(
        "THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead."
      );
    },
    setEulerFromQuaternion: function (e, t) {
      THREE.error(
        "THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead."
      );
    },
    getPositionFromMatrix: function (e) {
      return (
        THREE.warn(
          "THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."
        ),
        this.setFromMatrixPosition(e)
      );
    },
    getScaleFromMatrix: function (e) {
      return (
        THREE.warn(
          "THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."
        ),
        this.setFromMatrixScale(e)
      );
    },
    getColumnFromMatrix: function (e, t) {
      return (
        THREE.warn(
          "THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."
        ),
        this.setFromMatrixColumn(e, t)
      );
    },
    setFromMatrixPosition: function (e) {
      return (
        (this.x = e.elements[12]),
        (this.y = e.elements[13]),
        (this.z = e.elements[14]),
        this
      );
    },
    setFromMatrixScale: function (e) {
      var t = this.set(e.elements[0], e.elements[1], e.elements[2]).length(),
        i = this.set(e.elements[4], e.elements[5], e.elements[6]).length();
      return (
        (e = this.set(e.elements[8], e.elements[9], e.elements[10]).length()),
        (this.x = t),
        (this.y = i),
        (this.z = e),
        this
      );
    },
    setFromMatrixColumn: function (e, t) {
      var i = 4 * e,
        r = t.elements;
      return (this.x = r[i]), (this.y = r[i + 1]), (this.z = r[i + 2]), this;
    },
    equals: function (e) {
      return e.x === this.x && e.y === this.y && e.z === this.z;
    },
    fromArray: function (e, t) {
      return (
        void 0 === t && (t = 0),
        (this.x = e[t]),
        (this.y = e[t + 1]),
        (this.z = e[t + 2]),
        this
      );
    },
    toArray: function (e, t) {
      return (
        void 0 === e && (e = []),
        void 0 === t && (t = 0),
        (e[t] = this.x),
        (e[t + 1] = this.y),
        (e[t + 2] = this.z),
        e
      );
    },
    fromAttribute: function (e, t, i) {
      return (
        void 0 === i && (i = 0),
        (t = t * e.itemSize + i),
        (this.x = e.array[t]),
        (this.y = e.array[t + 1]),
        (this.z = e.array[t + 2]),
        this
      );
    },
    clone: function () {
      return new THREE.Vector3(this.x, this.y, this.z);
    },
  }),
  (THREE.Vector4 = function (e, t, i, r) {
    (this.x = e || 0),
      (this.y = t || 0),
      (this.z = i || 0),
      (this.w = void 0 !== r ? r : 1);
  }),
  (THREE.Vector4.prototype = {
    constructor: THREE.Vector4,
    set: function (e, t, i, r) {
      return (this.x = e), (this.y = t), (this.z = i), (this.w = r), this;
    },
    setX: function (e) {
      return (this.x = e), this;
    },
    setY: function (e) {
      return (this.y = e), this;
    },
    setZ: function (e) {
      return (this.z = e), this;
    },
    setW: function (e) {
      return (this.w = e), this;
    },
    setComponent: function (e, t) {
      switch (e) {
        case 0:
          this.x = t;
          break;
        case 1:
          this.y = t;
          break;
        case 2:
          this.z = t;
          break;
        case 3:
          this.w = t;
          break;
        default:
          throw Error("index is out of range: " + e);
      }
    },
    getComponent: function (e) {
      switch (e) {
        case 0:
          return this.x;
        case 1:
          return this.y;
        case 2:
          return this.z;
        case 3:
          return this.w;
        default:
          throw Error("index is out of range: " + e);
      }
    },
    copy: function (e) {
      return (
        (this.x = e.x),
        (this.y = e.y),
        (this.z = e.z),
        (this.w = void 0 !== e.w ? e.w : 1),
        this
      );
    },
    add: function (e, t) {
      return void 0 !== t
        ? (THREE.warn(
            "THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."
          ),
          this.addVectors(e, t))
        : ((this.x += e.x),
          (this.y += e.y),
          (this.z += e.z),
          (this.w += e.w),
          this);
    },
    addScalar: function (e) {
      return (this.x += e), (this.y += e), (this.z += e), (this.w += e), this;
    },
    addVectors: function (e, t) {
      return (
        (this.x = e.x + t.x),
        (this.y = e.y + t.y),
        (this.z = e.z + t.z),
        (this.w = e.w + t.w),
        this
      );
    },
    sub: function (e, t) {
      return void 0 !== t
        ? (THREE.warn(
            "THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."
          ),
          this.subVectors(e, t))
        : ((this.x -= e.x),
          (this.y -= e.y),
          (this.z -= e.z),
          (this.w -= e.w),
          this);
    },
    subScalar: function (e) {
      return (this.x -= e), (this.y -= e), (this.z -= e), (this.w -= e), this;
    },
    subVectors: function (e, t) {
      return (
        (this.x = e.x - t.x),
        (this.y = e.y - t.y),
        (this.z = e.z - t.z),
        (this.w = e.w - t.w),
        this
      );
    },
    multiplyScalar: function (e) {
      return (this.x *= e), (this.y *= e), (this.z *= e), (this.w *= e), this;
    },
    applyMatrix4: function (e) {
      var t = this.x,
        i = this.y,
        r = this.z,
        n = this.w;
      return (
        (e = e.elements),
        (this.x = e[0] * t + e[4] * i + e[8] * r + e[12] * n),
        (this.y = e[1] * t + e[5] * i + e[9] * r + e[13] * n),
        (this.z = e[2] * t + e[6] * i + e[10] * r + e[14] * n),
        (this.w = e[3] * t + e[7] * i + e[11] * r + e[15] * n),
        this
      );
    },
    divideScalar: function (e) {
      return (
        0 !== e
          ? ((e = 1 / e),
            (this.x *= e),
            (this.y *= e),
            (this.z *= e),
            (this.w *= e))
          : ((this.z = this.y = this.x = 0), (this.w = 1)),
        this
      );
    },
    setAxisAngleFromQuaternion: function (e) {
      this.w = 2 * Math.acos(e.w);
      var t = Math.sqrt(1 - e.w * e.w);
      return (
        1e-4 > t
          ? ((this.x = 1), (this.z = this.y = 0))
          : ((this.x = e.x / t), (this.y = e.y / t), (this.z = e.z / t)),
        this
      );
    },
    setAxisAngleFromRotationMatrix: function (e) {
      var t, i, r;
      e = e.elements;
      var n = e[0];
      r = e[4];
      var o = e[8],
        a = e[1],
        s = e[5],
        l = e[9];
      (i = e[2]), (t = e[6]);
      var h = e[10];
      return 0.01 > Math.abs(r - a) &&
        0.01 > Math.abs(o - i) &&
        0.01 > Math.abs(l - t)
        ? 0.1 > Math.abs(r + a) &&
          0.1 > Math.abs(o + i) &&
          0.1 > Math.abs(l + t) &&
          0.1 > Math.abs(n + s + h - 3)
          ? (this.set(1, 0, 0, 0), this)
          : ((e = Math.PI),
            (n = (n + 1) / 2),
            (s = (s + 1) / 2),
            (h = (h + 1) / 2),
            (r = (r + a) / 4),
            (o = (o + i) / 4),
            (l = (l + t) / 4),
            n > s && n > h
              ? 0.01 > n
                ? ((t = 0), (r = i = 0.707106781))
                : ((t = Math.sqrt(n)), (i = r / t), (r = o / t))
              : s > h
              ? 0.01 > s
                ? ((t = 0.707106781), (i = 0), (r = 0.707106781))
                : ((i = Math.sqrt(s)), (t = r / i), (r = l / i))
              : 0.01 > h
              ? ((i = t = 0.707106781), (r = 0))
              : ((r = Math.sqrt(h)), (t = o / r), (i = l / r)),
            this.set(t, i, r, e),
            this)
        : ((e = Math.sqrt(
            (t - l) * (t - l) + (o - i) * (o - i) + (a - r) * (a - r)
          )),
          0.001 > Math.abs(e) && (e = 1),
          (this.x = (t - l) / e),
          (this.y = (o - i) / e),
          (this.z = (a - r) / e),
          (this.w = Math.acos((n + s + h - 1) / 2)),
          this);
    },
    min: function (e) {
      return (
        this.x > e.x && (this.x = e.x),
        this.y > e.y && (this.y = e.y),
        this.z > e.z && (this.z = e.z),
        this.w > e.w && (this.w = e.w),
        this
      );
    },
    max: function (e) {
      return (
        this.x < e.x && (this.x = e.x),
        this.y < e.y && (this.y = e.y),
        this.z < e.z && (this.z = e.z),
        this.w < e.w && (this.w = e.w),
        this
      );
    },
    clamp: function (e, t) {
      return (
        this.x < e.x ? (this.x = e.x) : this.x > t.x && (this.x = t.x),
        this.y < e.y ? (this.y = e.y) : this.y > t.y && (this.y = t.y),
        this.z < e.z ? (this.z = e.z) : this.z > t.z && (this.z = t.z),
        this.w < e.w ? (this.w = e.w) : this.w > t.w && (this.w = t.w),
        this
      );
    },
    clampScalar: (function () {
      var e, t;
      return function (i, r) {
        return (
          void 0 === e &&
            ((e = new THREE.Vector4()), (t = new THREE.Vector4())),
          e.set(i, i, i, i),
          t.set(r, r, r, r),
          this.clamp(e, t)
        );
      };
    })(),
    floor: function () {
      return (
        (this.x = Math.floor(this.x)),
        (this.y = Math.floor(this.y)),
        (this.z = Math.floor(this.z)),
        (this.w = Math.floor(this.w)),
        this
      );
    },
    ceil: function () {
      return (
        (this.x = Math.ceil(this.x)),
        (this.y = Math.ceil(this.y)),
        (this.z = Math.ceil(this.z)),
        (this.w = Math.ceil(this.w)),
        this
      );
    },
    round: function () {
      return (
        (this.x = Math.round(this.x)),
        (this.y = Math.round(this.y)),
        (this.z = Math.round(this.z)),
        (this.w = Math.round(this.w)),
        this
      );
    },
    roundToZero: function () {
      return (
        (this.x = 0 > this.x ? Math.ceil(this.x) : Math.floor(this.x)),
        (this.y = 0 > this.y ? Math.ceil(this.y) : Math.floor(this.y)),
        (this.z = 0 > this.z ? Math.ceil(this.z) : Math.floor(this.z)),
        (this.w = 0 > this.w ? Math.ceil(this.w) : Math.floor(this.w)),
        this
      );
    },
    negate: function () {
      return (
        (this.x = -this.x),
        (this.y = -this.y),
        (this.z = -this.z),
        (this.w = -this.w),
        this
      );
    },
    dot: function (e) {
      return this.x * e.x + this.y * e.y + this.z * e.z + this.w * e.w;
    },
    lengthSq: function () {
      return (
        this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w
      );
    },
    length: function () {
      return Math.sqrt(
        this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w
      );
    },
    lengthManhattan: function () {
      return (
        Math.abs(this.x) +
        Math.abs(this.y) +
        Math.abs(this.z) +
        Math.abs(this.w)
      );
    },
    normalize: function () {
      return this.divideScalar(this.length());
    },
    setLength: function (e) {
      var t = this.length();
      return 0 !== t && e !== t && this.multiplyScalar(e / t), this;
    },
    lerp: function (e, t) {
      return (
        (this.x += (e.x - this.x) * t),
        (this.y += (e.y - this.y) * t),
        (this.z += (e.z - this.z) * t),
        (this.w += (e.w - this.w) * t),
        this
      );
    },
    lerpVectors: function (e, t, i) {
      return this.subVectors(t, e).multiplyScalar(i).add(e), this;
    },
    equals: function (e) {
      return (
        e.x === this.x && e.y === this.y && e.z === this.z && e.w === this.w
      );
    },
    fromArray: function (e, t) {
      return (
        void 0 === t && (t = 0),
        (this.x = e[t]),
        (this.y = e[t + 1]),
        (this.z = e[t + 2]),
        (this.w = e[t + 3]),
        this
      );
    },
    toArray: function (e, t) {
      return (
        void 0 === e && (e = []),
        void 0 === t && (t = 0),
        (e[t] = this.x),
        (e[t + 1] = this.y),
        (e[t + 2] = this.z),
        (e[t + 3] = this.w),
        e
      );
    },
    fromAttribute: function (e, t, i) {
      return (
        void 0 === i && (i = 0),
        (t = t * e.itemSize + i),
        (this.x = e.array[t]),
        (this.y = e.array[t + 1]),
        (this.z = e.array[t + 2]),
        (this.w = e.array[t + 3]),
        this
      );
    },
    clone: function () {
      return new THREE.Vector4(this.x, this.y, this.z, this.w);
    },
  }),
  (THREE.Euler = function (e, t, i, r) {
    (this._x = e || 0),
      (this._y = t || 0),
      (this._z = i || 0),
      (this._order = r || THREE.Euler.DefaultOrder);
  }),
  (THREE.Euler.RotationOrders = "XYZ YZX ZXY XZY YXZ ZYX".split(" ")),
  (THREE.Euler.DefaultOrder = "XYZ"),
  (THREE.Euler.prototype = {
    constructor: THREE.Euler,
    _x: 0,
    _y: 0,
    _z: 0,
    _order: THREE.Euler.DefaultOrder,
    get x() {
      return this._x;
    },
    set x(e) {
      (this._x = e), this.onChangeCallback();
    },
    get y() {
      return this._y;
    },
    set y(e) {
      (this._y = e), this.onChangeCallback();
    },
    get z() {
      return this._z;
    },
    set z(e) {
      (this._z = e), this.onChangeCallback();
    },
    get order() {
      return this._order;
    },
    set order(e) {
      (this._order = e), this.onChangeCallback();
    },
    set: function (e, t, i, r) {
      return (
        (this._x = e),
        (this._y = t),
        (this._z = i),
        (this._order = r || this._order),
        this.onChangeCallback(),
        this
      );
    },
    copy: function (e) {
      return (
        (this._x = e._x),
        (this._y = e._y),
        (this._z = e._z),
        (this._order = e._order),
        this.onChangeCallback(),
        this
      );
    },
    setFromRotationMatrix: function (e, t, i) {
      var r = THREE.Math.clamp,
        n = e.elements;
      e = n[0];
      var o = n[4],
        a = n[8],
        s = n[1],
        l = n[5],
        h = n[9],
        c = n[2],
        u = n[6],
        n = n[10];
      return (
        (t = t || this._order),
        "XYZ" === t
          ? ((this._y = Math.asin(r(a, -1, 1))),
            0.99999 > Math.abs(a)
              ? ((this._x = Math.atan2(-h, n)), (this._z = Math.atan2(-o, e)))
              : ((this._x = Math.atan2(u, l)), (this._z = 0)))
          : "YXZ" === t
          ? ((this._x = Math.asin(-r(h, -1, 1))),
            0.99999 > Math.abs(h)
              ? ((this._y = Math.atan2(a, n)), (this._z = Math.atan2(s, l)))
              : ((this._y = Math.atan2(-c, e)), (this._z = 0)))
          : "ZXY" === t
          ? ((this._x = Math.asin(r(u, -1, 1))),
            0.99999 > Math.abs(u)
              ? ((this._y = Math.atan2(-c, n)), (this._z = Math.atan2(-o, l)))
              : ((this._y = 0), (this._z = Math.atan2(s, e))))
          : "ZYX" === t
          ? ((this._y = Math.asin(-r(c, -1, 1))),
            0.99999 > Math.abs(c)
              ? ((this._x = Math.atan2(u, n)), (this._z = Math.atan2(s, e)))
              : ((this._x = 0), (this._z = Math.atan2(-o, l))))
          : "YZX" === t
          ? ((this._z = Math.asin(r(s, -1, 1))),
            0.99999 > Math.abs(s)
              ? ((this._x = Math.atan2(-h, l)), (this._y = Math.atan2(-c, e)))
              : ((this._x = 0), (this._y = Math.atan2(a, n))))
          : "XZY" === t
          ? ((this._z = Math.asin(-r(o, -1, 1))),
            0.99999 > Math.abs(o)
              ? ((this._x = Math.atan2(u, l)), (this._y = Math.atan2(a, e)))
              : ((this._x = Math.atan2(-h, n)), (this._y = 0)))
          : THREE.warn(
              "THREE.Euler: .setFromRotationMatrix() given unsupported order: " +
                t
            ),
        (this._order = t),
        !1 !== i && this.onChangeCallback(),
        this
      );
    },
    setFromQuaternion: (function () {
      var e;
      return function (t, i, r) {
        return (
          void 0 === e && (e = new THREE.Matrix4()),
          e.makeRotationFromQuaternion(t),
          this.setFromRotationMatrix(e, i, r),
          this
        );
      };
    })(),
    setFromVector3: function (e, t) {
      return this.set(e.x, e.y, e.z, t || this._order);
    },
    reorder: (function () {
      var e = new THREE.Quaternion();
      return function (t) {
        e.setFromEuler(this), this.setFromQuaternion(e, t);
      };
    })(),
    equals: function (e) {
      return (
        e._x === this._x &&
        e._y === this._y &&
        e._z === this._z &&
        e._order === this._order
      );
    },
    fromArray: function (e) {
      return (
        (this._x = e[0]),
        (this._y = e[1]),
        (this._z = e[2]),
        void 0 !== e[3] && (this._order = e[3]),
        this.onChangeCallback(),
        this
      );
    },
    toArray: function (e, t) {
      return (
        void 0 === e && (e = []),
        void 0 === t && (t = 0),
        (e[t] = this._x),
        (e[t + 1] = this._y),
        (e[t + 2] = this._z),
        (e[t + 3] = this._order),
        e
      );
    },
    toVector3: function (e) {
      return e
        ? e.set(this._x, this._y, this._z)
        : new THREE.Vector3(this._x, this._y, this._z);
    },
    onChange: function (e) {
      return (this.onChangeCallback = e), this;
    },
    onChangeCallback: function () {},
    clone: function () {
      return new THREE.Euler(this._x, this._y, this._z, this._order);
    },
  }),
  (THREE.Line3 = function (e, t) {
    (this.start = void 0 !== e ? e : new THREE.Vector3()),
      (this.end = void 0 !== t ? t : new THREE.Vector3());
  }),
  (THREE.Line3.prototype = {
    constructor: THREE.Line3,
    set: function (e, t) {
      return this.start.copy(e), this.end.copy(t), this;
    },
    copy: function (e) {
      return this.start.copy(e.start), this.end.copy(e.end), this;
    },
    center: function (e) {
      return (e || new THREE.Vector3())
        .addVectors(this.start, this.end)
        .multiplyScalar(0.5);
    },
    delta: function (e) {
      return (e || new THREE.Vector3()).subVectors(this.end, this.start);
    },
    distanceSq: function () {
      return this.start.distanceToSquared(this.end);
    },
    distance: function () {
      return this.start.distanceTo(this.end);
    },
    at: function (e, t) {
      var i = t || new THREE.Vector3();
      return this.delta(i).multiplyScalar(e).add(this.start);
    },
    closestPointToPointParameter: (function () {
      var e = new THREE.Vector3(),
        t = new THREE.Vector3();
      return function (i, r) {
        e.subVectors(i, this.start), t.subVectors(this.end, this.start);
        var n = t.dot(t),
          n = t.dot(e) / n;
        return r && (n = THREE.Math.clamp(n, 0, 1)), n;
      };
    })(),
    closestPointToPoint: function (e, t, i) {
      return (
        (e = this.closestPointToPointParameter(e, t)),
        (i = i || new THREE.Vector3()),
        this.delta(i).multiplyScalar(e).add(this.start)
      );
    },
    applyMatrix4: function (e) {
      return this.start.applyMatrix4(e), this.end.applyMatrix4(e), this;
    },
    equals: function (e) {
      return e.start.equals(this.start) && e.end.equals(this.end);
    },
    clone: function () {
      return new THREE.Line3().copy(this);
    },
  }),
  (THREE.Box2 = function (e, t) {
    (this.min = void 0 !== e ? e : new THREE.Vector2(1 / 0, 1 / 0)),
      (this.max = void 0 !== t ? t : new THREE.Vector2(-(1 / 0), -(1 / 0)));
  }),
  (THREE.Box2.prototype = {
    constructor: THREE.Box2,
    set: function (e, t) {
      return this.min.copy(e), this.max.copy(t), this;
    },
    setFromPoints: function (e) {
      this.makeEmpty();
      for (var t = 0, i = e.length; i > t; t++) this.expandByPoint(e[t]);
      return this;
    },
    setFromCenterAndSize: (function () {
      var e = new THREE.Vector2();
      return function (t, i) {
        var r = e.copy(i).multiplyScalar(0.5);
        return this.min.copy(t).sub(r), this.max.copy(t).add(r), this;
      };
    })(),
    copy: function (e) {
      return this.min.copy(e.min), this.max.copy(e.max), this;
    },
    makeEmpty: function () {
      return (
        (this.min.x = this.min.y = 1 / 0),
        (this.max.x = this.max.y = -(1 / 0)),
        this
      );
    },
    empty: function () {
      return this.max.x < this.min.x || this.max.y < this.min.y;
    },
    center: function (e) {
      return (e || new THREE.Vector2())
        .addVectors(this.min, this.max)
        .multiplyScalar(0.5);
    },
    size: function (e) {
      return (e || new THREE.Vector2()).subVectors(this.max, this.min);
    },
    expandByPoint: function (e) {
      return this.min.min(e), this.max.max(e), this;
    },
    expandByVector: function (e) {
      return this.min.sub(e), this.max.add(e), this;
    },
    expandByScalar: function (e) {
      return this.min.addScalar(-e), this.max.addScalar(e), this;
    },
    containsPoint: function (e) {
      return e.x < this.min.x ||
        e.x > this.max.x ||
        e.y < this.min.y ||
        e.y > this.max.y
        ? !1
        : !0;
    },
    containsBox: function (e) {
      return this.min.x <= e.min.x &&
        e.max.x <= this.max.x &&
        this.min.y <= e.min.y &&
        e.max.y <= this.max.y
        ? !0
        : !1;
    },
    getParameter: function (e, t) {
      return (t || new THREE.Vector2()).set(
        (e.x - this.min.x) / (this.max.x - this.min.x),
        (e.y - this.min.y) / (this.max.y - this.min.y)
      );
    },
    isIntersectionBox: function (e) {
      return e.max.x < this.min.x ||
        e.min.x > this.max.x ||
        e.max.y < this.min.y ||
        e.min.y > this.max.y
        ? !1
        : !0;
    },
    clampPoint: function (e, t) {
      return (t || new THREE.Vector2()).copy(e).clamp(this.min, this.max);
    },
    distanceToPoint: (function () {
      var e = new THREE.Vector2();
      return function (t) {
        return e.copy(t).clamp(this.min, this.max).sub(t).length();
      };
    })(),
    intersect: function (e) {
      return this.min.max(e.min), this.max.min(e.max), this;
    },
    union: function (e) {
      return this.min.min(e.min), this.max.max(e.max), this;
    },
    translate: function (e) {
      return this.min.add(e), this.max.add(e), this;
    },
    equals: function (e) {
      return e.min.equals(this.min) && e.max.equals(this.max);
    },
    clone: function () {
      return new THREE.Box2().copy(this);
    },
  }),
  (THREE.Box3 = function (e, t) {
    (this.min = void 0 !== e ? e : new THREE.Vector3(1 / 0, 1 / 0, 1 / 0)),
      (this.max =
        void 0 !== t ? t : new THREE.Vector3(-(1 / 0), -(1 / 0), -(1 / 0)));
  }),
  (THREE.Box3.prototype = {
    constructor: THREE.Box3,
    set: function (e, t) {
      return this.min.copy(e), this.max.copy(t), this;
    },
    setFromPoints: function (e) {
      this.makeEmpty();
      for (var t = 0, i = e.length; i > t; t++) this.expandByPoint(e[t]);
      return this;
    },
    setFromCenterAndSize: (function () {
      var e = new THREE.Vector3();
      return function (t, i) {
        var r = e.copy(i).multiplyScalar(0.5);
        return this.min.copy(t).sub(r), this.max.copy(t).add(r), this;
      };
    })(),
    setFromObject: (function () {
      var e = new THREE.Vector3();
      return function (t) {
        var i = this;
        return (
          t.updateMatrixWorld(!0),
          this.makeEmpty(),
          t.traverse(function (t) {
            var r = t.geometry;
            if (void 0 !== r)
              if (r instanceof THREE.Geometry)
                for (var n = r.vertices, r = 0, o = n.length; o > r; r++)
                  e.copy(n[r]),
                    e.applyMatrix4(t.matrixWorld),
                    i.expandByPoint(e);
              else if (
                r instanceof THREE.BufferGeometry &&
                void 0 !== r.attributes.position
              )
                for (
                  n = r.attributes.position.array, r = 0, o = n.length;
                  o > r;
                  r += 3
                )
                  e.set(n[r], n[r + 1], n[r + 2]),
                    e.applyMatrix4(t.matrixWorld),
                    i.expandByPoint(e);
          }),
          this
        );
      };
    })(),
    copy: function (e) {
      return this.min.copy(e.min), this.max.copy(e.max), this;
    },
    makeEmpty: function () {
      return (
        (this.min.x = this.min.y = this.min.z = 1 / 0),
        (this.max.x = this.max.y = this.max.z = -(1 / 0)),
        this
      );
    },
    empty: function () {
      return (
        this.max.x < this.min.x ||
        this.max.y < this.min.y ||
        this.max.z < this.min.z
      );
    },
    center: function (e) {
      return (e || new THREE.Vector3())
        .addVectors(this.min, this.max)
        .multiplyScalar(0.5);
    },
    size: function (e) {
      return (e || new THREE.Vector3()).subVectors(this.max, this.min);
    },
    expandByPoint: function (e) {
      return this.min.min(e), this.max.max(e), this;
    },
    expandByVector: function (e) {
      return this.min.sub(e), this.max.add(e), this;
    },
    expandByScalar: function (e) {
      return this.min.addScalar(-e), this.max.addScalar(e), this;
    },
    containsPoint: function (e) {
      return e.x < this.min.x ||
        e.x > this.max.x ||
        e.y < this.min.y ||
        e.y > this.max.y ||
        e.z < this.min.z ||
        e.z > this.max.z
        ? !1
        : !0;
    },
    containsBox: function (e) {
      return this.min.x <= e.min.x &&
        e.max.x <= this.max.x &&
        this.min.y <= e.min.y &&
        e.max.y <= this.max.y &&
        this.min.z <= e.min.z &&
        e.max.z <= this.max.z
        ? !0
        : !1;
    },
    getParameter: function (e, t) {
      return (t || new THREE.Vector3()).set(
        (e.x - this.min.x) / (this.max.x - this.min.x),
        (e.y - this.min.y) / (this.max.y - this.min.y),
        (e.z - this.min.z) / (this.max.z - this.min.z)
      );
    },
    isIntersectionBox: function (e) {
      return e.max.x < this.min.x ||
        e.min.x > this.max.x ||
        e.max.y < this.min.y ||
        e.min.y > this.max.y ||
        e.max.z < this.min.z ||
        e.min.z > this.max.z
        ? !1
        : !0;
    },
    clampPoint: function (e, t) {
      return (t || new THREE.Vector3()).copy(e).clamp(this.min, this.max);
    },
    distanceToPoint: (function () {
      var e = new THREE.Vector3();
      return function (t) {
        return e.copy(t).clamp(this.min, this.max).sub(t).length();
      };
    })(),
    getBoundingSphere: (function () {
      var e = new THREE.Vector3();
      return function (t) {
        return (
          (t = t || new THREE.Sphere()),
          (t.center = this.center()),
          (t.radius = 0.5 * this.size(e).length()),
          t
        );
      };
    })(),
    intersect: function (e) {
      return this.min.max(e.min), this.max.min(e.max), this;
    },
    union: function (e) {
      return this.min.min(e.min), this.max.max(e.max), this;
    },
    applyMatrix4: (function () {
      var e = [
        new THREE.Vector3(),
        new THREE.Vector3(),
        new THREE.Vector3(),
        new THREE.Vector3(),
        new THREE.Vector3(),
        new THREE.Vector3(),
        new THREE.Vector3(),
        new THREE.Vector3(),
      ];
      return function (t) {
        return (
          e[0].set(this.min.x, this.min.y, this.min.z).applyMatrix4(t),
          e[1].set(this.min.x, this.min.y, this.max.z).applyMatrix4(t),
          e[2].set(this.min.x, this.max.y, this.min.z).applyMatrix4(t),
          e[3].set(this.min.x, this.max.y, this.max.z).applyMatrix4(t),
          e[4].set(this.max.x, this.min.y, this.min.z).applyMatrix4(t),
          e[5].set(this.max.x, this.min.y, this.max.z).applyMatrix4(t),
          e[6].set(this.max.x, this.max.y, this.min.z).applyMatrix4(t),
          e[7].set(this.max.x, this.max.y, this.max.z).applyMatrix4(t),
          this.makeEmpty(),
          this.setFromPoints(e),
          this
        );
      };
    })(),
    translate: function (e) {
      return this.min.add(e), this.max.add(e), this;
    },
    equals: function (e) {
      return e.min.equals(this.min) && e.max.equals(this.max);
    },
    clone: function () {
      return new THREE.Box3().copy(this);
    },
  }),
  (THREE.Matrix3 = function () {
    (this.elements = new Float32Array([1, 0, 0, 0, 1, 0, 0, 0, 1])),
      0 < arguments.length &&
        THREE.error(
          "THREE.Matrix3: the constructor no longer reads arguments. use .set() instead."
        );
  }),
  (THREE.Matrix3.prototype = {
    constructor: THREE.Matrix3,
    set: function (e, t, i, r, n, o, a, s, l) {
      var h = this.elements;
      return (
        (h[0] = e),
        (h[3] = t),
        (h[6] = i),
        (h[1] = r),
        (h[4] = n),
        (h[7] = o),
        (h[2] = a),
        (h[5] = s),
        (h[8] = l),
        this
      );
    },
    identity: function () {
      return this.set(1, 0, 0, 0, 1, 0, 0, 0, 1), this;
    },
    copy: function (e) {
      return (
        (e = e.elements),
        this.set(e[0], e[3], e[6], e[1], e[4], e[7], e[2], e[5], e[8]),
        this
      );
    },
    multiplyVector3: function (e) {
      return (
        THREE.warn(
          "THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."
        ),
        e.applyMatrix3(this)
      );
    },
    multiplyVector3Array: function (e) {
      return (
        THREE.warn(
          "THREE.Matrix3: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."
        ),
        this.applyToVector3Array(e)
      );
    },
    applyToVector3Array: (function () {
      var e = new THREE.Vector3();
      return function (t, i, r) {
        void 0 === i && (i = 0), void 0 === r && (r = t.length);
        for (var n = 0; r > n; n += 3, i += 3)
          (e.x = t[i]),
            (e.y = t[i + 1]),
            (e.z = t[i + 2]),
            e.applyMatrix3(this),
            (t[i] = e.x),
            (t[i + 1] = e.y),
            (t[i + 2] = e.z);
        return t;
      };
    })(),
    multiplyScalar: function (e) {
      var t = this.elements;
      return (
        (t[0] *= e),
        (t[3] *= e),
        (t[6] *= e),
        (t[1] *= e),
        (t[4] *= e),
        (t[7] *= e),
        (t[2] *= e),
        (t[5] *= e),
        (t[8] *= e),
        this
      );
    },
    determinant: function () {
      var e = this.elements,
        t = e[0],
        i = e[1],
        r = e[2],
        n = e[3],
        o = e[4],
        a = e[5],
        s = e[6],
        l = e[7],
        e = e[8];
      return (
        t * o * e - t * a * l - i * n * e + i * a * s + r * n * l - r * o * s
      );
    },
    getInverse: function (e, t) {
      var i = e.elements,
        r = this.elements;
      if (
        ((r[0] = i[10] * i[5] - i[6] * i[9]),
        (r[1] = -i[10] * i[1] + i[2] * i[9]),
        (r[2] = i[6] * i[1] - i[2] * i[5]),
        (r[3] = -i[10] * i[4] + i[6] * i[8]),
        (r[4] = i[10] * i[0] - i[2] * i[8]),
        (r[5] = -i[6] * i[0] + i[2] * i[4]),
        (r[6] = i[9] * i[4] - i[5] * i[8]),
        (r[7] = -i[9] * i[0] + i[1] * i[8]),
        (r[8] = i[5] * i[0] - i[1] * i[4]),
        (i = i[0] * r[0] + i[1] * r[3] + i[2] * r[6]),
        0 === i)
      ) {
        if (t)
          throw Error(
            "Matrix3.getInverse(): can't invert matrix, determinant is 0"
          );
        return (
          THREE.warn(
            "Matrix3.getInverse(): can't invert matrix, determinant is 0"
          ),
          this.identity(),
          this
        );
      }
      return this.multiplyScalar(1 / i), this;
    },
    transpose: function () {
      var e,
        t = this.elements;
      return (
        (e = t[1]),
        (t[1] = t[3]),
        (t[3] = e),
        (e = t[2]),
        (t[2] = t[6]),
        (t[6] = e),
        (e = t[5]),
        (t[5] = t[7]),
        (t[7] = e),
        this
      );
    },
    flattenToArrayOffset: function (e, t) {
      var i = this.elements;
      return (
        (e[t] = i[0]),
        (e[t + 1] = i[1]),
        (e[t + 2] = i[2]),
        (e[t + 3] = i[3]),
        (e[t + 4] = i[4]),
        (e[t + 5] = i[5]),
        (e[t + 6] = i[6]),
        (e[t + 7] = i[7]),
        (e[t + 8] = i[8]),
        e
      );
    },
    getNormalMatrix: function (e) {
      return this.getInverse(e).transpose(), this;
    },
    transposeIntoArray: function (e) {
      var t = this.elements;
      return (
        (e[0] = t[0]),
        (e[1] = t[3]),
        (e[2] = t[6]),
        (e[3] = t[1]),
        (e[4] = t[4]),
        (e[5] = t[7]),
        (e[6] = t[2]),
        (e[7] = t[5]),
        (e[8] = t[8]),
        this
      );
    },
    fromArray: function (e) {
      return this.elements.set(e), this;
    },
    toArray: function () {
      var e = this.elements;
      return [e[0], e[1], e[2], e[3], e[4], e[5], e[6], e[7], e[8]];
    },
    clone: function () {
      return new THREE.Matrix3().fromArray(this.elements);
    },
  }),
  (THREE.Matrix4 = function () {
    (this.elements = new Float32Array([
      1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1,
    ])),
      0 < arguments.length &&
        THREE.error(
          "THREE.Matrix4: the constructor no longer reads arguments. use .set() instead."
        );
  }),
  (THREE.Matrix4.prototype = {
    constructor: THREE.Matrix4,
    set: function (e, t, i, r, n, o, a, s, l, h, c, u, d, f, p, m) {
      var g = this.elements;
      return (
        (g[0] = e),
        (g[4] = t),
        (g[8] = i),
        (g[12] = r),
        (g[1] = n),
        (g[5] = o),
        (g[9] = a),
        (g[13] = s),
        (g[2] = l),
        (g[6] = h),
        (g[10] = c),
        (g[14] = u),
        (g[3] = d),
        (g[7] = f),
        (g[11] = p),
        (g[15] = m),
        this
      );
    },
    identity: function () {
      return this.set(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1), this;
    },
    copy: function (e) {
      return this.elements.set(e.elements), this;
    },
    extractPosition: function (e) {
      return (
        THREE.warn(
          "THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."
        ),
        this.copyPosition(e)
      );
    },
    copyPosition: function (e) {
      var t = this.elements;
      return (
        (e = e.elements),
        (t[12] = e[12]),
        (t[13] = e[13]),
        (t[14] = e[14]),
        this
      );
    },
    extractBasis: function (e, t, i) {
      var r = this.elements;
      return (
        e.set(r[0], r[1], r[2]),
        t.set(r[4], r[5], r[6]),
        i.set(r[8], r[9], r[10]),
        this
      );
    },
    makeBasis: function (e, t, i) {
      return (
        this.set(
          e.x,
          t.x,
          i.x,
          0,
          e.y,
          t.y,
          i.y,
          0,
          e.z,
          t.z,
          i.z,
          0,
          0,
          0,
          0,
          1
        ),
        this
      );
    },
    extractRotation: (function () {
      var e = new THREE.Vector3();
      return function (t) {
        var i = this.elements;
        t = t.elements;
        var r = 1 / e.set(t[0], t[1], t[2]).length(),
          n = 1 / e.set(t[4], t[5], t[6]).length(),
          o = 1 / e.set(t[8], t[9], t[10]).length();
        return (
          (i[0] = t[0] * r),
          (i[1] = t[1] * r),
          (i[2] = t[2] * r),
          (i[4] = t[4] * n),
          (i[5] = t[5] * n),
          (i[6] = t[6] * n),
          (i[8] = t[8] * o),
          (i[9] = t[9] * o),
          (i[10] = t[10] * o),
          this
        );
      };
    })(),
    makeRotationFromEuler: function (e) {
      !1 == e instanceof THREE.Euler &&
        THREE.error(
          "THREE.Matrix: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order."
        );
      var t = this.elements,
        i = e.x,
        r = e.y,
        n = e.z,
        o = Math.cos(i),
        i = Math.sin(i),
        a = Math.cos(r),
        r = Math.sin(r),
        s = Math.cos(n),
        n = Math.sin(n);
      if ("XYZ" === e.order) {
        e = o * s;
        var l = o * n,
          h = i * s,
          c = i * n;
        (t[0] = a * s),
          (t[4] = -a * n),
          (t[8] = r),
          (t[1] = l + h * r),
          (t[5] = e - c * r),
          (t[9] = -i * a),
          (t[2] = c - e * r),
          (t[6] = h + l * r),
          (t[10] = o * a);
      } else
        "YXZ" === e.order
          ? ((e = a * s),
            (l = a * n),
            (h = r * s),
            (c = r * n),
            (t[0] = e + c * i),
            (t[4] = h * i - l),
            (t[8] = o * r),
            (t[1] = o * n),
            (t[5] = o * s),
            (t[9] = -i),
            (t[2] = l * i - h),
            (t[6] = c + e * i),
            (t[10] = o * a))
          : "ZXY" === e.order
          ? ((e = a * s),
            (l = a * n),
            (h = r * s),
            (c = r * n),
            (t[0] = e - c * i),
            (t[4] = -o * n),
            (t[8] = h + l * i),
            (t[1] = l + h * i),
            (t[5] = o * s),
            (t[9] = c - e * i),
            (t[2] = -o * r),
            (t[6] = i),
            (t[10] = o * a))
          : "ZYX" === e.order
          ? ((e = o * s),
            (l = o * n),
            (h = i * s),
            (c = i * n),
            (t[0] = a * s),
            (t[4] = h * r - l),
            (t[8] = e * r + c),
            (t[1] = a * n),
            (t[5] = c * r + e),
            (t[9] = l * r - h),
            (t[2] = -r),
            (t[6] = i * a),
            (t[10] = o * a))
          : "YZX" === e.order
          ? ((e = o * a),
            (l = o * r),
            (h = i * a),
            (c = i * r),
            (t[0] = a * s),
            (t[4] = c - e * n),
            (t[8] = h * n + l),
            (t[1] = n),
            (t[5] = o * s),
            (t[9] = -i * s),
            (t[2] = -r * s),
            (t[6] = l * n + h),
            (t[10] = e - c * n))
          : "XZY" === e.order &&
            ((e = o * a),
            (l = o * r),
            (h = i * a),
            (c = i * r),
            (t[0] = a * s),
            (t[4] = -n),
            (t[8] = r * s),
            (t[1] = e * n + c),
            (t[5] = o * s),
            (t[9] = l * n - h),
            (t[2] = h * n - l),
            (t[6] = i * s),
            (t[10] = c * n + e));
      return (
        (t[3] = 0),
        (t[7] = 0),
        (t[11] = 0),
        (t[12] = 0),
        (t[13] = 0),
        (t[14] = 0),
        (t[15] = 1),
        this
      );
    },
    setRotationFromQuaternion: function (e) {
      return (
        THREE.warn(
          "THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."
        ),
        this.makeRotationFromQuaternion(e)
      );
    },
    makeRotationFromQuaternion: function (e) {
      var t = this.elements,
        i = e.x,
        r = e.y,
        n = e.z,
        o = e.w,
        a = i + i,
        s = r + r,
        l = n + n;
      e = i * a;
      var h = i * s,
        i = i * l,
        c = r * s,
        r = r * l,
        n = n * l,
        a = o * a,
        s = o * s,
        o = o * l;
      return (
        (t[0] = 1 - (c + n)),
        (t[4] = h - o),
        (t[8] = i + s),
        (t[1] = h + o),
        (t[5] = 1 - (e + n)),
        (t[9] = r - a),
        (t[2] = i - s),
        (t[6] = r + a),
        (t[10] = 1 - (e + c)),
        (t[3] = 0),
        (t[7] = 0),
        (t[11] = 0),
        (t[12] = 0),
        (t[13] = 0),
        (t[14] = 0),
        (t[15] = 1),
        this
      );
    },
    lookAt: (function () {
      var e = new THREE.Vector3(),
        t = new THREE.Vector3(),
        i = new THREE.Vector3();
      return function (r, n, o) {
        var a = this.elements;
        return (
          i.subVectors(r, n).normalize(),
          0 === i.length() && (i.z = 1),
          e.crossVectors(o, i).normalize(),
          0 === e.length() && ((i.x += 1e-4), e.crossVectors(o, i).normalize()),
          t.crossVectors(i, e),
          (a[0] = e.x),
          (a[4] = t.x),
          (a[8] = i.x),
          (a[1] = e.y),
          (a[5] = t.y),
          (a[9] = i.y),
          (a[2] = e.z),
          (a[6] = t.z),
          (a[10] = i.z),
          this
        );
      };
    })(),
    multiply: function (e, t) {
      return void 0 !== t
        ? (THREE.warn(
            "THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."
          ),
          this.multiplyMatrices(e, t))
        : this.multiplyMatrices(this, e);
    },
    multiplyMatrices: function (e, t) {
      var i = e.elements,
        r = t.elements,
        n = this.elements,
        o = i[0],
        a = i[4],
        s = i[8],
        l = i[12],
        h = i[1],
        c = i[5],
        u = i[9],
        d = i[13],
        f = i[2],
        p = i[6],
        m = i[10],
        g = i[14],
        E = i[3],
        v = i[7],
        _ = i[11],
        i = i[15],
        y = r[0],
        T = r[4],
        x = r[8],
        R = r[12],
        b = r[1],
        w = r[5],
        H = r[9],
        S = r[13],
        A = r[2],
        M = r[6],
        C = r[10],
        P = r[14],
        L = r[3],
        D = r[7],
        O = r[11],
        r = r[15];
      return (
        (n[0] = o * y + a * b + s * A + l * L),
        (n[4] = o * T + a * w + s * M + l * D),
        (n[8] = o * x + a * H + s * C + l * O),
        (n[12] = o * R + a * S + s * P + l * r),
        (n[1] = h * y + c * b + u * A + d * L),
        (n[5] = h * T + c * w + u * M + d * D),
        (n[9] = h * x + c * H + u * C + d * O),
        (n[13] = h * R + c * S + u * P + d * r),
        (n[2] = f * y + p * b + m * A + g * L),
        (n[6] = f * T + p * w + m * M + g * D),
        (n[10] = f * x + p * H + m * C + g * O),
        (n[14] = f * R + p * S + m * P + g * r),
        (n[3] = E * y + v * b + _ * A + i * L),
        (n[7] = E * T + v * w + _ * M + i * D),
        (n[11] = E * x + v * H + _ * C + i * O),
        (n[15] = E * R + v * S + _ * P + i * r),
        this
      );
    },
    multiplyToArray: function (e, t, i) {
      var r = this.elements;
      return (
        this.multiplyMatrices(e, t),
        (i[0] = r[0]),
        (i[1] = r[1]),
        (i[2] = r[2]),
        (i[3] = r[3]),
        (i[4] = r[4]),
        (i[5] = r[5]),
        (i[6] = r[6]),
        (i[7] = r[7]),
        (i[8] = r[8]),
        (i[9] = r[9]),
        (i[10] = r[10]),
        (i[11] = r[11]),
        (i[12] = r[12]),
        (i[13] = r[13]),
        (i[14] = r[14]),
        (i[15] = r[15]),
        this
      );
    },
    multiplyScalar: function (e) {
      var t = this.elements;
      return (
        (t[0] *= e),
        (t[4] *= e),
        (t[8] *= e),
        (t[12] *= e),
        (t[1] *= e),
        (t[5] *= e),
        (t[9] *= e),
        (t[13] *= e),
        (t[2] *= e),
        (t[6] *= e),
        (t[10] *= e),
        (t[14] *= e),
        (t[3] *= e),
        (t[7] *= e),
        (t[11] *= e),
        (t[15] *= e),
        this
      );
    },
    multiplyVector3: function (e) {
      return (
        THREE.warn(
          "THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) or vector.applyProjection( matrix ) instead."
        ),
        e.applyProjection(this)
      );
    },
    multiplyVector4: function (e) {
      return (
        THREE.warn(
          "THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."
        ),
        e.applyMatrix4(this)
      );
    },
    multiplyVector3Array: function (e) {
      return (
        THREE.warn(
          "THREE.Matrix4: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."
        ),
        this.applyToVector3Array(e)
      );
    },
    applyToVector3Array: (function () {
      var e = new THREE.Vector3();
      return function (t, i, r) {
        void 0 === i && (i = 0), void 0 === r && (r = t.length);
        for (var n = 0; r > n; n += 3, i += 3)
          (e.x = t[i]),
            (e.y = t[i + 1]),
            (e.z = t[i + 2]),
            e.applyMatrix4(this),
            (t[i] = e.x),
            (t[i + 1] = e.y),
            (t[i + 2] = e.z);
        return t;
      };
    })(),
    rotateAxis: function (e) {
      THREE.warn(
        "THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."
      ),
        e.transformDirection(this);
    },
    crossVector: function (e) {
      return (
        THREE.warn(
          "THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."
        ),
        e.applyMatrix4(this)
      );
    },
    determinant: function () {
      var e = this.elements,
        t = e[0],
        i = e[4],
        r = e[8],
        n = e[12],
        o = e[1],
        a = e[5],
        s = e[9],
        l = e[13],
        h = e[2],
        c = e[6],
        u = e[10],
        d = e[14];
      return (
        e[3] *
          (+n * s * c -
            r * l * c -
            n * a * u +
            i * l * u +
            r * a * d -
            i * s * d) +
        e[7] *
          (+t * s * d -
            t * l * u +
            n * o * u -
            r * o * d +
            r * l * h -
            n * s * h) +
        e[11] *
          (+t * l * c -
            t * a * d -
            n * o * c +
            i * o * d +
            n * a * h -
            i * l * h) +
        e[15] *
          (-r * a * h -
            t * s * c +
            t * a * u +
            r * o * c -
            i * o * u +
            i * s * h)
      );
    },
    transpose: function () {
      var e,
        t = this.elements;
      return (
        (e = t[1]),
        (t[1] = t[4]),
        (t[4] = e),
        (e = t[2]),
        (t[2] = t[8]),
        (t[8] = e),
        (e = t[6]),
        (t[6] = t[9]),
        (t[9] = e),
        (e = t[3]),
        (t[3] = t[12]),
        (t[12] = e),
        (e = t[7]),
        (t[7] = t[13]),
        (t[13] = e),
        (e = t[11]),
        (t[11] = t[14]),
        (t[14] = e),
        this
      );
    },
    flattenToArrayOffset: function (e, t) {
      var i = this.elements;
      return (
        (e[t] = i[0]),
        (e[t + 1] = i[1]),
        (e[t + 2] = i[2]),
        (e[t + 3] = i[3]),
        (e[t + 4] = i[4]),
        (e[t + 5] = i[5]),
        (e[t + 6] = i[6]),
        (e[t + 7] = i[7]),
        (e[t + 8] = i[8]),
        (e[t + 9] = i[9]),
        (e[t + 10] = i[10]),
        (e[t + 11] = i[11]),
        (e[t + 12] = i[12]),
        (e[t + 13] = i[13]),
        (e[t + 14] = i[14]),
        (e[t + 15] = i[15]),
        e
      );
    },
    getPosition: (function () {
      var e = new THREE.Vector3();
      return function () {
        THREE.warn(
          "THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."
        );
        var t = this.elements;
        return e.set(t[12], t[13], t[14]);
      };
    })(),
    setPosition: function (e) {
      var t = this.elements;
      return (t[12] = e.x), (t[13] = e.y), (t[14] = e.z), this;
    },
    getInverse: function (e, t) {
      var i = this.elements,
        r = e.elements,
        n = r[0],
        o = r[4],
        a = r[8],
        s = r[12],
        l = r[1],
        h = r[5],
        c = r[9],
        u = r[13],
        d = r[2],
        f = r[6],
        p = r[10],
        m = r[14],
        g = r[3],
        E = r[7],
        v = r[11],
        r = r[15];
      if (
        ((i[0] =
          c * m * E -
          u * p * E +
          u * f * v -
          h * m * v -
          c * f * r +
          h * p * r),
        (i[4] =
          s * p * E -
          a * m * E -
          s * f * v +
          o * m * v +
          a * f * r -
          o * p * r),
        (i[8] =
          a * u * E -
          s * c * E +
          s * h * v -
          o * u * v -
          a * h * r +
          o * c * r),
        (i[12] =
          s * c * f -
          a * u * f -
          s * h * p +
          o * u * p +
          a * h * m -
          o * c * m),
        (i[1] =
          u * p * g -
          c * m * g -
          u * d * v +
          l * m * v +
          c * d * r -
          l * p * r),
        (i[5] =
          a * m * g -
          s * p * g +
          s * d * v -
          n * m * v -
          a * d * r +
          n * p * r),
        (i[9] =
          s * c * g -
          a * u * g -
          s * l * v +
          n * u * v +
          a * l * r -
          n * c * r),
        (i[13] =
          a * u * d -
          s * c * d +
          s * l * p -
          n * u * p -
          a * l * m +
          n * c * m),
        (i[2] =
          h * m * g -
          u * f * g +
          u * d * E -
          l * m * E -
          h * d * r +
          l * f * r),
        (i[6] =
          s * f * g -
          o * m * g -
          s * d * E +
          n * m * E +
          o * d * r -
          n * f * r),
        (i[10] =
          o * u * g -
          s * h * g +
          s * l * E -
          n * u * E -
          o * l * r +
          n * h * r),
        (i[14] =
          s * h * d -
          o * u * d -
          s * l * f +
          n * u * f +
          o * l * m -
          n * h * m),
        (i[3] =
          c * f * g -
          h * p * g -
          c * d * E +
          l * p * E +
          h * d * v -
          l * f * v),
        (i[7] =
          o * p * g -
          a * f * g +
          a * d * E -
          n * p * E -
          o * d * v +
          n * f * v),
        (i[11] =
          a * h * g -
          o * c * g -
          a * l * E +
          n * c * E +
          o * l * v -
          n * h * v),
        (i[15] =
          o * c * d -
          a * h * d +
          a * l * f -
          n * c * f -
          o * l * p +
          n * h * p),
        (i = n * i[0] + l * i[4] + d * i[8] + g * i[12]),
        0 == i)
      ) {
        if (t)
          throw Error(
            "THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0"
          );
        return (
          THREE.warn(
            "THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0"
          ),
          this.identity(),
          this
        );
      }
      return this.multiplyScalar(1 / i), this;
    },
    translate: function (e) {
      THREE.error("THREE.Matrix4: .translate() has been removed.");
    },
    rotateX: function (e) {
      THREE.error("THREE.Matrix4: .rotateX() has been removed.");
    },
    rotateY: function (e) {
      THREE.error("THREE.Matrix4: .rotateY() has been removed.");
    },
    rotateZ: function (e) {
      THREE.error("THREE.Matrix4: .rotateZ() has been removed.");
    },
    rotateByAxis: function (e, t) {
      THREE.error("THREE.Matrix4: .rotateByAxis() has been removed.");
    },
    scale: function (e) {
      var t = this.elements,
        i = e.x,
        r = e.y;
      return (
        (e = e.z),
        (t[0] *= i),
        (t[4] *= r),
        (t[8] *= e),
        (t[1] *= i),
        (t[5] *= r),
        (t[9] *= e),
        (t[2] *= i),
        (t[6] *= r),
        (t[10] *= e),
        (t[3] *= i),
        (t[7] *= r),
        (t[11] *= e),
        this
      );
    },
    getMaxScaleOnAxis: function () {
      var e = this.elements;
      return Math.sqrt(
        Math.max(
          e[0] * e[0] + e[1] * e[1] + e[2] * e[2],
          Math.max(
            e[4] * e[4] + e[5] * e[5] + e[6] * e[6],
            e[8] * e[8] + e[9] * e[9] + e[10] * e[10]
          )
        )
      );
    },
    makeTranslation: function (e, t, i) {
      return this.set(1, 0, 0, e, 0, 1, 0, t, 0, 0, 1, i, 0, 0, 0, 1), this;
    },
    makeRotationX: function (e) {
      var t = Math.cos(e);
      return (
        (e = Math.sin(e)),
        this.set(1, 0, 0, 0, 0, t, -e, 0, 0, e, t, 0, 0, 0, 0, 1),
        this
      );
    },
    makeRotationY: function (e) {
      var t = Math.cos(e);
      return (
        (e = Math.sin(e)),
        this.set(t, 0, e, 0, 0, 1, 0, 0, -e, 0, t, 0, 0, 0, 0, 1),
        this
      );
    },
    makeRotationZ: function (e) {
      var t = Math.cos(e);
      return (
        (e = Math.sin(e)),
        this.set(t, -e, 0, 0, e, t, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1),
        this
      );
    },
    makeRotationAxis: function (e, t) {
      var i = Math.cos(t),
        r = Math.sin(t),
        n = 1 - i,
        o = e.x,
        a = e.y,
        s = e.z,
        l = n * o,
        h = n * a;
      return (
        this.set(
          l * o + i,
          l * a - r * s,
          l * s + r * a,
          0,
          l * a + r * s,
          h * a + i,
          h * s - r * o,
          0,
          l * s - r * a,
          h * s + r * o,
          n * s * s + i,
          0,
          0,
          0,
          0,
          1
        ),
        this
      );
    },
    makeScale: function (e, t, i) {
      return this.set(e, 0, 0, 0, 0, t, 0, 0, 0, 0, i, 0, 0, 0, 0, 1), this;
    },
    compose: function (e, t, i) {
      return (
        this.makeRotationFromQuaternion(t),
        this.scale(i),
        this.setPosition(e),
        this
      );
    },
    decompose: (function () {
      var e = new THREE.Vector3(),
        t = new THREE.Matrix4();
      return function (i, r, n) {
        var o = this.elements,
          a = e.set(o[0], o[1], o[2]).length(),
          s = e.set(o[4], o[5], o[6]).length(),
          l = e.set(o[8], o[9], o[10]).length();
        0 > this.determinant() && (a = -a),
          (i.x = o[12]),
          (i.y = o[13]),
          (i.z = o[14]),
          t.elements.set(this.elements),
          (i = 1 / a);
        var o = 1 / s,
          h = 1 / l;
        return (
          (t.elements[0] *= i),
          (t.elements[1] *= i),
          (t.elements[2] *= i),
          (t.elements[4] *= o),
          (t.elements[5] *= o),
          (t.elements[6] *= o),
          (t.elements[8] *= h),
          (t.elements[9] *= h),
          (t.elements[10] *= h),
          r.setFromRotationMatrix(t),
          (n.x = a),
          (n.y = s),
          (n.z = l),
          this
        );
      };
    })(),
    makeFrustum: function (e, t, i, r, n, o) {
      var a = this.elements;
      return (
        (a[0] = (2 * n) / (t - e)),
        (a[4] = 0),
        (a[8] = (t + e) / (t - e)),
        (a[12] = 0),
        (a[1] = 0),
        (a[5] = (2 * n) / (r - i)),
        (a[9] = (r + i) / (r - i)),
        (a[13] = 0),
        (a[2] = 0),
        (a[6] = 0),
        (a[10] = -(o + n) / (o - n)),
        (a[14] = (-2 * o * n) / (o - n)),
        (a[3] = 0),
        (a[7] = 0),
        (a[11] = -1),
        (a[15] = 0),
        this
      );
    },
    makePerspective: function (e, t, i, r) {
      e = i * Math.tan(THREE.Math.degToRad(0.5 * e));
      var n = -e;
      return this.makeFrustum(n * t, e * t, n, e, i, r);
    },
    makeOrthographic: function (e, t, i, r, n, o) {
      var a = this.elements,
        s = t - e,
        l = i - r,
        h = o - n;
      return (
        (a[0] = 2 / s),
        (a[4] = 0),
        (a[8] = 0),
        (a[12] = -((t + e) / s)),
        (a[1] = 0),
        (a[5] = 2 / l),
        (a[9] = 0),
        (a[13] = -((i + r) / l)),
        (a[2] = 0),
        (a[6] = 0),
        (a[10] = -2 / h),
        (a[14] = -((o + n) / h)),
        (a[3] = 0),
        (a[7] = 0),
        (a[11] = 0),
        (a[15] = 1),
        this
      );
    },
    fromArray: function (e) {
      return this.elements.set(e), this;
    },
    toArray: function () {
      var e = this.elements;
      return [
        e[0],
        e[1],
        e[2],
        e[3],
        e[4],
        e[5],
        e[6],
        e[7],
        e[8],
        e[9],
        e[10],
        e[11],
        e[12],
        e[13],
        e[14],
        e[15],
      ];
    },
    clone: function () {
      return new THREE.Matrix4().fromArray(this.elements);
    },
  }),
  (THREE.Ray = function (e, t) {
    (this.origin = void 0 !== e ? e : new THREE.Vector3()),
      (this.direction = void 0 !== t ? t : new THREE.Vector3());
  }),
  (THREE.Ray.prototype = {
    constructor: THREE.Ray,
    set: function (e, t) {
      return this.origin.copy(e), this.direction.copy(t), this;
    },
    copy: function (e) {
      return this.origin.copy(e.origin), this.direction.copy(e.direction), this;
    },
    at: function (e, t) {
      return (t || new THREE.Vector3())
        .copy(this.direction)
        .multiplyScalar(e)
        .add(this.origin);
    },
    recast: (function () {
      var e = new THREE.Vector3();
      return function (t) {
        return this.origin.copy(this.at(t, e)), this;
      };
    })(),
    closestPointToPoint: function (e, t) {
      var i = t || new THREE.Vector3();
      i.subVectors(e, this.origin);
      var r = i.dot(this.direction);
      return 0 > r
        ? i.copy(this.origin)
        : i.copy(this.direction).multiplyScalar(r).add(this.origin);
    },
    distanceToPoint: (function () {
      var e = new THREE.Vector3();
      return function (t) {
        var i = e.subVectors(t, this.origin).dot(this.direction);
        return 0 > i
          ? this.origin.distanceTo(t)
          : (e.copy(this.direction).multiplyScalar(i).add(this.origin),
            e.distanceTo(t));
      };
    })(),
    distanceSqToSegment: (function () {
      var e = new THREE.Vector3(),
        t = new THREE.Vector3(),
        i = new THREE.Vector3();
      return function (r, n, o, a) {
        e.copy(r).add(n).multiplyScalar(0.5),
          t.copy(n).sub(r).normalize(),
          i.copy(this.origin).sub(e);
        var s,
          l = 0.5 * r.distanceTo(n),
          h = -this.direction.dot(t),
          c = i.dot(this.direction),
          u = -i.dot(t),
          d = i.lengthSq(),
          f = Math.abs(1 - h * h);
        return (
          f > 0
            ? ((r = h * u - c),
              (n = h * c - u),
              (s = l * f),
              r >= 0
                ? n >= -s
                  ? s >= n
                    ? ((l = 1 / f),
                      (r *= l),
                      (n *= l),
                      (h =
                        r * (r + h * n + 2 * c) + n * (h * r + n + 2 * u) + d))
                    : ((n = l),
                      (r = Math.max(0, -(h * n + c))),
                      (h = -r * r + n * (n + 2 * u) + d))
                  : ((n = -l),
                    (r = Math.max(0, -(h * n + c))),
                    (h = -r * r + n * (n + 2 * u) + d))
                : -s >= n
                ? ((r = Math.max(0, -(-h * l + c))),
                  (n = r > 0 ? -l : Math.min(Math.max(-l, -u), l)),
                  (h = -r * r + n * (n + 2 * u) + d))
                : s >= n
                ? ((r = 0),
                  (n = Math.min(Math.max(-l, -u), l)),
                  (h = n * (n + 2 * u) + d))
                : ((r = Math.max(0, -(h * l + c))),
                  (n = r > 0 ? l : Math.min(Math.max(-l, -u), l)),
                  (h = -r * r + n * (n + 2 * u) + d)))
            : ((n = h > 0 ? -l : l),
              (r = Math.max(0, -(h * n + c))),
              (h = -r * r + n * (n + 2 * u) + d)),
          o && o.copy(this.direction).multiplyScalar(r).add(this.origin),
          a && a.copy(t).multiplyScalar(n).add(e),
          h
        );
      };
    })(),
    isIntersectionSphere: function (e) {
      return this.distanceToPoint(e.center) <= e.radius;
    },
    intersectSphere: (function () {
      var e = new THREE.Vector3();
      return function (t, i) {
        e.subVectors(t.center, this.origin);
        var r = e.dot(this.direction),
          n = e.dot(e) - r * r,
          o = t.radius * t.radius;
        return n > o
          ? null
          : ((o = Math.sqrt(o - n)),
            (n = r - o),
            (r += o),
            0 > n && 0 > r ? null : 0 > n ? this.at(r, i) : this.at(n, i));
      };
    })(),
    isIntersectionPlane: function (e) {
      var t = e.distanceToPoint(this.origin);
      return 0 === t || 0 > e.normal.dot(this.direction) * t ? !0 : !1;
    },
    distanceToPlane: function (e) {
      var t = e.normal.dot(this.direction);
      return 0 == t
        ? 0 == e.distanceToPoint(this.origin)
          ? 0
          : null
        : ((e = -(this.origin.dot(e.normal) + e.constant) / t),
          e >= 0 ? e : null);
    },
    intersectPlane: function (e, t) {
      var i = this.distanceToPlane(e);
      return null === i ? null : this.at(i, t);
    },
    isIntersectionBox: (function () {
      var e = new THREE.Vector3();
      return function (t) {
        return null !== this.intersectBox(t, e);
      };
    })(),
    intersectBox: function (e, t) {
      var i, r, n, o, a;
      (r = 1 / this.direction.x),
        (o = 1 / this.direction.y),
        (a = 1 / this.direction.z);
      var s = this.origin;
      return (
        r >= 0
          ? ((i = (e.min.x - s.x) * r), (r *= e.max.x - s.x))
          : ((i = (e.max.x - s.x) * r), (r *= e.min.x - s.x)),
        o >= 0
          ? ((n = (e.min.y - s.y) * o), (o *= e.max.y - s.y))
          : ((n = (e.max.y - s.y) * o), (o *= e.min.y - s.y)),
        i > o || n > r
          ? null
          : ((n > i || i !== i) && (i = n),
            (r > o || r !== r) && (r = o),
            a >= 0
              ? ((n = (e.min.z - s.z) * a), (a *= e.max.z - s.z))
              : ((n = (e.max.z - s.z) * a), (a *= e.min.z - s.z)),
            i > a || n > r
              ? null
              : ((n > i || i !== i) && (i = n),
                (r > a || r !== r) && (r = a),
                0 > r ? null : this.at(i >= 0 ? i : r, t)))
      );
    },
    intersectTriangle: (function () {
      var e = new THREE.Vector3(),
        t = new THREE.Vector3(),
        i = new THREE.Vector3(),
        r = new THREE.Vector3();
      return function (n, o, a, s, l) {
        if (
          (t.subVectors(o, n),
          i.subVectors(a, n),
          r.crossVectors(t, i),
          (o = this.direction.dot(r)),
          o > 0)
        ) {
          if (s) return null;
          s = 1;
        } else {
          if (!(0 > o)) return null;
          (s = -1), (o = -o);
        }
        return (
          e.subVectors(this.origin, n),
          (n = s * this.direction.dot(i.crossVectors(e, i))),
          0 > n
            ? null
            : ((a = s * this.direction.dot(t.cross(e))),
              0 > a || n + a > o
                ? null
                : ((n = -s * e.dot(r)), 0 > n ? null : this.at(n / o, l)))
        );
      };
    })(),
    applyMatrix4: function (e) {
      return (
        this.direction.add(this.origin).applyMatrix4(e),
        this.origin.applyMatrix4(e),
        this.direction.sub(this.origin),
        this.direction.normalize(),
        this
      );
    },
    equals: function (e) {
      return e.origin.equals(this.origin) && e.direction.equals(this.direction);
    },
    clone: function () {
      return new THREE.Ray().copy(this);
    },
  }),
  (THREE.Sphere = function (e, t) {
    (this.center = void 0 !== e ? e : new THREE.Vector3()),
      (this.radius = void 0 !== t ? t : 0);
  }),
  (THREE.Sphere.prototype = {
    constructor: THREE.Sphere,
    set: function (e, t) {
      return this.center.copy(e), (this.radius = t), this;
    },
    setFromPoints: (function () {
      var e = new THREE.Box3();
      return function (t, i) {
        var r = this.center;
        void 0 !== i ? r.copy(i) : e.setFromPoints(t).center(r);
        for (var n = 0, o = 0, a = t.length; a > o; o++)
          n = Math.max(n, r.distanceToSquared(t[o]));
        return (this.radius = Math.sqrt(n)), this;
      };
    })(),
    copy: function (e) {
      return this.center.copy(e.center), (this.radius = e.radius), this;
    },
    empty: function () {
      return 0 >= this.radius;
    },
    containsPoint: function (e) {
      return e.distanceToSquared(this.center) <= this.radius * this.radius;
    },
    distanceToPoint: function (e) {
      return e.distanceTo(this.center) - this.radius;
    },
    intersectsSphere: function (e) {
      var t = this.radius + e.radius;
      return e.center.distanceToSquared(this.center) <= t * t;
    },
    clampPoint: function (e, t) {
      var i = this.center.distanceToSquared(e),
        r = t || new THREE.Vector3();
      return (
        r.copy(e),
        i > this.radius * this.radius &&
          (r.sub(this.center).normalize(),
          r.multiplyScalar(this.radius).add(this.center)),
        r
      );
    },
    getBoundingBox: function (e) {
      return (
        (e = e || new THREE.Box3()),
        e.set(this.center, this.center),
        e.expandByScalar(this.radius),
        e
      );
    },
    applyMatrix4: function (e) {
      return (
        this.center.applyMatrix4(e),
        (this.radius *= e.getMaxScaleOnAxis()),
        this
      );
    },
    translate: function (e) {
      return this.center.add(e), this;
    },
    equals: function (e) {
      return e.center.equals(this.center) && e.radius === this.radius;
    },
    clone: function () {
      return new THREE.Sphere().copy(this);
    },
  }),
  (THREE.Frustum = function (e, t, i, r, n, o) {
    this.planes = [
      void 0 !== e ? e : new THREE.Plane(),
      void 0 !== t ? t : new THREE.Plane(),
      void 0 !== i ? i : new THREE.Plane(),
      void 0 !== r ? r : new THREE.Plane(),
      void 0 !== n ? n : new THREE.Plane(),
      void 0 !== o ? o : new THREE.Plane(),
    ];
  }),
  (THREE.Frustum.prototype = {
    constructor: THREE.Frustum,
    set: function (e, t, i, r, n, o) {
      var a = this.planes;
      return (
        a[0].copy(e),
        a[1].copy(t),
        a[2].copy(i),
        a[3].copy(r),
        a[4].copy(n),
        a[5].copy(o),
        this
      );
    },
    copy: function (e) {
      for (var t = this.planes, i = 0; 6 > i; i++) t[i].copy(e.planes[i]);
      return this;
    },
    setFromMatrix: function (e) {
      var t = this.planes,
        i = e.elements;
      e = i[0];
      var r = i[1],
        n = i[2],
        o = i[3],
        a = i[4],
        s = i[5],
        l = i[6],
        h = i[7],
        c = i[8],
        u = i[9],
        d = i[10],
        f = i[11],
        p = i[12],
        m = i[13],
        g = i[14],
        i = i[15];
      return (
        t[0].setComponents(o - e, h - a, f - c, i - p).normalize(),
        t[1].setComponents(o + e, h + a, f + c, i + p).normalize(),
        t[2].setComponents(o + r, h + s, f + u, i + m).normalize(),
        t[3].setComponents(o - r, h - s, f - u, i - m).normalize(),
        t[4].setComponents(o - n, h - l, f - d, i - g).normalize(),
        t[5].setComponents(o + n, h + l, f + d, i + g).normalize(),
        this
      );
    },
    intersectsObject: (function () {
      var e = new THREE.Sphere();
      return function (t) {
        var i = t.geometry;
        return (
          null === i.boundingSphere && i.computeBoundingSphere(),
          e.copy(i.boundingSphere),
          e.applyMatrix4(t.matrixWorld),
          this.intersectsSphere(e)
        );
      };
    })(),
    intersectsSphere: function (e) {
      var t = this.planes,
        i = e.center;
      e = -e.radius;
      for (var r = 0; 6 > r; r++) if (t[r].distanceToPoint(i) < e) return !1;
      return !0;
    },
    intersectsBox: (function () {
      var e = new THREE.Vector3(),
        t = new THREE.Vector3();
      return function (i) {
        for (var r = this.planes, n = 0; 6 > n; n++) {
          var o = r[n];
          (e.x = 0 < o.normal.x ? i.min.x : i.max.x),
            (t.x = 0 < o.normal.x ? i.max.x : i.min.x),
            (e.y = 0 < o.normal.y ? i.min.y : i.max.y),
            (t.y = 0 < o.normal.y ? i.max.y : i.min.y),
            (e.z = 0 < o.normal.z ? i.min.z : i.max.z),
            (t.z = 0 < o.normal.z ? i.max.z : i.min.z);
          var a = o.distanceToPoint(e),
            o = o.distanceToPoint(t);
          if (0 > a && 0 > o) return !1;
        }
        return !0;
      };
    })(),
    containsPoint: function (e) {
      for (var t = this.planes, i = 0; 6 > i; i++)
        if (0 > t[i].distanceToPoint(e)) return !1;
      return !0;
    },
    clone: function () {
      return new THREE.Frustum().copy(this);
    },
  }),
  (THREE.Plane = function (e, t) {
    (this.normal = void 0 !== e ? e : new THREE.Vector3(1, 0, 0)),
      (this.constant = void 0 !== t ? t : 0);
  }),
  (THREE.Plane.prototype = {
    constructor: THREE.Plane,
    set: function (e, t) {
      return this.normal.copy(e), (this.constant = t), this;
    },
    setComponents: function (e, t, i, r) {
      return this.normal.set(e, t, i), (this.constant = r), this;
    },
    setFromNormalAndCoplanarPoint: function (e, t) {
      return this.normal.copy(e), (this.constant = -t.dot(this.normal)), this;
    },
    setFromCoplanarPoints: (function () {
      var e = new THREE.Vector3(),
        t = new THREE.Vector3();
      return function (i, r, n) {
        return (
          (r = e.subVectors(n, r).cross(t.subVectors(i, r)).normalize()),
          this.setFromNormalAndCoplanarPoint(r, i),
          this
        );
      };
    })(),
    copy: function (e) {
      return this.normal.copy(e.normal), (this.constant = e.constant), this;
    },
    normalize: function () {
      var e = 1 / this.normal.length();
      return this.normal.multiplyScalar(e), (this.constant *= e), this;
    },
    negate: function () {
      return (this.constant *= -1), this.normal.negate(), this;
    },
    distanceToPoint: function (e) {
      return this.normal.dot(e) + this.constant;
    },
    distanceToSphere: function (e) {
      return this.distanceToPoint(e.center) - e.radius;
    },
    projectPoint: function (e, t) {
      return this.orthoPoint(e, t).sub(e).negate();
    },
    orthoPoint: function (e, t) {
      var i = this.distanceToPoint(e);
      return (t || new THREE.Vector3()).copy(this.normal).multiplyScalar(i);
    },
    isIntersectionLine: function (e) {
      var t = this.distanceToPoint(e.start);
      return (
        (e = this.distanceToPoint(e.end)), (0 > t && e > 0) || (0 > e && t > 0)
      );
    },
    intersectLine: (function () {
      var e = new THREE.Vector3();
      return function (t, i) {
        var r = i || new THREE.Vector3(),
          n = t.delta(e),
          o = this.normal.dot(n);
        return 0 != o
          ? ((o = -(t.start.dot(this.normal) + this.constant) / o),
            0 > o || o > 1 ? void 0 : r.copy(n).multiplyScalar(o).add(t.start))
          : 0 == this.distanceToPoint(t.start)
          ? r.copy(t.start)
          : void 0;
      };
    })(),
    coplanarPoint: function (e) {
      return (e || new THREE.Vector3())
        .copy(this.normal)
        .multiplyScalar(-this.constant);
    },
    applyMatrix4: (function () {
      var e = new THREE.Vector3(),
        t = new THREE.Vector3(),
        i = new THREE.Matrix3();
      return function (r, n) {
        var o = n || i.getNormalMatrix(r),
          o = e.copy(this.normal).applyMatrix3(o),
          a = this.coplanarPoint(t);
        return (
          a.applyMatrix4(r), this.setFromNormalAndCoplanarPoint(o, a), this
        );
      };
    })(),
    translate: function (e) {
      return (this.constant -= e.dot(this.normal)), this;
    },
    equals: function (e) {
      return e.normal.equals(this.normal) && e.constant == this.constant;
    },
    clone: function () {
      return new THREE.Plane().copy(this);
    },
  }),
  (THREE.Math = {
    generateUUID: (function () {
      var e,
        t =
          "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(
            ""
          ),
        i = Array(36),
        r = 0;
      return function () {
        for (var n = 0; 36 > n; n++)
          8 == n || 13 == n || 18 == n || 23 == n
            ? (i[n] = "-")
            : 14 == n
            ? (i[n] = "4")
            : (2 >= r && (r = (33554432 + 16777216 * Math.random()) | 0),
              (e = 15 & r),
              (r >>= 4),
              (i[n] = t[19 == n ? (3 & e) | 8 : e]));
        return i.join("");
      };
    })(),
    clamp: function (e, t, i) {
      return t > e ? t : e > i ? i : e;
    },
    clampBottom: function (e, t) {
      return t > e ? t : e;
    },
    mapLinear: function (e, t, i, r, n) {
      return r + ((e - t) * (n - r)) / (i - t);
    },
    smoothstep: function (e, t, i) {
      return t >= e
        ? 0
        : e >= i
        ? 1
        : ((e = (e - t) / (i - t)), e * e * (3 - 2 * e));
    },
    smootherstep: function (e, t, i) {
      return t >= e
        ? 0
        : e >= i
        ? 1
        : ((e = (e - t) / (i - t)), e * e * e * (e * (6 * e - 15) + 10));
    },
    random16: function () {
      return (65280 * Math.random() + 255 * Math.random()) / 65535;
    },
    randInt: function (e, t) {
      return Math.floor(this.randFloat(e, t));
    },
    randFloat: function (e, t) {
      return e + Math.random() * (t - e);
    },
    randFloatSpread: function (e) {
      return e * (0.5 - Math.random());
    },
    degToRad: (function () {
      var e = Math.PI / 180;
      return function (t) {
        return t * e;
      };
    })(),
    radToDeg: (function () {
      var e = 180 / Math.PI;
      return function (t) {
        return t * e;
      };
    })(),
    isPowerOfTwo: function (e) {
      return 0 === (e & (e - 1)) && 0 !== e;
    },
    nextPowerOfTwo: function (e) {
      return (
        e--,
        (e |= e >> 1),
        (e |= e >> 2),
        (e |= e >> 4),
        (e |= e >> 8),
        (e |= e >> 16),
        e++,
        e
      );
    },
  }),
  (THREE.Spline = function (e) {
    function t(e, t, i, r, n, o, a) {
      return (
        (e = 0.5 * (i - e)),
        (r = 0.5 * (r - t)),
        (2 * (t - i) + e + r) * a + (-3 * (t - i) - 2 * e - r) * o + e * n + t
      );
    }
    this.points = e;
    var i,
      r,
      n,
      o,
      a,
      s,
      l,
      h,
      c,
      u = [],
      d = { x: 0, y: 0, z: 0 };
    (this.initFromArray = function (e) {
      this.points = [];
      for (var t = 0; t < e.length; t++)
        this.points[t] = { x: e[t][0], y: e[t][1], z: e[t][2] };
    }),
      (this.getPoint = function (e) {
        return (
          (i = (this.points.length - 1) * e),
          (r = Math.floor(i)),
          (n = i - r),
          (u[0] = 0 === r ? r : r - 1),
          (u[1] = r),
          (u[2] = r > this.points.length - 2 ? this.points.length - 1 : r + 1),
          (u[3] = r > this.points.length - 3 ? this.points.length - 1 : r + 2),
          (s = this.points[u[0]]),
          (l = this.points[u[1]]),
          (h = this.points[u[2]]),
          (c = this.points[u[3]]),
          (o = n * n),
          (a = n * o),
          (d.x = t(s.x, l.x, h.x, c.x, n, o, a)),
          (d.y = t(s.y, l.y, h.y, c.y, n, o, a)),
          (d.z = t(s.z, l.z, h.z, c.z, n, o, a)),
          d
        );
      }),
      (this.getControlPointsArray = function () {
        var e,
          t,
          i = this.points.length,
          r = [];
        for (e = 0; i > e; e++) (t = this.points[e]), (r[e] = [t.x, t.y, t.z]);
        return r;
      }),
      (this.getLength = function (e) {
        var t,
          i,
          r,
          n = (t = t = 0),
          o = new THREE.Vector3(),
          a = new THREE.Vector3(),
          s = [],
          l = 0;
        for (
          s[0] = 0,
            e || (e = 100),
            i = this.points.length * e,
            o.copy(this.points[0]),
            e = 1;
          i > e;
          e++
        )
          (t = e / i),
            (r = this.getPoint(t)),
            a.copy(r),
            (l += a.distanceTo(o)),
            o.copy(r),
            (t *= this.points.length - 1),
            (t = Math.floor(t)),
            t != n && ((s[t] = l), (n = t));
        return (s[s.length] = l), { chunks: s, total: l };
      }),
      (this.reparametrizeByArcLength = function (e) {
        var t,
          i,
          r,
          n,
          o,
          a,
          s = [],
          l = new THREE.Vector3(),
          h = this.getLength();
        for (
          s.push(l.copy(this.points[0]).clone()), t = 1;
          t < this.points.length;
          t++
        ) {
          for (
            i = h.chunks[t] - h.chunks[t - 1],
              a = Math.ceil((e * i) / h.total),
              n = (t - 1) / (this.points.length - 1),
              o = t / (this.points.length - 1),
              i = 1;
            a - 1 > i;
            i++
          )
            (r = n + (1 / a) * i * (o - n)),
              (r = this.getPoint(r)),
              s.push(l.copy(r).clone());
          s.push(l.copy(this.points[t]).clone());
        }
        this.points = s;
      });
  }),
  (THREE.Triangle = function (e, t, i) {
    (this.a = void 0 !== e ? e : new THREE.Vector3()),
      (this.b = void 0 !== t ? t : new THREE.Vector3()),
      (this.c = void 0 !== i ? i : new THREE.Vector3());
  }),
  (THREE.Triangle.normal = (function () {
    var e = new THREE.Vector3();
    return function (t, i, r, n) {
      return (
        (n = n || new THREE.Vector3()),
        n.subVectors(r, i),
        e.subVectors(t, i),
        n.cross(e),
        (t = n.lengthSq()),
        t > 0 ? n.multiplyScalar(1 / Math.sqrt(t)) : n.set(0, 0, 0)
      );
    };
  })()),
  (THREE.Triangle.barycoordFromPoint = (function () {
    var e = new THREE.Vector3(),
      t = new THREE.Vector3(),
      i = new THREE.Vector3();
    return function (r, n, o, a, s) {
      e.subVectors(a, n),
        t.subVectors(o, n),
        i.subVectors(r, n),
        (r = e.dot(e)),
        (n = e.dot(t)),
        (o = e.dot(i));
      var l = t.dot(t);
      a = t.dot(i);
      var h = r * l - n * n;
      return (
        (s = s || new THREE.Vector3()),
        0 == h
          ? s.set(-2, -1, -1)
          : ((h = 1 / h),
            (l = (l * o - n * a) * h),
            (r = (r * a - n * o) * h),
            s.set(1 - l - r, r, l))
      );
    };
  })()),
  (THREE.Triangle.containsPoint = (function () {
    var e = new THREE.Vector3();
    return function (t, i, r, n) {
      return (
        (t = THREE.Triangle.barycoordFromPoint(t, i, r, n, e)),
        0 <= t.x && 0 <= t.y && 1 >= t.x + t.y
      );
    };
  })()),
  (THREE.Triangle.prototype = {
    constructor: THREE.Triangle,
    set: function (e, t, i) {
      return this.a.copy(e), this.b.copy(t), this.c.copy(i), this;
    },
    setFromPointsAndIndices: function (e, t, i, r) {
      return this.a.copy(e[t]), this.b.copy(e[i]), this.c.copy(e[r]), this;
    },
    copy: function (e) {
      return this.a.copy(e.a), this.b.copy(e.b), this.c.copy(e.c), this;
    },
    area: (function () {
      var e = new THREE.Vector3(),
        t = new THREE.Vector3();
      return function () {
        return (
          e.subVectors(this.c, this.b),
          t.subVectors(this.a, this.b),
          0.5 * e.cross(t).length()
        );
      };
    })(),
    midpoint: function (e) {
      return (e || new THREE.Vector3())
        .addVectors(this.a, this.b)
        .add(this.c)
        .multiplyScalar(1 / 3);
    },
    normal: function (e) {
      return THREE.Triangle.normal(this.a, this.b, this.c, e);
    },
    plane: function (e) {
      return (e || new THREE.Plane()).setFromCoplanarPoints(
        this.a,
        this.b,
        this.c
      );
    },
    barycoordFromPoint: function (e, t) {
      return THREE.Triangle.barycoordFromPoint(e, this.a, this.b, this.c, t);
    },
    containsPoint: function (e) {
      return THREE.Triangle.containsPoint(e, this.a, this.b, this.c);
    },
    equals: function (e) {
      return e.a.equals(this.a) && e.b.equals(this.b) && e.c.equals(this.c);
    },
    clone: function () {
      return new THREE.Triangle().copy(this);
    },
  }),
  (THREE.Clock = function (e) {
    (this.autoStart = void 0 !== e ? e : !0),
      (this.elapsedTime = this.oldTime = this.startTime = 0),
      (this.running = !1);
  }),
  (THREE.Clock.prototype = {
    constructor: THREE.Clock,
    start: function () {
      (this.oldTime = this.startTime =
        void 0 !== self.performance && void 0 !== self.performance.now
          ? self.performance.now()
          : Date.now()),
        (this.running = !0);
    },
    stop: function () {
      this.getElapsedTime(), (this.running = !1);
    },
    getElapsedTime: function () {
      return this.getDelta(), this.elapsedTime;
    },
    getDelta: function () {
      var e = 0;
      if ((this.autoStart && !this.running && this.start(), this.running)) {
        var t =
            void 0 !== self.performance && void 0 !== self.performance.now
              ? self.performance.now()
              : Date.now(),
          e = 0.001 * (t - this.oldTime);
        (this.oldTime = t), (this.elapsedTime += e);
      }
      return e;
    },
  }),
  (THREE.EventDispatcher = function () {}),
  (THREE.EventDispatcher.prototype = {
    constructor: THREE.EventDispatcher,
    apply: function (e) {
      (e.addEventListener = THREE.EventDispatcher.prototype.addEventListener),
        (e.hasEventListener = THREE.EventDispatcher.prototype.hasEventListener),
        (e.removeEventListener =
          THREE.EventDispatcher.prototype.removeEventListener),
        (e.dispatchEvent = THREE.EventDispatcher.prototype.dispatchEvent);
    },
    addEventListener: function (e, t) {
      void 0 === this._listeners && (this._listeners = {});
      var i = this._listeners;
      void 0 === i[e] && (i[e] = []), -1 === i[e].indexOf(t) && i[e].push(t);
    },
    hasEventListener: function (e, t) {
      if (void 0 === this._listeners) return !1;
      var i = this._listeners;
      return void 0 !== i[e] && -1 !== i[e].indexOf(t) ? !0 : !1;
    },
    removeEventListener: function (e, t) {
      if (void 0 !== this._listeners) {
        var i = this._listeners[e];
        if (void 0 !== i) {
          var r = i.indexOf(t);
          -1 !== r && i.splice(r, 1);
        }
      }
    },
    dispatchEvent: function (e) {
      if (void 0 !== this._listeners) {
        var t = this._listeners[e.type];
        if (void 0 !== t) {
          e.target = this;
          for (var i = [], r = t.length, n = 0; r > n; n++) i[n] = t[n];
          for (n = 0; r > n; n++) i[n].call(this, e);
        }
      }
    },
  }),
  (function (e) {
    e.Raycaster = function (t, i, r, n) {
      (this.ray = new e.Ray(t, i)),
        (this.near = r || 0),
        (this.far = n || 1 / 0),
        (this.params = {
          Sprite: {},
          Mesh: {},
          PointCloud: { threshold: 1 },
          LOD: {},
          Line: {},
        });
    };
    var t = function (e, t) {
        return e.distance - t.distance;
      },
      i = function (e, t, r, n) {
        if ((e.raycast(t, r), !0 === n)) {
          (e = e.children), (n = 0);
          for (var o = e.length; o > n; n++) i(e[n], t, r, !0);
        }
      };
    e.Raycaster.prototype = {
      constructor: e.Raycaster,
      precision: 1e-4,
      linePrecision: 1,
      set: function (e, t) {
        this.ray.set(e, t);
      },
      setFromCamera: function (t, i) {
        i instanceof e.PerspectiveCamera
          ? (this.ray.origin.copy(i.position),
            this.ray.direction
              .set(t.x, t.y, 0.5)
              .unproject(i)
              .sub(i.position)
              .normalize())
          : i instanceof e.OrthographicCamera
          ? (this.ray.origin.set(t.x, t.y, -1).unproject(i),
            this.ray.direction.set(0, 0, -1).transformDirection(i.matrixWorld))
          : e.error("THREE.Raycaster: Unsupported camera type.");
      },
      intersectObject: function (e, r) {
        var n = [];
        return i(e, this, n, r), n.sort(t), n;
      },
      intersectObjects: function (r, n) {
        var o = [];
        if (!1 == r instanceof Array)
          return (
            e.warn(
              "THREE.Raycaster.intersectObjects: objects is not an Array."
            ),
            o
          );
        for (var a = 0, s = r.length; s > a; a++) i(r[a], this, o, n);
        return o.sort(t), o;
      },
    };
  })(THREE),
  (THREE.Object3D = function () {
    Object.defineProperty(this, "id", { value: THREE.Object3DIdCount++ }),
      (this.uuid = THREE.Math.generateUUID()),
      (this.name = ""),
      (this.type = "Object3D"),
      (this.parent = void 0),
      (this.children = []),
      (this.up = THREE.Object3D.DefaultUp.clone());
    var e = new THREE.Vector3(),
      t = new THREE.Euler(),
      i = new THREE.Quaternion(),
      r = new THREE.Vector3(1, 1, 1);
    t.onChange(function () {
      i.setFromEuler(t, !1);
    }),
      i.onChange(function () {
        t.setFromQuaternion(i, void 0, !1);
      }),
      Object.defineProperties(this, {
        position: { enumerable: !0, value: e },
        rotation: { enumerable: !0, value: t },
        quaternion: { enumerable: !0, value: i },
        scale: { enumerable: !0, value: r },
      }),
      (this.rotationAutoUpdate = !0),
      (this.matrix = new THREE.Matrix4()),
      (this.matrixWorld = new THREE.Matrix4()),
      (this.matrixAutoUpdate = !0),
      (this.matrixWorldNeedsUpdate = !1),
      (this.visible = !0),
      (this.receiveShadow = this.castShadow = !1),
      (this.frustumCulled = !0),
      (this.renderOrder = 0),
      (this.userData = {});
  }),
  (THREE.Object3D.DefaultUp = new THREE.Vector3(0, 1, 0)),
  (THREE.Object3D.prototype = {
    constructor: THREE.Object3D,
    get eulerOrder() {
      return (
        THREE.warn(
          "THREE.Object3D: .eulerOrder has been moved to .rotation.order."
        ),
        this.rotation.order
      );
    },
    set eulerOrder(e) {
      THREE.warn(
        "THREE.Object3D: .eulerOrder has been moved to .rotation.order."
      ),
        (this.rotation.order = e);
    },
    get useQuaternion() {
      THREE.warn(
        "THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default."
      );
    },
    set useQuaternion(e) {
      THREE.warn(
        "THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default."
      );
    },
    applyMatrix: function (e) {
      this.matrix.multiplyMatrices(e, this.matrix),
        this.matrix.decompose(this.position, this.quaternion, this.scale);
    },
    setRotationFromAxisAngle: function (e, t) {
      this.quaternion.setFromAxisAngle(e, t);
    },
    setRotationFromEuler: function (e) {
      this.quaternion.setFromEuler(e, !0);
    },
    setRotationFromMatrix: function (e) {
      this.quaternion.setFromRotationMatrix(e);
    },
    setRotationFromQuaternion: function (e) {
      this.quaternion.copy(e);
    },
    rotateOnAxis: (function () {
      var e = new THREE.Quaternion();
      return function (t, i) {
        return e.setFromAxisAngle(t, i), this.quaternion.multiply(e), this;
      };
    })(),
    rotateX: (function () {
      var e = new THREE.Vector3(1, 0, 0);
      return function (t) {
        return this.rotateOnAxis(e, t);
      };
    })(),
    rotateY: (function () {
      var e = new THREE.Vector3(0, 1, 0);
      return function (t) {
        return this.rotateOnAxis(e, t);
      };
    })(),
    rotateZ: (function () {
      var e = new THREE.Vector3(0, 0, 1);
      return function (t) {
        return this.rotateOnAxis(e, t);
      };
    })(),
    translateOnAxis: (function () {
      var e = new THREE.Vector3();
      return function (t, i) {
        return (
          e.copy(t).applyQuaternion(this.quaternion),
          this.position.add(e.multiplyScalar(i)),
          this
        );
      };
    })(),
    translate: function (e, t) {
      return (
        THREE.warn(
          "THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."
        ),
        this.translateOnAxis(t, e)
      );
    },
    translateX: (function () {
      var e = new THREE.Vector3(1, 0, 0);
      return function (t) {
        return this.translateOnAxis(e, t);
      };
    })(),
    translateY: (function () {
      var e = new THREE.Vector3(0, 1, 0);
      return function (t) {
        return this.translateOnAxis(e, t);
      };
    })(),
    translateZ: (function () {
      var e = new THREE.Vector3(0, 0, 1);
      return function (t) {
        return this.translateOnAxis(e, t);
      };
    })(),
    localToWorld: function (e) {
      return e.applyMatrix4(this.matrixWorld);
    },
    worldToLocal: (function () {
      var e = new THREE.Matrix4();
      return function (t) {
        return t.applyMatrix4(e.getInverse(this.matrixWorld));
      };
    })(),
    lookAt: (function () {
      var e = new THREE.Matrix4();
      return function (t) {
        e.lookAt(t, this.position, this.up),
          this.quaternion.setFromRotationMatrix(e);
      };
    })(),
    add: function (e) {
      if (1 < arguments.length) {
        for (var t = 0; t < arguments.length; t++) this.add(arguments[t]);
        return this;
      }
      return e === this
        ? (THREE.error(
            "THREE.Object3D.add: object can't be added as a child of itself.",
            e
          ),
          this)
        : (e instanceof THREE.Object3D
            ? (void 0 !== e.parent && e.parent.remove(e),
              (e.parent = this),
              e.dispatchEvent({ type: "added" }),
              this.children.push(e))
            : THREE.error(
                "THREE.Object3D.add: object not an instance of THREE.Object3D.",
                e
              ),
          this);
    },
    remove: function (e) {
      if (1 < arguments.length)
        for (var t = 0; t < arguments.length; t++) this.remove(arguments[t]);
      (t = this.children.indexOf(e)),
        -1 !== t &&
          ((e.parent = void 0),
          e.dispatchEvent({ type: "removed" }),
          this.children.splice(t, 1));
    },
    getChildByName: function (e) {
      return (
        THREE.warn(
          "THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."
        ),
        this.getObjectByName(e)
      );
    },
    getObjectById: function (e) {
      return this.getObjectByProperty("id", e);
    },
    getObjectByName: function (e) {
      return this.getObjectByProperty("name", e);
    },
    getObjectByProperty: function (e, t) {
      if (this[e] === t) return this;
      for (var i = 0, r = this.children.length; r > i; i++) {
        var n = this.children[i].getObjectByProperty(e, t);
        if (void 0 !== n) return n;
      }
    },
    getWorldPosition: function (e) {
      return (
        (e = e || new THREE.Vector3()),
        this.updateMatrixWorld(!0),
        e.setFromMatrixPosition(this.matrixWorld)
      );
    },
    getWorldQuaternion: (function () {
      var e = new THREE.Vector3(),
        t = new THREE.Vector3();
      return function (i) {
        return (
          (i = i || new THREE.Quaternion()),
          this.updateMatrixWorld(!0),
          this.matrixWorld.decompose(e, i, t),
          i
        );
      };
    })(),
    getWorldRotation: (function () {
      var e = new THREE.Quaternion();
      return function (t) {
        return (
          (t = t || new THREE.Euler()),
          this.getWorldQuaternion(e),
          t.setFromQuaternion(e, this.rotation.order, !1)
        );
      };
    })(),
    getWorldScale: (function () {
      var e = new THREE.Vector3(),
        t = new THREE.Quaternion();
      return function (i) {
        return (
          (i = i || new THREE.Vector3()),
          this.updateMatrixWorld(!0),
          this.matrixWorld.decompose(e, t, i),
          i
        );
      };
    })(),
    getWorldDirection: (function () {
      var e = new THREE.Quaternion();
      return function (t) {
        return (
          (t = t || new THREE.Vector3()),
          this.getWorldQuaternion(e),
          t.set(0, 0, 1).applyQuaternion(e)
        );
      };
    })(),
    raycast: function () {},
    traverse: function (e) {
      e(this);
      for (var t = 0, i = this.children.length; i > t; t++)
        this.children[t].traverse(e);
    },
    traverseVisible: function (e) {
      if (!1 !== this.visible) {
        e(this);
        for (var t = 0, i = this.children.length; i > t; t++)
          this.children[t].traverseVisible(e);
      }
    },
    traverseAncestors: function (e) {
      this.parent && (e(this.parent), this.parent.traverseAncestors(e));
    },
    updateMatrix: function () {
      this.matrix.compose(this.position, this.quaternion, this.scale),
        (this.matrixWorldNeedsUpdate = !0);
    },
    updateMatrixWorld: function (e) {
      !0 === this.matrixAutoUpdate && this.updateMatrix(),
        (!0 === this.matrixWorldNeedsUpdate || !0 === e) &&
          (void 0 === this.parent
            ? this.matrixWorld.copy(this.matrix)
            : this.matrixWorld.multiplyMatrices(
                this.parent.matrixWorld,
                this.matrix
              ),
          (this.matrixWorldNeedsUpdate = !1),
          (e = !0));
      for (var t = 0, i = this.children.length; i > t; t++)
        this.children[t].updateMatrixWorld(e);
    },
    toJSON: function () {
      var e = {
          metadata: {
            version: 4.3,
            type: "Object",
            generator: "ObjectExporter",
          },
        },
        t = {},
        i = {},
        r = function (t) {
          if (
            (void 0 === e.materials && (e.materials = []), void 0 === i[t.uuid])
          ) {
            var r = t.toJSON();
            delete r.metadata, (i[t.uuid] = r), e.materials.push(r);
          }
          return t.uuid;
        },
        n = function (i) {
          var o = {};
          if (
            ((o.uuid = i.uuid),
            (o.type = i.type),
            "" !== i.name && (o.name = i.name),
            "{}" !== JSON.stringify(i.userData) && (o.userData = i.userData),
            !0 !== i.visible && (o.visible = i.visible),
            i instanceof THREE.PerspectiveCamera)
          )
            (o.fov = i.fov),
              (o.aspect = i.aspect),
              (o.near = i.near),
              (o.far = i.far);
          else if (i instanceof THREE.OrthographicCamera)
            (o.left = i.left),
              (o.right = i.right),
              (o.top = i.top),
              (o.bottom = i.bottom),
              (o.near = i.near),
              (o.far = i.far);
          else if (i instanceof THREE.AmbientLight) o.color = i.color.getHex();
          else if (i instanceof THREE.DirectionalLight)
            (o.color = i.color.getHex()), (o.intensity = i.intensity);
          else if (i instanceof THREE.PointLight)
            (o.color = i.color.getHex()),
              (o.intensity = i.intensity),
              (o.distance = i.distance),
              (o.decay = i.decay);
          else if (i instanceof THREE.SpotLight)
            (o.color = i.color.getHex()),
              (o.intensity = i.intensity),
              (o.distance = i.distance),
              (o.angle = i.angle),
              (o.exponent = i.exponent),
              (o.decay = i.decay);
          else if (i instanceof THREE.HemisphereLight)
            (o.color = i.color.getHex()),
              (o.groundColor = i.groundColor.getHex());
          else if (
            i instanceof THREE.Mesh ||
            i instanceof THREE.Line ||
            i instanceof THREE.PointCloud
          ) {
            var a = i.geometry;
            if (
              (void 0 === e.geometries && (e.geometries = []),
              void 0 === t[a.uuid])
            ) {
              var s = a.toJSON();
              delete s.metadata, (t[a.uuid] = s), e.geometries.push(s);
            }
            (o.geometry = a.uuid),
              (o.material = r(i.material)),
              i instanceof THREE.Line && (o.mode = i.mode);
          } else i instanceof THREE.Sprite && (o.material = r(i.material));
          if (((o.matrix = i.matrix.toArray()), 0 < i.children.length))
            for (o.children = [], a = 0; a < i.children.length; a++)
              o.children.push(n(i.children[a]));
          return o;
        };
      return (e.object = n(this)), e;
    },
    clone: function (e, t) {
      if (
        (void 0 === e && (e = new THREE.Object3D()),
        void 0 === t && (t = !0),
        (e.name = this.name),
        e.up.copy(this.up),
        e.position.copy(this.position),
        e.quaternion.copy(this.quaternion),
        e.scale.copy(this.scale),
        (e.rotationAutoUpdate = this.rotationAutoUpdate),
        e.matrix.copy(this.matrix),
        e.matrixWorld.copy(this.matrixWorld),
        (e.matrixAutoUpdate = this.matrixAutoUpdate),
        (e.matrixWorldNeedsUpdate = this.matrixWorldNeedsUpdate),
        (e.visible = this.visible),
        (e.castShadow = this.castShadow),
        (e.receiveShadow = this.receiveShadow),
        (e.frustumCulled = this.frustumCulled),
        (e.userData = JSON.parse(JSON.stringify(this.userData))),
        !0 === t)
      )
        for (var i = 0; i < this.children.length; i++)
          e.add(this.children[i].clone());
      return e;
    },
  }),
  THREE.EventDispatcher.prototype.apply(THREE.Object3D.prototype),
  (THREE.Object3DIdCount = 0),
  (THREE.Face3 = function (e, t, i, r, n, o) {
    (this.a = e),
      (this.b = t),
      (this.c = i),
      (this.normal = r instanceof THREE.Vector3 ? r : new THREE.Vector3()),
      (this.vertexNormals = r instanceof Array ? r : []),
      (this.color = n instanceof THREE.Color ? n : new THREE.Color()),
      (this.vertexColors = n instanceof Array ? n : []),
      (this.vertexTangents = []),
      (this.materialIndex = void 0 !== o ? o : 0);
  }),
  (THREE.Face3.prototype = {
    constructor: THREE.Face3,
    clone: function () {
      var e = new THREE.Face3(this.a, this.b, this.c);
      e.normal.copy(this.normal),
        e.color.copy(this.color),
        (e.materialIndex = this.materialIndex);
      for (var t = 0, i = this.vertexNormals.length; i > t; t++)
        e.vertexNormals[t] = this.vertexNormals[t].clone();
      for (t = 0, i = this.vertexColors.length; i > t; t++)
        e.vertexColors[t] = this.vertexColors[t].clone();
      for (t = 0, i = this.vertexTangents.length; i > t; t++)
        e.vertexTangents[t] = this.vertexTangents[t].clone();
      return e;
    },
  }),
  (THREE.Face4 = function (e, t, i, r, n, o, a) {
    return (
      THREE.warn(
        "THREE.Face4 has been removed. A THREE.Face3 will be created instead."
      ),
      new THREE.Face3(e, t, i, n, o, a)
    );
  }),
  (THREE.BufferAttribute = function (e, t) {
    (this.array = e), (this.itemSize = t), (this.needsUpdate = !1);
  }),
  (THREE.BufferAttribute.prototype = {
    constructor: THREE.BufferAttribute,
    get length() {
      return this.array.length;
    },
    copyAt: function (e, t, i) {
      (e *= this.itemSize), (i *= t.itemSize);
      for (var r = 0, n = this.itemSize; n > r; r++)
        this.array[e + r] = t.array[i + r];
      return this;
    },
    set: function (e, t) {
      return void 0 === t && (t = 0), this.array.set(e, t), this;
    },
    setX: function (e, t) {
      return (this.array[e * this.itemSize] = t), this;
    },
    setY: function (e, t) {
      return (this.array[e * this.itemSize + 1] = t), this;
    },
    setZ: function (e, t) {
      return (this.array[e * this.itemSize + 2] = t), this;
    },
    setXY: function (e, t, i) {
      return (
        (e *= this.itemSize), (this.array[e] = t), (this.array[e + 1] = i), this
      );
    },
    setXYZ: function (e, t, i, r) {
      return (
        (e *= this.itemSize),
        (this.array[e] = t),
        (this.array[e + 1] = i),
        (this.array[e + 2] = r),
        this
      );
    },
    setXYZW: function (e, t, i, r, n) {
      return (
        (e *= this.itemSize),
        (this.array[e] = t),
        (this.array[e + 1] = i),
        (this.array[e + 2] = r),
        (this.array[e + 3] = n),
        this
      );
    },
    clone: function () {
      return new THREE.BufferAttribute(
        new this.array.constructor(this.array),
        this.itemSize
      );
    },
  }),
  (THREE.Int8Attribute = function (e, t) {
    return (
      THREE.warn(
        "THREE.Int8Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead."
      ),
      new THREE.BufferAttribute(e, t)
    );
  }),
  (THREE.Uint8Attribute = function (e, t) {
    return (
      THREE.warn(
        "THREE.Uint8Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead."
      ),
      new THREE.BufferAttribute(e, t)
    );
  }),
  (THREE.Uint8ClampedAttribute = function (e, t) {
    return (
      THREE.warn(
        "THREE.Uint8ClampedAttribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead."
      ),
      new THREE.BufferAttribute(e, t)
    );
  }),
  (THREE.Int16Attribute = function (e, t) {
    return (
      THREE.warn(
        "THREE.Int16Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead."
      ),
      new THREE.BufferAttribute(e, t)
    );
  }),
  (THREE.Uint16Attribute = function (e, t) {
    return (
      THREE.warn(
        "THREE.Uint16Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead."
      ),
      new THREE.BufferAttribute(e, t)
    );
  }),
  (THREE.Int32Attribute = function (e, t) {
    return (
      THREE.warn(
        "THREE.Int32Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead."
      ),
      new THREE.BufferAttribute(e, t)
    );
  }),
  (THREE.Uint32Attribute = function (e, t) {
    return (
      THREE.warn(
        "THREE.Uint32Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead."
      ),
      new THREE.BufferAttribute(e, t)
    );
  }),
  (THREE.Float32Attribute = function (e, t) {
    return (
      THREE.warn(
        "THREE.Float32Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead."
      ),
      new THREE.BufferAttribute(e, t)
    );
  }),
  (THREE.Float64Attribute = function (e, t) {
    return (
      THREE.warn(
        "THREE.Float64Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead."
      ),
      new THREE.BufferAttribute(e, t)
    );
  }),
  (THREE.DynamicBufferAttribute = function (e, t) {
    THREE.BufferAttribute.call(this, e, t),
      (this.updateRange = { offset: 0, count: -1 });
  }),
  (THREE.DynamicBufferAttribute.prototype = Object.create(
    THREE.BufferAttribute.prototype
  )),
  (THREE.DynamicBufferAttribute.prototype.constructor =
    THREE.DynamicBufferAttribute),
  (THREE.DynamicBufferAttribute.prototype.clone = function () {
    return new THREE.DynamicBufferAttribute(
      new this.array.constructor(this.array),
      this.itemSize
    );
  }),
  (THREE.BufferGeometry = function () {
    Object.defineProperty(this, "id", { value: THREE.GeometryIdCount++ }),
      (this.uuid = THREE.Math.generateUUID()),
      (this.name = ""),
      (this.type = "BufferGeometry"),
      (this.attributes = {}),
      (this.attributesKeys = []),
      (this.offsets = this.drawcalls = []),
      (this.boundingSphere = this.boundingBox = null);
  }),
  (THREE.BufferGeometry.prototype = {
    constructor: THREE.BufferGeometry,
    addAttribute: function (e, t, i) {
      !1 == t instanceof THREE.BufferAttribute
        ? (THREE.warn(
            "THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."
          ),
          (this.attributes[e] = { array: t, itemSize: i }))
        : ((this.attributes[e] = t),
          (this.attributesKeys = Object.keys(this.attributes)));
    },
    getAttribute: function (e) {
      return this.attributes[e];
    },
    addDrawCall: function (e, t, i) {
      this.drawcalls.push({ start: e, count: t, index: void 0 !== i ? i : 0 });
    },
    applyMatrix: function (e) {
      var t = this.attributes.position;
      void 0 !== t && (e.applyToVector3Array(t.array), (t.needsUpdate = !0)),
        (t = this.attributes.normal),
        void 0 !== t &&
          (new THREE.Matrix3().getNormalMatrix(e).applyToVector3Array(t.array),
          (t.needsUpdate = !0)),
        null !== this.boundingBox && this.computeBoundingBox(),
        null !== this.boundingSphere && this.computeBoundingSphere();
    },
    center: function () {
      this.computeBoundingBox();
      var e = this.boundingBox.center().negate();
      return this.applyMatrix(new THREE.Matrix4().setPosition(e)), e;
    },
    fromGeometry: function (e, t) {
      t = t || { vertexColors: THREE.NoColors };
      var i = e.vertices,
        r = e.faces,
        n = e.faceVertexUvs,
        o = t.vertexColors,
        a = 0 < n[0].length,
        s = 3 == r[0].vertexNormals.length,
        l = new Float32Array(9 * r.length);
      this.addAttribute("position", new THREE.BufferAttribute(l, 3));
      var h = new Float32Array(9 * r.length);
      if (
        (this.addAttribute("normal", new THREE.BufferAttribute(h, 3)),
        o !== THREE.NoColors)
      ) {
        var c = new Float32Array(9 * r.length);
        this.addAttribute("color", new THREE.BufferAttribute(c, 3));
      }
      if (!0 === a) {
        var u = new Float32Array(6 * r.length);
        this.addAttribute("uv", new THREE.BufferAttribute(u, 2));
      }
      for (var d = 0, f = 0, p = 0; d < r.length; d++, f += 6, p += 9) {
        var m = r[d],
          g = i[m.a],
          E = i[m.b],
          v = i[m.c];
        (l[p] = g.x),
          (l[p + 1] = g.y),
          (l[p + 2] = g.z),
          (l[p + 3] = E.x),
          (l[p + 4] = E.y),
          (l[p + 5] = E.z),
          (l[p + 6] = v.x),
          (l[p + 7] = v.y),
          (l[p + 8] = v.z),
          !0 === s
            ? ((g = m.vertexNormals[0]),
              (E = m.vertexNormals[1]),
              (v = m.vertexNormals[2]),
              (h[p] = g.x),
              (h[p + 1] = g.y),
              (h[p + 2] = g.z),
              (h[p + 3] = E.x),
              (h[p + 4] = E.y),
              (h[p + 5] = E.z),
              (h[p + 6] = v.x),
              (h[p + 7] = v.y),
              (h[p + 8] = v.z))
            : ((g = m.normal),
              (h[p] = g.x),
              (h[p + 1] = g.y),
              (h[p + 2] = g.z),
              (h[p + 3] = g.x),
              (h[p + 4] = g.y),
              (h[p + 5] = g.z),
              (h[p + 6] = g.x),
              (h[p + 7] = g.y),
              (h[p + 8] = g.z)),
          o === THREE.FaceColors
            ? ((m = m.color),
              (c[p] = m.r),
              (c[p + 1] = m.g),
              (c[p + 2] = m.b),
              (c[p + 3] = m.r),
              (c[p + 4] = m.g),
              (c[p + 5] = m.b),
              (c[p + 6] = m.r),
              (c[p + 7] = m.g),
              (c[p + 8] = m.b))
            : o === THREE.VertexColors &&
              ((g = m.vertexColors[0]),
              (E = m.vertexColors[1]),
              (m = m.vertexColors[2]),
              (c[p] = g.r),
              (c[p + 1] = g.g),
              (c[p + 2] = g.b),
              (c[p + 3] = E.r),
              (c[p + 4] = E.g),
              (c[p + 5] = E.b),
              (c[p + 6] = m.r),
              (c[p + 7] = m.g),
              (c[p + 8] = m.b)),
          !0 === a &&
            ((m = n[0][d][0]),
            (g = n[0][d][1]),
            (E = n[0][d][2]),
            (u[f] = m.x),
            (u[f + 1] = m.y),
            (u[f + 2] = g.x),
            (u[f + 3] = g.y),
            (u[f + 4] = E.x),
            (u[f + 5] = E.y));
      }
      return this.computeBoundingSphere(), this;
    },
    computeBoundingBox: (function () {
      var e = new THREE.Vector3();
      return function () {
        null === this.boundingBox && (this.boundingBox = new THREE.Box3());
        var t = this.attributes.position.array;
        if (t) {
          var i = this.boundingBox;
          i.makeEmpty();
          for (var r = 0, n = t.length; n > r; r += 3)
            e.set(t[r], t[r + 1], t[r + 2]), i.expandByPoint(e);
        }
        (void 0 === t || 0 === t.length) &&
          (this.boundingBox.min.set(0, 0, 0),
          this.boundingBox.max.set(0, 0, 0)),
          (isNaN(this.boundingBox.min.x) ||
            isNaN(this.boundingBox.min.y) ||
            isNaN(this.boundingBox.min.z)) &&
            THREE.error(
              'THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.'
            );
      };
    })(),
    computeBoundingSphere: (function () {
      var e = new THREE.Box3(),
        t = new THREE.Vector3();
      return function () {
        null === this.boundingSphere &&
          (this.boundingSphere = new THREE.Sphere());
        var i = this.attributes.position.array;
        if (i) {
          e.makeEmpty();
          for (
            var r = this.boundingSphere.center, n = 0, o = i.length;
            o > n;
            n += 3
          )
            t.set(i[n], i[n + 1], i[n + 2]), e.expandByPoint(t);
          e.center(r);
          for (var a = 0, n = 0, o = i.length; o > n; n += 3)
            t.set(i[n], i[n + 1], i[n + 2]),
              (a = Math.max(a, r.distanceToSquared(t)));
          (this.boundingSphere.radius = Math.sqrt(a)),
            isNaN(this.boundingSphere.radius) &&
              THREE.error(
                'THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.'
              );
        }
      };
    })(),
    computeFaceNormals: function () {},
    computeVertexNormals: function () {
      var e = this.attributes;
      if (e.position) {
        var t = e.position.array;
        if (void 0 === e.normal)
          this.addAttribute(
            "normal",
            new THREE.BufferAttribute(new Float32Array(t.length), 3)
          );
        else
          for (var i = e.normal.array, r = 0, n = i.length; n > r; r++)
            i[r] = 0;
        var o,
          a,
          s,
          i = e.normal.array,
          l = new THREE.Vector3(),
          h = new THREE.Vector3(),
          c = new THREE.Vector3(),
          u = new THREE.Vector3(),
          d = new THREE.Vector3();
        if (e.index)
          for (
            var f = e.index.array,
              p =
                0 < this.offsets.length
                  ? this.offsets
                  : [{ start: 0, count: f.length, index: 0 }],
              m = 0,
              g = p.length;
            g > m;
            ++m
          ) {
            (n = p[m].start), (o = p[m].count);
            for (var E = p[m].index, r = n, n = n + o; n > r; r += 3)
              (o = 3 * (E + f[r])),
                (a = 3 * (E + f[r + 1])),
                (s = 3 * (E + f[r + 2])),
                l.fromArray(t, o),
                h.fromArray(t, a),
                c.fromArray(t, s),
                u.subVectors(c, h),
                d.subVectors(l, h),
                u.cross(d),
                (i[o] += u.x),
                (i[o + 1] += u.y),
                (i[o + 2] += u.z),
                (i[a] += u.x),
                (i[a + 1] += u.y),
                (i[a + 2] += u.z),
                (i[s] += u.x),
                (i[s + 1] += u.y),
                (i[s + 2] += u.z);
          }
        else
          for (r = 0, n = t.length; n > r; r += 9)
            l.fromArray(t, r),
              h.fromArray(t, r + 3),
              c.fromArray(t, r + 6),
              u.subVectors(c, h),
              d.subVectors(l, h),
              u.cross(d),
              (i[r] = u.x),
              (i[r + 1] = u.y),
              (i[r + 2] = u.z),
              (i[r + 3] = u.x),
              (i[r + 4] = u.y),
              (i[r + 5] = u.z),
              (i[r + 6] = u.x),
              (i[r + 7] = u.y),
              (i[r + 8] = u.z);
        this.normalizeNormals(), (e.normal.needsUpdate = !0);
      }
    },
    computeTangents: function () {
      function e(e, t, i) {
        S.fromArray(r, 3 * e),
          A.fromArray(r, 3 * t),
          M.fromArray(r, 3 * i),
          C.fromArray(o, 2 * e),
          P.fromArray(o, 2 * t),
          L.fromArray(o, 2 * i),
          (u = A.x - S.x),
          (d = M.x - S.x),
          (f = A.y - S.y),
          (p = M.y - S.y),
          (m = A.z - S.z),
          (g = M.z - S.z),
          (E = P.x - C.x),
          (v = L.x - C.x),
          (_ = P.y - C.y),
          (y = L.y - C.y),
          (T = 1 / (E * y - v * _)),
          D.set((y * u - _ * d) * T, (y * f - _ * p) * T, (y * m - _ * g) * T),
          O.set((E * d - v * u) * T, (E * p - v * f) * T, (E * g - v * m) * T),
          l[e].add(D),
          l[t].add(D),
          l[i].add(D),
          h[e].add(O),
          h[t].add(O),
          h[i].add(O);
      }
      function t(e) {
        V.fromArray(n, 3 * e),
          z.copy(V),
          (j = l[e]),
          I.copy(j),
          I.sub(V.multiplyScalar(V.dot(j))).normalize(),
          B.crossVectors(z, j),
          (U = B.dot(h[e])),
          (N = 0 > U ? -1 : 1),
          (s[4 * e] = I.x),
          (s[4 * e + 1] = I.y),
          (s[4 * e + 2] = I.z),
          (s[4 * e + 3] = N);
      }
      if (
        void 0 === this.attributes.index ||
        void 0 === this.attributes.position ||
        void 0 === this.attributes.normal ||
        void 0 === this.attributes.uv
      )
        THREE.warn(
          "THREE.BufferGeometry: Missing required attributes (index, position, normal or uv) in BufferGeometry.computeTangents()"
        );
      else {
        var i = this.attributes.index.array,
          r = this.attributes.position.array,
          n = this.attributes.normal.array,
          o = this.attributes.uv.array,
          a = r.length / 3;
        void 0 === this.attributes.tangent &&
          this.addAttribute(
            "tangent",
            new THREE.BufferAttribute(new Float32Array(4 * a), 4)
          );
        for (
          var s = this.attributes.tangent.array, l = [], h = [], c = 0;
          a > c;
          c++
        )
          (l[c] = new THREE.Vector3()), (h[c] = new THREE.Vector3());
        var u,
          d,
          f,
          p,
          m,
          g,
          E,
          v,
          _,
          y,
          T,
          x,
          R,
          b,
          w,
          H,
          S = new THREE.Vector3(),
          A = new THREE.Vector3(),
          M = new THREE.Vector3(),
          C = new THREE.Vector2(),
          P = new THREE.Vector2(),
          L = new THREE.Vector2(),
          D = new THREE.Vector3(),
          O = new THREE.Vector3();
        0 === this.drawcalls.length && this.addDrawCall(0, i.length, 0);
        var k = this.drawcalls,
          c = 0;
        for (R = k.length; R > c; ++c) {
          (x = k[c].start), (b = k[c].count);
          var F = k[c].index,
            a = x;
          for (x += b; x > a; a += 3)
            (b = F + i[a]), (w = F + i[a + 1]), (H = F + i[a + 2]), e(b, w, H);
        }
        var N,
          j,
          U,
          I = new THREE.Vector3(),
          B = new THREE.Vector3(),
          V = new THREE.Vector3(),
          z = new THREE.Vector3(),
          c = 0;
        for (R = k.length; R > c; ++c)
          for (
            x = k[c].start, b = k[c].count, F = k[c].index, a = x, x += b;
            x > a;
            a += 3
          )
            (b = F + i[a]),
              (w = F + i[a + 1]),
              (H = F + i[a + 2]),
              t(b),
              t(w),
              t(H);
      }
    },
    computeOffsets: function (e) {
      void 0 === e && (e = 65535);
      for (
        var t = this.attributes.index.array,
          i = this.attributes.position.array,
          r = t.length / 3,
          n = new Uint16Array(t.length),
          o = 0,
          a = 0,
          s = [{ start: 0, count: 0, index: 0 }],
          l = s[0],
          h = 0,
          c = 0,
          u = new Int32Array(6),
          d = new Int32Array(i.length),
          f = new Int32Array(i.length),
          p = 0;
        p < i.length;
        p++
      )
        (d[p] = -1), (f[p] = -1);
      for (i = 0; r > i; i++) {
        for (var m = (c = 0); 3 > m; m++)
          (p = t[3 * i + m]),
            -1 == d[p]
              ? ((u[2 * m] = p), (u[2 * m + 1] = -1), c++)
              : d[p] < l.index
              ? ((u[2 * m] = p), (u[2 * m + 1] = -1), h++)
              : ((u[2 * m] = p), (u[2 * m + 1] = d[p]));
        if (a + c > l.index + e)
          for (
            l = { start: o, count: 0, index: a }, s.push(l), c = 0;
            6 > c;
            c += 2
          )
            (m = u[c + 1]), m > -1 && m < l.index && (u[c + 1] = -1);
        for (c = 0; 6 > c; c += 2)
          (p = u[c]),
            (m = u[c + 1]),
            -1 === m && (m = a++),
            (d[p] = m),
            (f[m] = p),
            (n[o++] = m - l.index),
            l.count++;
      }
      return this.reorderBuffers(n, f, a), (this.drawcalls = this.offsets = s);
    },
    merge: function (e, t) {
      if (!1 != e instanceof THREE.BufferGeometry) {
        void 0 === t && (t = 0);
        var i,
          r = this.attributes;
        for (i in r)
          if (void 0 !== e.attributes[i])
            for (
              var n = r[i].array,
                o = e.attributes[i],
                a = o.array,
                s = 0,
                o = o.itemSize * t;
              s < a.length;
              s++, o++
            )
              n[o] = a[s];
        return this;
      }
      THREE.error(
        "THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",
        e
      );
    },
    normalizeNormals: function () {
      for (
        var e, t, i, r = this.attributes.normal.array, n = 0, o = r.length;
        o > n;
        n += 3
      )
        (e = r[n]),
          (t = r[n + 1]),
          (i = r[n + 2]),
          (e = 1 / Math.sqrt(e * e + t * t + i * i)),
          (r[n] *= e),
          (r[n + 1] *= e),
          (r[n + 2] *= e);
    },
    reorderBuffers: function (e, t, i) {
      var r,
        n = {};
      for (r in this.attributes)
        "index" != r &&
          (n[r] = new this.attributes[r].array.constructor(
            this.attributes[r].itemSize * i
          ));
      for (var o = 0; i > o; o++) {
        var a = t[o];
        for (r in this.attributes)
          if ("index" != r)
            for (
              var s = this.attributes[r].array,
                l = this.attributes[r].itemSize,
                h = n[r],
                c = 0;
              l > c;
              c++
            )
              h[o * l + c] = s[a * l + c];
      }
      this.attributes.index.array = e;
      for (r in this.attributes)
        "index" != r &&
          ((this.attributes[r].array = n[r]),
          (this.attributes[r].numItems = this.attributes[r].itemSize * i));
    },
    toJSON: function () {
      var e,
        t = {
          metadata: {
            version: 4,
            type: "BufferGeometry",
            generator: "BufferGeometryExporter",
          },
          uuid: this.uuid,
          type: this.type,
          data: { attributes: {} },
        },
        i = this.attributes,
        r = this.offsets,
        n = this.boundingSphere;
      for (e in i) {
        var o = i[e],
          a = Array.prototype.slice.call(o.array);
        t.data.attributes[e] = {
          itemSize: o.itemSize,
          type: o.array.constructor.name,
          array: a,
        };
      }
      return (
        0 < r.length && (t.data.offsets = JSON.parse(JSON.stringify(r))),
        null !== n &&
          (t.data.boundingSphere = {
            center: n.center.toArray(),
            radius: n.radius,
          }),
        t
      );
    },
    clone: function () {
      var e,
        t = new THREE.BufferGeometry();
      for (e in this.attributes) t.addAttribute(e, this.attributes[e].clone());
      e = 0;
      for (var i = this.offsets.length; i > e; e++) {
        var r = this.offsets[e];
        t.offsets.push({ start: r.start, index: r.index, count: r.count });
      }
      return t;
    },
    dispose: function () {
      this.dispatchEvent({ type: "dispose" });
    },
  }),
  THREE.EventDispatcher.prototype.apply(THREE.BufferGeometry.prototype),
  (THREE.Geometry = function () {
    Object.defineProperty(this, "id", { value: THREE.GeometryIdCount++ }),
      (this.uuid = THREE.Math.generateUUID()),
      (this.name = ""),
      (this.type = "Geometry"),
      (this.vertices = []),
      (this.colors = []),
      (this.faces = []),
      (this.faceVertexUvs = [[]]),
      (this.morphTargets = []),
      (this.morphColors = []),
      (this.morphNormals = []),
      (this.skinWeights = []),
      (this.skinIndices = []),
      (this.lineDistances = []),
      (this.boundingSphere = this.boundingBox = null),
      (this.hasTangents = !1),
      (this.dynamic = !0),
      (this.groupsNeedUpdate =
        this.lineDistancesNeedUpdate =
        this.colorsNeedUpdate =
        this.tangentsNeedUpdate =
        this.normalsNeedUpdate =
        this.uvsNeedUpdate =
        this.elementsNeedUpdate =
        this.verticesNeedUpdate =
          !1);
  }),
  (THREE.Geometry.prototype = {
    constructor: THREE.Geometry,
    applyMatrix: function (e) {
      for (
        var t = new THREE.Matrix3().getNormalMatrix(e),
          i = 0,
          r = this.vertices.length;
        r > i;
        i++
      )
        this.vertices[i].applyMatrix4(e);
      for (i = 0, r = this.faces.length; r > i; i++) {
        (e = this.faces[i]), e.normal.applyMatrix3(t).normalize();
        for (var n = 0, o = e.vertexNormals.length; o > n; n++)
          e.vertexNormals[n].applyMatrix3(t).normalize();
      }
      null !== this.boundingBox && this.computeBoundingBox(),
        null !== this.boundingSphere && this.computeBoundingSphere(),
        (this.normalsNeedUpdate = this.verticesNeedUpdate = !0);
    },
    fromBufferGeometry: function (e) {
      for (
        var t = this,
          i = e.attributes,
          r = i.position.array,
          n = void 0 !== i.index ? i.index.array : void 0,
          o = void 0 !== i.normal ? i.normal.array : void 0,
          a = void 0 !== i.color ? i.color.array : void 0,
          s = void 0 !== i.uv ? i.uv.array : void 0,
          l = [],
          h = [],
          c = (i = 0);
        i < r.length;
        i += 3, c += 2
      )
        t.vertices.push(new THREE.Vector3(r[i], r[i + 1], r[i + 2])),
          void 0 !== o && l.push(new THREE.Vector3(o[i], o[i + 1], o[i + 2])),
          void 0 !== a &&
            t.colors.push(new THREE.Color(a[i], a[i + 1], a[i + 2])),
          void 0 !== s && h.push(new THREE.Vector2(s[c], s[c + 1]));
      var u = function (e, i, r) {
        var n = void 0 !== o ? [l[e].clone(), l[i].clone(), l[r].clone()] : [],
          c =
            void 0 !== a
              ? [t.colors[e].clone(), t.colors[i].clone(), t.colors[r].clone()]
              : [];
        t.faces.push(new THREE.Face3(e, i, r, n, c)),
          void 0 !== s &&
            t.faceVertexUvs[0].push([h[e].clone(), h[i].clone(), h[r].clone()]);
      };
      if (void 0 !== n)
        if (((r = e.drawcalls), 0 < r.length))
          for (i = 0; i < r.length; i++)
            for (
              var c = r[i],
                d = c.start,
                f = c.count,
                p = c.index,
                c = d,
                d = d + f;
              d > c;
              c += 3
            )
              u(p + n[c], p + n[c + 1], p + n[c + 2]);
        else for (i = 0; i < n.length; i += 3) u(n[i], n[i + 1], n[i + 2]);
      else for (i = 0; i < r.length / 3; i += 3) u(i, i + 1, i + 2);
      return (
        this.computeFaceNormals(),
        null !== e.boundingBox && (this.boundingBox = e.boundingBox.clone()),
        null !== e.boundingSphere &&
          (this.boundingSphere = e.boundingSphere.clone()),
        this
      );
    },
    center: function () {
      this.computeBoundingBox();
      var e = this.boundingBox.center().negate();
      return this.applyMatrix(new THREE.Matrix4().setPosition(e)), e;
    },
    computeFaceNormals: function () {
      for (
        var e = new THREE.Vector3(),
          t = new THREE.Vector3(),
          i = 0,
          r = this.faces.length;
        r > i;
        i++
      ) {
        var n = this.faces[i],
          o = this.vertices[n.a],
          a = this.vertices[n.b];
        e.subVectors(this.vertices[n.c], a),
          t.subVectors(o, a),
          e.cross(t),
          e.normalize(),
          n.normal.copy(e);
      }
    },
    computeVertexNormals: function (e) {
      var t, i, r;
      for (
        r = Array(this.vertices.length), t = 0, i = this.vertices.length;
        i > t;
        t++
      )
        r[t] = new THREE.Vector3();
      if (e) {
        var n,
          o,
          a,
          s = new THREE.Vector3(),
          l = new THREE.Vector3();
        for (e = 0, t = this.faces.length; t > e; e++)
          (i = this.faces[e]),
            (n = this.vertices[i.a]),
            (o = this.vertices[i.b]),
            (a = this.vertices[i.c]),
            s.subVectors(a, o),
            l.subVectors(n, o),
            s.cross(l),
            r[i.a].add(s),
            r[i.b].add(s),
            r[i.c].add(s);
      } else
        for (e = 0, t = this.faces.length; t > e; e++)
          (i = this.faces[e]),
            r[i.a].add(i.normal),
            r[i.b].add(i.normal),
            r[i.c].add(i.normal);
      for (t = 0, i = this.vertices.length; i > t; t++) r[t].normalize();
      for (e = 0, t = this.faces.length; t > e; e++)
        (i = this.faces[e]),
          (i.vertexNormals[0] = r[i.a].clone()),
          (i.vertexNormals[1] = r[i.b].clone()),
          (i.vertexNormals[2] = r[i.c].clone());
    },
    computeMorphNormals: function () {
      var e, t, i, r, n;
      for (i = 0, r = this.faces.length; r > i; i++)
        for (
          n = this.faces[i],
            n.__originalFaceNormal
              ? n.__originalFaceNormal.copy(n.normal)
              : (n.__originalFaceNormal = n.normal.clone()),
            n.__originalVertexNormals || (n.__originalVertexNormals = []),
            e = 0,
            t = n.vertexNormals.length;
          t > e;
          e++
        )
          n.__originalVertexNormals[e]
            ? n.__originalVertexNormals[e].copy(n.vertexNormals[e])
            : (n.__originalVertexNormals[e] = n.vertexNormals[e].clone());
      var o = new THREE.Geometry();
      for (
        o.faces = this.faces, e = 0, t = this.morphTargets.length;
        t > e;
        e++
      ) {
        if (!this.morphNormals[e]) {
          (this.morphNormals[e] = {}),
            (this.morphNormals[e].faceNormals = []),
            (this.morphNormals[e].vertexNormals = []),
            (n = this.morphNormals[e].faceNormals);
          var a,
            s,
            l = this.morphNormals[e].vertexNormals;
          for (i = 0, r = this.faces.length; r > i; i++)
            (a = new THREE.Vector3()),
              (s = {
                a: new THREE.Vector3(),
                b: new THREE.Vector3(),
                c: new THREE.Vector3(),
              }),
              n.push(a),
              l.push(s);
        }
        for (
          l = this.morphNormals[e],
            o.vertices = this.morphTargets[e].vertices,
            o.computeFaceNormals(),
            o.computeVertexNormals(),
            i = 0,
            r = this.faces.length;
          r > i;
          i++
        )
          (n = this.faces[i]),
            (a = l.faceNormals[i]),
            (s = l.vertexNormals[i]),
            a.copy(n.normal),
            s.a.copy(n.vertexNormals[0]),
            s.b.copy(n.vertexNormals[1]),
            s.c.copy(n.vertexNormals[2]);
      }
      for (i = 0, r = this.faces.length; r > i; i++)
        (n = this.faces[i]),
          (n.normal = n.__originalFaceNormal),
          (n.vertexNormals = n.__originalVertexNormals);
    },
    computeTangents: function () {
      var e,
        t,
        i,
        r,
        n,
        o,
        a,
        s,
        l,
        h,
        c,
        u,
        d,
        f,
        p,
        m,
        g,
        E = [],
        v = [];
      i = new THREE.Vector3();
      var _ = new THREE.Vector3(),
        y = new THREE.Vector3(),
        T = new THREE.Vector3(),
        x = new THREE.Vector3();
      for (e = 0, t = this.vertices.length; t > e; e++)
        (E[e] = new THREE.Vector3()), (v[e] = new THREE.Vector3());
      for (e = 0, t = this.faces.length; t > e; e++)
        (n = this.faces[e]),
          (o = this.faceVertexUvs[0][e]),
          (r = n.a),
          (g = n.b),
          (n = n.c),
          (a = this.vertices[r]),
          (s = this.vertices[g]),
          (l = this.vertices[n]),
          (h = o[0]),
          (c = o[1]),
          (u = o[2]),
          (o = s.x - a.x),
          (d = l.x - a.x),
          (f = s.y - a.y),
          (p = l.y - a.y),
          (s = s.z - a.z),
          (a = l.z - a.z),
          (l = c.x - h.x),
          (m = u.x - h.x),
          (c = c.y - h.y),
          (h = u.y - h.y),
          (u = 1 / (l * h - m * c)),
          i.set((h * o - c * d) * u, (h * f - c * p) * u, (h * s - c * a) * u),
          _.set((l * d - m * o) * u, (l * p - m * f) * u, (l * a - m * s) * u),
          E[r].add(i),
          E[g].add(i),
          E[n].add(i),
          v[r].add(_),
          v[g].add(_),
          v[n].add(_);
      for (_ = ["a", "b", "c", "d"], e = 0, t = this.faces.length; t > e; e++)
        for (
          n = this.faces[e], i = 0;
          i < Math.min(n.vertexNormals.length, 3);
          i++
        )
          x.copy(n.vertexNormals[i]),
            (r = n[_[i]]),
            (g = E[r]),
            y.copy(g),
            y.sub(x.multiplyScalar(x.dot(g))).normalize(),
            T.crossVectors(n.vertexNormals[i], g),
            (r = T.dot(v[r])),
            (r = 0 > r ? -1 : 1),
            (n.vertexTangents[i] = new THREE.Vector4(y.x, y.y, y.z, r));
      this.hasTangents = !0;
    },
    computeLineDistances: function () {
      for (var e = 0, t = this.vertices, i = 0, r = t.length; r > i; i++)
        i > 0 && (e += t[i].distanceTo(t[i - 1])), (this.lineDistances[i] = e);
    },
    computeBoundingBox: function () {
      null === this.boundingBox && (this.boundingBox = new THREE.Box3()),
        this.boundingBox.setFromPoints(this.vertices);
    },
    computeBoundingSphere: function () {
      null === this.boundingSphere &&
        (this.boundingSphere = new THREE.Sphere()),
        this.boundingSphere.setFromPoints(this.vertices);
    },
    merge: function (e, t, i) {
      if (!1 == e instanceof THREE.Geometry)
        THREE.error(
          "THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",
          e
        );
      else {
        var r,
          n = this.vertices.length,
          o = this.vertices,
          a = e.vertices,
          s = this.faces,
          l = e.faces,
          h = this.faceVertexUvs[0];
        (e = e.faceVertexUvs[0]),
          void 0 === i && (i = 0),
          void 0 !== t && (r = new THREE.Matrix3().getNormalMatrix(t));
        for (var c = 0, u = a.length; u > c; c++) {
          var d = a[c].clone();
          void 0 !== t && d.applyMatrix4(t), o.push(d);
        }
        for (c = 0, u = l.length; u > c; c++) {
          var f,
            a = l[c],
            p = a.vertexNormals,
            m = a.vertexColors,
            d = new THREE.Face3(a.a + n, a.b + n, a.c + n);
          for (
            d.normal.copy(a.normal),
              void 0 !== r && d.normal.applyMatrix3(r).normalize(),
              t = 0,
              o = p.length;
            o > t;
            t++
          )
            (f = p[t].clone()),
              void 0 !== r && f.applyMatrix3(r).normalize(),
              d.vertexNormals.push(f);
          for (d.color.copy(a.color), t = 0, o = m.length; o > t; t++)
            (f = m[t]), d.vertexColors.push(f.clone());
          (d.materialIndex = a.materialIndex + i), s.push(d);
        }
        for (c = 0, u = e.length; u > c; c++)
          if (((i = e[c]), (r = []), void 0 !== i)) {
            for (t = 0, o = i.length; o > t; t++) r.push(i[t].clone());
            h.push(r);
          }
      }
    },
    mergeMesh: function (e) {
      !1 == e instanceof THREE.Mesh
        ? THREE.error(
            "THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",
            e
          )
        : (e.matrixAutoUpdate && e.updateMatrix(),
          this.merge(e.geometry, e.matrix));
    },
    mergeVertices: function () {
      var e,
        t,
        i,
        r = {},
        n = [],
        o = [],
        a = Math.pow(10, 4);
      for (t = 0, i = this.vertices.length; i > t; t++)
        (e = this.vertices[t]),
          (e =
            Math.round(e.x * a) +
            "_" +
            Math.round(e.y * a) +
            "_" +
            Math.round(e.z * a)),
          void 0 === r[e]
            ? ((r[e] = t), n.push(this.vertices[t]), (o[t] = n.length - 1))
            : (o[t] = o[r[e]]);
      for (r = [], t = 0, i = this.faces.length; i > t; t++)
        for (
          a = this.faces[t],
            a.a = o[a.a],
            a.b = o[a.b],
            a.c = o[a.c],
            a = [a.a, a.b, a.c],
            e = 0;
          3 > e;
          e++
        )
          if (a[e] == a[(e + 1) % 3]) {
            r.push(t);
            break;
          }
      for (t = r.length - 1; t >= 0; t--)
        for (
          a = r[t],
            this.faces.splice(a, 1),
            o = 0,
            i = this.faceVertexUvs.length;
          i > o;
          o++
        )
          this.faceVertexUvs[o].splice(a, 1);
      return (t = this.vertices.length - n.length), (this.vertices = n), t;
    },
    toJSON: function () {
      function e(e, t, i) {
        return i ? e | (1 << t) : e & ~(1 << t);
      }
      function t(e) {
        var t = e.x.toString() + e.y.toString() + e.z.toString();
        return void 0 !== h[t]
          ? h[t]
          : ((h[t] = l.length / 3), l.push(e.x, e.y, e.z), h[t]);
      }
      function i(e) {
        var t = e.r.toString() + e.g.toString() + e.b.toString();
        return void 0 !== u[t]
          ? u[t]
          : ((u[t] = c.length), c.push(e.getHex()), u[t]);
      }
      function r(e) {
        var t = e.x.toString() + e.y.toString();
        return void 0 !== f[t]
          ? f[t]
          : ((f[t] = d.length / 2), d.push(e.x, e.y), f[t]);
      }
      var n = {
        metadata: {
          version: 4,
          type: "BufferGeometry",
          generator: "BufferGeometryExporter",
        },
        uuid: this.uuid,
        type: this.type,
      };
      if (
        ("" !== this.name && (n.name = this.name), void 0 !== this.parameters)
      ) {
        var o,
          a = this.parameters;
        for (o in a) void 0 !== a[o] && (n[o] = a[o]);
        return n;
      }
      for (a = [], o = 0; o < this.vertices.length; o++) {
        var s = this.vertices[o];
        a.push(s.x, s.y, s.z);
      }
      var s = [],
        l = [],
        h = {},
        c = [],
        u = {},
        d = [],
        f = {};
      for (o = 0; o < this.faces.length; o++) {
        var p = this.faces[o],
          m = void 0 !== this.faceVertexUvs[0][o],
          g = 0 < p.normal.length(),
          E = 0 < p.vertexNormals.length,
          v = 1 !== p.color.r || 1 !== p.color.g || 1 !== p.color.b,
          _ = 0 < p.vertexColors.length,
          y = 0,
          y = e(y, 0, 0),
          y = e(y, 1, !1),
          y = e(y, 2, !1),
          y = e(y, 3, m),
          y = e(y, 4, g),
          y = e(y, 5, E),
          y = e(y, 6, v),
          y = e(y, 7, _);
        s.push(y),
          s.push(p.a, p.b, p.c),
          m &&
            ((m = this.faceVertexUvs[0][o]), s.push(r(m[0]), r(m[1]), r(m[2]))),
          g && s.push(t(p.normal)),
          E && ((g = p.vertexNormals), s.push(t(g[0]), t(g[1]), t(g[2]))),
          v && s.push(i(p.color)),
          _ && ((p = p.vertexColors), s.push(i(p[0]), i(p[1]), i(p[2])));
      }
      return (
        (n.data = {}),
        (n.data.vertices = a),
        (n.data.normals = l),
        0 < c.length && (n.data.colors = c),
        0 < d.length && (n.data.uvs = [d]),
        (n.data.faces = s),
        n
      );
    },
    clone: function () {
      for (
        var e = new THREE.Geometry(), t = this.vertices, i = 0, r = t.length;
        r > i;
        i++
      )
        e.vertices.push(t[i].clone());
      for (t = this.faces, i = 0, r = t.length; r > i; i++)
        e.faces.push(t[i].clone());
      for (i = 0, r = this.faceVertexUvs.length; r > i; i++) {
        (t = this.faceVertexUvs[i]),
          void 0 === e.faceVertexUvs[i] && (e.faceVertexUvs[i] = []);
        for (var n = 0, o = t.length; o > n; n++) {
          for (var a = t[n], s = [], l = 0, h = a.length; h > l; l++)
            s.push(a[l].clone());
          e.faceVertexUvs[i].push(s);
        }
      }
      return e;
    },
    dispose: function () {
      this.dispatchEvent({ type: "dispose" });
    },
  }),
  THREE.EventDispatcher.prototype.apply(THREE.Geometry.prototype),
  (THREE.GeometryIdCount = 0),
  (THREE.Camera = function () {
    THREE.Object3D.call(this),
      (this.type = "Camera"),
      (this.matrixWorldInverse = new THREE.Matrix4()),
      (this.projectionMatrix = new THREE.Matrix4());
  }),
  (THREE.Camera.prototype = Object.create(THREE.Object3D.prototype)),
  (THREE.Camera.prototype.constructor = THREE.Camera),
  (THREE.Camera.prototype.getWorldDirection = (function () {
    var e = new THREE.Quaternion();
    return function (t) {
      return (
        (t = t || new THREE.Vector3()),
        this.getWorldQuaternion(e),
        t.set(0, 0, -1).applyQuaternion(e)
      );
    };
  })()),
  (THREE.Camera.prototype.lookAt = (function () {
    var e = new THREE.Matrix4();
    return function (t) {
      e.lookAt(this.position, t, this.up),
        this.quaternion.setFromRotationMatrix(e);
    };
  })()),
  (THREE.Camera.prototype.clone = function (e) {
    return (
      void 0 === e && (e = new THREE.Camera()),
      THREE.Object3D.prototype.clone.call(this, e),
      e.matrixWorldInverse.copy(this.matrixWorldInverse),
      e.projectionMatrix.copy(this.projectionMatrix),
      e
    );
  }),
  (THREE.CubeCamera = function (e, t, i) {
    THREE.Object3D.call(this), (this.type = "CubeCamera");
    var r = new THREE.PerspectiveCamera(90, 1, e, t);
    r.up.set(0, -1, 0), r.lookAt(new THREE.Vector3(1, 0, 0)), this.add(r);
    var n = new THREE.PerspectiveCamera(90, 1, e, t);
    n.up.set(0, -1, 0), n.lookAt(new THREE.Vector3(-1, 0, 0)), this.add(n);
    var o = new THREE.PerspectiveCamera(90, 1, e, t);
    o.up.set(0, 0, 1), o.lookAt(new THREE.Vector3(0, 1, 0)), this.add(o);
    var a = new THREE.PerspectiveCamera(90, 1, e, t);
    a.up.set(0, 0, -1), a.lookAt(new THREE.Vector3(0, -1, 0)), this.add(a);
    var s = new THREE.PerspectiveCamera(90, 1, e, t);
    s.up.set(0, -1, 0), s.lookAt(new THREE.Vector3(0, 0, 1)), this.add(s);
    var l = new THREE.PerspectiveCamera(90, 1, e, t);
    l.up.set(0, -1, 0),
      l.lookAt(new THREE.Vector3(0, 0, -1)),
      this.add(l),
      (this.renderTarget = new THREE.WebGLRenderTargetCube(i, i, {
        format: THREE.RGBFormat,
        magFilter: THREE.LinearFilter,
        minFilter: THREE.LinearFilter,
      })),
      (this.updateCubeMap = function (e, t) {
        var i = this.renderTarget,
          h = i.generateMipmaps;
        (i.generateMipmaps = !1),
          (i.activeCubeFace = 0),
          e.render(t, r, i),
          (i.activeCubeFace = 1),
          e.render(t, n, i),
          (i.activeCubeFace = 2),
          e.render(t, o, i),
          (i.activeCubeFace = 3),
          e.render(t, a, i),
          (i.activeCubeFace = 4),
          e.render(t, s, i),
          (i.generateMipmaps = h),
          (i.activeCubeFace = 5),
          e.render(t, l, i);
      });
  }),
  (THREE.CubeCamera.prototype = Object.create(THREE.Object3D.prototype)),
  (THREE.CubeCamera.prototype.constructor = THREE.CubeCamera),
  (THREE.OrthographicCamera = function (e, t, i, r, n, o) {
    THREE.Camera.call(this),
      (this.type = "OrthographicCamera"),
      (this.zoom = 1),
      (this.left = e),
      (this.right = t),
      (this.top = i),
      (this.bottom = r),
      (this.near = void 0 !== n ? n : 0.1),
      (this.far = void 0 !== o ? o : 2e3),
      this.updateProjectionMatrix();
  }),
  (THREE.OrthographicCamera.prototype = Object.create(THREE.Camera.prototype)),
  (THREE.OrthographicCamera.prototype.constructor = THREE.OrthographicCamera),
  (THREE.OrthographicCamera.prototype.updateProjectionMatrix = function () {
    var e = (this.right - this.left) / (2 * this.zoom),
      t = (this.top - this.bottom) / (2 * this.zoom),
      i = (this.right + this.left) / 2,
      r = (this.top + this.bottom) / 2;
    this.projectionMatrix.makeOrthographic(
      i - e,
      i + e,
      r + t,
      r - t,
      this.near,
      this.far
    );
  }),
  (THREE.OrthographicCamera.prototype.clone = function () {
    var e = new THREE.OrthographicCamera();
    return (
      THREE.Camera.prototype.clone.call(this, e),
      (e.zoom = this.zoom),
      (e.left = this.left),
      (e.right = this.right),
      (e.top = this.top),
      (e.bottom = this.bottom),
      (e.near = this.near),
      (e.far = this.far),
      e.projectionMatrix.copy(this.projectionMatrix),
      e
    );
  }),
  (THREE.PerspectiveCamera = function (e, t, i, r) {
    THREE.Camera.call(this),
      (this.type = "PerspectiveCamera"),
      (this.zoom = 1),
      (this.fov = void 0 !== e ? e : 50),
      (this.aspect = void 0 !== t ? t : 1),
      (this.near = void 0 !== i ? i : 0.1),
      (this.far = void 0 !== r ? r : 2e3),
      this.updateProjectionMatrix();
  }),
  (THREE.PerspectiveCamera.prototype = Object.create(THREE.Camera.prototype)),
  (THREE.PerspectiveCamera.prototype.constructor = THREE.PerspectiveCamera),
  (THREE.PerspectiveCamera.prototype.setLens = function (e, t) {
    void 0 === t && (t = 24),
      (this.fov = 2 * THREE.Math.radToDeg(Math.atan(t / (2 * e)))),
      this.updateProjectionMatrix();
  }),
  (THREE.PerspectiveCamera.prototype.setViewOffset = function (
    e,
    t,
    i,
    r,
    n,
    o
  ) {
    (this.fullWidth = e),
      (this.fullHeight = t),
      (this.x = i),
      (this.y = r),
      (this.width = n),
      (this.height = o),
      this.updateProjectionMatrix();
  }),
  (THREE.PerspectiveCamera.prototype.updateProjectionMatrix = function () {
    var e = THREE.Math.radToDeg(
      2 * Math.atan(Math.tan(0.5 * THREE.Math.degToRad(this.fov)) / this.zoom)
    );
    if (this.fullWidth) {
      var t = this.fullWidth / this.fullHeight,
        e = Math.tan(THREE.Math.degToRad(0.5 * e)) * this.near,
        i = -e,
        r = t * i,
        t = Math.abs(t * e - r),
        i = Math.abs(e - i);
      this.projectionMatrix.makeFrustum(
        r + (this.x * t) / this.fullWidth,
        r + ((this.x + this.width) * t) / this.fullWidth,
        e - ((this.y + this.height) * i) / this.fullHeight,
        e - (this.y * i) / this.fullHeight,
        this.near,
        this.far
      );
    } else
      this.projectionMatrix.makePerspective(
        e,
        this.aspect,
        this.near,
        this.far
      );
  }),
  (THREE.PerspectiveCamera.prototype.clone = function () {
    var e = new THREE.PerspectiveCamera();
    return (
      THREE.Camera.prototype.clone.call(this, e),
      (e.zoom = this.zoom),
      (e.fov = this.fov),
      (e.aspect = this.aspect),
      (e.near = this.near),
      (e.far = this.far),
      e.projectionMatrix.copy(this.projectionMatrix),
      e
    );
  }),
  (THREE.Light = function (e) {
    THREE.Object3D.call(this),
      (this.type = "Light"),
      (this.color = new THREE.Color(e));
  }),
  (THREE.Light.prototype = Object.create(THREE.Object3D.prototype)),
  (THREE.Light.prototype.constructor = THREE.Light),
  (THREE.Light.prototype.clone = function (e) {
    return (
      void 0 === e && (e = new THREE.Light()),
      THREE.Object3D.prototype.clone.call(this, e),
      e.color.copy(this.color),
      e
    );
  }),
  (THREE.AmbientLight = function (e) {
    THREE.Light.call(this, e), (this.type = "AmbientLight");
  }),
  (THREE.AmbientLight.prototype = Object.create(THREE.Light.prototype)),
  (THREE.AmbientLight.prototype.constructor = THREE.AmbientLight),
  (THREE.AmbientLight.prototype.clone = function () {
    var e = new THREE.AmbientLight();
    return THREE.Light.prototype.clone.call(this, e), e;
  }),
  (THREE.AreaLight = function (e, t) {
    THREE.Light.call(this, e),
      (this.type = "AreaLight"),
      (this.normal = new THREE.Vector3(0, -1, 0)),
      (this.right = new THREE.Vector3(1, 0, 0)),
      (this.intensity = void 0 !== t ? t : 1),
      (this.height = this.width = 1),
      (this.constantAttenuation = 1.5),
      (this.linearAttenuation = 0.5),
      (this.quadraticAttenuation = 0.1);
  }),
  (THREE.AreaLight.prototype = Object.create(THREE.Light.prototype)),
  (THREE.AreaLight.prototype.constructor = THREE.AreaLight),
  (THREE.DirectionalLight = function (e, t) {
    THREE.Light.call(this, e),
      (this.type = "DirectionalLight"),
      this.position.set(0, 1, 0),
      (this.target = new THREE.Object3D()),
      (this.intensity = void 0 !== t ? t : 1),
      (this.onlyShadow = this.castShadow = !1),
      (this.shadowCameraNear = 50),
      (this.shadowCameraFar = 5e3),
      (this.shadowCameraLeft = -500),
      (this.shadowCameraTop = this.shadowCameraRight = 500),
      (this.shadowCameraBottom = -500),
      (this.shadowCameraVisible = !1),
      (this.shadowBias = 0),
      (this.shadowDarkness = 0.5),
      (this.shadowMapHeight = this.shadowMapWidth = 512),
      (this.shadowCascade = !1),
      (this.shadowCascadeOffset = new THREE.Vector3(0, 0, -1e3)),
      (this.shadowCascadeCount = 2),
      (this.shadowCascadeBias = [0, 0, 0]),
      (this.shadowCascadeWidth = [512, 512, 512]),
      (this.shadowCascadeHeight = [512, 512, 512]),
      (this.shadowCascadeNearZ = [-1, 0.99, 0.998]),
      (this.shadowCascadeFarZ = [0.99, 0.998, 1]),
      (this.shadowCascadeArray = []),
      (this.shadowMatrix =
        this.shadowCamera =
        this.shadowMapSize =
        this.shadowMap =
          null);
  }),
  (THREE.DirectionalLight.prototype = Object.create(THREE.Light.prototype)),
  (THREE.DirectionalLight.prototype.constructor = THREE.DirectionalLight),
  (THREE.DirectionalLight.prototype.clone = function () {
    var e = new THREE.DirectionalLight();
    return (
      THREE.Light.prototype.clone.call(this, e),
      (e.target = this.target.clone()),
      (e.intensity = this.intensity),
      (e.castShadow = this.castShadow),
      (e.onlyShadow = this.onlyShadow),
      (e.shadowCameraNear = this.shadowCameraNear),
      (e.shadowCameraFar = this.shadowCameraFar),
      (e.shadowCameraLeft = this.shadowCameraLeft),
      (e.shadowCameraRight = this.shadowCameraRight),
      (e.shadowCameraTop = this.shadowCameraTop),
      (e.shadowCameraBottom = this.shadowCameraBottom),
      (e.shadowCameraVisible = this.shadowCameraVisible),
      (e.shadowBias = this.shadowBias),
      (e.shadowDarkness = this.shadowDarkness),
      (e.shadowMapWidth = this.shadowMapWidth),
      (e.shadowMapHeight = this.shadowMapHeight),
      (e.shadowCascade = this.shadowCascade),
      e.shadowCascadeOffset.copy(this.shadowCascadeOffset),
      (e.shadowCascadeCount = this.shadowCascadeCount),
      (e.shadowCascadeBias = this.shadowCascadeBias.slice(0)),
      (e.shadowCascadeWidth = this.shadowCascadeWidth.slice(0)),
      (e.shadowCascadeHeight = this.shadowCascadeHeight.slice(0)),
      (e.shadowCascadeNearZ = this.shadowCascadeNearZ.slice(0)),
      (e.shadowCascadeFarZ = this.shadowCascadeFarZ.slice(0)),
      e
    );
  }),
  (THREE.HemisphereLight = function (e, t, i) {
    THREE.Light.call(this, e),
      (this.type = "HemisphereLight"),
      this.position.set(0, 100, 0),
      (this.groundColor = new THREE.Color(t)),
      (this.intensity = void 0 !== i ? i : 1);
  }),
  (THREE.HemisphereLight.prototype = Object.create(THREE.Light.prototype)),
  (THREE.HemisphereLight.prototype.constructor = THREE.HemisphereLight),
  (THREE.HemisphereLight.prototype.clone = function () {
    var e = new THREE.HemisphereLight();
    return (
      THREE.Light.prototype.clone.call(this, e),
      e.groundColor.copy(this.groundColor),
      (e.intensity = this.intensity),
      e
    );
  }),
  (THREE.PointLight = function (e, t, i, r) {
    THREE.Light.call(this, e),
      (this.type = "PointLight"),
      (this.intensity = void 0 !== t ? t : 1),
      (this.distance = void 0 !== i ? i : 0),
      (this.decay = void 0 !== r ? r : 1);
  }),
  (THREE.PointLight.prototype = Object.create(THREE.Light.prototype)),
  (THREE.PointLight.prototype.constructor = THREE.PointLight),
  (THREE.PointLight.prototype.clone = function () {
    var e = new THREE.PointLight();
    return (
      THREE.Light.prototype.clone.call(this, e),
      (e.intensity = this.intensity),
      (e.distance = this.distance),
      (e.decay = this.decay),
      e
    );
  }),
  (THREE.SpotLight = function (e, t, i, r, n, o) {
    THREE.Light.call(this, e),
      (this.type = "SpotLight"),
      this.position.set(0, 1, 0),
      (this.target = new THREE.Object3D()),
      (this.intensity = void 0 !== t ? t : 1),
      (this.distance = void 0 !== i ? i : 0),
      (this.angle = void 0 !== r ? r : Math.PI / 3),
      (this.exponent = void 0 !== n ? n : 10),
      (this.decay = void 0 !== o ? o : 1),
      (this.onlyShadow = this.castShadow = !1),
      (this.shadowCameraNear = 50),
      (this.shadowCameraFar = 5e3),
      (this.shadowCameraFov = 50),
      (this.shadowCameraVisible = !1),
      (this.shadowBias = 0),
      (this.shadowDarkness = 0.5),
      (this.shadowMapHeight = this.shadowMapWidth = 512),
      (this.shadowMatrix =
        this.shadowCamera =
        this.shadowMapSize =
        this.shadowMap =
          null);
  }),
  (THREE.SpotLight.prototype = Object.create(THREE.Light.prototype)),
  (THREE.SpotLight.prototype.constructor = THREE.SpotLight),
  (THREE.SpotLight.prototype.clone = function () {
    var e = new THREE.SpotLight();
    return (
      THREE.Light.prototype.clone.call(this, e),
      (e.target = this.target.clone()),
      (e.intensity = this.intensity),
      (e.distance = this.distance),
      (e.angle = this.angle),
      (e.exponent = this.exponent),
      (e.decay = this.decay),
      (e.castShadow = this.castShadow),
      (e.onlyShadow = this.onlyShadow),
      (e.shadowCameraNear = this.shadowCameraNear),
      (e.shadowCameraFar = this.shadowCameraFar),
      (e.shadowCameraFov = this.shadowCameraFov),
      (e.shadowCameraVisible = this.shadowCameraVisible),
      (e.shadowBias = this.shadowBias),
      (e.shadowDarkness = this.shadowDarkness),
      (e.shadowMapWidth = this.shadowMapWidth),
      (e.shadowMapHeight = this.shadowMapHeight),
      e
    );
  }),
  (THREE.Cache = {
    files: {},
    add: function (e, t) {
      this.files[e] = t;
    },
    get: function (e) {
      return this.files[e];
    },
    remove: function (e) {
      delete this.files[e];
    },
    clear: function () {
      this.files = {};
    },
  }),
  (THREE.Loader = function (e) {
    (this.statusDomElement = (this.showStatus = e)
      ? THREE.Loader.prototype.addStatusElement()
      : null),
      (this.imageLoader = new THREE.ImageLoader()),
      (this.onLoadStart = function () {}),
      (this.onLoadProgress = function () {}),
      (this.onLoadComplete = function () {});
  }),
  (THREE.Loader.prototype = {
    constructor: THREE.Loader,
    crossOrigin: void 0,
    addStatusElement: function () {
      var e = document.createElement("div");
      return (
        (e.style.position = "absolute"),
        (e.style.right = "0px"),
        (e.style.top = "0px"),
        (e.style.fontSize = "0.8em"),
        (e.style.textAlign = "left"),
        (e.style.background = "rgba(0,0,0,0.25)"),
        (e.style.color = "#fff"),
        (e.style.width = "120px"),
        (e.style.padding = "0.5em 0.5em 0.5em 0.5em"),
        (e.style.zIndex = 1e3),
        (e.innerHTML = "Loading ..."),
        e
      );
    },
    updateProgress: function (e) {
      var t = "Loaded ",
        t = e.total
          ? t + (((100 * e.loaded) / e.total).toFixed(0) + "%")
          : t + ((e.loaded / 1024).toFixed(2) + " KB");
      this.statusDomElement.innerHTML = t;
    },
    extractUrlBase: function (e) {
      return (
        (e = e.split("/")), 1 === e.length ? "./" : (e.pop(), e.join("/") + "/")
      );
    },
    initMaterials: function (e, t) {
      for (var i = [], r = 0; r < e.length; ++r)
        i[r] = this.createMaterial(e[r], t);
      return i;
    },
    needsTangents: function (e) {
      for (var t = 0, i = e.length; i > t; t++)
        if (e[t] instanceof THREE.ShaderMaterial) return !0;
      return !1;
    },
    createMaterial: function (e, t) {
      function i(e) {
        return (e = Math.log(e) / Math.LN2), Math.pow(2, Math.round(e));
      }
      function r(e, r, n, a, s, l, h) {
        var c,
          u = t + n,
          d = THREE.Loader.Handlers.get(u);
        null !== d
          ? (c = d.load(u))
          : ((c = new THREE.Texture()),
            (d = o.imageLoader),
            (d.crossOrigin = o.crossOrigin),
            d.load(u, function (e) {
              if (
                !1 === THREE.Math.isPowerOfTwo(e.width) ||
                !1 === THREE.Math.isPowerOfTwo(e.height)
              ) {
                var t = i(e.width),
                  r = i(e.height),
                  n = document.createElement("canvas");
                (n.width = t),
                  (n.height = r),
                  n.getContext("2d").drawImage(e, 0, 0, t, r),
                  (c.image = n);
              } else c.image = e;
              c.needsUpdate = !0;
            })),
          (c.sourceFile = n),
          a &&
            (c.repeat.set(a[0], a[1]),
            1 !== a[0] && (c.wrapS = THREE.RepeatWrapping),
            1 !== a[1] && (c.wrapT = THREE.RepeatWrapping)),
          s && c.offset.set(s[0], s[1]),
          l &&
            ((n = {
              repeat: THREE.RepeatWrapping,
              mirror: THREE.MirroredRepeatWrapping,
            }),
            void 0 !== n[l[0]] && (c.wrapS = n[l[0]]),
            void 0 !== n[l[1]] && (c.wrapT = n[l[1]])),
          h && (c.anisotropy = h),
          (e[r] = c);
      }
      function n(e) {
        return ((255 * e[0]) << 16) + ((255 * e[1]) << 8) + 255 * e[2];
      }
      var o = this,
        a = "MeshLambertMaterial",
        s = {
          color: 15658734,
          opacity: 1,
          map: null,
          lightMap: null,
          normalMap: null,
          bumpMap: null,
          wireframe: !1,
        };
      if (e.shading) {
        var l = e.shading.toLowerCase();
        "phong" === l
          ? (a = "MeshPhongMaterial")
          : "basic" === l && (a = "MeshBasicMaterial");
      }
      return (
        void 0 !== e.blending &&
          void 0 !== THREE[e.blending] &&
          (s.blending = THREE[e.blending]),
        void 0 !== e.transparent && (s.transparent = e.transparent),
        void 0 !== e.opacity && 1 > e.opacity && (s.transparent = !0),
        void 0 !== e.depthTest && (s.depthTest = e.depthTest),
        void 0 !== e.depthWrite && (s.depthWrite = e.depthWrite),
        void 0 !== e.visible && (s.visible = e.visible),
        void 0 !== e.flipSided && (s.side = THREE.BackSide),
        void 0 !== e.doubleSided && (s.side = THREE.DoubleSide),
        void 0 !== e.wireframe && (s.wireframe = e.wireframe),
        void 0 !== e.vertexColors &&
          ("face" === e.vertexColors
            ? (s.vertexColors = THREE.FaceColors)
            : e.vertexColors && (s.vertexColors = THREE.VertexColors)),
        e.colorDiffuse
          ? (s.color = n(e.colorDiffuse))
          : e.DbgColor && (s.color = e.DbgColor),
        e.colorSpecular && (s.specular = n(e.colorSpecular)),
        e.colorEmissive && (s.emissive = n(e.colorEmissive)),
        void 0 !== e.transparency &&
          (console.warn(
            "THREE.Loader: transparency has been renamed to opacity"
          ),
          (e.opacity = e.transparency)),
        void 0 !== e.opacity && (s.opacity = e.opacity),
        e.specularCoef && (s.shininess = e.specularCoef),
        e.mapDiffuse &&
          t &&
          r(
            s,
            "map",
            e.mapDiffuse,
            e.mapDiffuseRepeat,
            e.mapDiffuseOffset,
            e.mapDiffuseWrap,
            e.mapDiffuseAnisotropy
          ),
        e.mapLight &&
          t &&
          r(
            s,
            "lightMap",
            e.mapLight,
            e.mapLightRepeat,
            e.mapLightOffset,
            e.mapLightWrap,
            e.mapLightAnisotropy
          ),
        e.mapBump &&
          t &&
          r(
            s,
            "bumpMap",
            e.mapBump,
            e.mapBumpRepeat,
            e.mapBumpOffset,
            e.mapBumpWrap,
            e.mapBumpAnisotropy
          ),
        e.mapNormal &&
          t &&
          r(
            s,
            "normalMap",
            e.mapNormal,
            e.mapNormalRepeat,
            e.mapNormalOffset,
            e.mapNormalWrap,
            e.mapNormalAnisotropy
          ),
        e.mapSpecular &&
          t &&
          r(
            s,
            "specularMap",
            e.mapSpecular,
            e.mapSpecularRepeat,
            e.mapSpecularOffset,
            e.mapSpecularWrap,
            e.mapSpecularAnisotropy
          ),
        e.mapAlpha &&
          t &&
          r(
            s,
            "alphaMap",
            e.mapAlpha,
            e.mapAlphaRepeat,
            e.mapAlphaOffset,
            e.mapAlphaWrap,
            e.mapAlphaAnisotropy
          ),
        e.mapBumpScale && (s.bumpScale = e.mapBumpScale),
        e.mapNormalFactor &&
          (s.normalScale = new THREE.Vector2(
            e.mapNormalFactor,
            e.mapNormalFactor
          )),
        (a = new THREE[a](s)),
        void 0 !== e.DbgName && (a.name = e.DbgName),
        a
      );
    },
  }),
  (THREE.Loader.Handlers = {
    handlers: [],
    add: function (e, t) {
      this.handlers.push(e, t);
    },
    get: function (e) {
      for (var t = 0, i = this.handlers.length; i > t; t += 2) {
        var r = this.handlers[t + 1];
        if (this.handlers[t].test(e)) return r;
      }
      return null;
    },
  }),
  (THREE.XHRLoader = function (e) {
    this.manager = void 0 !== e ? e : THREE.DefaultLoadingManager;
  }),
  (THREE.XHRLoader.prototype = {
    constructor: THREE.XHRLoader,
    load: function (e, t, i, r) {
      var n = this,
        o = THREE.Cache.get(e);
      void 0 !== o
        ? t && t(o)
        : ((o = new XMLHttpRequest()),
          o.open("GET", e, !0),
          o.addEventListener(
            "load",
            function (i) {
              THREE.Cache.add(e, this.response),
                t && t(this.response),
                n.manager.itemEnd(e);
            },
            !1
          ),
          void 0 !== i &&
            o.addEventListener(
              "progress",
              function (e) {
                i(e);
              },
              !1
            ),
          void 0 !== r &&
            o.addEventListener(
              "error",
              function (e) {
                r(e);
              },
              !1
            ),
          void 0 !== this.crossOrigin && (o.crossOrigin = this.crossOrigin),
          void 0 !== this.responseType && (o.responseType = this.responseType),
          o.send(null),
          n.manager.itemStart(e));
    },
    setResponseType: function (e) {
      this.responseType = e;
    },
    setCrossOrigin: function (e) {
      this.crossOrigin = e;
    },
  }),
  (THREE.ImageLoader = function (e) {
    this.manager = void 0 !== e ? e : THREE.DefaultLoadingManager;
  }),
  (THREE.ImageLoader.prototype = {
    constructor: THREE.ImageLoader,
    load: function (e, t, i, r) {
      var n = this,
        o = THREE.Cache.get(e);
      return void 0 === o
        ? ((o = document.createElement("img")),
          o.addEventListener(
            "load",
            function (i) {
              THREE.Cache.add(e, this), t && t(this), n.manager.itemEnd(e);
            },
            !1
          ),
          void 0 !== i &&
            o.addEventListener(
              "progress",
              function (e) {
                i(e);
              },
              !1
            ),
          void 0 !== r &&
            o.addEventListener(
              "error",
              function (e) {
                r(e);
              },
              !1
            ),
          void 0 !== this.crossOrigin && (o.crossOrigin = this.crossOrigin),
          (o.src = e),
          n.manager.itemStart(e),
          o)
        : void t(o);
    },
    setCrossOrigin: function (e) {
      this.crossOrigin = e;
    },
  }),
  (THREE.JSONLoader = function (e) {
    THREE.Loader.call(this, e), (this.withCredentials = !1);
  }),
  (THREE.JSONLoader.prototype = Object.create(THREE.Loader.prototype)),
  (THREE.JSONLoader.prototype.constructor = THREE.JSONLoader),
  (THREE.JSONLoader.prototype.load = function (e, t, i) {
    (i = i && "string" == typeof i ? i : this.extractUrlBase(e)),
      this.onLoadStart(),
      this.loadAjaxJSON(this, e, t, i);
  }),
  (THREE.JSONLoader.prototype.loadAjaxJSON = function (e, t, i, r, n) {
    var o = new XMLHttpRequest(),
      a = 0;
    (o.onreadystatechange = function () {
      if (o.readyState === o.DONE)
        if (200 === o.status || 0 === o.status) {
          if (o.responseText) {
            var s = JSON.parse(o.responseText),
              l = s.metadata;
            if (void 0 !== l) {
              if ("object" === l.type)
                return void THREE.error(
                  "THREE.JSONLoader: " +
                    t +
                    " should be loaded with THREE.ObjectLoader instead."
                );
              if ("scene" === l.type)
                return void THREE.error(
                  "THREE.JSONLoader: " +
                    t +
                    " seems to be a Scene. Use THREE.SceneLoader instead."
                );
            }
            (s = e.parse(s, r)), i(s.geometry, s.materials);
          } else
            THREE.error(
              "THREE.JSONLoader: " +
                t +
                " seems to be unreachable or the file is empty."
            );
          e.onLoadComplete();
        } else
          THREE.error(
            "THREE.JSONLoader: Couldn't load " + t + " (" + o.status + ")"
          );
      else
        o.readyState === o.LOADING
          ? n &&
            (0 === a && (a = o.getResponseHeader("Content-Length")),
            n({ total: a, loaded: o.responseText.length }))
          : o.readyState === o.HEADERS_RECEIVED &&
            void 0 !== n &&
            (a = o.getResponseHeader("Content-Length"));
    }),
      o.open("GET", t, !0),
      (o.withCredentials = this.withCredentials),
      o.send(null);
  }),
  (THREE.JSONLoader.prototype.parse = function (e, t) {
    var i = new THREE.Geometry(),
      r = void 0 !== e.scale ? 1 / e.scale : 1;
    return (
      (function (t) {
        var r,
          n,
          o,
          a,
          s,
          l,
          h,
          c,
          u,
          d,
          f,
          p,
          m,
          g = e.faces;
        l = e.vertices;
        var E = e.normals,
          v = e.colors,
          _ = 0;
        if (void 0 !== e.uvs) {
          for (r = 0; r < e.uvs.length; r++) e.uvs[r].length && _++;
          for (r = 0; _ > r; r++) i.faceVertexUvs[r] = [];
        }
        for (a = 0, s = l.length; s > a; )
          (r = new THREE.Vector3()),
            (r.x = l[a++] * t),
            (r.y = l[a++] * t),
            (r.z = l[a++] * t),
            i.vertices.push(r);
        for (a = 0, s = g.length; s > a; )
          if (
            ((t = g[a++]),
            (u = 1 & t),
            (o = 2 & t),
            (r = 8 & t),
            (h = 16 & t),
            (d = 32 & t),
            (l = 64 & t),
            (t &= 128),
            u)
          ) {
            if (
              ((u = new THREE.Face3()),
              (u.a = g[a]),
              (u.b = g[a + 1]),
              (u.c = g[a + 3]),
              (f = new THREE.Face3()),
              (f.a = g[a + 1]),
              (f.b = g[a + 2]),
              (f.c = g[a + 3]),
              (a += 4),
              o && ((o = g[a++]), (u.materialIndex = o), (f.materialIndex = o)),
              (o = i.faces.length),
              r)
            )
              for (r = 0; _ > r; r++)
                for (
                  p = e.uvs[r],
                    i.faceVertexUvs[r][o] = [],
                    i.faceVertexUvs[r][o + 1] = [],
                    n = 0;
                  4 > n;
                  n++
                )
                  (c = g[a++]),
                    (m = p[2 * c]),
                    (c = p[2 * c + 1]),
                    (m = new THREE.Vector2(m, c)),
                    2 !== n && i.faceVertexUvs[r][o].push(m),
                    0 !== n && i.faceVertexUvs[r][o + 1].push(m);
            if (
              (h &&
                ((h = 3 * g[a++]),
                u.normal.set(E[h++], E[h++], E[h]),
                f.normal.copy(u.normal)),
              d)
            )
              for (r = 0; 4 > r; r++)
                (h = 3 * g[a++]),
                  (d = new THREE.Vector3(E[h++], E[h++], E[h])),
                  2 !== r && u.vertexNormals.push(d),
                  0 !== r && f.vertexNormals.push(d);
            if (
              (l &&
                ((l = g[a++]),
                (l = v[l]),
                u.color.setHex(l),
                f.color.setHex(l)),
              t)
            )
              for (r = 0; 4 > r; r++)
                (l = g[a++]),
                  (l = v[l]),
                  2 !== r && u.vertexColors.push(new THREE.Color(l)),
                  0 !== r && f.vertexColors.push(new THREE.Color(l));
            i.faces.push(u), i.faces.push(f);
          } else {
            if (
              ((u = new THREE.Face3()),
              (u.a = g[a++]),
              (u.b = g[a++]),
              (u.c = g[a++]),
              o && ((o = g[a++]), (u.materialIndex = o)),
              (o = i.faces.length),
              r)
            )
              for (r = 0; _ > r; r++)
                for (
                  p = e.uvs[r], i.faceVertexUvs[r][o] = [], n = 0;
                  3 > n;
                  n++
                )
                  (c = g[a++]),
                    (m = p[2 * c]),
                    (c = p[2 * c + 1]),
                    (m = new THREE.Vector2(m, c)),
                    i.faceVertexUvs[r][o].push(m);
            if (
              (h && ((h = 3 * g[a++]), u.normal.set(E[h++], E[h++], E[h])), d)
            )
              for (r = 0; 3 > r; r++)
                (h = 3 * g[a++]),
                  (d = new THREE.Vector3(E[h++], E[h++], E[h])),
                  u.vertexNormals.push(d);
            if ((l && ((l = g[a++]), u.color.setHex(v[l])), t))
              for (r = 0; 3 > r; r++)
                (l = g[a++]), u.vertexColors.push(new THREE.Color(v[l]));
            i.faces.push(u);
          }
      })(r),
      (function () {
        var t = void 0 !== e.influencesPerVertex ? e.influencesPerVertex : 2;
        if (e.skinWeights)
          for (var r = 0, n = e.skinWeights.length; n > r; r += t)
            i.skinWeights.push(
              new THREE.Vector4(
                e.skinWeights[r],
                t > 1 ? e.skinWeights[r + 1] : 0,
                t > 2 ? e.skinWeights[r + 2] : 0,
                t > 3 ? e.skinWeights[r + 3] : 0
              )
            );
        if (e.skinIndices)
          for (r = 0, n = e.skinIndices.length; n > r; r += t)
            i.skinIndices.push(
              new THREE.Vector4(
                e.skinIndices[r],
                t > 1 ? e.skinIndices[r + 1] : 0,
                t > 2 ? e.skinIndices[r + 2] : 0,
                t > 3 ? e.skinIndices[r + 3] : 0
              )
            );
        (i.bones = e.bones),
          i.bones &&
            0 < i.bones.length &&
            (i.skinWeights.length !== i.skinIndices.length ||
              i.skinIndices.length !== i.vertices.length) &&
            THREE.warn(
              "THREE.JSONLoader: When skinning, number of vertices (" +
                i.vertices.length +
                "), skinIndices (" +
                i.skinIndices.length +
                "), and skinWeights (" +
                i.skinWeights.length +
                ") should match."
            ),
          (i.animation = e.animation),
          (i.animations = e.animations);
      })(),
      (function (t) {
        if (void 0 !== e.morphTargets) {
          var r, n, o, a, s, l;
          for (r = 0, n = e.morphTargets.length; n > r; r++)
            for (
              i.morphTargets[r] = {},
                i.morphTargets[r].name = e.morphTargets[r].name,
                i.morphTargets[r].vertices = [],
                s = i.morphTargets[r].vertices,
                l = e.morphTargets[r].vertices,
                o = 0,
                a = l.length;
              a > o;
              o += 3
            ) {
              var h = new THREE.Vector3();
              (h.x = l[o] * t),
                (h.y = l[o + 1] * t),
                (h.z = l[o + 2] * t),
                s.push(h);
            }
        }
        if (void 0 !== e.morphColors)
          for (r = 0, n = e.morphColors.length; n > r; r++)
            for (
              i.morphColors[r] = {},
                i.morphColors[r].name = e.morphColors[r].name,
                i.morphColors[r].colors = [],
                a = i.morphColors[r].colors,
                s = e.morphColors[r].colors,
                t = 0,
                o = s.length;
              o > t;
              t += 3
            )
              (l = new THREE.Color(16755200)),
                l.setRGB(s[t], s[t + 1], s[t + 2]),
                a.push(l);
      })(r),
      i.computeFaceNormals(),
      i.computeBoundingSphere(),
      void 0 === e.materials || 0 === e.materials.length
        ? { geometry: i }
        : ((r = this.initMaterials(e.materials, t)),
          this.needsTangents(r) && i.computeTangents(),
          { geometry: i, materials: r })
    );
  }),
  (THREE.LoadingManager = function (e, t, i) {
    var r = this,
      n = 0,
      o = 0;
    (this.onLoad = e),
      (this.onProgress = t),
      (this.onError = i),
      (this.itemStart = function (e) {
        o++;
      }),
      (this.itemEnd = function (e) {
        n++,
          void 0 !== r.onProgress && r.onProgress(e, n, o),
          n === o && void 0 !== r.onLoad && r.onLoad();
      });
  }),
  (THREE.DefaultLoadingManager = new THREE.LoadingManager()),
  (THREE.BufferGeometryLoader = function (e) {
    this.manager = void 0 !== e ? e : THREE.DefaultLoadingManager;
  }),
  (THREE.BufferGeometryLoader.prototype = {
    constructor: THREE.BufferGeometryLoader,
    load: function (e, t, i, r) {
      var n = this,
        o = new THREE.XHRLoader(n.manager);
      o.setCrossOrigin(this.crossOrigin),
        o.load(
          e,
          function (e) {
            t(n.parse(JSON.parse(e)));
          },
          i,
          r
        );
    },
    setCrossOrigin: function (e) {
      this.crossOrigin = e;
    },
    parse: function (e) {
      var t,
        i = new THREE.BufferGeometry(),
        r = e.data.attributes;
      for (t in r) {
        var n = r[t],
          o = new self[n.type](n.array);
        i.addAttribute(t, new THREE.BufferAttribute(o, n.itemSize));
      }
      return (
        (r = e.data.offsets),
        void 0 !== r && (i.offsets = JSON.parse(JSON.stringify(r))),
        (e = e.data.boundingSphere),
        void 0 !== e &&
          ((r = new THREE.Vector3()),
          void 0 !== e.center && r.fromArray(e.center),
          (i.boundingSphere = new THREE.Sphere(r, e.radius))),
        i
      );
    },
  }),
  (THREE.MaterialLoader = function (e) {
    this.manager = void 0 !== e ? e : THREE.DefaultLoadingManager;
  }),
  (THREE.MaterialLoader.prototype = {
    constructor: THREE.MaterialLoader,
    load: function (e, t, i, r) {
      var n = this,
        o = new THREE.XHRLoader(n.manager);
      o.setCrossOrigin(this.crossOrigin),
        o.load(
          e,
          function (e) {
            t(n.parse(JSON.parse(e)));
          },
          i,
          r
        );
    },
    setCrossOrigin: function (e) {
      this.crossOrigin = e;
    },
    parse: function (e) {
      var t = new THREE[e.type]();
      if (
        (void 0 !== e.color && t.color.setHex(e.color),
        void 0 !== e.emissive && t.emissive.setHex(e.emissive),
        void 0 !== e.specular && t.specular.setHex(e.specular),
        void 0 !== e.shininess && (t.shininess = e.shininess),
        void 0 !== e.uniforms && (t.uniforms = e.uniforms),
        void 0 !== e.vertexShader && (t.vertexShader = e.vertexShader),
        void 0 !== e.fragmentShader && (t.fragmentShader = e.fragmentShader),
        void 0 !== e.vertexColors && (t.vertexColors = e.vertexColors),
        void 0 !== e.shading && (t.shading = e.shading),
        void 0 !== e.blending && (t.blending = e.blending),
        void 0 !== e.side && (t.side = e.side),
        void 0 !== e.opacity && (t.opacity = e.opacity),
        void 0 !== e.transparent && (t.transparent = e.transparent),
        void 0 !== e.wireframe && (t.wireframe = e.wireframe),
        void 0 !== e.size && (t.size = e.size),
        void 0 !== e.sizeAttenuation && (t.sizeAttenuation = e.sizeAttenuation),
        void 0 !== e.materials)
      )
        for (var i = 0, r = e.materials.length; r > i; i++)
          t.materials.push(this.parse(e.materials[i]));
      return t;
    },
  }),
  (THREE.ObjectLoader = function (e) {
    (this.manager = void 0 !== e ? e : THREE.DefaultLoadingManager),
      (this.texturePath = "");
  }),
  (THREE.ObjectLoader.prototype = {
    constructor: THREE.ObjectLoader,
    load: function (e, t, i, r) {
      "" === this.texturePath &&
        (this.texturePath = e.substring(0, e.lastIndexOf("/") + 1));
      var n = this,
        o = new THREE.XHRLoader(n.manager);
      o.setCrossOrigin(this.crossOrigin),
        o.load(
          e,
          function (e) {
            n.parse(JSON.parse(e), t);
          },
          i,
          r
        );
    },
    setTexturePath: function (e) {
      this.texturePath = e;
    },
    setCrossOrigin: function (e) {
      this.crossOrigin = e;
    },
    parse: function (e, t) {
      var i = this.parseGeometries(e.geometries),
        r = this.parseImages(e.images, function () {
          void 0 !== t && t(n);
        }),
        r = this.parseTextures(e.textures, r),
        r = this.parseMaterials(e.materials, r),
        n = this.parseObject(e.object, i, r);
      return (
        (void 0 !== e.images && 0 !== e.images.length) || void 0 === t || t(n),
        n
      );
    },
    parseGeometries: function (e) {
      var t = {};
      if (void 0 !== e)
        for (
          var i = new THREE.JSONLoader(),
            r = new THREE.BufferGeometryLoader(),
            n = 0,
            o = e.length;
          o > n;
          n++
        ) {
          var a,
            s = e[n];
          switch (s.type) {
            case "PlaneGeometry":
            case "PlaneBufferGeometry":
              a = new THREE[s.type](
                s.width,
                s.height,
                s.widthSegments,
                s.heightSegments
              );
              break;
            case "BoxGeometry":
            case "CubeGeometry":
              a = new THREE.BoxGeometry(
                s.width,
                s.height,
                s.depth,
                s.widthSegments,
                s.heightSegments,
                s.depthSegments
              );
              break;
            case "CircleGeometry":
              a = new THREE.CircleGeometry(s.radius, s.segments);
              break;
            case "CylinderGeometry":
              a = new THREE.CylinderGeometry(
                s.radiusTop,
                s.radiusBottom,
                s.height,
                s.radialSegments,
                s.heightSegments,
                s.openEnded
              );
              break;
            case "SphereGeometry":
              a = new THREE.SphereGeometry(
                s.radius,
                s.widthSegments,
                s.heightSegments,
                s.phiStart,
                s.phiLength,
                s.thetaStart,
                s.thetaLength
              );
              break;
            case "IcosahedronGeometry":
              a = new THREE.IcosahedronGeometry(s.radius, s.detail);
              break;
            case "TorusGeometry":
              a = new THREE.TorusGeometry(
                s.radius,
                s.tube,
                s.radialSegments,
                s.tubularSegments,
                s.arc
              );
              break;
            case "TorusKnotGeometry":
              a = new THREE.TorusKnotGeometry(
                s.radius,
                s.tube,
                s.radialSegments,
                s.tubularSegments,
                s.p,
                s.q,
                s.heightScale
              );
              break;
            case "BufferGeometry":
              a = r.parse(s);
              break;
            case "Geometry":
              a = i.parse(s.data).geometry;
          }
          (a.uuid = s.uuid),
            void 0 !== s.name && (a.name = s.name),
            (t[s.uuid] = a);
        }
      return t;
    },
    parseMaterials: function (e, t) {
      var i = {};
      if (void 0 !== e)
        for (
          var r = function (e) {
              return (
                void 0 === t[e] &&
                  THREE.warn("THREE.ObjectLoader: Undefined texture", e),
                t[e]
              );
            },
            n = new THREE.MaterialLoader(),
            o = 0,
            a = e.length;
          a > o;
          o++
        ) {
          var s = e[o],
            l = n.parse(s);
          (l.uuid = s.uuid),
            void 0 !== s.name && (l.name = s.name),
            void 0 !== s.map && (l.map = r(s.map)),
            void 0 !== s.bumpMap &&
              ((l.bumpMap = r(s.bumpMap)),
              s.bumpScale &&
                (l.bumpScale = new THREE.Vector2(s.bumpScale, s.bumpScale))),
            void 0 !== s.alphaMap && (l.alphaMap = r(s.alphaMap)),
            void 0 !== s.envMap && (l.envMap = r(s.envMap)),
            void 0 !== s.normalMap &&
              ((l.normalMap = r(s.normalMap)),
              s.normalScale &&
                (l.normalScale = new THREE.Vector2(
                  s.normalScale,
                  s.normalScale
                ))),
            void 0 !== s.lightMap && (l.lightMap = r(s.lightMap)),
            void 0 !== s.specularMap && (l.specularMap = r(s.specularMap)),
            (i[s.uuid] = l);
        }
      return i;
    },
    parseImages: function (e, t) {
      var i = this,
        r = {};
      if (void 0 !== e && 0 < e.length) {
        var n = new THREE.LoadingManager(t),
          o = new THREE.ImageLoader(n);
        o.setCrossOrigin(this.crossOrigin);
        for (
          var n = function (e) {
              return (
                i.manager.itemStart(e),
                o.load(e, function () {
                  i.manager.itemEnd(e);
                })
              );
            },
            a = 0,
            s = e.length;
          s > a;
          a++
        ) {
          var l = e[a],
            h = /^(\/\/)|([a-z]+:(\/\/)?)/i.test(l.url)
              ? l.url
              : i.texturePath + l.url;
          r[l.uuid] = n(h);
        }
      }
      return r;
    },
    parseTextures: function (e, t) {
      var i = {};
      if (void 0 !== e)
        for (var r = 0, n = e.length; n > r; r++) {
          var o = e[r];
          void 0 === o.image &&
            THREE.warn('THREE.ObjectLoader: No "image" speficied for', o.uuid),
            void 0 === t[o.image] &&
              THREE.warn("THREE.ObjectLoader: Undefined image", o.image);
          var a = new THREE.Texture(t[o.image]);
          (a.needsUpdate = !0),
            (a.uuid = o.uuid),
            void 0 !== o.name && (a.name = o.name),
            void 0 !== o.repeat &&
              (a.repeat = new THREE.Vector2(o.repeat[0], o.repeat[1])),
            void 0 !== o.minFilter && (a.minFilter = THREE[o.minFilter]),
            void 0 !== o.magFilter && (a.magFilter = THREE[o.magFilter]),
            void 0 !== o.anisotropy && (a.anisotropy = o.anisotropy),
            o.wrap instanceof Array &&
              ((a.wrapS = THREE[o.wrap[0]]), (a.wrapT = THREE[o.wrap[1]])),
            (i[o.uuid] = a);
        }
      return i;
    },
    parseObject: (function () {
      var e = new THREE.Matrix4();
      return function (t, i, r) {
        var n;
        n = function (e) {
          return (
            void 0 === i[e] &&
              THREE.warn("THREE.ObjectLoader: Undefined geometry", e),
            i[e]
          );
        };
        var o = function (e) {
          return (
            void 0 === r[e] &&
              THREE.warn("THREE.ObjectLoader: Undefined material", e),
            r[e]
          );
        };
        switch (t.type) {
          case "Scene":
            n = new THREE.Scene();
            break;
          case "PerspectiveCamera":
            n = new THREE.PerspectiveCamera(t.fov, t.aspect, t.near, t.far);
            break;
          case "OrthographicCamera":
            n = new THREE.OrthographicCamera(
              t.left,
              t.right,
              t.top,
              t.bottom,
              t.near,
              t.far
            );
            break;
          case "AmbientLight":
            n = new THREE.AmbientLight(t.color);
            break;
          case "DirectionalLight":
            n = new THREE.DirectionalLight(t.color, t.intensity);
            break;
          case "PointLight":
            n = new THREE.PointLight(t.color, t.intensity, t.distance, t.decay);
            break;
          case "SpotLight":
            n = new THREE.SpotLight(
              t.color,
              t.intensity,
              t.distance,
              t.angle,
              t.exponent,
              t.decay
            );
            break;
          case "HemisphereLight":
            n = new THREE.HemisphereLight(t.color, t.groundColor, t.intensity);
            break;
          case "Mesh":
            n = new THREE.Mesh(n(t.geometry), o(t.material));
            break;
          case "Line":
            n = new THREE.Line(n(t.geometry), o(t.material), t.mode);
            break;
          case "PointCloud":
            n = new THREE.PointCloud(n(t.geometry), o(t.material));
            break;
          case "Sprite":
            n = new THREE.Sprite(o(t.material));
            break;
          case "Group":
            n = new THREE.Group();
            break;
          default:
            n = new THREE.Object3D();
        }
        if (
          ((n.uuid = t.uuid),
          void 0 !== t.name && (n.name = t.name),
          void 0 !== t.matrix
            ? (e.fromArray(t.matrix),
              e.decompose(n.position, n.quaternion, n.scale))
            : (void 0 !== t.position && n.position.fromArray(t.position),
              void 0 !== t.rotation && n.rotation.fromArray(t.rotation),
              void 0 !== t.scale && n.scale.fromArray(t.scale)),
          void 0 !== t.visible && (n.visible = t.visible),
          void 0 !== t.userData && (n.userData = t.userData),
          void 0 !== t.children)
        )
          for (var a in t.children)
            n.add(this.parseObject(t.children[a], i, r));
        return n;
      };
    })(),
  }),
  (THREE.TextureLoader = function (e) {
    this.manager = void 0 !== e ? e : THREE.DefaultLoadingManager;
  }),
  (THREE.TextureLoader.prototype = {
    constructor: THREE.TextureLoader,
    load: function (e, t, i, r) {
      var n = new THREE.ImageLoader(this.manager);
      n.setCrossOrigin(this.crossOrigin),
        n.load(
          e,
          function (e) {
            (e = new THREE.Texture(e)),
              (e.needsUpdate = !0),
              void 0 !== t && t(e);
          },
          i,
          r
        );
    },
    setCrossOrigin: function (e) {
      this.crossOrigin = e;
    },
  }),
  (THREE.DataTextureLoader = THREE.BinaryTextureLoader =
    function () {
      this._parser = null;
    }),
  (THREE.BinaryTextureLoader.prototype = {
    constructor: THREE.BinaryTextureLoader,
    load: function (e, t, i, r) {
      var n = this,
        o = new THREE.DataTexture(),
        a = new THREE.XHRLoader();
      return (
        a.setResponseType("arraybuffer"),
        a.load(
          e,
          function (e) {
            (e = n._parser(e)) &&
              (void 0 !== e.image
                ? (o.image = e.image)
                : void 0 !== e.data &&
                  ((o.image.width = e.width),
                  (o.image.height = e.height),
                  (o.image.data = e.data)),
              (o.wrapS =
                void 0 !== e.wrapS ? e.wrapS : THREE.ClampToEdgeWrapping),
              (o.wrapT =
                void 0 !== e.wrapT ? e.wrapT : THREE.ClampToEdgeWrapping),
              (o.magFilter =
                void 0 !== e.magFilter ? e.magFilter : THREE.LinearFilter),
              (o.minFilter =
                void 0 !== e.minFilter
                  ? e.minFilter
                  : THREE.LinearMipMapLinearFilter),
              (o.anisotropy = void 0 !== e.anisotropy ? e.anisotropy : 1),
              void 0 !== e.format && (o.format = e.format),
              void 0 !== e.type && (o.type = e.type),
              void 0 !== e.mipmaps && (o.mipmaps = e.mipmaps),
              1 === e.mipmapCount && (o.minFilter = THREE.LinearFilter),
              (o.needsUpdate = !0),
              t && t(o, e));
          },
          i,
          r
        ),
        o
      );
    },
  }),
  (THREE.CompressedTextureLoader = function () {
    this._parser = null;
  }),
  (THREE.CompressedTextureLoader.prototype = {
    constructor: THREE.CompressedTextureLoader,
    load: function (e, t, i) {
      var r = this,
        n = [],
        o = new THREE.CompressedTexture();
      o.image = n;
      var a = new THREE.XHRLoader();
      if ((a.setResponseType("arraybuffer"), e instanceof Array)) {
        var s = 0;
        i = function (i) {
          a.load(e[i], function (e) {
            (e = r._parser(e, !0)),
              (n[i] = {
                width: e.width,
                height: e.height,
                format: e.format,
                mipmaps: e.mipmaps,
              }),
              (s += 1),
              6 === s &&
                (1 == e.mipmapCount && (o.minFilter = THREE.LinearFilter),
                (o.format = e.format),
                (o.needsUpdate = !0),
                t && t(o));
          });
        };
        for (var l = 0, h = e.length; h > l; ++l) i(l);
      } else
        a.load(e, function (e) {
          if (((e = r._parser(e, !0)), e.isCubemap))
            for (var i = e.mipmaps.length / e.mipmapCount, a = 0; i > a; a++) {
              n[a] = { mipmaps: [] };
              for (var s = 0; s < e.mipmapCount; s++)
                n[a].mipmaps.push(e.mipmaps[a * e.mipmapCount + s]),
                  (n[a].format = e.format),
                  (n[a].width = e.width),
                  (n[a].height = e.height);
            }
          else
            (o.image.width = e.width),
              (o.image.height = e.height),
              (o.mipmaps = e.mipmaps);
          1 === e.mipmapCount && (o.minFilter = THREE.LinearFilter),
            (o.format = e.format),
            (o.needsUpdate = !0),
            t && t(o);
        });
      return o;
    },
  }),
  (THREE.Material = function () {
    Object.defineProperty(this, "id", { value: THREE.MaterialIdCount++ }),
      (this.uuid = THREE.Math.generateUUID()),
      (this.name = ""),
      (this.type = "Material"),
      (this.side = THREE.FrontSide),
      (this.opacity = 1),
      (this.transparent = !1),
      (this.blending = THREE.NormalBlending),
      (this.blendSrc = THREE.SrcAlphaFactor),
      (this.blendDst = THREE.OneMinusSrcAlphaFactor),
      (this.blendEquation = THREE.AddEquation),
      (this.blendEquationAlpha =
        this.blendDstAlpha =
        this.blendSrcAlpha =
          null),
      (this.colorWrite = this.depthWrite = this.depthTest = !0),
      (this.polygonOffset = !1),
      (this.overdraw =
        this.alphaTest =
        this.polygonOffsetUnits =
        this.polygonOffsetFactor =
          0),
      (this._needsUpdate = this.visible = !0);
  }),
  (THREE.Material.prototype = {
    constructor: THREE.Material,
    get needsUpdate() {
      return this._needsUpdate;
    },
    set needsUpdate(e) {
      !0 === e && this.update(), (this._needsUpdate = e);
    },
    setValues: function (e) {
      if (void 0 !== e)
        for (var t in e) {
          var i = e[t];
          if (void 0 === i)
            THREE.warn("THREE.Material: '" + t + "' parameter is undefined.");
          else if (t in this) {
            var r = this[t];
            r instanceof THREE.Color
              ? r.set(i)
              : r instanceof THREE.Vector3 && i instanceof THREE.Vector3
              ? r.copy(i)
              : (this[t] = "overdraw" == t ? Number(i) : i);
          }
        }
    },
    toJSON: function () {
      var e = {
        metadata: {
          version: 4.2,
          type: "material",
          generator: "MaterialExporter",
        },
        uuid: this.uuid,
        type: this.type,
      };
      return (
        "" !== this.name && (e.name = this.name),
        this instanceof THREE.MeshBasicMaterial
          ? ((e.color = this.color.getHex()),
            this.vertexColors !== THREE.NoColors &&
              (e.vertexColors = this.vertexColors),
            this.blending !== THREE.NormalBlending &&
              (e.blending = this.blending),
            this.side !== THREE.FrontSide && (e.side = this.side))
          : this instanceof THREE.MeshLambertMaterial
          ? ((e.color = this.color.getHex()),
            (e.emissive = this.emissive.getHex()),
            this.vertexColors !== THREE.NoColors &&
              (e.vertexColors = this.vertexColors),
            this.shading !== THREE.SmoothShading && (e.shading = this.shading),
            this.blending !== THREE.NormalBlending &&
              (e.blending = this.blending),
            this.side !== THREE.FrontSide && (e.side = this.side))
          : this instanceof THREE.MeshPhongMaterial
          ? ((e.color = this.color.getHex()),
            (e.emissive = this.emissive.getHex()),
            (e.specular = this.specular.getHex()),
            (e.shininess = this.shininess),
            this.vertexColors !== THREE.NoColors &&
              (e.vertexColors = this.vertexColors),
            this.shading !== THREE.SmoothShading && (e.shading = this.shading),
            this.blending !== THREE.NormalBlending &&
              (e.blending = this.blending),
            this.side !== THREE.FrontSide && (e.side = this.side))
          : this instanceof THREE.MeshNormalMaterial
          ? (this.blending !== THREE.NormalBlending &&
              (e.blending = this.blending),
            this.side !== THREE.FrontSide && (e.side = this.side))
          : this instanceof THREE.MeshDepthMaterial
          ? (this.blending !== THREE.NormalBlending &&
              (e.blending = this.blending),
            this.side !== THREE.FrontSide && (e.side = this.side))
          : this instanceof THREE.PointCloudMaterial
          ? ((e.size = this.size),
            (e.sizeAttenuation = this.sizeAttenuation),
            (e.color = this.color.getHex()),
            this.vertexColors !== THREE.NoColors &&
              (e.vertexColors = this.vertexColors),
            this.blending !== THREE.NormalBlending &&
              (e.blending = this.blending))
          : this instanceof THREE.ShaderMaterial
          ? ((e.uniforms = this.uniforms),
            (e.vertexShader = this.vertexShader),
            (e.fragmentShader = this.fragmentShader))
          : this instanceof THREE.SpriteMaterial &&
            (e.color = this.color.getHex()),
        1 > this.opacity && (e.opacity = this.opacity),
        !1 !== this.transparent && (e.transparent = this.transparent),
        !1 !== this.wireframe && (e.wireframe = this.wireframe),
        e
      );
    },
    clone: function (e) {
      return (
        void 0 === e && (e = new THREE.Material()),
        (e.name = this.name),
        (e.side = this.side),
        (e.opacity = this.opacity),
        (e.transparent = this.transparent),
        (e.blending = this.blending),
        (e.blendSrc = this.blendSrc),
        (e.blendDst = this.blendDst),
        (e.blendEquation = this.blendEquation),
        (e.blendSrcAlpha = this.blendSrcAlpha),
        (e.blendDstAlpha = this.blendDstAlpha),
        (e.blendEquationAlpha = this.blendEquationAlpha),
        (e.depthTest = this.depthTest),
        (e.depthWrite = this.depthWrite),
        (e.polygonOffset = this.polygonOffset),
        (e.polygonOffsetFactor = this.polygonOffsetFactor),
        (e.polygonOffsetUnits = this.polygonOffsetUnits),
        (e.alphaTest = this.alphaTest),
        (e.overdraw = this.overdraw),
        (e.visible = this.visible),
        e
      );
    },
    update: function () {
      this.dispatchEvent({ type: "update" });
    },
    dispose: function () {
      this.dispatchEvent({ type: "dispose" });
    },
  }),
  THREE.EventDispatcher.prototype.apply(THREE.Material.prototype),
  (THREE.MaterialIdCount = 0),
  (THREE.LineBasicMaterial = function (e) {
    THREE.Material.call(this),
      (this.type = "LineBasicMaterial"),
      (this.color = new THREE.Color(16777215)),
      (this.linewidth = 1),
      (this.linejoin = this.linecap = "round"),
      (this.vertexColors = THREE.NoColors),
      (this.fog = !0),
      this.setValues(e);
  }),
  (THREE.LineBasicMaterial.prototype = Object.create(THREE.Material.prototype)),
  (THREE.LineBasicMaterial.prototype.constructor = THREE.LineBasicMaterial),
  (THREE.LineBasicMaterial.prototype.clone = function () {
    var e = new THREE.LineBasicMaterial();
    return (
      THREE.Material.prototype.clone.call(this, e),
      e.color.copy(this.color),
      (e.linewidth = this.linewidth),
      (e.linecap = this.linecap),
      (e.linejoin = this.linejoin),
      (e.vertexColors = this.vertexColors),
      (e.fog = this.fog),
      e
    );
  }),
  (THREE.LineDashedMaterial = function (e) {
    THREE.Material.call(this),
      (this.type = "LineDashedMaterial"),
      (this.color = new THREE.Color(16777215)),
      (this.scale = this.linewidth = 1),
      (this.dashSize = 3),
      (this.gapSize = 1),
      (this.vertexColors = !1),
      (this.fog = !0),
      this.setValues(e);
  }),
  (THREE.LineDashedMaterial.prototype = Object.create(
    THREE.Material.prototype
  )),
  (THREE.LineDashedMaterial.prototype.constructor = THREE.LineDashedMaterial),
  (THREE.LineDashedMaterial.prototype.clone = function () {
    var e = new THREE.LineDashedMaterial();
    return (
      THREE.Material.prototype.clone.call(this, e),
      e.color.copy(this.color),
      (e.linewidth = this.linewidth),
      (e.scale = this.scale),
      (e.dashSize = this.dashSize),
      (e.gapSize = this.gapSize),
      (e.vertexColors = this.vertexColors),
      (e.fog = this.fog),
      e
    );
  }),
  (THREE.MeshBasicMaterial = function (e) {
    THREE.Material.call(this),
      (this.type = "MeshBasicMaterial"),
      (this.color = new THREE.Color(16777215)),
      (this.envMap =
        this.alphaMap =
        this.specularMap =
        this.lightMap =
        this.map =
          null),
      (this.combine = THREE.MultiplyOperation),
      (this.reflectivity = 1),
      (this.refractionRatio = 0.98),
      (this.fog = !0),
      (this.shading = THREE.SmoothShading),
      (this.wireframe = !1),
      (this.wireframeLinewidth = 1),
      (this.wireframeLinejoin = this.wireframeLinecap = "round"),
      (this.vertexColors = THREE.NoColors),
      (this.morphTargets = this.skinning = !1),
      this.setValues(e);
  }),
  (THREE.MeshBasicMaterial.prototype = Object.create(THREE.Material.prototype)),
  (THREE.MeshBasicMaterial.prototype.constructor = THREE.MeshBasicMaterial),
  (THREE.MeshBasicMaterial.prototype.clone = function () {
    var e = new THREE.MeshBasicMaterial();
    return (
      THREE.Material.prototype.clone.call(this, e),
      e.color.copy(this.color),
      (e.map = this.map),
      (e.lightMap = this.lightMap),
      (e.specularMap = this.specularMap),
      (e.alphaMap = this.alphaMap),
      (e.envMap = this.envMap),
      (e.combine = this.combine),
      (e.reflectivity = this.reflectivity),
      (e.refractionRatio = this.refractionRatio),
      (e.fog = this.fog),
      (e.shading = this.shading),
      (e.wireframe = this.wireframe),
      (e.wireframeLinewidth = this.wireframeLinewidth),
      (e.wireframeLinecap = this.wireframeLinecap),
      (e.wireframeLinejoin = this.wireframeLinejoin),
      (e.vertexColors = this.vertexColors),
      (e.skinning = this.skinning),
      (e.morphTargets = this.morphTargets),
      e
    );
  }),
  (THREE.MeshLambertMaterial = function (e) {
    THREE.Material.call(this),
      (this.type = "MeshLambertMaterial"),
      (this.color = new THREE.Color(16777215)),
      (this.emissive = new THREE.Color(0)),
      (this.wrapAround = !1),
      (this.wrapRGB = new THREE.Vector3(1, 1, 1)),
      (this.envMap =
        this.alphaMap =
        this.specularMap =
        this.lightMap =
        this.map =
          null),
      (this.combine = THREE.MultiplyOperation),
      (this.reflectivity = 1),
      (this.refractionRatio = 0.98),
      (this.fog = !0),
      (this.shading = THREE.SmoothShading),
      (this.wireframe = !1),
      (this.wireframeLinewidth = 1),
      (this.wireframeLinejoin = this.wireframeLinecap = "round"),
      (this.vertexColors = THREE.NoColors),
      (this.morphNormals = this.morphTargets = this.skinning = !1),
      this.setValues(e);
  }),
  (THREE.MeshLambertMaterial.prototype = Object.create(
    THREE.Material.prototype
  )),
  (THREE.MeshLambertMaterial.prototype.constructor = THREE.MeshLambertMaterial),
  (THREE.MeshLambertMaterial.prototype.clone = function () {
    var e = new THREE.MeshLambertMaterial();
    return (
      THREE.Material.prototype.clone.call(this, e),
      e.color.copy(this.color),
      e.emissive.copy(this.emissive),
      (e.wrapAround = this.wrapAround),
      e.wrapRGB.copy(this.wrapRGB),
      (e.map = this.map),
      (e.lightMap = this.lightMap),
      (e.specularMap = this.specularMap),
      (e.alphaMap = this.alphaMap),
      (e.envMap = this.envMap),
      (e.combine = this.combine),
      (e.reflectivity = this.reflectivity),
      (e.refractionRatio = this.refractionRatio),
      (e.fog = this.fog),
      (e.shading = this.shading),
      (e.wireframe = this.wireframe),
      (e.wireframeLinewidth = this.wireframeLinewidth),
      (e.wireframeLinecap = this.wireframeLinecap),
      (e.wireframeLinejoin = this.wireframeLinejoin),
      (e.vertexColors = this.vertexColors),
      (e.skinning = this.skinning),
      (e.morphTargets = this.morphTargets),
      (e.morphNormals = this.morphNormals),
      e
    );
  }),
  (THREE.MeshPhongMaterial = function (e) {
    THREE.Material.call(this),
      (this.type = "MeshPhongMaterial"),
      (this.color = new THREE.Color(16777215)),
      (this.emissive = new THREE.Color(0)),
      (this.specular = new THREE.Color(1118481)),
      (this.shininess = 30),
      (this.wrapAround = this.metal = !1),
      (this.wrapRGB = new THREE.Vector3(1, 1, 1)),
      (this.bumpMap = this.lightMap = this.map = null),
      (this.bumpScale = 1),
      (this.normalMap = null),
      (this.normalScale = new THREE.Vector2(1, 1)),
      (this.envMap = this.alphaMap = this.specularMap = null),
      (this.combine = THREE.MultiplyOperation),
      (this.reflectivity = 1),
      (this.refractionRatio = 0.98),
      (this.fog = !0),
      (this.shading = THREE.SmoothShading),
      (this.wireframe = !1),
      (this.wireframeLinewidth = 1),
      (this.wireframeLinejoin = this.wireframeLinecap = "round"),
      (this.vertexColors = THREE.NoColors),
      (this.morphNormals = this.morphTargets = this.skinning = !1),
      this.setValues(e);
  }),
  (THREE.MeshPhongMaterial.prototype = Object.create(THREE.Material.prototype)),
  (THREE.MeshPhongMaterial.prototype.constructor = THREE.MeshPhongMaterial),
  (THREE.MeshPhongMaterial.prototype.clone = function () {
    var e = new THREE.MeshPhongMaterial();
    return (
      THREE.Material.prototype.clone.call(this, e),
      e.color.copy(this.color),
      e.emissive.copy(this.emissive),
      e.specular.copy(this.specular),
      (e.shininess = this.shininess),
      (e.metal = this.metal),
      (e.wrapAround = this.wrapAround),
      e.wrapRGB.copy(this.wrapRGB),
      (e.map = this.map),
      (e.lightMap = this.lightMap),
      (e.bumpMap = this.bumpMap),
      (e.bumpScale = this.bumpScale),
      (e.normalMap = this.normalMap),
      e.normalScale.copy(this.normalScale),
      (e.specularMap = this.specularMap),
      (e.alphaMap = this.alphaMap),
      (e.envMap = this.envMap),
      (e.combine = this.combine),
      (e.reflectivity = this.reflectivity),
      (e.refractionRatio = this.refractionRatio),
      (e.fog = this.fog),
      (e.shading = this.shading),
      (e.wireframe = this.wireframe),
      (e.wireframeLinewidth = this.wireframeLinewidth),
      (e.wireframeLinecap = this.wireframeLinecap),
      (e.wireframeLinejoin = this.wireframeLinejoin),
      (e.vertexColors = this.vertexColors),
      (e.skinning = this.skinning),
      (e.morphTargets = this.morphTargets),
      (e.morphNormals = this.morphNormals),
      e
    );
  }),
  (THREE.MeshDepthMaterial = function (e) {
    THREE.Material.call(this),
      (this.type = "MeshDepthMaterial"),
      (this.wireframe = this.morphTargets = !1),
      (this.wireframeLinewidth = 1),
      this.setValues(e);
  }),
  (THREE.MeshDepthMaterial.prototype = Object.create(THREE.Material.prototype)),
  (THREE.MeshDepthMaterial.prototype.constructor = THREE.MeshDepthMaterial),
  (THREE.MeshDepthMaterial.prototype.clone = function () {
    var e = new THREE.MeshDepthMaterial();
    return (
      THREE.Material.prototype.clone.call(this, e),
      (e.wireframe = this.wireframe),
      (e.wireframeLinewidth = this.wireframeLinewidth),
      e
    );
  }),
  (THREE.MeshNormalMaterial = function (e) {
    THREE.Material.call(this, e),
      (this.type = "MeshNormalMaterial"),
      (this.wireframe = !1),
      (this.wireframeLinewidth = 1),
      (this.morphTargets = !1),
      this.setValues(e);
  }),
  (THREE.MeshNormalMaterial.prototype = Object.create(
    THREE.Material.prototype
  )),
  (THREE.MeshNormalMaterial.prototype.constructor = THREE.MeshNormalMaterial),
  (THREE.MeshNormalMaterial.prototype.clone = function () {
    var e = new THREE.MeshNormalMaterial();
    return (
      THREE.Material.prototype.clone.call(this, e),
      (e.wireframe = this.wireframe),
      (e.wireframeLinewidth = this.wireframeLinewidth),
      e
    );
  }),
  (THREE.MeshFaceMaterial = function (e) {
    (this.uuid = THREE.Math.generateUUID()),
      (this.type = "MeshFaceMaterial"),
      (this.materials = e instanceof Array ? e : []);
  }),
  (THREE.MeshFaceMaterial.prototype = {
    constructor: THREE.MeshFaceMaterial,
    toJSON: function () {
      for (
        var e = {
            metadata: {
              version: 4.2,
              type: "material",
              generator: "MaterialExporter",
            },
            uuid: this.uuid,
            type: this.type,
            materials: [],
          },
          t = 0,
          i = this.materials.length;
        i > t;
        t++
      )
        e.materials.push(this.materials[t].toJSON());
      return e;
    },
    clone: function () {
      for (
        var e = new THREE.MeshFaceMaterial(), t = 0;
        t < this.materials.length;
        t++
      )
        e.materials.push(this.materials[t].clone());
      return e;
    },
  }),
  (THREE.PointCloudMaterial = function (e) {
    THREE.Material.call(this),
      (this.type = "PointCloudMaterial"),
      (this.color = new THREE.Color(16777215)),
      (this.map = null),
      (this.size = 1),
      (this.sizeAttenuation = !0),
      (this.vertexColors = THREE.NoColors),
      (this.fog = !0),
      this.setValues(e);
  }),
  (THREE.PointCloudMaterial.prototype = Object.create(
    THREE.Material.prototype
  )),
  (THREE.PointCloudMaterial.prototype.constructor = THREE.PointCloudMaterial),
  (THREE.PointCloudMaterial.prototype.clone = function () {
    var e = new THREE.PointCloudMaterial();
    return (
      THREE.Material.prototype.clone.call(this, e),
      e.color.copy(this.color),
      (e.map = this.map),
      (e.size = this.size),
      (e.sizeAttenuation = this.sizeAttenuation),
      (e.vertexColors = this.vertexColors),
      (e.fog = this.fog),
      e
    );
  }),
  (THREE.ParticleBasicMaterial = function (e) {
    return (
      THREE.warn(
        "THREE.ParticleBasicMaterial has been renamed to THREE.PointCloudMaterial."
      ),
      new THREE.PointCloudMaterial(e)
    );
  }),
  (THREE.ParticleSystemMaterial = function (e) {
    return (
      THREE.warn(
        "THREE.ParticleSystemMaterial has been renamed to THREE.PointCloudMaterial."
      ),
      new THREE.PointCloudMaterial(e)
    );
  }),
  (THREE.ShaderMaterial = function (e) {
    THREE.Material.call(this),
      (this.type = "ShaderMaterial"),
      (this.defines = {}),
      (this.uniforms = {}),
      (this.attributes = null),
      (this.vertexShader =
        "void main() {\n	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}"),
      (this.fragmentShader =
        "void main() {\n	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}"),
      (this.shading = THREE.SmoothShading),
      (this.linewidth = 1),
      (this.wireframe = !1),
      (this.wireframeLinewidth = 1),
      (this.lights = this.fog = !1),
      (this.vertexColors = THREE.NoColors),
      (this.morphNormals = this.morphTargets = this.skinning = !1),
      (this.defaultAttributeValues = {
        color: [1, 1, 1],
        uv: [0, 0],
        uv2: [0, 0],
      }),
      (this.index0AttributeName = void 0),
      this.setValues(e);
  }),
  (THREE.ShaderMaterial.prototype = Object.create(THREE.Material.prototype)),
  (THREE.ShaderMaterial.prototype.constructor = THREE.ShaderMaterial),
  (THREE.ShaderMaterial.prototype.clone = function () {
    var e = new THREE.ShaderMaterial();
    return (
      THREE.Material.prototype.clone.call(this, e),
      (e.fragmentShader = this.fragmentShader),
      (e.vertexShader = this.vertexShader),
      (e.uniforms = THREE.UniformsUtils.clone(this.uniforms)),
      (e.attributes = this.attributes),
      (e.defines = this.defines),
      (e.shading = this.shading),
      (e.wireframe = this.wireframe),
      (e.wireframeLinewidth = this.wireframeLinewidth),
      (e.fog = this.fog),
      (e.lights = this.lights),
      (e.vertexColors = this.vertexColors),
      (e.skinning = this.skinning),
      (e.morphTargets = this.morphTargets),
      (e.morphNormals = this.morphNormals),
      e
    );
  }),
  (THREE.RawShaderMaterial = function (e) {
    THREE.ShaderMaterial.call(this, e), (this.type = "RawShaderMaterial");
  }),
  (THREE.RawShaderMaterial.prototype = Object.create(
    THREE.ShaderMaterial.prototype
  )),
  (THREE.RawShaderMaterial.prototype.constructor = THREE.RawShaderMaterial),
  (THREE.RawShaderMaterial.prototype.clone = function () {
    var e = new THREE.RawShaderMaterial();
    return THREE.ShaderMaterial.prototype.clone.call(this, e), e;
  }),
  (THREE.SpriteMaterial = function (e) {
    THREE.Material.call(this),
      (this.type = "SpriteMaterial"),
      (this.color = new THREE.Color(16777215)),
      (this.map = null),
      (this.rotation = 0),
      (this.fog = !1),
      this.setValues(e);
  }),
  (THREE.SpriteMaterial.prototype = Object.create(THREE.Material.prototype)),
  (THREE.SpriteMaterial.prototype.constructor = THREE.SpriteMaterial),
  (THREE.SpriteMaterial.prototype.clone = function () {
    var e = new THREE.SpriteMaterial();
    return (
      THREE.Material.prototype.clone.call(this, e),
      e.color.copy(this.color),
      (e.map = this.map),
      (e.rotation = this.rotation),
      (e.fog = this.fog),
      e
    );
  }),
  (THREE.Texture = function (e, t, i, r, n, o, a, s, l) {
    Object.defineProperty(this, "id", { value: THREE.TextureIdCount++ }),
      (this.uuid = THREE.Math.generateUUID()),
      (this.sourceFile = this.name = ""),
      (this.image = void 0 !== e ? e : THREE.Texture.DEFAULT_IMAGE),
      (this.mipmaps = []),
      (this.mapping = void 0 !== t ? t : THREE.Texture.DEFAULT_MAPPING),
      (this.wrapS = void 0 !== i ? i : THREE.ClampToEdgeWrapping),
      (this.wrapT = void 0 !== r ? r : THREE.ClampToEdgeWrapping),
      (this.magFilter = void 0 !== n ? n : THREE.LinearFilter),
      (this.minFilter = void 0 !== o ? o : THREE.LinearMipMapLinearFilter),
      (this.anisotropy = void 0 !== l ? l : 1),
      (this.format = void 0 !== a ? a : THREE.RGBAFormat),
      (this.type = void 0 !== s ? s : THREE.UnsignedByteType),
      (this.offset = new THREE.Vector2(0, 0)),
      (this.repeat = new THREE.Vector2(1, 1)),
      (this.generateMipmaps = !0),
      (this.premultiplyAlpha = !1),
      (this.flipY = !0),
      (this.unpackAlignment = 4),
      (this._needsUpdate = !1),
      (this.onUpdate = null);
  }),
  (THREE.Texture.DEFAULT_IMAGE = void 0),
  (THREE.Texture.DEFAULT_MAPPING = THREE.UVMapping),
  (THREE.Texture.prototype = {
    constructor: THREE.Texture,
    get needsUpdate() {
      return this._needsUpdate;
    },
    set needsUpdate(e) {
      !0 === e && this.update(), (this._needsUpdate = e);
    },
    clone: function (e) {
      return (
        void 0 === e && (e = new THREE.Texture()),
        (e.image = this.image),
        (e.mipmaps = this.mipmaps.slice(0)),
        (e.mapping = this.mapping),
        (e.wrapS = this.wrapS),
        (e.wrapT = this.wrapT),
        (e.magFilter = this.magFilter),
        (e.minFilter = this.minFilter),
        (e.anisotropy = this.anisotropy),
        (e.format = this.format),
        (e.type = this.type),
        e.offset.copy(this.offset),
        e.repeat.copy(this.repeat),
        (e.generateMipmaps = this.generateMipmaps),
        (e.premultiplyAlpha = this.premultiplyAlpha),
        (e.flipY = this.flipY),
        (e.unpackAlignment = this.unpackAlignment),
        e
      );
    },
    update: function () {
      this.dispatchEvent({ type: "update" });
    },
    dispose: function () {
      this.dispatchEvent({ type: "dispose" });
    },
  }),
  THREE.EventDispatcher.prototype.apply(THREE.Texture.prototype),
  (THREE.TextureIdCount = 0),
  (THREE.CubeTexture = function (e, t, i, r, n, o, a, s, l) {
    (t = void 0 !== t ? t : THREE.CubeReflectionMapping),
      THREE.Texture.call(this, e, t, i, r, n, o, a, s, l),
      (this.images = e);
  }),
  (THREE.CubeTexture.prototype = Object.create(THREE.Texture.prototype)),
  (THREE.CubeTexture.prototype.constructor = THREE.CubeTexture),
  (THREE.CubeTexture.clone = function (e) {
    return (
      void 0 === e && (e = new THREE.CubeTexture()),
      THREE.Texture.prototype.clone.call(this, e),
      (e.images = this.images),
      e
    );
  }),
  (THREE.CompressedTexture = function (e, t, i, r, n, o, a, s, l, h, c) {
    THREE.Texture.call(this, null, o, a, s, l, h, r, n, c),
      (this.image = { width: t, height: i }),
      (this.mipmaps = e),
      (this.generateMipmaps = this.flipY = !1);
  }),
  (THREE.CompressedTexture.prototype = Object.create(THREE.Texture.prototype)),
  (THREE.CompressedTexture.prototype.constructor = THREE.CompressedTexture),
  (THREE.CompressedTexture.prototype.clone = function () {
    var e = new THREE.CompressedTexture();
    return THREE.Texture.prototype.clone.call(this, e), e;
  }),
  (THREE.DataTexture = function (e, t, i, r, n, o, a, s, l, h, c) {
    THREE.Texture.call(this, null, o, a, s, l, h, r, n, c),
      (this.image = { data: e, width: t, height: i });
  }),
  (THREE.DataTexture.prototype = Object.create(THREE.Texture.prototype)),
  (THREE.DataTexture.prototype.constructor = THREE.DataTexture),
  (THREE.DataTexture.prototype.clone = function () {
    var e = new THREE.DataTexture();
    return THREE.Texture.prototype.clone.call(this, e), e;
  }),
  (THREE.VideoTexture = function (e, t, i, r, n, o, a, s, l) {
    THREE.Texture.call(this, e, t, i, r, n, o, a, s, l),
      (this.generateMipmaps = !1);
    var h = this,
      c = function () {
        requestAnimationFrame(c),
          e.readyState === e.HAVE_ENOUGH_DATA && (h.needsUpdate = !0);
      };
    c();
  }),
  (THREE.VideoTexture.prototype = Object.create(THREE.Texture.prototype)),
  (THREE.VideoTexture.prototype.constructor = THREE.VideoTexture),
  (THREE.Group = function () {
    THREE.Object3D.call(this), (this.type = "Group");
  }),
  (THREE.Group.prototype = Object.create(THREE.Object3D.prototype)),
  (THREE.Group.prototype.constructor = THREE.Group),
  (THREE.PointCloud = function (e, t) {
    THREE.Object3D.call(this),
      (this.type = "PointCloud"),
      (this.geometry = void 0 !== e ? e : new THREE.Geometry()),
      (this.material =
        void 0 !== t
          ? t
          : new THREE.PointCloudMaterial({ color: 16777215 * Math.random() }));
  }),
  (THREE.PointCloud.prototype = Object.create(THREE.Object3D.prototype)),
  (THREE.PointCloud.prototype.constructor = THREE.PointCloud),
  (THREE.PointCloud.prototype.raycast = (function () {
    var e = new THREE.Matrix4(),
      t = new THREE.Ray();
    return function (i, r) {
      var n = this,
        o = n.geometry,
        a = i.params.PointCloud.threshold;
      if (
        (e.getInverse(this.matrixWorld),
        t.copy(i.ray).applyMatrix4(e),
        null === o.boundingBox || !1 !== t.isIntersectionBox(o.boundingBox))
      ) {
        var s = a / ((this.scale.x + this.scale.y + this.scale.z) / 3),
          l = new THREE.Vector3(),
          a = function (e, o) {
            var a = t.distanceToPoint(e);
            if (s > a) {
              var l = t.closestPointToPoint(e);
              l.applyMatrix4(n.matrixWorld);
              var h = i.ray.origin.distanceTo(l);
              r.push({
                distance: h,
                distanceToRay: a,
                point: l.clone(),
                index: o,
                face: null,
                object: n,
              });
            }
          };
        if (o instanceof THREE.BufferGeometry) {
          var h = o.attributes,
            c = h.position.array;
          if (void 0 !== h.index) {
            var h = h.index.array,
              u = o.offsets;
            0 === u.length && (u = [{ start: 0, count: h.length, index: 0 }]);
            for (var d = 0, f = u.length; f > d; ++d)
              for (
                var p = u[d].start, m = u[d].index, o = p, p = p + u[d].count;
                p > o;
                o++
              ) {
                var g = m + h[o];
                l.fromArray(c, 3 * g), a(l, g);
              }
          } else
            for (h = c.length / 3, o = 0; h > o; o++)
              l.set(c[3 * o], c[3 * o + 1], c[3 * o + 2]), a(l, o);
        } else
          for (l = this.geometry.vertices, o = 0; o < l.length; o++) a(l[o], o);
      }
    };
  })()),
  (THREE.PointCloud.prototype.clone = function (e) {
    return (
      void 0 === e && (e = new THREE.PointCloud(this.geometry, this.material)),
      THREE.Object3D.prototype.clone.call(this, e),
      e
    );
  }),
  (THREE.ParticleSystem = function (e, t) {
    return (
      THREE.warn("THREE.ParticleSystem has been renamed to THREE.PointCloud."),
      new THREE.PointCloud(e, t)
    );
  }),
  (THREE.Line = function (e, t, i) {
    THREE.Object3D.call(this),
      (this.type = "Line"),
      (this.geometry = void 0 !== e ? e : new THREE.Geometry()),
      (this.material =
        void 0 !== t
          ? t
          : new THREE.LineBasicMaterial({ color: 16777215 * Math.random() })),
      (this.mode = void 0 !== i ? i : THREE.LineStrip);
  }),
  (THREE.LineStrip = 0),
  (THREE.LinePieces = 1),
  (THREE.Line.prototype = Object.create(THREE.Object3D.prototype)),
  (THREE.Line.prototype.constructor = THREE.Line),
  (THREE.Line.prototype.raycast = (function () {
    var e = new THREE.Matrix4(),
      t = new THREE.Ray(),
      i = new THREE.Sphere();
    return function (r, n) {
      var o = r.linePrecision,
        o = o * o,
        a = this.geometry;
      if (
        (null === a.boundingSphere && a.computeBoundingSphere(),
        i.copy(a.boundingSphere),
        i.applyMatrix4(this.matrixWorld),
        !1 !== r.ray.isIntersectionSphere(i))
      ) {
        e.getInverse(this.matrixWorld), t.copy(r.ray).applyMatrix4(e);
        var s = new THREE.Vector3(),
          l = new THREE.Vector3(),
          h = new THREE.Vector3(),
          c = new THREE.Vector3(),
          u = this.mode === THREE.LineStrip ? 1 : 2;
        if (a instanceof THREE.BufferGeometry) {
          var d = a.attributes;
          if (void 0 !== d.index) {
            var f = d.index.array,
              d = d.position.array,
              p = a.offsets;
            0 === p.length && (p = [{ start: 0, count: f.length, index: 0 }]);
            for (var m = 0; m < p.length; m++)
              for (
                var g = p[m].start, E = p[m].count, v = p[m].index, a = g;
                g + E - 1 > a;
                a += u
              ) {
                var _ = v + f[a + 1];
                s.fromArray(d, 3 * (v + f[a])),
                  l.fromArray(d, 3 * _),
                  (_ = t.distanceSqToSegment(s, l, c, h)),
                  _ > o ||
                    ((_ = t.origin.distanceTo(c)),
                    _ < r.near ||
                      _ > r.far ||
                      n.push({
                        distance: _,
                        point: h.clone().applyMatrix4(this.matrixWorld),
                        index: a,
                        offsetIndex: m,
                        face: null,
                        faceIndex: null,
                        object: this,
                      }));
              }
          } else
            for (d = d.position.array, a = 0; a < d.length / 3 - 1; a += u)
              s.fromArray(d, 3 * a),
                l.fromArray(d, 3 * a + 3),
                (_ = t.distanceSqToSegment(s, l, c, h)),
                _ > o ||
                  ((_ = t.origin.distanceTo(c)),
                  _ < r.near ||
                    _ > r.far ||
                    n.push({
                      distance: _,
                      point: h.clone().applyMatrix4(this.matrixWorld),
                      index: a,
                      face: null,
                      faceIndex: null,
                      object: this,
                    }));
        } else if (a instanceof THREE.Geometry)
          for (s = a.vertices, l = s.length, a = 0; l - 1 > a; a += u)
            (_ = t.distanceSqToSegment(s[a], s[a + 1], c, h)),
              _ > o ||
                ((_ = t.origin.distanceTo(c)),
                _ < r.near ||
                  _ > r.far ||
                  n.push({
                    distance: _,
                    point: h.clone().applyMatrix4(this.matrixWorld),
                    index: a,
                    face: null,
                    faceIndex: null,
                    object: this,
                  }));
      }
    };
  })()),
  (THREE.Line.prototype.clone = function (e) {
    return (
      void 0 === e &&
        (e = new THREE.Line(this.geometry, this.material, this.mode)),
      THREE.Object3D.prototype.clone.call(this, e),
      e
    );
  }),
  (THREE.Mesh = function (e, t) {
    THREE.Object3D.call(this),
      (this.type = "Mesh"),
      (this.geometry = void 0 !== e ? e : new THREE.Geometry()),
      (this.material =
        void 0 !== t
          ? t
          : new THREE.MeshBasicMaterial({ color: 16777215 * Math.random() })),
      this.updateMorphTargets();
  }),
  (THREE.Mesh.prototype = Object.create(THREE.Object3D.prototype)),
  (THREE.Mesh.prototype.constructor = THREE.Mesh),
  (THREE.Mesh.prototype.updateMorphTargets = function () {
    if (
      void 0 !== this.geometry.morphTargets &&
      0 < this.geometry.morphTargets.length
    ) {
      (this.morphTargetBase = -1),
        (this.morphTargetForcedOrder = []),
        (this.morphTargetInfluences = []),
        (this.morphTargetDictionary = {});
      for (var e = 0, t = this.geometry.morphTargets.length; t > e; e++)
        this.morphTargetInfluences.push(0),
          (this.morphTargetDictionary[this.geometry.morphTargets[e].name] = e);
    }
  }),
  (THREE.Mesh.prototype.getMorphTargetIndexByName = function (e) {
    return void 0 !== this.morphTargetDictionary[e]
      ? this.morphTargetDictionary[e]
      : (THREE.warn(
          "THREE.Mesh.getMorphTargetIndexByName: morph target " +
            e +
            " does not exist. Returning 0."
        ),
        0);
  }),
  (THREE.Mesh.prototype.raycast = (function () {
    var e = new THREE.Matrix4(),
      t = new THREE.Ray(),
      i = new THREE.Sphere(),
      r = new THREE.Vector3(),
      n = new THREE.Vector3(),
      o = new THREE.Vector3();
    return function (a, s) {
      var l = this.geometry;
      if (
        (null === l.boundingSphere && l.computeBoundingSphere(),
        i.copy(l.boundingSphere),
        i.applyMatrix4(this.matrixWorld),
        !1 !== a.ray.isIntersectionSphere(i) &&
          (e.getInverse(this.matrixWorld),
          t.copy(a.ray).applyMatrix4(e),
          null === l.boundingBox || !1 !== t.isIntersectionBox(l.boundingBox)))
      )
        if (l instanceof THREE.BufferGeometry) {
          var h = this.material;
          if (void 0 !== h) {
            var c,
              u,
              d = l.attributes,
              f = a.precision;
            if (void 0 !== d.index) {
              var p = d.index.array,
                m = d.position.array,
                g = l.offsets;
              0 === g.length && (g = [{ start: 0, count: p.length, index: 0 }]);
              for (var E = 0, v = g.length; v > E; ++E)
                for (
                  var d = g[E].start, _ = g[E].index, l = d, y = d + g[E].count;
                  y > l;
                  l += 3
                ) {
                  (d = _ + p[l]),
                    (c = _ + p[l + 1]),
                    (u = _ + p[l + 2]),
                    r.fromArray(m, 3 * d),
                    n.fromArray(m, 3 * c),
                    o.fromArray(m, 3 * u);
                  var T =
                    h.side === THREE.BackSide
                      ? t.intersectTriangle(o, n, r, !0)
                      : t.intersectTriangle(
                          r,
                          n,
                          o,
                          h.side !== THREE.DoubleSide
                        );
                  if (null !== T) {
                    T.applyMatrix4(this.matrixWorld);
                    var x = a.ray.origin.distanceTo(T);
                    f > x ||
                      x < a.near ||
                      x > a.far ||
                      s.push({
                        distance: x,
                        point: T,
                        face: new THREE.Face3(
                          d,
                          c,
                          u,
                          THREE.Triangle.normal(r, n, o)
                        ),
                        faceIndex: null,
                        object: this,
                      });
                  }
                }
            } else
              for (
                m = d.position.array, p = l = 0, y = m.length;
                y > l;
                l += 3, p += 9
              )
                (d = l),
                  (c = l + 1),
                  (u = l + 2),
                  r.fromArray(m, p),
                  n.fromArray(m, p + 3),
                  o.fromArray(m, p + 6),
                  (T =
                    h.side === THREE.BackSide
                      ? t.intersectTriangle(o, n, r, !0)
                      : t.intersectTriangle(
                          r,
                          n,
                          o,
                          h.side !== THREE.DoubleSide
                        )),
                  null !== T &&
                    (T.applyMatrix4(this.matrixWorld),
                    (x = a.ray.origin.distanceTo(T)),
                    f > x ||
                      x < a.near ||
                      x > a.far ||
                      s.push({
                        distance: x,
                        point: T,
                        face: new THREE.Face3(
                          d,
                          c,
                          u,
                          THREE.Triangle.normal(r, n, o)
                        ),
                        faceIndex: null,
                        object: this,
                      }));
          }
        } else if (l instanceof THREE.Geometry)
          for (
            p = this.material instanceof THREE.MeshFaceMaterial,
              m = !0 === p ? this.material.materials : null,
              f = a.precision,
              g = l.vertices,
              E = 0,
              v = l.faces.length;
            v > E;
            E++
          )
            if (
              ((_ = l.faces[E]),
              (h = !0 === p ? m[_.materialIndex] : this.material),
              void 0 !== h)
            ) {
              if (
                ((d = g[_.a]),
                (c = g[_.b]),
                (u = g[_.c]),
                !0 === h.morphTargets)
              ) {
                (T = l.morphTargets),
                  (x = this.morphTargetInfluences),
                  r.set(0, 0, 0),
                  n.set(0, 0, 0),
                  o.set(0, 0, 0);
                for (var y = 0, R = T.length; R > y; y++) {
                  var b = x[y];
                  if (0 !== b) {
                    var w = T[y].vertices;
                    (r.x += (w[_.a].x - d.x) * b),
                      (r.y += (w[_.a].y - d.y) * b),
                      (r.z += (w[_.a].z - d.z) * b),
                      (n.x += (w[_.b].x - c.x) * b),
                      (n.y += (w[_.b].y - c.y) * b),
                      (n.z += (w[_.b].z - c.z) * b),
                      (o.x += (w[_.c].x - u.x) * b),
                      (o.y += (w[_.c].y - u.y) * b),
                      (o.z += (w[_.c].z - u.z) * b);
                  }
                }
                r.add(d), n.add(c), o.add(u), (d = r), (c = n), (u = o);
              }
              (T =
                h.side === THREE.BackSide
                  ? t.intersectTriangle(u, c, d, !0)
                  : t.intersectTriangle(d, c, u, h.side !== THREE.DoubleSide)),
                null !== T &&
                  (T.applyMatrix4(this.matrixWorld),
                  (x = a.ray.origin.distanceTo(T)),
                  f > x ||
                    x < a.near ||
                    x > a.far ||
                    s.push({
                      distance: x,
                      point: T,
                      face: _,
                      faceIndex: E,
                      object: this,
                    }));
            }
    };
  })()),
  (THREE.Mesh.prototype.clone = function (e, t) {
    return (
      void 0 === e && (e = new THREE.Mesh(this.geometry, this.material)),
      THREE.Object3D.prototype.clone.call(this, e, t),
      e
    );
  }),
  (THREE.Bone = function (e) {
    THREE.Object3D.call(this), (this.type = "Bone"), (this.skin = e);
  }),
  (THREE.Bone.prototype = Object.create(THREE.Object3D.prototype)),
  (THREE.Bone.prototype.constructor = THREE.Bone),
  (THREE.Skeleton = function (e, t, i) {
    if (
      ((this.useVertexTexture = void 0 !== i ? i : !0),
      (this.identityMatrix = new THREE.Matrix4()),
      (e = e || []),
      (this.bones = e.slice(0)),
      this.useVertexTexture
        ? ((this.boneTextureHeight =
            this.boneTextureWidth =
            e =
              256 < this.bones.length
                ? 64
                : 64 < this.bones.length
                ? 32
                : 16 < this.bones.length
                ? 16
                : 8),
          (this.boneMatrices = new Float32Array(
            this.boneTextureWidth * this.boneTextureHeight * 4
          )),
          (this.boneTexture = new THREE.DataTexture(
            this.boneMatrices,
            this.boneTextureWidth,
            this.boneTextureHeight,
            THREE.RGBAFormat,
            THREE.FloatType
          )),
          (this.boneTexture.minFilter = THREE.NearestFilter),
          (this.boneTexture.magFilter = THREE.NearestFilter),
          (this.boneTexture.generateMipmaps = !1),
          (this.boneTexture.flipY = !1))
        : (this.boneMatrices = new Float32Array(16 * this.bones.length)),
      void 0 === t)
    )
      this.calculateInverses();
    else if (this.bones.length === t.length) this.boneInverses = t.slice(0);
    else
      for (
        THREE.warn("THREE.Skeleton bonInverses is the wrong length."),
          this.boneInverses = [],
          t = 0,
          e = this.bones.length;
        e > t;
        t++
      )
        this.boneInverses.push(new THREE.Matrix4());
  }),
  (THREE.Skeleton.prototype.calculateInverses = function () {
    this.boneInverses = [];
    for (var e = 0, t = this.bones.length; t > e; e++) {
      var i = new THREE.Matrix4();
      this.bones[e] && i.getInverse(this.bones[e].matrixWorld),
        this.boneInverses.push(i);
    }
  }),
  (THREE.Skeleton.prototype.pose = function () {
    for (var e, t = 0, i = this.bones.length; i > t; t++)
      (e = this.bones[t]) && e.matrixWorld.getInverse(this.boneInverses[t]);
    for (t = 0, i = this.bones.length; i > t; t++)
      (e = this.bones[t]) &&
        (e.parent
          ? (e.matrix.getInverse(e.parent.matrixWorld),
            e.matrix.multiply(e.matrixWorld))
          : e.matrix.copy(e.matrixWorld),
        e.matrix.decompose(e.position, e.quaternion, e.scale));
  }),
  (THREE.Skeleton.prototype.update = (function () {
    var e = new THREE.Matrix4();
    return function () {
      for (var t = 0, i = this.bones.length; i > t; t++)
        e.multiplyMatrices(
          this.bones[t] ? this.bones[t].matrixWorld : this.identityMatrix,
          this.boneInverses[t]
        ),
          e.flattenToArrayOffset(this.boneMatrices, 16 * t);
      this.useVertexTexture && (this.boneTexture.needsUpdate = !0);
    };
  })()),
  (THREE.SkinnedMesh = function (e, t, i) {
    if (
      (THREE.Mesh.call(this, e, t),
      (this.type = "SkinnedMesh"),
      (this.bindMode = "attached"),
      (this.bindMatrix = new THREE.Matrix4()),
      (this.bindMatrixInverse = new THREE.Matrix4()),
      (e = []),
      this.geometry && void 0 !== this.geometry.bones)
    ) {
      for (var r, n, o, a, s = 0, l = this.geometry.bones.length; l > s; ++s)
        (r = this.geometry.bones[s]),
          (n = r.pos),
          (o = r.rotq),
          (a = r.scl),
          (t = new THREE.Bone(this)),
          e.push(t),
          (t.name = r.name),
          t.position.set(n[0], n[1], n[2]),
          t.quaternion.set(o[0], o[1], o[2], o[3]),
          void 0 !== a ? t.scale.set(a[0], a[1], a[2]) : t.scale.set(1, 1, 1);
      for (s = 0, l = this.geometry.bones.length; l > s; ++s)
        (r = this.geometry.bones[s]),
          -1 !== r.parent ? e[r.parent].add(e[s]) : this.add(e[s]);
    }
    this.normalizeSkinWeights(),
      this.updateMatrixWorld(!0),
      this.bind(new THREE.Skeleton(e, void 0, i));
  }),
  (THREE.SkinnedMesh.prototype = Object.create(THREE.Mesh.prototype)),
  (THREE.SkinnedMesh.prototype.constructor = THREE.SkinnedMesh),
  (THREE.SkinnedMesh.prototype.bind = function (e, t) {
    (this.skeleton = e),
      void 0 === t && (this.updateMatrixWorld(!0), (t = this.matrixWorld)),
      this.bindMatrix.copy(t),
      this.bindMatrixInverse.getInverse(t);
  }),
  (THREE.SkinnedMesh.prototype.pose = function () {
    this.skeleton.pose();
  }),
  (THREE.SkinnedMesh.prototype.normalizeSkinWeights = function () {
    if (this.geometry instanceof THREE.Geometry)
      for (var e = 0; e < this.geometry.skinIndices.length; e++) {
        var t = this.geometry.skinWeights[e],
          i = 1 / t.lengthManhattan();
        1 / 0 !== i ? t.multiplyScalar(i) : t.set(1);
      }
  }),
  (THREE.SkinnedMesh.prototype.updateMatrixWorld = function (e) {
    THREE.Mesh.prototype.updateMatrixWorld.call(this, !0),
      "attached" === this.bindMode
        ? this.bindMatrixInverse.getInverse(this.matrixWorld)
        : "detached" === this.bindMode
        ? this.bindMatrixInverse.getInverse(this.bindMatrix)
        : THREE.warn(
            "THREE.SkinnedMesh unreckognized bindMode: " + this.bindMode
          );
  }),
  (THREE.SkinnedMesh.prototype.clone = function (e) {
    return (
      void 0 === e &&
        (e = new THREE.SkinnedMesh(
          this.geometry,
          this.material,
          this.useVertexTexture
        )),
      THREE.Mesh.prototype.clone.call(this, e),
      e
    );
  }),
  (THREE.MorphAnimMesh = function (e, t) {
    THREE.Mesh.call(this, e, t),
      (this.type = "MorphAnimMesh"),
      (this.duration = 1e3),
      (this.mirroredLoop = !1),
      (this.currentKeyframe = this.lastKeyframe = this.time = 0),
      (this.direction = 1),
      (this.directionBackwards = !1),
      this.setFrameRange(0, this.geometry.morphTargets.length - 1);
  }),
  (THREE.MorphAnimMesh.prototype = Object.create(THREE.Mesh.prototype)),
  (THREE.MorphAnimMesh.prototype.constructor = THREE.MorphAnimMesh),
  (THREE.MorphAnimMesh.prototype.setFrameRange = function (e, t) {
    (this.startKeyframe = e),
      (this.endKeyframe = t),
      (this.length = this.endKeyframe - this.startKeyframe + 1);
  }),
  (THREE.MorphAnimMesh.prototype.setDirectionForward = function () {
    (this.direction = 1), (this.directionBackwards = !1);
  }),
  (THREE.MorphAnimMesh.prototype.setDirectionBackward = function () {
    (this.direction = -1), (this.directionBackwards = !0);
  }),
  (THREE.MorphAnimMesh.prototype.parseAnimations = function () {
    var e = this.geometry;
    e.animations || (e.animations = {});
    for (
      var t,
        i = e.animations,
        r = /([a-z]+)_?(\d+)/,
        n = 0,
        o = e.morphTargets.length;
      o > n;
      n++
    ) {
      var a = e.morphTargets[n].name.match(r);
      if (a && 1 < a.length) {
        (a = a[1]), i[a] || (i[a] = { start: 1 / 0, end: -(1 / 0) });
        var s = i[a];
        n < s.start && (s.start = n), n > s.end && (s.end = n), t || (t = a);
      }
    }
    e.firstAnimation = t;
  }),
  (THREE.MorphAnimMesh.prototype.setAnimationLabel = function (e, t, i) {
    this.geometry.animations || (this.geometry.animations = {}),
      (this.geometry.animations[e] = { start: t, end: i });
  }),
  (THREE.MorphAnimMesh.prototype.playAnimation = function (e, t) {
    var i = this.geometry.animations[e];
    i
      ? (this.setFrameRange(i.start, i.end),
        (this.duration = ((i.end - i.start) / t) * 1e3),
        (this.time = 0))
      : THREE.warn(
          "THREE.MorphAnimMesh: animation[" +
            e +
            "] undefined in .playAnimation()"
        );
  }),
  (THREE.MorphAnimMesh.prototype.updateAnimation = function (e) {
    var t = this.duration / this.length;
    (this.time += this.direction * e),
      this.mirroredLoop
        ? (this.time > this.duration || 0 > this.time) &&
          ((this.direction *= -1),
          this.time > this.duration &&
            ((this.time = this.duration), (this.directionBackwards = !0)),
          0 > this.time && ((this.time = 0), (this.directionBackwards = !1)))
        : ((this.time %= this.duration),
          0 > this.time && (this.time += this.duration)),
      (e =
        this.startKeyframe +
        THREE.Math.clamp(Math.floor(this.time / t), 0, this.length - 1)),
      e !== this.currentKeyframe &&
        ((this.morphTargetInfluences[this.lastKeyframe] = 0),
        (this.morphTargetInfluences[this.currentKeyframe] = 1),
        (this.morphTargetInfluences[e] = 0),
        (this.lastKeyframe = this.currentKeyframe),
        (this.currentKeyframe = e)),
      (t = (this.time % t) / t),
      this.directionBackwards && (t = 1 - t),
      (this.morphTargetInfluences[this.currentKeyframe] = t),
      (this.morphTargetInfluences[this.lastKeyframe] = 1 - t);
  }),
  (THREE.MorphAnimMesh.prototype.interpolateTargets = function (e, t, i) {
    for (var r = this.morphTargetInfluences, n = 0, o = r.length; o > n; n++)
      r[n] = 0;
    e > -1 && (r[e] = 1 - i), t > -1 && (r[t] = i);
  }),
  (THREE.MorphAnimMesh.prototype.clone = function (e) {
    return (
      void 0 === e &&
        (e = new THREE.MorphAnimMesh(this.geometry, this.material)),
      (e.duration = this.duration),
      (e.mirroredLoop = this.mirroredLoop),
      (e.time = this.time),
      (e.lastKeyframe = this.lastKeyframe),
      (e.currentKeyframe = this.currentKeyframe),
      (e.direction = this.direction),
      (e.directionBackwards = this.directionBackwards),
      THREE.Mesh.prototype.clone.call(this, e),
      e
    );
  }),
  (THREE.LOD = function () {
    THREE.Object3D.call(this), (this.objects = []);
  }),
  (THREE.LOD.prototype = Object.create(THREE.Object3D.prototype)),
  (THREE.LOD.prototype.constructor = THREE.LOD),
  (THREE.LOD.prototype.addLevel = function (e, t) {
    void 0 === t && (t = 0), (t = Math.abs(t));
    for (
      var i = 0;
      i < this.objects.length && !(t < this.objects[i].distance);
      i++
    );
    this.objects.splice(i, 0, { distance: t, object: e }), this.add(e);
  }),
  (THREE.LOD.prototype.getObjectForDistance = function (e) {
    for (
      var t = 1, i = this.objects.length;
      i > t && !(e < this.objects[t].distance);
      t++
    );
    return this.objects[t - 1].object;
  }),
  (THREE.LOD.prototype.raycast = (function () {
    var e = new THREE.Vector3();
    return function (t, i) {
      e.setFromMatrixPosition(this.matrixWorld);
      var r = t.ray.origin.distanceTo(e);
      this.getObjectForDistance(r).raycast(t, i);
    };
  })()),
  (THREE.LOD.prototype.update = (function () {
    var e = new THREE.Vector3(),
      t = new THREE.Vector3();
    return function (i) {
      if (1 < this.objects.length) {
        e.setFromMatrixPosition(i.matrixWorld),
          t.setFromMatrixPosition(this.matrixWorld),
          (i = e.distanceTo(t)),
          (this.objects[0].object.visible = !0);
        for (
          var r = 1, n = this.objects.length;
          n > r && i >= this.objects[r].distance;
          r++
        )
          (this.objects[r - 1].object.visible = !1),
            (this.objects[r].object.visible = !0);
        for (; n > r; r++) this.objects[r].object.visible = !1;
      }
    };
  })()),
  (THREE.LOD.prototype.clone = function (e) {
    void 0 === e && (e = new THREE.LOD()),
      THREE.Object3D.prototype.clone.call(this, e);
    for (var t = 0, i = this.objects.length; i > t; t++) {
      var r = this.objects[t].object.clone();
      (r.visible = 0 === t), e.addLevel(r, this.objects[t].distance);
    }
    return e;
  }),
  (THREE.Sprite = (function () {
    var e = new Uint16Array([0, 1, 2, 0, 2, 3]),
      t = new Float32Array([
        -0.5, -0.5, 0, 0.5, -0.5, 0, 0.5, 0.5, 0, -0.5, 0.5, 0,
      ]),
      i = new Float32Array([0, 0, 1, 0, 1, 1, 0, 1]),
      r = new THREE.BufferGeometry();
    return (
      r.addAttribute("index", new THREE.BufferAttribute(e, 1)),
      r.addAttribute("position", new THREE.BufferAttribute(t, 3)),
      r.addAttribute("uv", new THREE.BufferAttribute(i, 2)),
      function (e) {
        THREE.Object3D.call(this),
          (this.type = "Sprite"),
          (this.geometry = r),
          (this.material = void 0 !== e ? e : new THREE.SpriteMaterial());
      }
    );
  })()),
  (THREE.Sprite.prototype = Object.create(THREE.Object3D.prototype)),
  (THREE.Sprite.prototype.constructor = THREE.Sprite),
  (THREE.Sprite.prototype.raycast = (function () {
    var e = new THREE.Vector3();
    return function (t, i) {
      e.setFromMatrixPosition(this.matrixWorld);
      var r = t.ray.distanceToPoint(e);
      r > this.scale.x ||
        i.push({ distance: r, point: this.position, face: null, object: this });
    };
  })()),
  (THREE.Sprite.prototype.clone = function (e) {
    return (
      void 0 === e && (e = new THREE.Sprite(this.material)),
      THREE.Object3D.prototype.clone.call(this, e),
      e
    );
  }),
  (THREE.Particle = THREE.Sprite),
  (THREE.LensFlare = function (e, t, i, r, n) {
    THREE.Object3D.call(this),
      (this.lensFlares = []),
      (this.positionScreen = new THREE.Vector3()),
      (this.customUpdateCallback = void 0),
      void 0 !== e && this.add(e, t, i, r, n);
  }),
  (THREE.LensFlare.prototype = Object.create(THREE.Object3D.prototype)),
  (THREE.LensFlare.prototype.constructor = THREE.LensFlare),
  (THREE.LensFlare.prototype.add = function (e, t, i, r, n, o) {
    void 0 === t && (t = -1),
      void 0 === i && (i = 0),
      void 0 === o && (o = 1),
      void 0 === n && (n = new THREE.Color(16777215)),
      void 0 === r && (r = THREE.NormalBlending),
      (i = Math.min(i, Math.max(0, i))),
      this.lensFlares.push({
        texture: e,
        size: t,
        distance: i,
        x: 0,
        y: 0,
        z: 0,
        scale: 1,
        rotation: 1,
        opacity: o,
        color: n,
        blending: r,
      });
  }),
  (THREE.LensFlare.prototype.updateLensFlares = function () {
    var e,
      t,
      i = this.lensFlares.length,
      r = 2 * -this.positionScreen.x,
      n = 2 * -this.positionScreen.y;
    for (e = 0; i > e; e++)
      (t = this.lensFlares[e]),
        (t.x = this.positionScreen.x + r * t.distance),
        (t.y = this.positionScreen.y + n * t.distance),
        (t.wantedRotation = t.x * Math.PI * 0.25),
        (t.rotation += 0.25 * (t.wantedRotation - t.rotation));
  }),
  (THREE.Scene = function () {
    THREE.Object3D.call(this),
      (this.type = "Scene"),
      (this.overrideMaterial = this.fog = null),
      (this.autoUpdate = !0);
  }),
  (THREE.Scene.prototype = Object.create(THREE.Object3D.prototype)),
  (THREE.Scene.prototype.constructor = THREE.Scene),
  (THREE.Scene.prototype.clone = function (e) {
    return (
      void 0 === e && (e = new THREE.Scene()),
      THREE.Object3D.prototype.clone.call(this, e),
      null !== this.fog && (e.fog = this.fog.clone()),
      null !== this.overrideMaterial &&
        (e.overrideMaterial = this.overrideMaterial.clone()),
      (e.autoUpdate = this.autoUpdate),
      (e.matrixAutoUpdate = this.matrixAutoUpdate),
      e
    );
  }),
  (THREE.Fog = function (e, t, i) {
    (this.name = ""),
      (this.color = new THREE.Color(e)),
      (this.near = void 0 !== t ? t : 1),
      (this.far = void 0 !== i ? i : 1e3);
  }),
  (THREE.Fog.prototype.clone = function () {
    return new THREE.Fog(this.color.getHex(), this.near, this.far);
  }),
  (THREE.FogExp2 = function (e, t) {
    (this.name = ""),
      (this.color = new THREE.Color(e)),
      (this.density = void 0 !== t ? t : 25e-5);
  }),
  (THREE.FogExp2.prototype.clone = function () {
    return new THREE.FogExp2(this.color.getHex(), this.density);
  }),
  (THREE.ShaderChunk = {}),
  (THREE.ShaderChunk.common =
    "#define PI 3.14159\n#define PI2 6.28318\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n\nfloat square( in float a ) { return a*a; }\nvec2  square( in vec2 a )  { return vec2( a.x*a.x, a.y*a.y ); }\nvec3  square( in vec3 a )  { return vec3( a.x*a.x, a.y*a.y, a.z*a.z ); }\nvec4  square( in vec4 a )  { return vec4( a.x*a.x, a.y*a.y, a.z*a.z, a.w*a.w ); }\nfloat saturate( in float a ) { return clamp( a, 0.0, 1.0 ); }\nvec2  saturate( in vec2 a )  { return clamp( a, 0.0, 1.0 ); }\nvec3  saturate( in vec3 a )  { return clamp( a, 0.0, 1.0 ); }\nvec4  saturate( in vec4 a )  { return clamp( a, 0.0, 1.0 ); }\nfloat average( in float a ) { return a; }\nfloat average( in vec2 a )  { return ( a.x + a.y) * 0.5; }\nfloat average( in vec3 a )  { return ( a.x + a.y + a.z) / 3.0; }\nfloat average( in vec4 a )  { return ( a.x + a.y + a.z + a.w) * 0.25; }\nfloat whiteCompliment( in float a ) { return saturate( 1.0 - a ); }\nvec2  whiteCompliment( in vec2 a )  { return saturate( vec2(1.0) - a ); }\nvec3  whiteCompliment( in vec3 a )  { return saturate( vec3(1.0) - a ); }\nvec4  whiteCompliment( in vec4 a )  { return saturate( vec4(1.0) - a ); }\nvec3 transformDirection( in vec3 normal, in mat4 matrix ) {\n	return normalize( ( matrix * vec4( normal, 0.0 ) ).xyz );\n}\n// http://en.wikibooks.org/wiki/GLSL_Programming/Applying_Matrix_Transformations\nvec3 inverseTransformDirection( in vec3 normal, in mat4 matrix ) {\n	return normalize( ( vec4( normal, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal) {\n	float distance = dot( planeNormal, point-pointOnPlane );\n	return point - distance * planeNormal;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n	return sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n	return pointOnLine + lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) );\n}\nfloat calcLightAttenuation( float lightDistance, float cutoffDistance, float decayExponent ) {\n	if ( decayExponent > 0.0 ) {\n	  return pow( saturate( 1.0 - lightDistance / cutoffDistance ), decayExponent );\n	}\n	return 1.0;\n}\n\nvec3 inputToLinear( in vec3 a ) {\n#ifdef GAMMA_INPUT\n	return pow( a, vec3( float( GAMMA_FACTOR ) ) );\n#else\n	return a;\n#endif\n}\nvec3 linearToOutput( in vec3 a ) {\n#ifdef GAMMA_OUTPUT\n	return pow( a, vec3( 1.0 / float( GAMMA_FACTOR ) ) );\n#else\n	return a;\n#endif\n}\n"),
  (THREE.ShaderChunk.alphatest_fragment =
    "#ifdef ALPHATEST\n\n	if ( diffuseColor.a < ALPHATEST ) discard;\n\n#endif\n"),
  (THREE.ShaderChunk.lights_lambert_vertex =
    "vLightFront = vec3( 0.0 );\n\n#ifdef DOUBLE_SIDED\n\n	vLightBack = vec3( 0.0 );\n\n#endif\n\ntransformedNormal = normalize( transformedNormal );\n\n#if MAX_DIR_LIGHTS > 0\n\nfor( int i = 0; i < MAX_DIR_LIGHTS; i ++ ) {\n\n	vec3 dirVector = transformDirection( directionalLightDirection[ i ], viewMatrix );\n\n	float dotProduct = dot( transformedNormal, dirVector );\n	vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );\n\n	#ifdef DOUBLE_SIDED\n\n		vec3 directionalLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );\n\n		#ifdef WRAP_AROUND\n\n			vec3 directionalLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );\n\n		#endif\n\n	#endif\n\n	#ifdef WRAP_AROUND\n\n		vec3 directionalLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );\n		directionalLightWeighting = mix( directionalLightWeighting, directionalLightWeightingHalf, wrapRGB );\n\n		#ifdef DOUBLE_SIDED\n\n			directionalLightWeightingBack = mix( directionalLightWeightingBack, directionalLightWeightingHalfBack, wrapRGB );\n\n		#endif\n\n	#endif\n\n	vLightFront += directionalLightColor[ i ] * directionalLightWeighting;\n\n	#ifdef DOUBLE_SIDED\n\n		vLightBack += directionalLightColor[ i ] * directionalLightWeightingBack;\n\n	#endif\n\n}\n\n#endif\n\n#if MAX_POINT_LIGHTS > 0\n\n	for( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {\n\n		vec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );\n		vec3 lVector = lPosition.xyz - mvPosition.xyz;\n\n		float attenuation = calcLightAttenuation( length( lVector ), pointLightDistance[ i ], pointLightDecay[ i ] );\n\n		lVector = normalize( lVector );\n		float dotProduct = dot( transformedNormal, lVector );\n\n		vec3 pointLightWeighting = vec3( max( dotProduct, 0.0 ) );\n\n		#ifdef DOUBLE_SIDED\n\n			vec3 pointLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );\n\n			#ifdef WRAP_AROUND\n\n				vec3 pointLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );\n\n			#endif\n\n		#endif\n\n		#ifdef WRAP_AROUND\n\n			vec3 pointLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );\n			pointLightWeighting = mix( pointLightWeighting, pointLightWeightingHalf, wrapRGB );\n\n			#ifdef DOUBLE_SIDED\n\n				pointLightWeightingBack = mix( pointLightWeightingBack, pointLightWeightingHalfBack, wrapRGB );\n\n			#endif\n\n		#endif\n\n		vLightFront += pointLightColor[ i ] * pointLightWeighting * attenuation;\n\n		#ifdef DOUBLE_SIDED\n\n			vLightBack += pointLightColor[ i ] * pointLightWeightingBack * attenuation;\n\n		#endif\n\n	}\n\n#endif\n\n#if MAX_SPOT_LIGHTS > 0\n\n	for( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {\n\n		vec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );\n		vec3 lVector = lPosition.xyz - mvPosition.xyz;\n\n		float spotEffect = dot( spotLightDirection[ i ], normalize( spotLightPosition[ i ] - worldPosition.xyz ) );\n\n		if ( spotEffect > spotLightAngleCos[ i ] ) {\n\n			spotEffect = max( pow( max( spotEffect, 0.0 ), spotLightExponent[ i ] ), 0.0 );\n\n			float attenuation = calcLightAttenuation( length( lVector ), spotLightDistance[ i ], spotLightDecay[ i ] );\n\n			lVector = normalize( lVector );\n\n			float dotProduct = dot( transformedNormal, lVector );\n			vec3 spotLightWeighting = vec3( max( dotProduct, 0.0 ) );\n\n			#ifdef DOUBLE_SIDED\n\n				vec3 spotLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );\n\n				#ifdef WRAP_AROUND\n\n					vec3 spotLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );\n\n				#endif\n\n			#endif\n\n			#ifdef WRAP_AROUND\n\n				vec3 spotLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );\n				spotLightWeighting = mix( spotLightWeighting, spotLightWeightingHalf, wrapRGB );\n\n				#ifdef DOUBLE_SIDED\n\n					spotLightWeightingBack = mix( spotLightWeightingBack, spotLightWeightingHalfBack, wrapRGB );\n\n				#endif\n\n			#endif\n\n			vLightFront += spotLightColor[ i ] * spotLightWeighting * attenuation * spotEffect;\n\n			#ifdef DOUBLE_SIDED\n\n				vLightBack += spotLightColor[ i ] * spotLightWeightingBack * attenuation * spotEffect;\n\n			#endif\n\n		}\n\n	}\n\n#endif\n\n#if MAX_HEMI_LIGHTS > 0\n\n	for( int i = 0; i < MAX_HEMI_LIGHTS; i ++ ) {\n\n		vec3 lVector = transformDirection( hemisphereLightDirection[ i ], viewMatrix );\n\n		float dotProduct = dot( transformedNormal, lVector );\n\n		float hemiDiffuseWeight = 0.5 * dotProduct + 0.5;\n		float hemiDiffuseWeightBack = -0.5 * dotProduct + 0.5;\n\n		vLightFront += mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );\n\n		#ifdef DOUBLE_SIDED\n\n			vLightBack += mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeightBack );\n\n		#endif\n\n	}\n\n#endif\n\nvLightFront += ambientLightColor;\n\n#ifdef DOUBLE_SIDED\n\n	vLightBack += ambientLightColor;\n\n#endif\n"),
  (THREE.ShaderChunk.map_particle_pars_fragment =
    "#ifdef USE_MAP\n\n	uniform vec4 offsetRepeat;\n	uniform sampler2D map;\n\n#endif\n"),
  (THREE.ShaderChunk.default_vertex =
    "#ifdef USE_SKINNING\n\n	vec4 mvPosition = modelViewMatrix * skinned;\n\n#elif defined( USE_MORPHTARGETS )\n\n	vec4 mvPosition = modelViewMatrix * vec4( morphed, 1.0 );\n\n#else\n\n	vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\n#endif\n\ngl_Position = projectionMatrix * mvPosition;\n"),
  (THREE.ShaderChunk.map_pars_fragment =
    "#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP )\n\n	varying vec2 vUv;\n\n#endif\n\n#ifdef USE_MAP\n\n	uniform sampler2D map;\n\n#endif"),
  (THREE.ShaderChunk.skinnormal_vertex =
    "#ifdef USE_SKINNING\n\n	mat4 skinMatrix = mat4( 0.0 );\n	skinMatrix += skinWeight.x * boneMatX;\n	skinMatrix += skinWeight.y * boneMatY;\n	skinMatrix += skinWeight.z * boneMatZ;\n	skinMatrix += skinWeight.w * boneMatW;\n	skinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\n	#ifdef USE_MORPHNORMALS\n\n	vec4 skinnedNormal = skinMatrix * vec4( morphedNormal, 0.0 );\n\n	#else\n\n	vec4 skinnedNormal = skinMatrix * vec4( normal, 0.0 );\n\n	#endif\n\n#endif\n"),
  (THREE.ShaderChunk.logdepthbuf_pars_vertex =
    "#ifdef USE_LOGDEPTHBUF\n\n	#ifdef USE_LOGDEPTHBUF_EXT\n\n		varying float vFragDepth;\n\n	#endif\n\n	uniform float logDepthBufFC;\n\n#endif"),
  (THREE.ShaderChunk.lightmap_pars_vertex =
    "#ifdef USE_LIGHTMAP\n\n	varying vec2 vUv2;\n\n#endif"),
  (THREE.ShaderChunk.lights_phong_fragment =
    "#ifndef FLAT_SHADED\n\n	vec3 normal = normalize( vNormal );\n\n	#ifdef DOUBLE_SIDED\n\n		normal = normal * ( -1.0 + 2.0 * float( gl_FrontFacing ) );\n\n	#endif\n\n#else\n\n	vec3 fdx = dFdx( vViewPosition );\n	vec3 fdy = dFdy( vViewPosition );\n	vec3 normal = normalize( cross( fdx, fdy ) );\n\n#endif\n\nvec3 viewPosition = normalize( vViewPosition );\n\n#ifdef USE_NORMALMAP\n\n	normal = perturbNormal2Arb( -vViewPosition, normal );\n\n#elif defined( USE_BUMPMAP )\n\n	normal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n\n#endif\n\nvec3 totalDiffuseLight = vec3( 0.0 );\nvec3 totalSpecularLight = vec3( 0.0 );\n\n#if MAX_POINT_LIGHTS > 0\n\n	for ( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {\n\n		vec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );\n		vec3 lVector = lPosition.xyz + vViewPosition.xyz;\n\n		float attenuation = calcLightAttenuation( length( lVector ), pointLightDistance[ i ], pointLightDecay[ i ] );\n\n		lVector = normalize( lVector );\n\n		// diffuse\n\n		float dotProduct = dot( normal, lVector );\n\n		#ifdef WRAP_AROUND\n\n			float pointDiffuseWeightFull = max( dotProduct, 0.0 );\n			float pointDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );\n\n			vec3 pointDiffuseWeight = mix( vec3( pointDiffuseWeightFull ), vec3( pointDiffuseWeightHalf ), wrapRGB );\n\n		#else\n\n			float pointDiffuseWeight = max( dotProduct, 0.0 );\n\n		#endif\n\n		totalDiffuseLight += pointLightColor[ i ] * pointDiffuseWeight * attenuation;\n\n				// specular\n\n		vec3 pointHalfVector = normalize( lVector + viewPosition );\n		float pointDotNormalHalf = max( dot( normal, pointHalfVector ), 0.0 );\n		float pointSpecularWeight = specularStrength * max( pow( pointDotNormalHalf, shininess ), 0.0 );\n\n		float specularNormalization = ( shininess + 2.0 ) / 8.0;\n\n		vec3 schlick = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVector, pointHalfVector ), 0.0 ), 5.0 );\n		totalSpecularLight += schlick * pointLightColor[ i ] * pointSpecularWeight * pointDiffuseWeight * attenuation * specularNormalization;\n\n	}\n\n#endif\n\n#if MAX_SPOT_LIGHTS > 0\n\n	for ( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {\n\n		vec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );\n		vec3 lVector = lPosition.xyz + vViewPosition.xyz;\n\n		float attenuation = calcLightAttenuation( length( lVector ), spotLightDistance[ i ], spotLightDecay[ i ] );\n\n		lVector = normalize( lVector );\n\n		float spotEffect = dot( spotLightDirection[ i ], normalize( spotLightPosition[ i ] - vWorldPosition ) );\n\n		if ( spotEffect > spotLightAngleCos[ i ] ) {\n\n			spotEffect = max( pow( max( spotEffect, 0.0 ), spotLightExponent[ i ] ), 0.0 );\n\n			// diffuse\n\n			float dotProduct = dot( normal, lVector );\n\n			#ifdef WRAP_AROUND\n\n				float spotDiffuseWeightFull = max( dotProduct, 0.0 );\n				float spotDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );\n\n				vec3 spotDiffuseWeight = mix( vec3( spotDiffuseWeightFull ), vec3( spotDiffuseWeightHalf ), wrapRGB );\n\n			#else\n\n				float spotDiffuseWeight = max( dotProduct, 0.0 );\n\n			#endif\n\n			totalDiffuseLight += spotLightColor[ i ] * spotDiffuseWeight * attenuation * spotEffect;\n\n			// specular\n\n			vec3 spotHalfVector = normalize( lVector + viewPosition );\n			float spotDotNormalHalf = max( dot( normal, spotHalfVector ), 0.0 );\n			float spotSpecularWeight = specularStrength * max( pow( spotDotNormalHalf, shininess ), 0.0 );\n\n			float specularNormalization = ( shininess + 2.0 ) / 8.0;\n\n			vec3 schlick = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVector, spotHalfVector ), 0.0 ), 5.0 );\n			totalSpecularLight += schlick * spotLightColor[ i ] * spotSpecularWeight * spotDiffuseWeight * attenuation * specularNormalization * spotEffect;\n\n		}\n\n	}\n\n#endif\n\n#if MAX_DIR_LIGHTS > 0\n\n	for( int i = 0; i < MAX_DIR_LIGHTS; i ++ ) {\n\n		vec3 dirVector = transformDirection( directionalLightDirection[ i ], viewMatrix );\n\n		// diffuse\n\n		float dotProduct = dot( normal, dirVector );\n\n		#ifdef WRAP_AROUND\n\n			float dirDiffuseWeightFull = max( dotProduct, 0.0 );\n			float dirDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );\n\n			vec3 dirDiffuseWeight = mix( vec3( dirDiffuseWeightFull ), vec3( dirDiffuseWeightHalf ), wrapRGB );\n\n		#else\n\n			float dirDiffuseWeight = max( dotProduct, 0.0 );\n\n		#endif\n\n		totalDiffuseLight += directionalLightColor[ i ] * dirDiffuseWeight;\n\n		// specular\n\n		vec3 dirHalfVector = normalize( dirVector + viewPosition );\n		float dirDotNormalHalf = max( dot( normal, dirHalfVector ), 0.0 );\n		float dirSpecularWeight = specularStrength * max( pow( dirDotNormalHalf, shininess ), 0.0 );\n\n		/*\n		// fresnel term from skin shader\n		const float F0 = 0.128;\n\n		float base = 1.0 - dot( viewPosition, dirHalfVector );\n		float exponential = pow( base, 5.0 );\n\n		float fresnel = exponential + F0 * ( 1.0 - exponential );\n		*/\n\n		/*\n		// fresnel term from fresnel shader\n		const float mFresnelBias = 0.08;\n		const float mFresnelScale = 0.3;\n		const float mFresnelPower = 5.0;\n\n		float fresnel = mFresnelBias + mFresnelScale * pow( 1.0 + dot( normalize( -viewPosition ), normal ), mFresnelPower );\n		*/\n\n		float specularNormalization = ( shininess + 2.0 ) / 8.0;\n\n		// 		dirSpecular += specular * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight * specularNormalization * fresnel;\n\n		vec3 schlick = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( dirVector, dirHalfVector ), 0.0 ), 5.0 );\n		totalSpecularLight += schlick * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight * specularNormalization;\n\n\n	}\n\n#endif\n\n#if MAX_HEMI_LIGHTS > 0\n\n	for( int i = 0; i < MAX_HEMI_LIGHTS; i ++ ) {\n\n		vec3 lVector = transformDirection( hemisphereLightDirection[ i ], viewMatrix );\n\n		// diffuse\n\n		float dotProduct = dot( normal, lVector );\n		float hemiDiffuseWeight = 0.5 * dotProduct + 0.5;\n\n		vec3 hemiColor = mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );\n\n		totalDiffuseLight += hemiColor;\n\n		// specular (sky light)\n\n		vec3 hemiHalfVectorSky = normalize( lVector + viewPosition );\n		float hemiDotNormalHalfSky = 0.5 * dot( normal, hemiHalfVectorSky ) + 0.5;\n		float hemiSpecularWeightSky = specularStrength * max( pow( max( hemiDotNormalHalfSky, 0.0 ), shininess ), 0.0 );\n\n		// specular (ground light)\n\n		vec3 lVectorGround = -lVector;\n\n		vec3 hemiHalfVectorGround = normalize( lVectorGround + viewPosition );\n		float hemiDotNormalHalfGround = 0.5 * dot( normal, hemiHalfVectorGround ) + 0.5;\n		float hemiSpecularWeightGround = specularStrength * max( pow( max( hemiDotNormalHalfGround, 0.0 ), shininess ), 0.0 );\n\n		float dotProductGround = dot( normal, lVectorGround );\n\n		float specularNormalization = ( shininess + 2.0 ) / 8.0;\n\n		vec3 schlickSky = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVector, hemiHalfVectorSky ), 0.0 ), 5.0 );\n		vec3 schlickGround = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVectorGround, hemiHalfVectorGround ), 0.0 ), 5.0 );\n		totalSpecularLight += hemiColor * specularNormalization * ( schlickSky * hemiSpecularWeightSky * max( dotProduct, 0.0 ) + schlickGround * hemiSpecularWeightGround * max( dotProductGround, 0.0 ) );\n\n	}\n\n#endif\n\n#ifdef METAL\n\n	outgoingLight += diffuseColor.rgb * ( totalDiffuseLight + ambientLightColor ) * specular + totalSpecularLight + emissive;\n\n#else\n\n	outgoingLight += diffuseColor.rgb * ( totalDiffuseLight + ambientLightColor ) + totalSpecularLight + emissive;\n\n#endif\n"),
  (THREE.ShaderChunk.fog_pars_fragment =
    "#ifdef USE_FOG\n\n	uniform vec3 fogColor;\n\n	#ifdef FOG_EXP2\n\n		uniform float fogDensity;\n\n	#else\n\n		uniform float fogNear;\n		uniform float fogFar;\n	#endif\n\n#endif"),
  (THREE.ShaderChunk.morphnormal_vertex =
    "#ifdef USE_MORPHNORMALS\n\n	vec3 morphedNormal = vec3( 0.0 );\n\n	morphedNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n	morphedNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n	morphedNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n	morphedNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n\n	morphedNormal += normal;\n\n#endif"),
  (THREE.ShaderChunk.envmap_pars_fragment =
    "#ifdef USE_ENVMAP\n\n	uniform float reflectivity;\n	#ifdef ENVMAP_TYPE_CUBE\n		uniform samplerCube envMap;\n	#else\n		uniform sampler2D envMap;\n	#endif\n	uniform float flipEnvMap;\n\n	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\n		uniform float refractionRatio;\n\n	#else\n\n		varying vec3 vReflect;\n\n	#endif\n\n#endif\n"),
  (THREE.ShaderChunk.logdepthbuf_fragment =
    "#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)\n\n	gl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;\n\n#endif"),
  (THREE.ShaderChunk.normalmap_pars_fragment =
    "#ifdef USE_NORMALMAP\n\n	uniform sampler2D normalMap;\n	uniform vec2 normalScale;\n\n	// Per-Pixel Tangent Space Normal Mapping\n	// http://hacksoflife.blogspot.ch/2009/11/per-pixel-tangent-space-normal-mapping.html\n\n	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\n		vec3 q0 = dFdx( eye_pos.xyz );\n		vec3 q1 = dFdy( eye_pos.xyz );\n		vec2 st0 = dFdx( vUv.st );\n		vec2 st1 = dFdy( vUv.st );\n\n		vec3 S = normalize( q0 * st1.t - q1 * st0.t );\n		vec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n		vec3 N = normalize( surf_norm );\n\n		vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n		mapN.xy = normalScale * mapN.xy;\n		mat3 tsn = mat3( S, T, N );\n		return normalize( tsn * mapN );\n\n	}\n\n#endif\n"),
  (THREE.ShaderChunk.lights_phong_pars_vertex =
    "#if MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP ) || defined( USE_ENVMAP )\n\n	varying vec3 vWorldPosition;\n\n#endif\n"),
  (THREE.ShaderChunk.lightmap_pars_fragment =
    "#ifdef USE_LIGHTMAP\n\n	varying vec2 vUv2;\n	uniform sampler2D lightMap;\n\n#endif"),
  (THREE.ShaderChunk.shadowmap_vertex =
    "#ifdef USE_SHADOWMAP\n\n	for( int i = 0; i < MAX_SHADOWS; i ++ ) {\n\n		vShadowCoord[ i ] = shadowMatrix[ i ] * worldPosition;\n\n	}\n\n#endif"),
  (THREE.ShaderChunk.lights_phong_vertex =
    "#if MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP ) || defined( USE_ENVMAP )\n\n	vWorldPosition = worldPosition.xyz;\n\n#endif"),
  (THREE.ShaderChunk.map_fragment =
    "#ifdef USE_MAP\n\n	vec4 texelColor = texture2D( map, vUv );\n\n	texelColor.xyz = inputToLinear( texelColor.xyz );\n\n	diffuseColor *= texelColor;\n\n#endif"),
  (THREE.ShaderChunk.lightmap_vertex =
    "#ifdef USE_LIGHTMAP\n\n	vUv2 = uv2;\n\n#endif"),
  (THREE.ShaderChunk.map_particle_fragment =
    "#ifdef USE_MAP\n\n	diffuseColor *= texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) * offsetRepeat.zw + offsetRepeat.xy );\n\n#endif\n"),
  (THREE.ShaderChunk.color_pars_fragment =
    "#ifdef USE_COLOR\n\n	varying vec3 vColor;\n\n#endif\n"),
  (THREE.ShaderChunk.color_vertex =
    "#ifdef USE_COLOR\n\n	vColor.xyz = inputToLinear( color.xyz );\n\n#endif"),
  (THREE.ShaderChunk.skinning_vertex =
    "#ifdef USE_SKINNING\n\n	#ifdef USE_MORPHTARGETS\n\n	vec4 skinVertex = bindMatrix * vec4( morphed, 1.0 );\n\n	#else\n\n	vec4 skinVertex = bindMatrix * vec4( position, 1.0 );\n\n	#endif\n\n	vec4 skinned = vec4( 0.0 );\n	skinned += boneMatX * skinVertex * skinWeight.x;\n	skinned += boneMatY * skinVertex * skinWeight.y;\n	skinned += boneMatZ * skinVertex * skinWeight.z;\n	skinned += boneMatW * skinVertex * skinWeight.w;\n	skinned  = bindMatrixInverse * skinned;\n\n#endif\n"),
  (THREE.ShaderChunk.envmap_pars_vertex =
    "#if defined( USE_ENVMAP ) && ! defined( USE_BUMPMAP ) && ! defined( USE_NORMALMAP ) && ! defined( PHONG )\n\n	varying vec3 vReflect;\n\n	uniform float refractionRatio;\n\n#endif\n"),
  (THREE.ShaderChunk.linear_to_gamma_fragment =
    "\n	outgoingLight = linearToOutput( outgoingLight );\n"),
  (THREE.ShaderChunk.color_pars_vertex =
    "#ifdef USE_COLOR\n\n	varying vec3 vColor;\n\n#endif"),
  (THREE.ShaderChunk.lights_lambert_pars_vertex =
    "uniform vec3 ambientLightColor;\n\n#if MAX_DIR_LIGHTS > 0\n\n	uniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];\n	uniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];\n\n#endif\n\n#if MAX_HEMI_LIGHTS > 0\n\n	uniform vec3 hemisphereLightSkyColor[ MAX_HEMI_LIGHTS ];\n	uniform vec3 hemisphereLightGroundColor[ MAX_HEMI_LIGHTS ];\n	uniform vec3 hemisphereLightDirection[ MAX_HEMI_LIGHTS ];\n\n#endif\n\n#if MAX_POINT_LIGHTS > 0\n\n	uniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];\n	uniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];\n	uniform float pointLightDistance[ MAX_POINT_LIGHTS ];\n	uniform float pointLightDecay[ MAX_POINT_LIGHTS ];\n\n#endif\n\n#if MAX_SPOT_LIGHTS > 0\n\n	uniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];\n	uniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];\n	uniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];\n	uniform float spotLightDistance[ MAX_SPOT_LIGHTS ];\n	uniform float spotLightAngleCos[ MAX_SPOT_LIGHTS ];\n	uniform float spotLightExponent[ MAX_SPOT_LIGHTS ];\n	uniform float spotLightDecay[ MAX_SPOT_LIGHTS ];\n\n#endif\n\n#ifdef WRAP_AROUND\n\n	uniform vec3 wrapRGB;\n\n#endif\n"),
  (THREE.ShaderChunk.map_pars_vertex =
    "#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP )\n\n	varying vec2 vUv;\n	uniform vec4 offsetRepeat;\n\n#endif\n"),
  (THREE.ShaderChunk.envmap_fragment =
    "#ifdef USE_ENVMAP\n\n	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\n		vec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\n		// Transforming Normal Vectors with the Inverse Transformation\n		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\n		#ifdef ENVMAP_MODE_REFLECTION\n\n			vec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\n		#else\n\n			vec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\n		#endif\n\n	#else\n\n		vec3 reflectVec = vReflect;\n\n	#endif\n\n	#ifdef DOUBLE_SIDED\n		float flipNormal = ( -1.0 + 2.0 * float( gl_FrontFacing ) );\n	#else\n		float flipNormal = 1.0;\n	#endif\n\n	#ifdef ENVMAP_TYPE_CUBE\n		vec4 envColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\n	#elif defined( ENVMAP_TYPE_EQUIREC )\n		vec2 sampleUV;\n		sampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\n		sampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n		vec4 envColor = texture2D( envMap, sampleUV );\n\n	#elif defined( ENVMAP_TYPE_SPHERE )\n		vec3 reflectView = flipNormal * normalize((viewMatrix * vec4( reflectVec, 0.0 )).xyz + vec3(0.0,0.0,1.0));\n		vec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n	#endif\n\n	envColor.xyz = inputToLinear( envColor.xyz );\n\n	#ifdef ENVMAP_BLENDING_MULTIPLY\n\n		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\n	#elif defined( ENVMAP_BLENDING_MIX )\n\n		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\n	#elif defined( ENVMAP_BLENDING_ADD )\n\n		outgoingLight += envColor.xyz * specularStrength * reflectivity;\n\n	#endif\n\n#endif\n"),
  (THREE.ShaderChunk.specularmap_pars_fragment =
    "#ifdef USE_SPECULARMAP\n\n	uniform sampler2D specularMap;\n\n#endif"),
  (THREE.ShaderChunk.logdepthbuf_vertex =
    "#ifdef USE_LOGDEPTHBUF\n\n	gl_Position.z = log2(max( EPSILON, gl_Position.w + 1.0 )) * logDepthBufFC;\n\n	#ifdef USE_LOGDEPTHBUF_EXT\n\n		vFragDepth = 1.0 + gl_Position.w;\n\n#else\n\n		gl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;\n\n	#endif\n\n#endif"),
  (THREE.ShaderChunk.morphtarget_pars_vertex =
    "#ifdef USE_MORPHTARGETS\n\n	#ifndef USE_MORPHNORMALS\n\n	uniform float morphTargetInfluences[ 8 ];\n\n	#else\n\n	uniform float morphTargetInfluences[ 4 ];\n\n	#endif\n\n#endif"),
  (THREE.ShaderChunk.specularmap_fragment =
    "float specularStrength;\n\n#ifdef USE_SPECULARMAP\n\n	vec4 texelSpecular = texture2D( specularMap, vUv );\n	specularStrength = texelSpecular.r;\n\n#else\n\n	specularStrength = 1.0;\n\n#endif"),
  (THREE.ShaderChunk.fog_fragment =
    "#ifdef USE_FOG\n\n	#ifdef USE_LOGDEPTHBUF_EXT\n\n		float depth = gl_FragDepthEXT / gl_FragCoord.w;\n\n	#else\n\n		float depth = gl_FragCoord.z / gl_FragCoord.w;\n\n	#endif\n\n	#ifdef FOG_EXP2\n\n		float fogFactor = exp2( - square( fogDensity ) * square( depth ) * LOG2 );\n		fogFactor = whiteCompliment( fogFactor );\n\n	#else\n\n		float fogFactor = smoothstep( fogNear, fogFar, depth );\n\n	#endif\n	\n	outgoingLight = mix( outgoingLight, fogColor, fogFactor );\n\n#endif"),
  (THREE.ShaderChunk.bumpmap_pars_fragment =
    "#ifdef USE_BUMPMAP\n\n	uniform sampler2D bumpMap;\n	uniform float bumpScale;\n\n	// Derivative maps - bump mapping unparametrized surfaces by Morten Mikkelsen\n	// http://mmikkelsen3d.blogspot.sk/2011/07/derivative-maps.html\n\n	// Evaluate the derivative of the height w.r.t. screen-space using forward differencing (listing 2)\n\n	vec2 dHdxy_fwd() {\n\n		vec2 dSTdx = dFdx( vUv );\n		vec2 dSTdy = dFdy( vUv );\n\n		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\n		return vec2( dBx, dBy );\n\n	}\n\n	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\n		vec3 vSigmaX = dFdx( surf_pos );\n		vec3 vSigmaY = dFdy( surf_pos );\n		vec3 vN = surf_norm;		// normalized\n\n		vec3 R1 = cross( vSigmaY, vN );\n		vec3 R2 = cross( vN, vSigmaX );\n\n		float fDet = dot( vSigmaX, R1 );\n\n		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n		return normalize( abs( fDet ) * surf_norm - vGrad );\n\n	}\n\n#endif\n"),
  (THREE.ShaderChunk.defaultnormal_vertex =
    "#ifdef USE_SKINNING\n\n	vec3 objectNormal = skinnedNormal.xyz;\n\n#elif defined( USE_MORPHNORMALS )\n\n	vec3 objectNormal = morphedNormal;\n\n#else\n\n	vec3 objectNormal = normal;\n\n#endif\n\n#ifdef FLIP_SIDED\n\n	objectNormal = -objectNormal;\n\n#endif\n\nvec3 transformedNormal = normalMatrix * objectNormal;\n"),
  (THREE.ShaderChunk.lights_phong_pars_fragment =
    "uniform vec3 ambientLightColor;\n\n#if MAX_DIR_LIGHTS > 0\n\n	uniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];\n	uniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];\n\n#endif\n\n#if MAX_HEMI_LIGHTS > 0\n\n	uniform vec3 hemisphereLightSkyColor[ MAX_HEMI_LIGHTS ];\n	uniform vec3 hemisphereLightGroundColor[ MAX_HEMI_LIGHTS ];\n	uniform vec3 hemisphereLightDirection[ MAX_HEMI_LIGHTS ];\n\n#endif\n\n#if MAX_POINT_LIGHTS > 0\n\n	uniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];\n\n	uniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];\n	uniform float pointLightDistance[ MAX_POINT_LIGHTS ];\n	uniform float pointLightDecay[ MAX_POINT_LIGHTS ];\n\n#endif\n\n#if MAX_SPOT_LIGHTS > 0\n\n	uniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];\n	uniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];\n	uniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];\n	uniform float spotLightAngleCos[ MAX_SPOT_LIGHTS ];\n	uniform float spotLightExponent[ MAX_SPOT_LIGHTS ];\n	uniform float spotLightDistance[ MAX_SPOT_LIGHTS ];\n	uniform float spotLightDecay[ MAX_SPOT_LIGHTS ];\n\n#endif\n\n#if MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP ) || defined( USE_ENVMAP )\n\n	varying vec3 vWorldPosition;\n\n#endif\n\n#ifdef WRAP_AROUND\n\n	uniform vec3 wrapRGB;\n\n#endif\n\nvarying vec3 vViewPosition;\n\n#ifndef FLAT_SHADED\n\n	varying vec3 vNormal;\n\n#endif\n"),
  (THREE.ShaderChunk.skinbase_vertex =
    "#ifdef USE_SKINNING\n\n	mat4 boneMatX = getBoneMatrix( skinIndex.x );\n	mat4 boneMatY = getBoneMatrix( skinIndex.y );\n	mat4 boneMatZ = getBoneMatrix( skinIndex.z );\n	mat4 boneMatW = getBoneMatrix( skinIndex.w );\n\n#endif"),
  (THREE.ShaderChunk.map_vertex =
    "#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP )\n\n	vUv = uv * offsetRepeat.zw + offsetRepeat.xy;\n\n#endif"),
  (THREE.ShaderChunk.lightmap_fragment =
    "#ifdef USE_LIGHTMAP\n\n	outgoingLight *= diffuseColor.xyz * texture2D( lightMap, vUv2 ).xyz;\n\n#endif"),
  (THREE.ShaderChunk.shadowmap_pars_vertex =
    "#ifdef USE_SHADOWMAP\n\n	varying vec4 vShadowCoord[ MAX_SHADOWS ];\n	uniform mat4 shadowMatrix[ MAX_SHADOWS ];\n\n#endif"),
  (THREE.ShaderChunk.color_fragment =
    "#ifdef USE_COLOR\n\n	diffuseColor.rgb *= vColor;\n\n#endif"),
  (THREE.ShaderChunk.morphtarget_vertex =
    "#ifdef USE_MORPHTARGETS\n\n	vec3 morphed = vec3( 0.0 );\n	morphed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n	morphed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n	morphed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n	morphed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\n	#ifndef USE_MORPHNORMALS\n\n	morphed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n	morphed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n	morphed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n	morphed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\n	#endif\n\n	morphed += position;\n\n#endif"),
  (THREE.ShaderChunk.envmap_vertex =
    "#if defined( USE_ENVMAP ) && ! defined( USE_BUMPMAP ) && ! defined( USE_NORMALMAP ) && ! defined( PHONG )\n\n	vec3 worldNormal = transformDirection( objectNormal, modelMatrix );\n\n	vec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\n	#ifdef ENVMAP_MODE_REFLECTION\n\n		vReflect = reflect( cameraToVertex, worldNormal );\n\n	#else\n\n		vReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\n	#endif\n\n#endif\n"),
  (THREE.ShaderChunk.shadowmap_fragment =
    "#ifdef USE_SHADOWMAP\n\n	#ifdef SHADOWMAP_DEBUG\n\n		vec3 frustumColors[3];\n		frustumColors[0] = vec3( 1.0, 0.5, 0.0 );\n		frustumColors[1] = vec3( 0.0, 1.0, 0.8 );\n		frustumColors[2] = vec3( 0.0, 0.5, 1.0 );\n\n	#endif\n\n	#ifdef SHADOWMAP_CASCADE\n\n		int inFrustumCount = 0;\n\n	#endif\n\n	float fDepth;\n	vec3 shadowColor = vec3( 1.0 );\n\n	for( int i = 0; i < MAX_SHADOWS; i ++ ) {\n\n		vec3 shadowCoord = vShadowCoord[ i ].xyz / vShadowCoord[ i ].w;\n\n				// if ( something && something ) breaks ATI OpenGL shader compiler\n				// if ( all( something, something ) ) using this instead\n\n		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n		bool inFrustum = all( inFrustumVec );\n\n				// don't shadow pixels outside of light frustum\n				// use just first frustum (for cascades)\n				// don't shadow pixels behind far plane of light frustum\n\n		#ifdef SHADOWMAP_CASCADE\n\n			inFrustumCount += int( inFrustum );\n			bvec3 frustumTestVec = bvec3( inFrustum, inFrustumCount == 1, shadowCoord.z <= 1.0 );\n\n		#else\n\n			bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\n		#endif\n\n		bool frustumTest = all( frustumTestVec );\n\n		if ( frustumTest ) {\n\n			shadowCoord.z += shadowBias[ i ];\n\n			#if defined( SHADOWMAP_TYPE_PCF )\n\n						// Percentage-close filtering\n						// (9 pixel kernel)\n						// http://fabiensanglard.net/shadowmappingPCF/\n\n				float shadow = 0.0;\n\n		/*\n						// nested loops breaks shader compiler / validator on some ATI cards when using OpenGL\n						// must enroll loop manually\n\n				for ( float y = -1.25; y <= 1.25; y += 1.25 )\n					for ( float x = -1.25; x <= 1.25; x += 1.25 ) {\n\n						vec4 rgbaDepth = texture2D( shadowMap[ i ], vec2( x * xPixelOffset, y * yPixelOffset ) + shadowCoord.xy );\n\n								// doesn't seem to produce any noticeable visual difference compared to simple texture2D lookup\n								//vec4 rgbaDepth = texture2DProj( shadowMap[ i ], vec4( vShadowCoord[ i ].w * ( vec2( x * xPixelOffset, y * yPixelOffset ) + shadowCoord.xy ), 0.05, vShadowCoord[ i ].w ) );\n\n						float fDepth = unpackDepth( rgbaDepth );\n\n						if ( fDepth < shadowCoord.z )\n							shadow += 1.0;\n\n				}\n\n				shadow /= 9.0;\n\n		*/\n\n				const float shadowDelta = 1.0 / 9.0;\n\n				float xPixelOffset = 1.0 / shadowMapSize[ i ].x;\n				float yPixelOffset = 1.0 / shadowMapSize[ i ].y;\n\n				float dx0 = -1.25 * xPixelOffset;\n				float dy0 = -1.25 * yPixelOffset;\n				float dx1 = 1.25 * xPixelOffset;\n				float dy1 = 1.25 * yPixelOffset;\n\n				fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy0 ) ) );\n				if ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n				fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy0 ) ) );\n				if ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n				fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy0 ) ) );\n				if ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n				fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, 0.0 ) ) );\n				if ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n				fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy ) );\n				if ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n				fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, 0.0 ) ) );\n				if ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n				fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy1 ) ) );\n				if ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n				fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy1 ) ) );\n				if ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n				fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy1 ) ) );\n				if ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n				shadowColor = shadowColor * vec3( ( 1.0 - shadowDarkness[ i ] * shadow ) );\n\n			#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\n						// Percentage-close filtering\n						// (9 pixel kernel)\n						// http://fabiensanglard.net/shadowmappingPCF/\n\n				float shadow = 0.0;\n\n				float xPixelOffset = 1.0 / shadowMapSize[ i ].x;\n				float yPixelOffset = 1.0 / shadowMapSize[ i ].y;\n\n				float dx0 = -1.0 * xPixelOffset;\n				float dy0 = -1.0 * yPixelOffset;\n				float dx1 = 1.0 * xPixelOffset;\n				float dy1 = 1.0 * yPixelOffset;\n\n				mat3 shadowKernel;\n				mat3 depthKernel;\n\n				depthKernel[0][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy0 ) ) );\n				depthKernel[0][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, 0.0 ) ) );\n				depthKernel[0][2] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy1 ) ) );\n				depthKernel[1][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy0 ) ) );\n				depthKernel[1][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy ) );\n				depthKernel[1][2] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy1 ) ) );\n				depthKernel[2][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy0 ) ) );\n				depthKernel[2][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, 0.0 ) ) );\n				depthKernel[2][2] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy1 ) ) );\n\n				vec3 shadowZ = vec3( shadowCoord.z );\n				shadowKernel[0] = vec3(lessThan(depthKernel[0], shadowZ ));\n				shadowKernel[0] *= vec3(0.25);\n\n				shadowKernel[1] = vec3(lessThan(depthKernel[1], shadowZ ));\n				shadowKernel[1] *= vec3(0.25);\n\n				shadowKernel[2] = vec3(lessThan(depthKernel[2], shadowZ ));\n				shadowKernel[2] *= vec3(0.25);\n\n				vec2 fractionalCoord = 1.0 - fract( shadowCoord.xy * shadowMapSize[i].xy );\n\n				shadowKernel[0] = mix( shadowKernel[1], shadowKernel[0], fractionalCoord.x );\n				shadowKernel[1] = mix( shadowKernel[2], shadowKernel[1], fractionalCoord.x );\n\n				vec4 shadowValues;\n				shadowValues.x = mix( shadowKernel[0][1], shadowKernel[0][0], fractionalCoord.y );\n				shadowValues.y = mix( shadowKernel[0][2], shadowKernel[0][1], fractionalCoord.y );\n				shadowValues.z = mix( shadowKernel[1][1], shadowKernel[1][0], fractionalCoord.y );\n				shadowValues.w = mix( shadowKernel[1][2], shadowKernel[1][1], fractionalCoord.y );\n\n				shadow = dot( shadowValues, vec4( 1.0 ) );\n\n				shadowColor = shadowColor * vec3( ( 1.0 - shadowDarkness[ i ] * shadow ) );\n\n			#else\n\n				vec4 rgbaDepth = texture2D( shadowMap[ i ], shadowCoord.xy );\n				float fDepth = unpackDepth( rgbaDepth );\n\n				if ( fDepth < shadowCoord.z )\n\n		// spot with multiple shadows is darker\n\n					shadowColor = shadowColor * vec3( 1.0 - shadowDarkness[ i ] );\n\n		// spot with multiple shadows has the same color as single shadow spot\n\n		// 					shadowColor = min( shadowColor, vec3( shadowDarkness[ i ] ) );\n\n			#endif\n\n		}\n\n\n		#ifdef SHADOWMAP_DEBUG\n\n			#ifdef SHADOWMAP_CASCADE\n\n				if ( inFrustum && inFrustumCount == 1 ) outgoingLight *= frustumColors[ i ];\n\n			#else\n\n				if ( inFrustum ) outgoingLight *= frustumColors[ i ];\n\n			#endif\n\n		#endif\n\n	}\n\n	// NOTE: I am unsure if this is correct in linear space.  -bhouston, Dec 29, 2014\n	shadowColor = inputToLinear( shadowColor );\n\n	outgoingLight = outgoingLight * shadowColor;\n\n#endif\n"),
  (THREE.ShaderChunk.worldpos_vertex =
    "#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\n\n	#ifdef USE_SKINNING\n\n		vec4 worldPosition = modelMatrix * skinned;\n\n	#elif defined( USE_MORPHTARGETS )\n\n		vec4 worldPosition = modelMatrix * vec4( morphed, 1.0 );\n\n	#else\n\n		vec4 worldPosition = modelMatrix * vec4( position, 1.0 );\n\n	#endif\n\n#endif\n"),
  (THREE.ShaderChunk.shadowmap_pars_fragment =
    "#ifdef USE_SHADOWMAP\n\n	uniform sampler2D shadowMap[ MAX_SHADOWS ];\n	uniform vec2 shadowMapSize[ MAX_SHADOWS ];\n\n	uniform float shadowDarkness[ MAX_SHADOWS ];\n	uniform float shadowBias[ MAX_SHADOWS ];\n\n	varying vec4 vShadowCoord[ MAX_SHADOWS ];\n\n	float unpackDepth( const in vec4 rgba_depth ) {\n\n		const vec4 bit_shift = vec4( 1.0 / ( 256.0 * 256.0 * 256.0 ), 1.0 / ( 256.0 * 256.0 ), 1.0 / 256.0, 1.0 );\n		float depth = dot( rgba_depth, bit_shift );\n		return depth;\n\n	}\n\n#endif"),
  (THREE.ShaderChunk.skinning_pars_vertex =
    "#ifdef USE_SKINNING\n\n	uniform mat4 bindMatrix;\n	uniform mat4 bindMatrixInverse;\n\n	#ifdef BONE_TEXTURE\n\n		uniform sampler2D boneTexture;\n		uniform int boneTextureWidth;\n		uniform int boneTextureHeight;\n\n		mat4 getBoneMatrix( const in float i ) {\n\n			float j = i * 4.0;\n			float x = mod( j, float( boneTextureWidth ) );\n			float y = floor( j / float( boneTextureWidth ) );\n\n			float dx = 1.0 / float( boneTextureWidth );\n			float dy = 1.0 / float( boneTextureHeight );\n\n			y = dy * ( y + 0.5 );\n\n			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\n			mat4 bone = mat4( v1, v2, v3, v4 );\n\n			return bone;\n\n		}\n\n	#else\n\n		uniform mat4 boneGlobalMatrices[ MAX_BONES ];\n\n		mat4 getBoneMatrix( const in float i ) {\n\n			mat4 bone = boneGlobalMatrices[ int(i) ];\n			return bone;\n\n		}\n\n	#endif\n\n#endif\n"),
  (THREE.ShaderChunk.logdepthbuf_pars_fragment =
    "#ifdef USE_LOGDEPTHBUF\n\n	uniform float logDepthBufFC;\n\n	#ifdef USE_LOGDEPTHBUF_EXT\n\n		#extension GL_EXT_frag_depth : enable\n		varying float vFragDepth;\n\n	#endif\n\n#endif"),
  (THREE.ShaderChunk.alphamap_fragment =
    "#ifdef USE_ALPHAMAP\n\n	diffuseColor.a *= texture2D( alphaMap, vUv ).g;\n\n#endif\n"),
  (THREE.ShaderChunk.alphamap_pars_fragment =
    "#ifdef USE_ALPHAMAP\n\n	uniform sampler2D alphaMap;\n\n#endif\n"),
  (THREE.UniformsUtils = {
    merge: function (e) {
      for (var t = {}, i = 0; i < e.length; i++) {
        var r,
          n = this.clone(e[i]);
        for (r in n) t[r] = n[r];
      }
      return t;
    },
    clone: function (e) {
      var t,
        i = {};
      for (t in e) {
        i[t] = {};
        for (var r in e[t]) {
          var n = e[t][r];
          i[t][r] =
            n instanceof THREE.Color ||
            n instanceof THREE.Vector2 ||
            n instanceof THREE.Vector3 ||
            n instanceof THREE.Vector4 ||
            n instanceof THREE.Matrix4 ||
            n instanceof THREE.Texture
              ? n.clone()
              : n instanceof Array
              ? n.slice()
              : n;
        }
      }
      return i;
    },
  }),
  (THREE.UniformsLib = {
    common: {
      diffuse: { type: "c", value: new THREE.Color(15658734) },
      opacity: { type: "f", value: 1 },
      map: { type: "t", value: null },
      offsetRepeat: { type: "v4", value: new THREE.Vector4(0, 0, 1, 1) },
      lightMap: { type: "t", value: null },
      specularMap: { type: "t", value: null },
      alphaMap: { type: "t", value: null },
      envMap: { type: "t", value: null },
      flipEnvMap: { type: "f", value: -1 },
      reflectivity: { type: "f", value: 1 },
      refractionRatio: { type: "f", value: 0.98 },
      morphTargetInfluences: { type: "f", value: 0 },
    },
    bump: {
      bumpMap: { type: "t", value: null },
      bumpScale: { type: "f", value: 1 },
    },
    normalmap: {
      normalMap: { type: "t", value: null },
      normalScale: { type: "v2", value: new THREE.Vector2(1, 1) },
    },
    fog: {
      fogDensity: { type: "f", value: 25e-5 },
      fogNear: { type: "f", value: 1 },
      fogFar: { type: "f", value: 2e3 },
      fogColor: { type: "c", value: new THREE.Color(16777215) },
    },
    lights: {
      ambientLightColor: { type: "fv", value: [] },
      directionalLightDirection: { type: "fv", value: [] },
      directionalLightColor: { type: "fv", value: [] },
      hemisphereLightDirection: { type: "fv", value: [] },
      hemisphereLightSkyColor: { type: "fv", value: [] },
      hemisphereLightGroundColor: { type: "fv", value: [] },
      pointLightColor: { type: "fv", value: [] },
      pointLightPosition: { type: "fv", value: [] },
      pointLightDistance: { type: "fv1", value: [] },
      pointLightDecay: { type: "fv1", value: [] },
      spotLightColor: { type: "fv", value: [] },
      spotLightPosition: { type: "fv", value: [] },
      spotLightDirection: { type: "fv", value: [] },
      spotLightDistance: { type: "fv1", value: [] },
      spotLightAngleCos: { type: "fv1", value: [] },
      spotLightExponent: { type: "fv1", value: [] },
      spotLightDecay: { type: "fv1", value: [] },
    },
    particle: {
      psColor: { type: "c", value: new THREE.Color(15658734) },
      opacity: { type: "f", value: 1 },
      size: { type: "f", value: 1 },
      scale: { type: "f", value: 1 },
      map: { type: "t", value: null },
      offsetRepeat: { type: "v4", value: new THREE.Vector4(0, 0, 1, 1) },
      fogDensity: { type: "f", value: 25e-5 },
      fogNear: { type: "f", value: 1 },
      fogFar: { type: "f", value: 2e3 },
      fogColor: { type: "c", value: new THREE.Color(16777215) },
    },
    shadowmap: {
      shadowMap: { type: "tv", value: [] },
      shadowMapSize: { type: "v2v", value: [] },
      shadowBias: { type: "fv1", value: [] },
      shadowDarkness: { type: "fv1", value: [] },
      shadowMatrix: { type: "m4v", value: [] },
    },
  }),
  (THREE.ShaderLib = {
    basic: {
      uniforms: THREE.UniformsUtils.merge([
        THREE.UniformsLib.common,
        THREE.UniformsLib.fog,
        THREE.UniformsLib.shadowmap,
      ]),
      vertexShader: [
        THREE.ShaderChunk.common,
        THREE.ShaderChunk.map_pars_vertex,
        THREE.ShaderChunk.lightmap_pars_vertex,
        THREE.ShaderChunk.envmap_pars_vertex,
        THREE.ShaderChunk.color_pars_vertex,
        THREE.ShaderChunk.morphtarget_pars_vertex,
        THREE.ShaderChunk.skinning_pars_vertex,
        THREE.ShaderChunk.shadowmap_pars_vertex,
        THREE.ShaderChunk.logdepthbuf_pars_vertex,
        "void main() {",
        THREE.ShaderChunk.map_vertex,
        THREE.ShaderChunk.lightmap_vertex,
        THREE.ShaderChunk.color_vertex,
        THREE.ShaderChunk.skinbase_vertex,
        "	#ifdef USE_ENVMAP",
        THREE.ShaderChunk.morphnormal_vertex,
        THREE.ShaderChunk.skinnormal_vertex,
        THREE.ShaderChunk.defaultnormal_vertex,
        "	#endif",
        THREE.ShaderChunk.morphtarget_vertex,
        THREE.ShaderChunk.skinning_vertex,
        THREE.ShaderChunk.default_vertex,
        THREE.ShaderChunk.logdepthbuf_vertex,
        THREE.ShaderChunk.worldpos_vertex,
        THREE.ShaderChunk.envmap_vertex,
        THREE.ShaderChunk.shadowmap_vertex,
        "}",
      ].join("\n"),
      fragmentShader: [
        "uniform vec3 diffuse;\nuniform float opacity;",
        THREE.ShaderChunk.common,
        THREE.ShaderChunk.color_pars_fragment,
        THREE.ShaderChunk.map_pars_fragment,
        THREE.ShaderChunk.alphamap_pars_fragment,
        THREE.ShaderChunk.lightmap_pars_fragment,
        THREE.ShaderChunk.envmap_pars_fragment,
        THREE.ShaderChunk.fog_pars_fragment,
        THREE.ShaderChunk.shadowmap_pars_fragment,
        THREE.ShaderChunk.specularmap_pars_fragment,
        THREE.ShaderChunk.logdepthbuf_pars_fragment,
        "void main() {\n	vec3 outgoingLight = vec3( 0.0 );\n	vec4 diffuseColor = vec4( diffuse, opacity );",
        THREE.ShaderChunk.logdepthbuf_fragment,
        THREE.ShaderChunk.map_fragment,
        THREE.ShaderChunk.color_fragment,
        THREE.ShaderChunk.alphamap_fragment,
        THREE.ShaderChunk.alphatest_fragment,
        THREE.ShaderChunk.specularmap_fragment,
        "	outgoingLight = diffuseColor.rgb;",
        THREE.ShaderChunk.lightmap_fragment,
        THREE.ShaderChunk.envmap_fragment,
        THREE.ShaderChunk.shadowmap_fragment,
        THREE.ShaderChunk.linear_to_gamma_fragment,
        THREE.ShaderChunk.fog_fragment,
        "	gl_FragColor = vec4( outgoingLight, diffuseColor.a );\n}",
      ].join("\n"),
    },
    lambert: {
      uniforms: THREE.UniformsUtils.merge([
        THREE.UniformsLib.common,
        THREE.UniformsLib.fog,
        THREE.UniformsLib.lights,
        THREE.UniformsLib.shadowmap,
        {
          emissive: { type: "c", value: new THREE.Color(0) },
          wrapRGB: { type: "v3", value: new THREE.Vector3(1, 1, 1) },
        },
      ]),
      vertexShader: [
        "#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n	varying vec3 vLightBack;\n#endif",
        THREE.ShaderChunk.common,
        THREE.ShaderChunk.map_pars_vertex,
        THREE.ShaderChunk.lightmap_pars_vertex,
        THREE.ShaderChunk.envmap_pars_vertex,
        THREE.ShaderChunk.lights_lambert_pars_vertex,
        THREE.ShaderChunk.color_pars_vertex,
        THREE.ShaderChunk.morphtarget_pars_vertex,
        THREE.ShaderChunk.skinning_pars_vertex,
        THREE.ShaderChunk.shadowmap_pars_vertex,
        THREE.ShaderChunk.logdepthbuf_pars_vertex,
        "void main() {",
        THREE.ShaderChunk.map_vertex,
        THREE.ShaderChunk.lightmap_vertex,
        THREE.ShaderChunk.color_vertex,
        THREE.ShaderChunk.morphnormal_vertex,
        THREE.ShaderChunk.skinbase_vertex,
        THREE.ShaderChunk.skinnormal_vertex,
        THREE.ShaderChunk.defaultnormal_vertex,
        THREE.ShaderChunk.morphtarget_vertex,
        THREE.ShaderChunk.skinning_vertex,
        THREE.ShaderChunk.default_vertex,
        THREE.ShaderChunk.logdepthbuf_vertex,
        THREE.ShaderChunk.worldpos_vertex,
        THREE.ShaderChunk.envmap_vertex,
        THREE.ShaderChunk.lights_lambert_vertex,
        THREE.ShaderChunk.shadowmap_vertex,
        "}",
      ].join("\n"),
      fragmentShader: [
        "uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n	varying vec3 vLightBack;\n#endif",
        THREE.ShaderChunk.common,
        THREE.ShaderChunk.color_pars_fragment,
        THREE.ShaderChunk.map_pars_fragment,
        THREE.ShaderChunk.alphamap_pars_fragment,
        THREE.ShaderChunk.lightmap_pars_fragment,
        THREE.ShaderChunk.envmap_pars_fragment,
        THREE.ShaderChunk.fog_pars_fragment,
        THREE.ShaderChunk.shadowmap_pars_fragment,
        THREE.ShaderChunk.specularmap_pars_fragment,
        THREE.ShaderChunk.logdepthbuf_pars_fragment,
        "void main() {\n	vec3 outgoingLight = vec3( 0.0 );\n	vec4 diffuseColor = vec4( diffuse, opacity );",
        THREE.ShaderChunk.logdepthbuf_fragment,
        THREE.ShaderChunk.map_fragment,
        THREE.ShaderChunk.color_fragment,
        THREE.ShaderChunk.alphamap_fragment,
        THREE.ShaderChunk.alphatest_fragment,
        THREE.ShaderChunk.specularmap_fragment,
        "	#ifdef DOUBLE_SIDED\n		if ( gl_FrontFacing )\n			outgoingLight += diffuseColor.rgb * vLightFront + emissive;\n		else\n			outgoingLight += diffuseColor.rgb * vLightBack + emissive;\n	#else\n		outgoingLight += diffuseColor.rgb * vLightFront + emissive;\n	#endif",
        THREE.ShaderChunk.lightmap_fragment,
        THREE.ShaderChunk.envmap_fragment,
        THREE.ShaderChunk.shadowmap_fragment,
        THREE.ShaderChunk.linear_to_gamma_fragment,
        THREE.ShaderChunk.fog_fragment,
        "	gl_FragColor = vec4( outgoingLight, diffuseColor.a );\n}",
      ].join("\n"),
    },
    phong: {
      uniforms: THREE.UniformsUtils.merge([
        THREE.UniformsLib.common,
        THREE.UniformsLib.bump,
        THREE.UniformsLib.normalmap,
        THREE.UniformsLib.fog,
        THREE.UniformsLib.lights,
        THREE.UniformsLib.shadowmap,
        {
          emissive: { type: "c", value: new THREE.Color(0) },
          specular: { type: "c", value: new THREE.Color(1118481) },
          shininess: { type: "f", value: 30 },
          wrapRGB: { type: "v3", value: new THREE.Vector3(1, 1, 1) },
        },
      ]),
      vertexShader: [
        "#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n	varying vec3 vNormal;\n#endif",
        THREE.ShaderChunk.common,
        THREE.ShaderChunk.map_pars_vertex,
        THREE.ShaderChunk.lightmap_pars_vertex,
        THREE.ShaderChunk.envmap_pars_vertex,
        THREE.ShaderChunk.lights_phong_pars_vertex,
        THREE.ShaderChunk.color_pars_vertex,
        THREE.ShaderChunk.morphtarget_pars_vertex,
        THREE.ShaderChunk.skinning_pars_vertex,
        THREE.ShaderChunk.shadowmap_pars_vertex,
        THREE.ShaderChunk.logdepthbuf_pars_vertex,
        "void main() {",
        THREE.ShaderChunk.map_vertex,
        THREE.ShaderChunk.lightmap_vertex,
        THREE.ShaderChunk.color_vertex,
        THREE.ShaderChunk.morphnormal_vertex,
        THREE.ShaderChunk.skinbase_vertex,
        THREE.ShaderChunk.skinnormal_vertex,
        THREE.ShaderChunk.defaultnormal_vertex,
        "#ifndef FLAT_SHADED\n	vNormal = normalize( transformedNormal );\n#endif",
        THREE.ShaderChunk.morphtarget_vertex,
        THREE.ShaderChunk.skinning_vertex,
        THREE.ShaderChunk.default_vertex,
        THREE.ShaderChunk.logdepthbuf_vertex,
        "	vViewPosition = -mvPosition.xyz;",
        THREE.ShaderChunk.worldpos_vertex,
        THREE.ShaderChunk.envmap_vertex,
        THREE.ShaderChunk.lights_phong_vertex,
        THREE.ShaderChunk.shadowmap_vertex,
        "}",
      ].join("\n"),
      fragmentShader: [
        "#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;",
        THREE.ShaderChunk.common,
        THREE.ShaderChunk.color_pars_fragment,
        THREE.ShaderChunk.map_pars_fragment,
        THREE.ShaderChunk.alphamap_pars_fragment,
        THREE.ShaderChunk.lightmap_pars_fragment,
        THREE.ShaderChunk.envmap_pars_fragment,
        THREE.ShaderChunk.fog_pars_fragment,
        THREE.ShaderChunk.lights_phong_pars_fragment,
        THREE.ShaderChunk.shadowmap_pars_fragment,
        THREE.ShaderChunk.bumpmap_pars_fragment,
        THREE.ShaderChunk.normalmap_pars_fragment,
        THREE.ShaderChunk.specularmap_pars_fragment,
        THREE.ShaderChunk.logdepthbuf_pars_fragment,
        "void main() {\n	vec3 outgoingLight = vec3( 0.0 );\n	vec4 diffuseColor = vec4( diffuse, opacity );",
        THREE.ShaderChunk.logdepthbuf_fragment,
        THREE.ShaderChunk.map_fragment,
        THREE.ShaderChunk.color_fragment,
        THREE.ShaderChunk.alphamap_fragment,
        THREE.ShaderChunk.alphatest_fragment,
        THREE.ShaderChunk.specularmap_fragment,
        THREE.ShaderChunk.lights_phong_fragment,
        THREE.ShaderChunk.lightmap_fragment,
        THREE.ShaderChunk.envmap_fragment,
        THREE.ShaderChunk.shadowmap_fragment,
        THREE.ShaderChunk.linear_to_gamma_fragment,
        THREE.ShaderChunk.fog_fragment,
        "	gl_FragColor = vec4( outgoingLight, diffuseColor.a );\n}",
      ].join("\n"),
    },
    particle_basic: {
      uniforms: THREE.UniformsUtils.merge([
        THREE.UniformsLib.particle,
        THREE.UniformsLib.shadowmap,
      ]),
      vertexShader: [
        "uniform float size;\nuniform float scale;",
        THREE.ShaderChunk.common,
        THREE.ShaderChunk.color_pars_vertex,
        THREE.ShaderChunk.shadowmap_pars_vertex,
        THREE.ShaderChunk.logdepthbuf_pars_vertex,
        "void main() {",
        THREE.ShaderChunk.color_vertex,
        "	vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n	#ifdef USE_SIZEATTENUATION\n		gl_PointSize = size * ( scale / length( mvPosition.xyz ) );\n	#else\n		gl_PointSize = size;\n	#endif\n	gl_Position = projectionMatrix * mvPosition;",
        THREE.ShaderChunk.logdepthbuf_vertex,
        THREE.ShaderChunk.worldpos_vertex,
        THREE.ShaderChunk.shadowmap_vertex,
        "}",
      ].join("\n"),
      fragmentShader: [
        "uniform vec3 psColor;\nuniform float opacity;",
        THREE.ShaderChunk.common,
        THREE.ShaderChunk.color_pars_fragment,
        THREE.ShaderChunk.map_particle_pars_fragment,
        THREE.ShaderChunk.fog_pars_fragment,
        THREE.ShaderChunk.shadowmap_pars_fragment,
        THREE.ShaderChunk.logdepthbuf_pars_fragment,
        "void main() {\n	vec3 outgoingLight = vec3( 0.0 );\n	vec4 diffuseColor = vec4( psColor, opacity );",
        THREE.ShaderChunk.logdepthbuf_fragment,
        THREE.ShaderChunk.map_particle_fragment,
        THREE.ShaderChunk.color_fragment,
        THREE.ShaderChunk.alphatest_fragment,
        "	outgoingLight = diffuseColor.rgb;",
        THREE.ShaderChunk.shadowmap_fragment,
        THREE.ShaderChunk.fog_fragment,
        "	gl_FragColor = vec4( outgoingLight, diffuseColor.a );\n}",
      ].join("\n"),
    },
    dashed: {
      uniforms: THREE.UniformsUtils.merge([
        THREE.UniformsLib.common,
        THREE.UniformsLib.fog,
        {
          scale: { type: "f", value: 1 },
          dashSize: { type: "f", value: 1 },
          totalSize: { type: "f", value: 2 },
        },
      ]),
      vertexShader: [
        "uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;",
        THREE.ShaderChunk.common,
        THREE.ShaderChunk.color_pars_vertex,
        THREE.ShaderChunk.logdepthbuf_pars_vertex,
        "void main() {",
        THREE.ShaderChunk.color_vertex,
        "	vLineDistance = scale * lineDistance;\n	vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n	gl_Position = projectionMatrix * mvPosition;",
        THREE.ShaderChunk.logdepthbuf_vertex,
        "}",
      ].join("\n"),
      fragmentShader: [
        "uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;",
        THREE.ShaderChunk.common,
        THREE.ShaderChunk.color_pars_fragment,
        THREE.ShaderChunk.fog_pars_fragment,
        THREE.ShaderChunk.logdepthbuf_pars_fragment,
        "void main() {\n	if ( mod( vLineDistance, totalSize ) > dashSize ) {\n		discard;\n	}\n	vec3 outgoingLight = vec3( 0.0 );\n	vec4 diffuseColor = vec4( diffuse, opacity );",
        THREE.ShaderChunk.logdepthbuf_fragment,
        THREE.ShaderChunk.color_fragment,
        "	outgoingLight = diffuseColor.rgb;",
        THREE.ShaderChunk.fog_fragment,
        "	gl_FragColor = vec4( outgoingLight, diffuseColor.a );\n}",
      ].join("\n"),
    },
    depth: {
      uniforms: {
        mNear: { type: "f", value: 1 },
        mFar: { type: "f", value: 2e3 },
        opacity: { type: "f", value: 1 },
      },
      vertexShader: [
        THREE.ShaderChunk.common,
        THREE.ShaderChunk.morphtarget_pars_vertex,
        THREE.ShaderChunk.logdepthbuf_pars_vertex,
        "void main() {",
        THREE.ShaderChunk.morphtarget_vertex,
        THREE.ShaderChunk.default_vertex,
        THREE.ShaderChunk.logdepthbuf_vertex,
        "}",
      ].join("\n"),
      fragmentShader: [
        "uniform float mNear;\nuniform float mFar;\nuniform float opacity;",
        THREE.ShaderChunk.common,
        THREE.ShaderChunk.logdepthbuf_pars_fragment,
        "void main() {",
        THREE.ShaderChunk.logdepthbuf_fragment,
        "	#ifdef USE_LOGDEPTHBUF_EXT\n		float depth = gl_FragDepthEXT / gl_FragCoord.w;\n	#else\n		float depth = gl_FragCoord.z / gl_FragCoord.w;\n	#endif\n	float color = 1.0 - smoothstep( mNear, mFar, depth );\n	gl_FragColor = vec4( vec3( color ), opacity );\n}",
      ].join("\n"),
    },
    normal: {
      uniforms: { opacity: { type: "f", value: 1 } },
      vertexShader: [
        "varying vec3 vNormal;",
        THREE.ShaderChunk.common,
        THREE.ShaderChunk.morphtarget_pars_vertex,
        THREE.ShaderChunk.logdepthbuf_pars_vertex,
        "void main() {\n	vNormal = normalize( normalMatrix * normal );",
        THREE.ShaderChunk.morphtarget_vertex,
        THREE.ShaderChunk.default_vertex,
        THREE.ShaderChunk.logdepthbuf_vertex,
        "}",
      ].join("\n"),
      fragmentShader: [
        "uniform float opacity;\nvarying vec3 vNormal;",
        THREE.ShaderChunk.common,
        THREE.ShaderChunk.logdepthbuf_pars_fragment,
        "void main() {\n	gl_FragColor = vec4( 0.5 * normalize( vNormal ) + 0.5, opacity );",
        THREE.ShaderChunk.logdepthbuf_fragment,
        "}",
      ].join("\n"),
    },
    cube: {
      uniforms: {
        tCube: { type: "t", value: null },
        tFlip: { type: "f", value: -1 },
      },
      vertexShader: [
        "varying vec3 vWorldPosition;",
        THREE.ShaderChunk.common,
        THREE.ShaderChunk.logdepthbuf_pars_vertex,
        "void main() {\n	vWorldPosition = transformDirection( position, modelMatrix );\n	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );",
        THREE.ShaderChunk.logdepthbuf_vertex,
        "}",
      ].join("\n"),
      fragmentShader: [
        "uniform samplerCube tCube;\nuniform float tFlip;\nvarying vec3 vWorldPosition;",
        THREE.ShaderChunk.common,
        THREE.ShaderChunk.logdepthbuf_pars_fragment,
        "void main() {\n	gl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );",
        THREE.ShaderChunk.logdepthbuf_fragment,
        "}",
      ].join("\n"),
    },
    equirect: {
      uniforms: {
        tEquirect: { type: "t", value: null },
        tFlip: { type: "f", value: -1 },
      },
      vertexShader: [
        "varying vec3 vWorldPosition;",
        THREE.ShaderChunk.common,
        THREE.ShaderChunk.logdepthbuf_pars_vertex,
        "void main() {\n	vWorldPosition = transformDirection( position, modelMatrix );\n	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );",
        THREE.ShaderChunk.logdepthbuf_vertex,
        "}",
      ].join("\n"),
      fragmentShader: [
        "uniform sampler2D tEquirect;\nuniform float tFlip;\nvarying vec3 vWorldPosition;",
        THREE.ShaderChunk.common,
        THREE.ShaderChunk.logdepthbuf_pars_fragment,
        "void main() {\nvec3 direction = normalize( vWorldPosition );\nvec2 sampleUV;\nsampleUV.y = saturate( tFlip * direction.y * -0.5 + 0.5 );\nsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\ngl_FragColor = texture2D( tEquirect, sampleUV );",
        THREE.ShaderChunk.logdepthbuf_fragment,
        "}",
      ].join("\n"),
    },
    depthRGBA: {
      uniforms: {},
      vertexShader: [
        THREE.ShaderChunk.common,
        THREE.ShaderChunk.morphtarget_pars_vertex,
        THREE.ShaderChunk.skinning_pars_vertex,
        THREE.ShaderChunk.logdepthbuf_pars_vertex,
        "void main() {",
        THREE.ShaderChunk.skinbase_vertex,
        THREE.ShaderChunk.morphtarget_vertex,
        THREE.ShaderChunk.skinning_vertex,
        THREE.ShaderChunk.default_vertex,
        THREE.ShaderChunk.logdepthbuf_vertex,
        "}",
      ].join("\n"),
      fragmentShader: [
        THREE.ShaderChunk.common,
        THREE.ShaderChunk.logdepthbuf_pars_fragment,
        "vec4 pack_depth( const in float depth ) {\n	const vec4 bit_shift = vec4( 256.0 * 256.0 * 256.0, 256.0 * 256.0, 256.0, 1.0 );\n	const vec4 bit_mask = vec4( 0.0, 1.0 / 256.0, 1.0 / 256.0, 1.0 / 256.0 );\n	vec4 res = mod( depth * bit_shift * vec4( 255 ), vec4( 256 ) ) / vec4( 255 );\n	res -= res.xxyz * bit_mask;\n	return res;\n}\nvoid main() {",
        THREE.ShaderChunk.logdepthbuf_fragment,
        "	#ifdef USE_LOGDEPTHBUF_EXT\n		gl_FragData[ 0 ] = pack_depth( gl_FragDepthEXT );\n	#else\n		gl_FragData[ 0 ] = pack_depth( gl_FragCoord.z );\n	#endif\n}",
      ].join("\n"),
    },
  }),
  (THREE.WebGLRenderer = function (e) {
    function t(e) {
      var t = e.geometry;
      e = e.material;
      var i = t.vertices.length;
      if (e.attributes) {
        void 0 === t.__webglCustomAttributesList &&
          (t.__webglCustomAttributesList = []);
        for (var r in e.attributes) {
          var n = e.attributes[r];
          if (!n.__webglInitialized || n.createUniqueBuffers) {
            n.__webglInitialized = !0;
            var o = 1;
            "v2" === n.type
              ? (o = 2)
              : "v3" === n.type
              ? (o = 3)
              : "v4" === n.type
              ? (o = 4)
              : "c" === n.type && (o = 3),
              (n.size = o),
              (n.array = new Float32Array(i * o)),
              (n.buffer = Y.createBuffer()),
              (n.buffer.belongsToAttribute = r),
              (n.needsUpdate = !0);
          }
          t.__webglCustomAttributesList.push(n);
        }
      }
    }
    function i(e, t) {
      return e.material instanceof THREE.MeshFaceMaterial
        ? e.material.materials[t.materialIndex]
        : e.material;
    }
    function r(e, t, i, r) {
      i = i.attributes;
      var n = t.attributes;
      t = t.attributesKeys;
      for (var o = 0, a = t.length; a > o; o++) {
        var s = t[o],
          l = n[s];
        if (l >= 0) {
          var h = i[s];
          void 0 !== h
            ? ((s = h.itemSize),
              Y.bindBuffer(Y.ARRAY_BUFFER, h.buffer),
              Ee.enableAttribute(l),
              Y.vertexAttribPointer(l, s, Y.FLOAT, !1, 0, r * s * 4))
            : void 0 !== e.defaultAttributeValues &&
              (2 === e.defaultAttributeValues[s].length
                ? Y.vertexAttrib2fv(l, e.defaultAttributeValues[s])
                : 3 === e.defaultAttributeValues[s].length &&
                  Y.vertexAttrib3fv(l, e.defaultAttributeValues[s]));
        }
      }
      Ee.disableUnusedAttributes();
    }
    function n(e, t) {
      return e.object.renderOrder !== t.object.renderOrder
        ? e.object.renderOrder - t.object.renderOrder
        : e.material.id !== t.material.id
        ? e.material.id - t.material.id
        : e.z !== t.z
        ? e.z - t.z
        : e.id - t.id;
    }
    function o(e, t) {
      return e.object.renderOrder !== t.object.renderOrder
        ? e.object.renderOrder - t.object.renderOrder
        : e.z !== t.z
        ? t.z - e.z
        : e.id - t.id;
    }
    function a(e, t) {
      return t[0] - e[0];
    }
    function s(e) {
      if (!1 !== e.visible) {
        if (!(e instanceof THREE.Scene || e instanceof THREE.Group)) {
          void 0 === e.__webglInit &&
            ((e.__webglInit = !0),
            (e._modelViewMatrix = new THREE.Matrix4()),
            (e._normalMatrix = new THREE.Matrix3()),
            e.addEventListener("removed", je));
          var i = e.geometry;
          if (void 0 !== i && void 0 === i.__webglInit)
            if (
              ((i.__webglInit = !0),
              i.addEventListener("dispose", Ue),
              i instanceof THREE.BufferGeometry)
            )
              K.info.memory.geometries++;
            else if (e instanceof THREE.Mesh) u(e, i);
            else if (e instanceof THREE.Line) {
              if (void 0 === i.__webglVertexBuffer) {
                (i.__webglVertexBuffer = Y.createBuffer()),
                  (i.__webglColorBuffer = Y.createBuffer()),
                  (i.__webglLineDistanceBuffer = Y.createBuffer()),
                  K.info.memory.geometries++;
                var r = i.vertices.length;
                (i.__vertexArray = new Float32Array(3 * r)),
                  (i.__colorArray = new Float32Array(3 * r)),
                  (i.__lineDistanceArray = new Float32Array(1 * r)),
                  (i.__webglLineCount = r),
                  t(e),
                  (i.verticesNeedUpdate = !0),
                  (i.colorsNeedUpdate = !0),
                  (i.lineDistancesNeedUpdate = !0);
              }
            } else
              e instanceof THREE.PointCloud &&
                void 0 === i.__webglVertexBuffer &&
                ((i.__webglVertexBuffer = Y.createBuffer()),
                (i.__webglColorBuffer = Y.createBuffer()),
                K.info.memory.geometries++,
                (r = i.vertices.length),
                (i.__vertexArray = new Float32Array(3 * r)),
                (i.__colorArray = new Float32Array(3 * r)),
                (i.__webglParticleCount = r),
                t(e),
                (i.verticesNeedUpdate = !0),
                (i.colorsNeedUpdate = !0));
          if (void 0 === e.__webglActive)
            if (((e.__webglActive = !0), e instanceof THREE.Mesh)) {
              if (i instanceof THREE.BufferGeometry) d(V, i, e);
              else if (i instanceof THREE.Geometry)
                for (var i = We[i.id], r = 0, n = i.length; n > r; r++)
                  d(V, i[r], e);
            } else
              e instanceof THREE.Line || e instanceof THREE.PointCloud
                ? d(V, i, e)
                : (e instanceof THREE.ImmediateRenderObject ||
                    e.immediateRenderCallback) &&
                  z.push({
                    id: null,
                    object: e,
                    opaque: null,
                    transparent: null,
                    z: 0,
                  });
          if (e instanceof THREE.Light) B.push(e);
          else if (e instanceof THREE.Sprite) X.push(e);
          else if (e instanceof THREE.LensFlare) q.push(e);
          else if (
            (i = V[e.id]) &&
            (!1 === e.frustumCulled || !0 === he.intersectsObject(e))
          )
            for (r = 0, n = i.length; n > r; r++) {
              var o = i[r],
                a = o,
                l = a.object,
                h = a.buffer,
                c = l.geometry,
                l = l.material;
              l instanceof THREE.MeshFaceMaterial
                ? ((l =
                    l.materials[
                      c instanceof THREE.BufferGeometry ? 0 : h.materialIndex
                    ]),
                  (a.material = l),
                  l.transparent ? W.push(a) : G.push(a))
                : l &&
                  ((a.material = l), l.transparent ? W.push(a) : G.push(a)),
                (o.render = !0),
                !0 === K.sortObjects &&
                  (ue.setFromMatrixPosition(e.matrixWorld),
                  ue.applyProjection(ce),
                  (o.z = ue.z));
            }
        }
        for (r = 0, n = e.children.length; n > r; r++) s(e.children[r]);
      }
    }
    function l(e, t, i, r, n) {
      for (var o, a = 0, s = e.length; s > a; a++) {
        o = e[a];
        var l = o.object,
          h = o.buffer;
        if ((y(l, t), n)) o = n;
        else {
          if (((o = o.material), !o)) continue;
          g(o);
        }
        K.setMaterialFaces(o),
          h instanceof THREE.BufferGeometry
            ? K.renderBufferDirect(t, i, r, o, h, l)
            : K.renderBuffer(t, i, r, o, h, l);
      }
    }
    function h(e, t, i, r, n, o) {
      for (var a, s = 0, l = e.length; l > s; s++) {
        a = e[s];
        var h = a.object;
        if (h.visible) {
          if (o) a = o;
          else {
            if (((a = a[t]), !a)) continue;
            g(a);
          }
          K.renderImmediateObject(i, r, n, a, h);
        }
      }
    }
    function c(e) {
      var t = e.object.material;
      t.transparent
        ? ((e.transparent = t), (e.opaque = null))
        : ((e.opaque = t), (e.transparent = null));
    }
    function u(e, t) {
      var r = e.material,
        n = !1;
      if (void 0 === We[t.id] || !0 === t.groupsNeedUpdate) {
        delete V[e.id];
        for (
          var o,
            a,
            s = We,
            l = t.id,
            r = r instanceof THREE.MeshFaceMaterial,
            h = ve.get("OES_element_index_uint") ? 4294967296 : 65535,
            n = {},
            c = t.morphTargets.length,
            u = t.morphNormals.length,
            f = {},
            p = [],
            m = 0,
            g = t.faces.length;
          g > m;
          m++
        ) {
          o = t.faces[m];
          var E = r ? o.materialIndex : 0;
          E in n || (n[E] = { hash: E, counter: 0 }),
            (o = n[E].hash + "_" + n[E].counter),
            o in f ||
              ((a = {
                id: Xe++,
                faces3: [],
                materialIndex: E,
                vertices: 0,
                numMorphTargets: c,
                numMorphNormals: u,
              }),
              (f[o] = a),
              p.push(a)),
            f[o].vertices + 3 > h &&
              ((n[E].counter += 1),
              (o = n[E].hash + "_" + n[E].counter),
              o in f ||
                ((a = {
                  id: Xe++,
                  faces3: [],
                  materialIndex: E,
                  vertices: 0,
                  numMorphTargets: c,
                  numMorphNormals: u,
                }),
                (f[o] = a),
                p.push(a))),
            f[o].faces3.push(m),
            (f[o].vertices += 3);
        }
        (s[l] = p), (t.groupsNeedUpdate = !1);
      }
      for (s = We[t.id], l = 0, r = s.length; r > l; l++) {
        if (((h = s[l]), void 0 === h.__webglVertexBuffer)) {
          if (
            ((n = h),
            (n.__webglVertexBuffer = Y.createBuffer()),
            (n.__webglNormalBuffer = Y.createBuffer()),
            (n.__webglTangentBuffer = Y.createBuffer()),
            (n.__webglColorBuffer = Y.createBuffer()),
            (n.__webglUVBuffer = Y.createBuffer()),
            (n.__webglUV2Buffer = Y.createBuffer()),
            (n.__webglSkinIndicesBuffer = Y.createBuffer()),
            (n.__webglSkinWeightsBuffer = Y.createBuffer()),
            (n.__webglFaceBuffer = Y.createBuffer()),
            (n.__webglLineBuffer = Y.createBuffer()),
            (u = n.numMorphTargets))
          )
            for (n.__webglMorphTargetsBuffers = [], c = 0; u > c; c++)
              n.__webglMorphTargetsBuffers.push(Y.createBuffer());
          if ((u = n.numMorphNormals))
            for (n.__webglMorphNormalsBuffers = [], c = 0; u > c; c++)
              n.__webglMorphNormalsBuffers.push(Y.createBuffer());
          if (
            (K.info.memory.geometries++,
            (n = h),
            (m = e),
            (g = m.geometry),
            (u = n.faces3),
            (c = 3 * u.length),
            (f = 1 * u.length),
            (p = 3 * u.length),
            (u = i(m, n)),
            (n.__vertexArray = new Float32Array(3 * c)),
            (n.__normalArray = new Float32Array(3 * c)),
            (n.__colorArray = new Float32Array(3 * c)),
            (n.__uvArray = new Float32Array(2 * c)),
            1 < g.faceVertexUvs.length &&
              (n.__uv2Array = new Float32Array(2 * c)),
            g.hasTangents && (n.__tangentArray = new Float32Array(4 * c)),
            m.geometry.skinWeights.length &&
              m.geometry.skinIndices.length &&
              ((n.__skinIndexArray = new Float32Array(4 * c)),
              (n.__skinWeightArray = new Float32Array(4 * c))),
            (m =
              null !== ve.get("OES_element_index_uint") && f > 21845
                ? Uint32Array
                : Uint16Array),
            (n.__typeArray = m),
            (n.__faceArray = new m(3 * f)),
            (n.__lineArray = new m(2 * p)),
            (g = n.numMorphTargets))
          )
            for (n.__morphTargetsArrays = [], m = 0; g > m; m++)
              n.__morphTargetsArrays.push(new Float32Array(3 * c));
          if ((g = n.numMorphNormals))
            for (n.__morphNormalsArrays = [], m = 0; g > m; m++)
              n.__morphNormalsArrays.push(new Float32Array(3 * c));
          if (
            ((n.__webglFaceCount = 3 * f),
            (n.__webglLineCount = 2 * p),
            u.attributes)
          )
            for (f in (void 0 === n.__webglCustomAttributesList &&
              (n.__webglCustomAttributesList = []),
            (f = void 0),
            u.attributes)) {
              var v,
                p = u.attributes[f],
                m = {};
              for (v in p) m[v] = p[v];
              (!m.__webglInitialized || m.createUniqueBuffers) &&
                ((m.__webglInitialized = !0),
                (g = 1),
                "v2" === m.type
                  ? (g = 2)
                  : "v3" === m.type
                  ? (g = 3)
                  : "v4" === m.type
                  ? (g = 4)
                  : "c" === m.type && (g = 3),
                (m.size = g),
                (m.array = new Float32Array(c * g)),
                (m.buffer = Y.createBuffer()),
                (m.buffer.belongsToAttribute = f),
                (p.needsUpdate = !0),
                (m.__original = p)),
                n.__webglCustomAttributesList.push(m);
            }
          (n.__inittedArrays = !0),
            (t.verticesNeedUpdate = !0),
            (t.morphTargetsNeedUpdate = !0),
            (t.elementsNeedUpdate = !0),
            (t.uvsNeedUpdate = !0),
            (t.normalsNeedUpdate = !0),
            (t.tangentsNeedUpdate = !0),
            (n = t.colorsNeedUpdate = !0);
        } else n = !1;
        (n || void 0 === e.__webglActive) && d(V, h, e);
      }
      e.__webglActive = !0;
    }
    function d(e, t, i) {
      var r = i.id;
      (e[r] = e[r] || []),
        e[r].push({ id: r, buffer: t, object: i, material: null, z: 0 });
    }
    function f(e) {
      var t = e.geometry;
      if (t instanceof THREE.BufferGeometry)
        for (
          var r = t.attributes, n = t.attributesKeys, o = 0, a = n.length;
          a > o;
          o++
        ) {
          var s = n[o],
            l = r[s],
            h = "index" === s ? Y.ELEMENT_ARRAY_BUFFER : Y.ARRAY_BUFFER;
          void 0 === l.buffer
            ? ((l.buffer = Y.createBuffer()),
              Y.bindBuffer(h, l.buffer),
              Y.bufferData(
                h,
                l.array,
                l instanceof THREE.DynamicBufferAttribute
                  ? Y.DYNAMIC_DRAW
                  : Y.STATIC_DRAW
              ),
              (l.needsUpdate = !1))
            : !0 === l.needsUpdate &&
              (Y.bindBuffer(h, l.buffer),
              void 0 === l.updateRange || -1 === l.updateRange.count
                ? Y.bufferSubData(h, 0, l.array)
                : 0 === l.updateRange.count
                ? console.error(
                    "THREE.WebGLRenderer.updateObject: using updateRange for THREE.DynamicBufferAttribute and marked as needsUpdate but count is 0, ensure you are using set methods or updating manually."
                  )
                : (Y.bufferSubData(
                    h,
                    l.updateRange.offset * l.array.BYTES_PER_ELEMENT,
                    l.array.subarray(
                      l.updateRange.offset,
                      l.updateRange.offset + l.updateRange.count
                    )
                  ),
                  (l.updateRange.count = 0)),
              (l.needsUpdate = !1));
        }
      else if (e instanceof THREE.Mesh) {
        !0 === t.groupsNeedUpdate && u(e, t);
        for (var c = We[t.id], o = 0, d = c.length; d > o; o++) {
          var f = c[o],
            g = i(e, f),
            E = g.attributes && p(g);
          if (
            t.verticesNeedUpdate ||
            t.morphTargetsNeedUpdate ||
            t.elementsNeedUpdate ||
            t.uvsNeedUpdate ||
            t.normalsNeedUpdate ||
            t.colorsNeedUpdate ||
            t.tangentsNeedUpdate ||
            E
          ) {
            var v = f,
              _ = e,
              y = Y.DYNAMIC_DRAW,
              T = !t.dynamic,
              x = g;
            if (v.__inittedArrays) {
              var R =
                  !1 == x instanceof THREE.MeshPhongMaterial &&
                  x.shading === THREE.FlatShading,
                b = void 0,
                w = void 0,
                H = void 0,
                S = void 0,
                A = void 0,
                M = void 0,
                C = void 0,
                P = void 0,
                L = void 0,
                D = void 0,
                O = void 0,
                k = void 0,
                F = void 0,
                N = void 0,
                j = void 0,
                U = void 0,
                I = void 0,
                B = void 0,
                V = void 0,
                z = void 0,
                G = void 0,
                W = void 0,
                X = void 0,
                q = void 0,
                K = void 0,
                Q = void 0,
                $ = void 0,
                J = void 0,
                Z = void 0,
                ee = void 0,
                te = void 0,
                ie = void 0,
                re = void 0,
                ne = void 0,
                oe = void 0,
                ae = void 0,
                se = void 0,
                le = void 0,
                he = void 0,
                ce = void 0,
                ue = 0,
                de = 0,
                fe = 0,
                pe = 0,
                me = 0,
                ge = 0,
                Ee = 0,
                ve = 0,
                _e = 0,
                ye = 0,
                Te = 0,
                xe = 0,
                Re = void 0,
                be = v.__vertexArray,
                we = v.__uvArray,
                He = v.__uv2Array,
                Se = v.__normalArray,
                Ae = v.__tangentArray,
                Me = v.__colorArray,
                Ce = v.__skinIndexArray,
                Pe = v.__skinWeightArray,
                Le = v.__morphTargetsArrays,
                De = v.__morphNormalsArrays,
                Oe = v.__webglCustomAttributesList,
                ke = void 0,
                Fe = v.__faceArray,
                Ne = v.__lineArray,
                je = _.geometry,
                Ue = je.elementsNeedUpdate,
                Ie = je.uvsNeedUpdate,
                Be = je.normalsNeedUpdate,
                Ve = je.tangentsNeedUpdate,
                ze = je.colorsNeedUpdate,
                Ge = je.morphTargetsNeedUpdate,
                Xe = je.vertices,
                qe = v.faces3,
                Ye = je.faces,
                Ke = je.faceVertexUvs[0],
                Qe = je.faceVertexUvs[1],
                $e = je.skinIndices,
                Je = je.skinWeights,
                Ze = je.morphTargets,
                et = je.morphNormals;
              if (je.verticesNeedUpdate) {
                for (b = 0, w = qe.length; w > b; b++)
                  (S = Ye[qe[b]]),
                    (k = Xe[S.a]),
                    (F = Xe[S.b]),
                    (N = Xe[S.c]),
                    (be[de] = k.x),
                    (be[de + 1] = k.y),
                    (be[de + 2] = k.z),
                    (be[de + 3] = F.x),
                    (be[de + 4] = F.y),
                    (be[de + 5] = F.z),
                    (be[de + 6] = N.x),
                    (be[de + 7] = N.y),
                    (be[de + 8] = N.z),
                    (de += 9);
                Y.bindBuffer(Y.ARRAY_BUFFER, v.__webglVertexBuffer),
                  Y.bufferData(Y.ARRAY_BUFFER, be, y);
              }
              if (Ge)
                for (oe = 0, ae = Ze.length; ae > oe; oe++) {
                  for (b = Te = 0, w = qe.length; w > b; b++)
                    (he = qe[b]),
                      (S = Ye[he]),
                      (k = Ze[oe].vertices[S.a]),
                      (F = Ze[oe].vertices[S.b]),
                      (N = Ze[oe].vertices[S.c]),
                      (se = Le[oe]),
                      (se[Te] = k.x),
                      (se[Te + 1] = k.y),
                      (se[Te + 2] = k.z),
                      (se[Te + 3] = F.x),
                      (se[Te + 4] = F.y),
                      (se[Te + 5] = F.z),
                      (se[Te + 6] = N.x),
                      (se[Te + 7] = N.y),
                      (se[Te + 8] = N.z),
                      x.morphNormals &&
                        (R
                          ? (z = V = B = et[oe].faceNormals[he])
                          : ((ce = et[oe].vertexNormals[he]),
                            (B = ce.a),
                            (V = ce.b),
                            (z = ce.c)),
                        (le = De[oe]),
                        (le[Te] = B.x),
                        (le[Te + 1] = B.y),
                        (le[Te + 2] = B.z),
                        (le[Te + 3] = V.x),
                        (le[Te + 4] = V.y),
                        (le[Te + 5] = V.z),
                        (le[Te + 6] = z.x),
                        (le[Te + 7] = z.y),
                        (le[Te + 8] = z.z)),
                      (Te += 9);
                  Y.bindBuffer(
                    Y.ARRAY_BUFFER,
                    v.__webglMorphTargetsBuffers[oe]
                  ),
                    Y.bufferData(Y.ARRAY_BUFFER, Le[oe], y),
                    x.morphNormals &&
                      (Y.bindBuffer(
                        Y.ARRAY_BUFFER,
                        v.__webglMorphNormalsBuffers[oe]
                      ),
                      Y.bufferData(Y.ARRAY_BUFFER, De[oe], y));
                }
              if (Je.length) {
                for (b = 0, w = qe.length; w > b; b++)
                  (S = Ye[qe[b]]),
                    (q = Je[S.a]),
                    (K = Je[S.b]),
                    (Q = Je[S.c]),
                    (Pe[ye] = q.x),
                    (Pe[ye + 1] = q.y),
                    (Pe[ye + 2] = q.z),
                    (Pe[ye + 3] = q.w),
                    (Pe[ye + 4] = K.x),
                    (Pe[ye + 5] = K.y),
                    (Pe[ye + 6] = K.z),
                    (Pe[ye + 7] = K.w),
                    (Pe[ye + 8] = Q.x),
                    (Pe[ye + 9] = Q.y),
                    (Pe[ye + 10] = Q.z),
                    (Pe[ye + 11] = Q.w),
                    ($ = $e[S.a]),
                    (J = $e[S.b]),
                    (Z = $e[S.c]),
                    (Ce[ye] = $.x),
                    (Ce[ye + 1] = $.y),
                    (Ce[ye + 2] = $.z),
                    (Ce[ye + 3] = $.w),
                    (Ce[ye + 4] = J.x),
                    (Ce[ye + 5] = J.y),
                    (Ce[ye + 6] = J.z),
                    (Ce[ye + 7] = J.w),
                    (Ce[ye + 8] = Z.x),
                    (Ce[ye + 9] = Z.y),
                    (Ce[ye + 10] = Z.z),
                    (Ce[ye + 11] = Z.w),
                    (ye += 12);
                ye > 0 &&
                  (Y.bindBuffer(Y.ARRAY_BUFFER, v.__webglSkinIndicesBuffer),
                  Y.bufferData(Y.ARRAY_BUFFER, Ce, y),
                  Y.bindBuffer(Y.ARRAY_BUFFER, v.__webglSkinWeightsBuffer),
                  Y.bufferData(Y.ARRAY_BUFFER, Pe, y));
              }
              if (ze) {
                for (b = 0, w = qe.length; w > b; b++)
                  (S = Ye[qe[b]]),
                    (C = S.vertexColors),
                    (P = S.color),
                    3 === C.length && x.vertexColors === THREE.VertexColors
                      ? ((G = C[0]), (W = C[1]), (X = C[2]))
                      : (X = W = G = P),
                    (Me[_e] = G.r),
                    (Me[_e + 1] = G.g),
                    (Me[_e + 2] = G.b),
                    (Me[_e + 3] = W.r),
                    (Me[_e + 4] = W.g),
                    (Me[_e + 5] = W.b),
                    (Me[_e + 6] = X.r),
                    (Me[_e + 7] = X.g),
                    (Me[_e + 8] = X.b),
                    (_e += 9);
                _e > 0 &&
                  (Y.bindBuffer(Y.ARRAY_BUFFER, v.__webglColorBuffer),
                  Y.bufferData(Y.ARRAY_BUFFER, Me, y));
              }
              if (Ve && je.hasTangents) {
                for (b = 0, w = qe.length; w > b; b++)
                  (S = Ye[qe[b]]),
                    (L = S.vertexTangents),
                    (j = L[0]),
                    (U = L[1]),
                    (I = L[2]),
                    (Ae[Ee] = j.x),
                    (Ae[Ee + 1] = j.y),
                    (Ae[Ee + 2] = j.z),
                    (Ae[Ee + 3] = j.w),
                    (Ae[Ee + 4] = U.x),
                    (Ae[Ee + 5] = U.y),
                    (Ae[Ee + 6] = U.z),
                    (Ae[Ee + 7] = U.w),
                    (Ae[Ee + 8] = I.x),
                    (Ae[Ee + 9] = I.y),
                    (Ae[Ee + 10] = I.z),
                    (Ae[Ee + 11] = I.w),
                    (Ee += 12);
                Y.bindBuffer(Y.ARRAY_BUFFER, v.__webglTangentBuffer),
                  Y.bufferData(Y.ARRAY_BUFFER, Ae, y);
              }
              if (Be) {
                for (b = 0, w = qe.length; w > b; b++)
                  if (
                    ((S = Ye[qe[b]]),
                    (A = S.vertexNormals),
                    (M = S.normal),
                    3 === A.length && !1 === R)
                  )
                    for (ee = 0; 3 > ee; ee++)
                      (ie = A[ee]),
                        (Se[ge] = ie.x),
                        (Se[ge + 1] = ie.y),
                        (Se[ge + 2] = ie.z),
                        (ge += 3);
                  else
                    for (ee = 0; 3 > ee; ee++)
                      (Se[ge] = M.x),
                        (Se[ge + 1] = M.y),
                        (Se[ge + 2] = M.z),
                        (ge += 3);
                Y.bindBuffer(Y.ARRAY_BUFFER, v.__webglNormalBuffer),
                  Y.bufferData(Y.ARRAY_BUFFER, Se, y);
              }
              if (Ie && Ke) {
                for (b = 0, w = qe.length; w > b; b++)
                  if (((H = qe[b]), (D = Ke[H]), void 0 !== D))
                    for (ee = 0; 3 > ee; ee++)
                      (re = D[ee]),
                        (we[fe] = re.x),
                        (we[fe + 1] = re.y),
                        (fe += 2);
                fe > 0 &&
                  (Y.bindBuffer(Y.ARRAY_BUFFER, v.__webglUVBuffer),
                  Y.bufferData(Y.ARRAY_BUFFER, we, y));
              }
              if (Ie && Qe) {
                for (b = 0, w = qe.length; w > b; b++)
                  if (((H = qe[b]), (O = Qe[H]), void 0 !== O))
                    for (ee = 0; 3 > ee; ee++)
                      (ne = O[ee]),
                        (He[pe] = ne.x),
                        (He[pe + 1] = ne.y),
                        (pe += 2);
                pe > 0 &&
                  (Y.bindBuffer(Y.ARRAY_BUFFER, v.__webglUV2Buffer),
                  Y.bufferData(Y.ARRAY_BUFFER, He, y));
              }
              if (Ue) {
                for (b = 0, w = qe.length; w > b; b++)
                  (Fe[me] = ue),
                    (Fe[me + 1] = ue + 1),
                    (Fe[me + 2] = ue + 2),
                    (me += 3),
                    (Ne[ve] = ue),
                    (Ne[ve + 1] = ue + 1),
                    (Ne[ve + 2] = ue),
                    (Ne[ve + 3] = ue + 2),
                    (Ne[ve + 4] = ue + 1),
                    (Ne[ve + 5] = ue + 2),
                    (ve += 6),
                    (ue += 3);
                Y.bindBuffer(Y.ELEMENT_ARRAY_BUFFER, v.__webglFaceBuffer),
                  Y.bufferData(Y.ELEMENT_ARRAY_BUFFER, Fe, y),
                  Y.bindBuffer(Y.ELEMENT_ARRAY_BUFFER, v.__webglLineBuffer),
                  Y.bufferData(Y.ELEMENT_ARRAY_BUFFER, Ne, y);
              }
              if (Oe)
                for (ee = 0, te = Oe.length; te > ee; ee++)
                  if (((ke = Oe[ee]), ke.__original.needsUpdate)) {
                    if (((xe = 0), 1 === ke.size)) {
                      if (void 0 === ke.boundTo || "vertices" === ke.boundTo)
                        for (b = 0, w = qe.length; w > b; b++)
                          (S = Ye[qe[b]]),
                            (ke.array[xe] = ke.value[S.a]),
                            (ke.array[xe + 1] = ke.value[S.b]),
                            (ke.array[xe + 2] = ke.value[S.c]),
                            (xe += 3);
                      else if ("faces" === ke.boundTo)
                        for (b = 0, w = qe.length; w > b; b++)
                          (Re = ke.value[qe[b]]),
                            (ke.array[xe] = Re),
                            (ke.array[xe + 1] = Re),
                            (ke.array[xe + 2] = Re),
                            (xe += 3);
                    } else if (2 === ke.size) {
                      if (void 0 === ke.boundTo || "vertices" === ke.boundTo)
                        for (b = 0, w = qe.length; w > b; b++)
                          (S = Ye[qe[b]]),
                            (k = ke.value[S.a]),
                            (F = ke.value[S.b]),
                            (N = ke.value[S.c]),
                            (ke.array[xe] = k.x),
                            (ke.array[xe + 1] = k.y),
                            (ke.array[xe + 2] = F.x),
                            (ke.array[xe + 3] = F.y),
                            (ke.array[xe + 4] = N.x),
                            (ke.array[xe + 5] = N.y),
                            (xe += 6);
                      else if ("faces" === ke.boundTo)
                        for (b = 0, w = qe.length; w > b; b++)
                          (N = F = k = Re = ke.value[qe[b]]),
                            (ke.array[xe] = k.x),
                            (ke.array[xe + 1] = k.y),
                            (ke.array[xe + 2] = F.x),
                            (ke.array[xe + 3] = F.y),
                            (ke.array[xe + 4] = N.x),
                            (ke.array[xe + 5] = N.y),
                            (xe += 6);
                    } else if (3 === ke.size) {
                      var tt;
                      if (
                        ((tt =
                          "c" === ke.type ? ["r", "g", "b"] : ["x", "y", "z"]),
                        void 0 === ke.boundTo || "vertices" === ke.boundTo)
                      )
                        for (b = 0, w = qe.length; w > b; b++)
                          (S = Ye[qe[b]]),
                            (k = ke.value[S.a]),
                            (F = ke.value[S.b]),
                            (N = ke.value[S.c]),
                            (ke.array[xe] = k[tt[0]]),
                            (ke.array[xe + 1] = k[tt[1]]),
                            (ke.array[xe + 2] = k[tt[2]]),
                            (ke.array[xe + 3] = F[tt[0]]),
                            (ke.array[xe + 4] = F[tt[1]]),
                            (ke.array[xe + 5] = F[tt[2]]),
                            (ke.array[xe + 6] = N[tt[0]]),
                            (ke.array[xe + 7] = N[tt[1]]),
                            (ke.array[xe + 8] = N[tt[2]]),
                            (xe += 9);
                      else if ("faces" === ke.boundTo)
                        for (b = 0, w = qe.length; w > b; b++)
                          (N = F = k = Re = ke.value[qe[b]]),
                            (ke.array[xe] = k[tt[0]]),
                            (ke.array[xe + 1] = k[tt[1]]),
                            (ke.array[xe + 2] = k[tt[2]]),
                            (ke.array[xe + 3] = F[tt[0]]),
                            (ke.array[xe + 4] = F[tt[1]]),
                            (ke.array[xe + 5] = F[tt[2]]),
                            (ke.array[xe + 6] = N[tt[0]]),
                            (ke.array[xe + 7] = N[tt[1]]),
                            (ke.array[xe + 8] = N[tt[2]]),
                            (xe += 9);
                      else if ("faceVertices" === ke.boundTo)
                        for (b = 0, w = qe.length; w > b; b++)
                          (Re = ke.value[qe[b]]),
                            (k = Re[0]),
                            (F = Re[1]),
                            (N = Re[2]),
                            (ke.array[xe] = k[tt[0]]),
                            (ke.array[xe + 1] = k[tt[1]]),
                            (ke.array[xe + 2] = k[tt[2]]),
                            (ke.array[xe + 3] = F[tt[0]]),
                            (ke.array[xe + 4] = F[tt[1]]),
                            (ke.array[xe + 5] = F[tt[2]]),
                            (ke.array[xe + 6] = N[tt[0]]),
                            (ke.array[xe + 7] = N[tt[1]]),
                            (ke.array[xe + 8] = N[tt[2]]),
                            (xe += 9);
                    } else if (4 === ke.size)
                      if (void 0 === ke.boundTo || "vertices" === ke.boundTo)
                        for (b = 0, w = qe.length; w > b; b++)
                          (S = Ye[qe[b]]),
                            (k = ke.value[S.a]),
                            (F = ke.value[S.b]),
                            (N = ke.value[S.c]),
                            (ke.array[xe] = k.x),
                            (ke.array[xe + 1] = k.y),
                            (ke.array[xe + 2] = k.z),
                            (ke.array[xe + 3] = k.w),
                            (ke.array[xe + 4] = F.x),
                            (ke.array[xe + 5] = F.y),
                            (ke.array[xe + 6] = F.z),
                            (ke.array[xe + 7] = F.w),
                            (ke.array[xe + 8] = N.x),
                            (ke.array[xe + 9] = N.y),
                            (ke.array[xe + 10] = N.z),
                            (ke.array[xe + 11] = N.w),
                            (xe += 12);
                      else if ("faces" === ke.boundTo)
                        for (b = 0, w = qe.length; w > b; b++)
                          (N = F = k = Re = ke.value[qe[b]]),
                            (ke.array[xe] = k.x),
                            (ke.array[xe + 1] = k.y),
                            (ke.array[xe + 2] = k.z),
                            (ke.array[xe + 3] = k.w),
                            (ke.array[xe + 4] = F.x),
                            (ke.array[xe + 5] = F.y),
                            (ke.array[xe + 6] = F.z),
                            (ke.array[xe + 7] = F.w),
                            (ke.array[xe + 8] = N.x),
                            (ke.array[xe + 9] = N.y),
                            (ke.array[xe + 10] = N.z),
                            (ke.array[xe + 11] = N.w),
                            (xe += 12);
                      else if ("faceVertices" === ke.boundTo)
                        for (b = 0, w = qe.length; w > b; b++)
                          (Re = ke.value[qe[b]]),
                            (k = Re[0]),
                            (F = Re[1]),
                            (N = Re[2]),
                            (ke.array[xe] = k.x),
                            (ke.array[xe + 1] = k.y),
                            (ke.array[xe + 2] = k.z),
                            (ke.array[xe + 3] = k.w),
                            (ke.array[xe + 4] = F.x),
                            (ke.array[xe + 5] = F.y),
                            (ke.array[xe + 6] = F.z),
                            (ke.array[xe + 7] = F.w),
                            (ke.array[xe + 8] = N.x),
                            (ke.array[xe + 9] = N.y),
                            (ke.array[xe + 10] = N.z),
                            (ke.array[xe + 11] = N.w),
                            (xe += 12);
                    Y.bindBuffer(Y.ARRAY_BUFFER, ke.buffer),
                      Y.bufferData(Y.ARRAY_BUFFER, ke.array, y);
                  }
              T &&
                (delete v.__inittedArrays,
                delete v.__colorArray,
                delete v.__normalArray,
                delete v.__tangentArray,
                delete v.__uvArray,
                delete v.__uv2Array,
                delete v.__faceArray,
                delete v.__vertexArray,
                delete v.__lineArray,
                delete v.__skinIndexArray,
                delete v.__skinWeightArray);
            }
          }
        }
        (t.verticesNeedUpdate = !1),
          (t.morphTargetsNeedUpdate = !1),
          (t.elementsNeedUpdate = !1),
          (t.uvsNeedUpdate = !1),
          (t.normalsNeedUpdate = !1),
          (t.colorsNeedUpdate = !1),
          (t.tangentsNeedUpdate = !1),
          g.attributes && m(g);
      } else if (e instanceof THREE.Line) {
        if (
          ((g = i(e, t)),
          (E = g.attributes && p(g)),
          t.verticesNeedUpdate ||
            t.colorsNeedUpdate ||
            t.lineDistancesNeedUpdate ||
            E)
        ) {
          var it,
            rt,
            nt,
            ot,
            at,
            st,
            lt,
            ht,
            ct,
            ut,
            dt,
            ft,
            pt = Y.DYNAMIC_DRAW,
            mt = t.vertices,
            gt = t.colors,
            Et = t.lineDistances,
            vt = mt.length,
            _t = gt.length,
            yt = Et.length,
            Tt = t.__vertexArray,
            xt = t.__colorArray,
            Rt = t.__lineDistanceArray,
            bt = t.colorsNeedUpdate,
            wt = t.lineDistancesNeedUpdate,
            Ht = t.__webglCustomAttributesList;
          if (t.verticesNeedUpdate) {
            for (it = 0; vt > it; it++)
              (ot = mt[it]),
                (at = 3 * it),
                (Tt[at] = ot.x),
                (Tt[at + 1] = ot.y),
                (Tt[at + 2] = ot.z);
            Y.bindBuffer(Y.ARRAY_BUFFER, t.__webglVertexBuffer),
              Y.bufferData(Y.ARRAY_BUFFER, Tt, pt);
          }
          if (bt) {
            for (rt = 0; _t > rt; rt++)
              (st = gt[rt]),
                (at = 3 * rt),
                (xt[at] = st.r),
                (xt[at + 1] = st.g),
                (xt[at + 2] = st.b);
            Y.bindBuffer(Y.ARRAY_BUFFER, t.__webglColorBuffer),
              Y.bufferData(Y.ARRAY_BUFFER, xt, pt);
          }
          if (wt) {
            for (nt = 0; yt > nt; nt++) Rt[nt] = Et[nt];
            Y.bindBuffer(Y.ARRAY_BUFFER, t.__webglLineDistanceBuffer),
              Y.bufferData(Y.ARRAY_BUFFER, Rt, pt);
          }
          if (Ht)
            for (lt = 0, ht = Ht.length; ht > lt; lt++)
              if (
                ((ft = Ht[lt]),
                ft.needsUpdate &&
                  (void 0 === ft.boundTo || "vertices" === ft.boundTo))
              ) {
                if (((at = 0), (ut = ft.value.length), 1 === ft.size))
                  for (ct = 0; ut > ct; ct++) ft.array[ct] = ft.value[ct];
                else if (2 === ft.size)
                  for (ct = 0; ut > ct; ct++)
                    (dt = ft.value[ct]),
                      (ft.array[at] = dt.x),
                      (ft.array[at + 1] = dt.y),
                      (at += 2);
                else if (3 === ft.size)
                  if ("c" === ft.type)
                    for (ct = 0; ut > ct; ct++)
                      (dt = ft.value[ct]),
                        (ft.array[at] = dt.r),
                        (ft.array[at + 1] = dt.g),
                        (ft.array[at + 2] = dt.b),
                        (at += 3);
                  else
                    for (ct = 0; ut > ct; ct++)
                      (dt = ft.value[ct]),
                        (ft.array[at] = dt.x),
                        (ft.array[at + 1] = dt.y),
                        (ft.array[at + 2] = dt.z),
                        (at += 3);
                else if (4 === ft.size)
                  for (ct = 0; ut > ct; ct++)
                    (dt = ft.value[ct]),
                      (ft.array[at] = dt.x),
                      (ft.array[at + 1] = dt.y),
                      (ft.array[at + 2] = dt.z),
                      (ft.array[at + 3] = dt.w),
                      (at += 4);
                Y.bindBuffer(Y.ARRAY_BUFFER, ft.buffer),
                  Y.bufferData(Y.ARRAY_BUFFER, ft.array, pt),
                  (ft.needsUpdate = !1);
              }
        }
        (t.verticesNeedUpdate = !1),
          (t.colorsNeedUpdate = !1),
          (t.lineDistancesNeedUpdate = !1),
          g.attributes && m(g);
      } else if (e instanceof THREE.PointCloud) {
        if (
          ((g = i(e, t)),
          (E = g.attributes && p(g)),
          t.verticesNeedUpdate || t.colorsNeedUpdate || E)
        ) {
          var St,
            At,
            Mt,
            Ct,
            Pt,
            Lt,
            Dt,
            Ot,
            kt,
            Ft,
            Nt,
            jt = Y.DYNAMIC_DRAW,
            Ut = t.vertices,
            It = Ut.length,
            Bt = t.colors,
            Vt = Bt.length,
            zt = t.__vertexArray,
            Gt = t.__colorArray,
            Wt = t.colorsNeedUpdate,
            Xt = t.__webglCustomAttributesList;
          if (t.verticesNeedUpdate) {
            for (St = 0; It > St; St++)
              (Mt = Ut[St]),
                (Ct = 3 * St),
                (zt[Ct] = Mt.x),
                (zt[Ct + 1] = Mt.y),
                (zt[Ct + 2] = Mt.z);
            Y.bindBuffer(Y.ARRAY_BUFFER, t.__webglVertexBuffer),
              Y.bufferData(Y.ARRAY_BUFFER, zt, jt);
          }
          if (Wt) {
            for (At = 0; Vt > At; At++)
              (Pt = Bt[At]),
                (Ct = 3 * At),
                (Gt[Ct] = Pt.r),
                (Gt[Ct + 1] = Pt.g),
                (Gt[Ct + 2] = Pt.b);
            Y.bindBuffer(Y.ARRAY_BUFFER, t.__webglColorBuffer),
              Y.bufferData(Y.ARRAY_BUFFER, Gt, jt);
          }
          if (Xt)
            for (Lt = 0, Dt = Xt.length; Dt > Lt; Lt++) {
              if (
                ((Nt = Xt[Lt]),
                Nt.needsUpdate &&
                  (void 0 === Nt.boundTo || "vertices" === Nt.boundTo))
              )
                if (((kt = Nt.value.length), (Ct = 0), 1 === Nt.size))
                  for (Ot = 0; kt > Ot; Ot++) Nt.array[Ot] = Nt.value[Ot];
                else if (2 === Nt.size)
                  for (Ot = 0; kt > Ot; Ot++)
                    (Ft = Nt.value[Ot]),
                      (Nt.array[Ct] = Ft.x),
                      (Nt.array[Ct + 1] = Ft.y),
                      (Ct += 2);
                else if (3 === Nt.size)
                  if ("c" === Nt.type)
                    for (Ot = 0; kt > Ot; Ot++)
                      (Ft = Nt.value[Ot]),
                        (Nt.array[Ct] = Ft.r),
                        (Nt.array[Ct + 1] = Ft.g),
                        (Nt.array[Ct + 2] = Ft.b),
                        (Ct += 3);
                  else
                    for (Ot = 0; kt > Ot; Ot++)
                      (Ft = Nt.value[Ot]),
                        (Nt.array[Ct] = Ft.x),
                        (Nt.array[Ct + 1] = Ft.y),
                        (Nt.array[Ct + 2] = Ft.z),
                        (Ct += 3);
                else if (4 === Nt.size)
                  for (Ot = 0; kt > Ot; Ot++)
                    (Ft = Nt.value[Ot]),
                      (Nt.array[Ct] = Ft.x),
                      (Nt.array[Ct + 1] = Ft.y),
                      (Nt.array[Ct + 2] = Ft.z),
                      (Nt.array[Ct + 3] = Ft.w),
                      (Ct += 4);
              Y.bindBuffer(Y.ARRAY_BUFFER, Nt.buffer),
                Y.bufferData(Y.ARRAY_BUFFER, Nt.array, jt),
                (Nt.needsUpdate = !1);
            }
        }
        (t.verticesNeedUpdate = !1),
          (t.colorsNeedUpdate = !1),
          g.attributes && m(g);
      }
    }
    function p(e) {
      for (var t in e.attributes) if (e.attributes[t].needsUpdate) return !0;
      return !1;
    }
    function m(e) {
      for (var t in e.attributes) e.attributes[t].needsUpdate = !1;
    }
    function g(e) {
      !0 === e.transparent
        ? Ee.setBlending(
            e.blending,
            e.blendEquation,
            e.blendSrc,
            e.blendDst,
            e.blendEquationAlpha,
            e.blendSrcAlpha,
            e.blendDstAlpha
          )
        : Ee.setBlending(THREE.NoBlending),
        Ee.setDepthTest(e.depthTest),
        Ee.setDepthWrite(e.depthWrite),
        Ee.setColorWrite(e.colorWrite),
        Ee.setPolygonOffset(
          e.polygonOffset,
          e.polygonOffsetFactor,
          e.polygonOffsetUnits
        );
    }
    function E(e, t, i, r, n) {
      var o, a, s, l;
      if (((ie = 0), r.needsUpdate)) {
        r.program && Ge(r), r.addEventListener("dispose", Ve);
        var h = qe[r.type];
        if (h) {
          var c = THREE.ShaderLib[h];
          r.__webglShader = {
            uniforms: THREE.UniformsUtils.clone(c.uniforms),
            vertexShader: c.vertexShader,
            fragmentShader: c.fragmentShader,
          };
        } else
          r.__webglShader = {
            uniforms: r.uniforms,
            vertexShader: r.vertexShader,
            fragmentShader: r.fragmentShader,
          };
        for (var u = 0, d = 0, f = 0, p = 0, m = 0, g = t.length; g > m; m++) {
          var E = t[m];
          E.onlyShadow ||
            !1 === E.visible ||
            (E instanceof THREE.DirectionalLight && u++,
            E instanceof THREE.PointLight && d++,
            E instanceof THREE.SpotLight && f++,
            E instanceof THREE.HemisphereLight && p++);
        }
        (o = u), (a = d), (s = f), (l = p);
        for (var y, b = 0, w = 0, H = t.length; H > w; w++) {
          var M = t[w];
          M.castShadow &&
            (M instanceof THREE.SpotLight && b++,
            M instanceof THREE.DirectionalLight && !M.shadowCascade && b++);
        }
        y = b;
        var C;
        if (Se && n && n.skeleton && n.skeleton.useVertexTexture) C = 1024;
        else {
          var L = Y.getParameter(Y.MAX_VERTEX_UNIFORM_VECTORS),
            D = Math.floor((L - 20) / 4);
          void 0 !== n &&
            n instanceof THREE.SkinnedMesh &&
            ((D = Math.min(n.skeleton.bones.length, D)),
            D < n.skeleton.bones.length &&
              THREE.warn(
                "WebGLRenderer: too many bones - " +
                  n.skeleton.bones.length +
                  ", this GPU supports just " +
                  D +
                  " (try OpenGL instead of ANGLE)"
              )),
            (C = D);
        }
        var O = {
            precision: P,
            supportsVertexTextures: He,
            map: !!r.map,
            envMap: !!r.envMap,
            envMapMode: r.envMap && r.envMap.mapping,
            lightMap: !!r.lightMap,
            bumpMap: !!r.bumpMap,
            normalMap: !!r.normalMap,
            specularMap: !!r.specularMap,
            alphaMap: !!r.alphaMap,
            combine: r.combine,
            vertexColors: r.vertexColors,
            fog: i,
            useFog: r.fog,
            fogExp: i instanceof THREE.FogExp2,
            flatShading: r.shading === THREE.FlatShading,
            sizeAttenuation: r.sizeAttenuation,
            logarithmicDepthBuffer: j,
            skinning: r.skinning,
            maxBones: C,
            useVertexTexture:
              Se && n && n.skeleton && n.skeleton.useVertexTexture,
            morphTargets: r.morphTargets,
            morphNormals: r.morphNormals,
            maxMorphTargets: K.maxMorphTargets,
            maxMorphNormals: K.maxMorphNormals,
            maxDirLights: o,
            maxPointLights: a,
            maxSpotLights: s,
            maxHemiLights: l,
            maxShadows: y,
            shadowMapEnabled: K.shadowMapEnabled && n.receiveShadow && y > 0,
            shadowMapType: K.shadowMapType,
            shadowMapDebug: K.shadowMapDebug,
            shadowMapCascade: K.shadowMapCascade,
            alphaTest: r.alphaTest,
            metal: r.metal,
            wrapAround: r.wrapAround,
            doubleSided: r.side === THREE.DoubleSide,
            flipSided: r.side === THREE.BackSide,
          },
          k = [];
        if (
          (h ? k.push(h) : (k.push(r.fragmentShader), k.push(r.vertexShader)),
          void 0 !== r.defines)
        )
          for (var F in r.defines) k.push(F), k.push(r.defines[F]);
        for (F in O) k.push(F), k.push(O[F]);
        for (var N, U = k.join(), I = 0, B = Q.length; B > I; I++) {
          var V = Q[I];
          if (V.code === U) {
            (N = V), N.usedTimes++;
            break;
          }
        }
        void 0 === N &&
          ((N = new THREE.WebGLProgram(K, U, r, O)),
          Q.push(N),
          (K.info.memory.programs = Q.length)),
          (r.program = N);
        var z = N.attributes;
        if (r.morphTargets) {
          r.numSupportedMorphTargets = 0;
          for (var G, W = "morphTarget", X = 0; X < K.maxMorphTargets; X++)
            (G = W + X), 0 <= z[G] && r.numSupportedMorphTargets++;
        }
        if (r.morphNormals)
          for (
            r.numSupportedMorphNormals = 0, W = "morphNormal", X = 0;
            X < K.maxMorphNormals;
            X++
          )
            (G = W + X), 0 <= z[G] && r.numSupportedMorphNormals++;
        r.uniformsList = [];
        for (var q in r.__webglShader.uniforms) {
          var J = r.program.uniforms[q];
          J && r.uniformsList.push([r.__webglShader.uniforms[q], J]);
        }
        r.needsUpdate = !1;
      }
      r.morphTargets &&
        !n.__webglMorphTargetInfluences &&
        (n.__webglMorphTargetInfluences = new Float32Array(K.maxMorphTargets));
      var ee = !1,
        re = !1,
        ne = !1,
        oe = r.program,
        ae = oe.uniforms,
        se = r.__webglShader.uniforms;
      if (
        (oe.id !== $ &&
          (Y.useProgram(oe.program), ($ = oe.id), (ne = re = ee = !0)),
        r.id !== Z && (-1 === Z && (ne = !0), (Z = r.id), (re = !0)),
        (ee || e !== te) &&
          (Y.uniformMatrix4fv(
            ae.projectionMatrix,
            !1,
            e.projectionMatrix.elements
          ),
          j &&
            Y.uniform1f(ae.logDepthBufFC, 2 / (Math.log(e.far + 1) / Math.LN2)),
          e !== te && (te = e),
          (r instanceof THREE.ShaderMaterial ||
            r instanceof THREE.MeshPhongMaterial ||
            r.envMap) &&
            null !== ae.cameraPosition &&
            (ue.setFromMatrixPosition(e.matrixWorld),
            Y.uniform3f(ae.cameraPosition, ue.x, ue.y, ue.z)),
          (r instanceof THREE.MeshPhongMaterial ||
            r instanceof THREE.MeshLambertMaterial ||
            r instanceof THREE.MeshBasicMaterial ||
            r instanceof THREE.ShaderMaterial ||
            r.skinning) &&
            null !== ae.viewMatrix &&
            Y.uniformMatrix4fv(
              ae.viewMatrix,
              !1,
              e.matrixWorldInverse.elements
            )),
        r.skinning)
      )
        if (
          (n.bindMatrix &&
            null !== ae.bindMatrix &&
            Y.uniformMatrix4fv(ae.bindMatrix, !1, n.bindMatrix.elements),
          n.bindMatrixInverse &&
            null !== ae.bindMatrixInverse &&
            Y.uniformMatrix4fv(
              ae.bindMatrixInverse,
              !1,
              n.bindMatrixInverse.elements
            ),
          Se && n.skeleton && n.skeleton.useVertexTexture)
        ) {
          if (null !== ae.boneTexture) {
            var le = _();
            Y.uniform1i(ae.boneTexture, le),
              K.setTexture(n.skeleton.boneTexture, le);
          }
          null !== ae.boneTextureWidth &&
            Y.uniform1i(ae.boneTextureWidth, n.skeleton.boneTextureWidth),
            null !== ae.boneTextureHeight &&
              Y.uniform1i(ae.boneTextureHeight, n.skeleton.boneTextureHeight);
        } else
          n.skeleton &&
            n.skeleton.boneMatrices &&
            null !== ae.boneGlobalMatrices &&
            Y.uniformMatrix4fv(
              ae.boneGlobalMatrices,
              !1,
              n.skeleton.boneMatrices
            );
      if (re) {
        if (
          (i &&
            r.fog &&
            ((se.fogColor.value = i.color),
            i instanceof THREE.Fog
              ? ((se.fogNear.value = i.near), (se.fogFar.value = i.far))
              : i instanceof THREE.FogExp2 &&
                (se.fogDensity.value = i.density)),
          r instanceof THREE.MeshPhongMaterial ||
            r instanceof THREE.MeshLambertMaterial ||
            r.lights)
        ) {
          if (fe) {
            var he,
              ce,
              me,
              ge,
              Ee,
              ve,
              _e,
              ye,
              ne = !0,
              Te = 0,
              xe = 0,
              Re = 0,
              be = pe,
              Ae = be.directional.colors,
              Me = be.directional.positions,
              Ce = be.point.colors,
              Pe = be.point.positions,
              De = be.point.distances,
              Oe = be.point.decays,
              ke = be.spot.colors,
              Fe = be.spot.positions,
              Ne = be.spot.distances,
              je = be.spot.directions,
              Ue = be.spot.anglesCos,
              Be = be.spot.exponents,
              ze = be.spot.decays,
              We = be.hemi.skyColors,
              Xe = be.hemi.groundColors,
              Ye = be.hemi.positions,
              Ke = 0,
              Qe = 0,
              $e = 0,
              Je = 0,
              Ze = 0,
              et = 0,
              tt = 0,
              it = 0,
              rt = 0,
              nt = 0,
              ot = 0,
              at = 0;
            for (he = 0, ce = t.length; ce > he; he++)
              (me = t[he]),
                me.onlyShadow ||
                  ((ge = me.color),
                  (_e = me.intensity),
                  (ye = me.distance),
                  me instanceof THREE.AmbientLight
                    ? me.visible && ((Te += ge.r), (xe += ge.g), (Re += ge.b))
                    : me instanceof THREE.DirectionalLight
                    ? ((Ze += 1),
                      me.visible &&
                        (de.setFromMatrixPosition(me.matrixWorld),
                        ue.setFromMatrixPosition(me.target.matrixWorld),
                        de.sub(ue),
                        de.normalize(),
                        (rt = 3 * Ke),
                        (Me[rt] = de.x),
                        (Me[rt + 1] = de.y),
                        (Me[rt + 2] = de.z),
                        T(Ae, rt, ge, _e),
                        (Ke += 1)))
                    : me instanceof THREE.PointLight
                    ? ((et += 1),
                      me.visible &&
                        ((nt = 3 * Qe),
                        T(Ce, nt, ge, _e),
                        ue.setFromMatrixPosition(me.matrixWorld),
                        (Pe[nt] = ue.x),
                        (Pe[nt + 1] = ue.y),
                        (Pe[nt + 2] = ue.z),
                        (De[Qe] = ye),
                        (Oe[Qe] = 0 === me.distance ? 0 : me.decay),
                        (Qe += 1)))
                    : me instanceof THREE.SpotLight
                    ? ((tt += 1),
                      me.visible &&
                        ((ot = 3 * $e),
                        T(ke, ot, ge, _e),
                        de.setFromMatrixPosition(me.matrixWorld),
                        (Fe[ot] = de.x),
                        (Fe[ot + 1] = de.y),
                        (Fe[ot + 2] = de.z),
                        (Ne[$e] = ye),
                        ue.setFromMatrixPosition(me.target.matrixWorld),
                        de.sub(ue),
                        de.normalize(),
                        (je[ot] = de.x),
                        (je[ot + 1] = de.y),
                        (je[ot + 2] = de.z),
                        (Ue[$e] = Math.cos(me.angle)),
                        (Be[$e] = me.exponent),
                        (ze[$e] = 0 === me.distance ? 0 : me.decay),
                        ($e += 1)))
                    : me instanceof THREE.HemisphereLight &&
                      ((it += 1),
                      me.visible &&
                        (de.setFromMatrixPosition(me.matrixWorld),
                        de.normalize(),
                        (at = 3 * Je),
                        (Ye[at] = de.x),
                        (Ye[at + 1] = de.y),
                        (Ye[at + 2] = de.z),
                        (Ee = me.color),
                        (ve = me.groundColor),
                        T(We, at, Ee, _e),
                        T(Xe, at, ve, _e),
                        (Je += 1))));
            for (he = 3 * Ke, ce = Math.max(Ae.length, 3 * Ze); ce > he; he++)
              Ae[he] = 0;
            for (he = 3 * Qe, ce = Math.max(Ce.length, 3 * et); ce > he; he++)
              Ce[he] = 0;
            for (he = 3 * $e, ce = Math.max(ke.length, 3 * tt); ce > he; he++)
              ke[he] = 0;
            for (he = 3 * Je, ce = Math.max(We.length, 3 * it); ce > he; he++)
              We[he] = 0;
            for (he = 3 * Je, ce = Math.max(Xe.length, 3 * it); ce > he; he++)
              Xe[he] = 0;
            (be.directional.length = Ke),
              (be.point.length = Qe),
              (be.spot.length = $e),
              (be.hemi.length = Je),
              (be.ambient[0] = Te),
              (be.ambient[1] = xe),
              (be.ambient[2] = Re),
              (fe = !1);
          }
          if (ne) {
            var st = pe;
            (se.ambientLightColor.value = st.ambient),
              (se.directionalLightColor.value = st.directional.colors),
              (se.directionalLightDirection.value = st.directional.positions),
              (se.pointLightColor.value = st.point.colors),
              (se.pointLightPosition.value = st.point.positions),
              (se.pointLightDistance.value = st.point.distances),
              (se.pointLightDecay.value = st.point.decays),
              (se.spotLightColor.value = st.spot.colors),
              (se.spotLightPosition.value = st.spot.positions),
              (se.spotLightDistance.value = st.spot.distances),
              (se.spotLightDirection.value = st.spot.directions),
              (se.spotLightAngleCos.value = st.spot.anglesCos),
              (se.spotLightExponent.value = st.spot.exponents),
              (se.spotLightDecay.value = st.spot.decays),
              (se.hemisphereLightSkyColor.value = st.hemi.skyColors),
              (se.hemisphereLightGroundColor.value = st.hemi.groundColors),
              (se.hemisphereLightDirection.value = st.hemi.positions),
              v(se, !0);
          } else v(se, !1);
        }
        if (
          r instanceof THREE.MeshBasicMaterial ||
          r instanceof THREE.MeshLambertMaterial ||
          r instanceof THREE.MeshPhongMaterial
        ) {
          (se.opacity.value = r.opacity),
            (se.diffuse.value = r.color),
            (se.map.value = r.map),
            (se.lightMap.value = r.lightMap),
            (se.specularMap.value = r.specularMap),
            (se.alphaMap.value = r.alphaMap),
            r.bumpMap &&
              ((se.bumpMap.value = r.bumpMap),
              (se.bumpScale.value = r.bumpScale)),
            r.normalMap &&
              ((se.normalMap.value = r.normalMap),
              se.normalScale.value.copy(r.normalScale));
          var lt;
          if (
            (r.map
              ? (lt = r.map)
              : r.specularMap
              ? (lt = r.specularMap)
              : r.normalMap
              ? (lt = r.normalMap)
              : r.bumpMap
              ? (lt = r.bumpMap)
              : r.alphaMap && (lt = r.alphaMap),
            void 0 !== lt)
          ) {
            var ht = lt.offset,
              ct = lt.repeat;
            se.offsetRepeat.value.set(ht.x, ht.y, ct.x, ct.y);
          }
          (se.envMap.value = r.envMap),
            (se.flipEnvMap.value =
              r.envMap instanceof THREE.WebGLRenderTargetCube ? 1 : -1),
            (se.reflectivity.value = r.reflectivity),
            (se.refractionRatio.value = r.refractionRatio);
        }
        if (r instanceof THREE.LineBasicMaterial)
          (se.diffuse.value = r.color), (se.opacity.value = r.opacity);
        else if (r instanceof THREE.LineDashedMaterial)
          (se.diffuse.value = r.color),
            (se.opacity.value = r.opacity),
            (se.dashSize.value = r.dashSize),
            (se.totalSize.value = r.dashSize + r.gapSize),
            (se.scale.value = r.scale);
        else if (r instanceof THREE.PointCloudMaterial) {
          if (
            ((se.psColor.value = r.color),
            (se.opacity.value = r.opacity),
            (se.size.value = r.size),
            (se.scale.value = A.height / 2),
            (se.map.value = r.map),
            null !== r.map)
          ) {
            var ut = r.map.offset,
              dt = r.map.repeat;
            se.offsetRepeat.value.set(ut.x, ut.y, dt.x, dt.y);
          }
        } else
          r instanceof THREE.MeshPhongMaterial
            ? ((se.shininess.value = r.shininess),
              (se.emissive.value = r.emissive),
              (se.specular.value = r.specular),
              r.wrapAround && se.wrapRGB.value.copy(r.wrapRGB))
            : r instanceof THREE.MeshLambertMaterial
            ? ((se.emissive.value = r.emissive),
              r.wrapAround && se.wrapRGB.value.copy(r.wrapRGB))
            : r instanceof THREE.MeshDepthMaterial
            ? ((se.mNear.value = e.near),
              (se.mFar.value = e.far),
              (se.opacity.value = r.opacity))
            : r instanceof THREE.MeshNormalMaterial &&
              (se.opacity.value = r.opacity);
        if (n.receiveShadow && !r._shadowPass && se.shadowMatrix)
          for (var ft = 0, pt = 0, mt = t.length; mt > pt; pt++) {
            var gt = t[pt];
            gt.castShadow &&
              (gt instanceof THREE.SpotLight ||
                (gt instanceof THREE.DirectionalLight && !gt.shadowCascade)) &&
              ((se.shadowMap.value[ft] = gt.shadowMap),
              (se.shadowMapSize.value[ft] = gt.shadowMapSize),
              (se.shadowMatrix.value[ft] = gt.shadowMatrix),
              (se.shadowDarkness.value[ft] = gt.shadowDarkness),
              (se.shadowBias.value[ft] = gt.shadowBias),
              ft++);
          }
        for (
          var Et, vt, _t, yt = r.uniformsList, Tt = 0, xt = yt.length;
          xt > Tt;
          Tt++
        ) {
          var Rt = yt[Tt][0];
          if (!1 !== Rt.needsUpdate) {
            var bt = Rt.type,
              wt = Rt.value,
              Ht = yt[Tt][1];
            switch (bt) {
              case "1i":
                Y.uniform1i(Ht, wt);
                break;
              case "1f":
                Y.uniform1f(Ht, wt);
                break;
              case "2f":
                Y.uniform2f(Ht, wt[0], wt[1]);
                break;
              case "3f":
                Y.uniform3f(Ht, wt[0], wt[1], wt[2]);
                break;
              case "4f":
                Y.uniform4f(Ht, wt[0], wt[1], wt[2], wt[3]);
                break;
              case "1iv":
                Y.uniform1iv(Ht, wt);
                break;
              case "3iv":
                Y.uniform3iv(Ht, wt);
                break;
              case "1fv":
                Y.uniform1fv(Ht, wt);
                break;
              case "2fv":
                Y.uniform2fv(Ht, wt);
                break;
              case "3fv":
                Y.uniform3fv(Ht, wt);
                break;
              case "4fv":
                Y.uniform4fv(Ht, wt);
                break;
              case "Matrix3fv":
                Y.uniformMatrix3fv(Ht, !1, wt);
                break;
              case "Matrix4fv":
                Y.uniformMatrix4fv(Ht, !1, wt);
                break;
              case "i":
                Y.uniform1i(Ht, wt);
                break;
              case "f":
                Y.uniform1f(Ht, wt);
                break;
              case "v2":
                Y.uniform2f(Ht, wt.x, wt.y);
                break;
              case "v3":
                Y.uniform3f(Ht, wt.x, wt.y, wt.z);
                break;
              case "v4":
                Y.uniform4f(Ht, wt.x, wt.y, wt.z, wt.w);
                break;
              case "c":
                Y.uniform3f(Ht, wt.r, wt.g, wt.b);
                break;
              case "iv1":
                Y.uniform1iv(Ht, wt);
                break;
              case "iv":
                Y.uniform3iv(Ht, wt);
                break;
              case "fv1":
                Y.uniform1fv(Ht, wt);
                break;
              case "fv":
                Y.uniform3fv(Ht, wt);
                break;
              case "v2v":
                void 0 === Rt._array &&
                  (Rt._array = new Float32Array(2 * wt.length));
                for (var St = 0, At = wt.length; At > St; St++)
                  (_t = 2 * St),
                    (Rt._array[_t] = wt[St].x),
                    (Rt._array[_t + 1] = wt[St].y);
                Y.uniform2fv(Ht, Rt._array);
                break;
              case "v3v":
                for (
                  void 0 === Rt._array &&
                    (Rt._array = new Float32Array(3 * wt.length)),
                    St = 0,
                    At = wt.length;
                  At > St;
                  St++
                )
                  (_t = 3 * St),
                    (Rt._array[_t] = wt[St].x),
                    (Rt._array[_t + 1] = wt[St].y),
                    (Rt._array[_t + 2] = wt[St].z);
                Y.uniform3fv(Ht, Rt._array);
                break;
              case "v4v":
                for (
                  void 0 === Rt._array &&
                    (Rt._array = new Float32Array(4 * wt.length)),
                    St = 0,
                    At = wt.length;
                  At > St;
                  St++
                )
                  (_t = 4 * St),
                    (Rt._array[_t] = wt[St].x),
                    (Rt._array[_t + 1] = wt[St].y),
                    (Rt._array[_t + 2] = wt[St].z),
                    (Rt._array[_t + 3] = wt[St].w);
                Y.uniform4fv(Ht, Rt._array);
                break;
              case "m3":
                Y.uniformMatrix3fv(Ht, !1, wt.elements);
                break;
              case "m3v":
                for (
                  void 0 === Rt._array &&
                    (Rt._array = new Float32Array(9 * wt.length)),
                    St = 0,
                    At = wt.length;
                  At > St;
                  St++
                )
                  wt[St].flattenToArrayOffset(Rt._array, 9 * St);
                Y.uniformMatrix3fv(Ht, !1, Rt._array);
                break;
              case "m4":
                Y.uniformMatrix4fv(Ht, !1, wt.elements);
                break;
              case "m4v":
                for (
                  void 0 === Rt._array &&
                    (Rt._array = new Float32Array(16 * wt.length)),
                    St = 0,
                    At = wt.length;
                  At > St;
                  St++
                )
                  wt[St].flattenToArrayOffset(Rt._array, 16 * St);
                Y.uniformMatrix4fv(Ht, !1, Rt._array);
                break;
              case "t":
                if (((Et = wt), (vt = _()), Y.uniform1i(Ht, vt), !Et)) continue;
                if (
                  Et instanceof THREE.CubeTexture ||
                  (Et.image instanceof Array && 6 === Et.image.length)
                ) {
                  var Mt = Et,
                    Ct = vt;
                  if (6 === Mt.image.length)
                    if (Mt.needsUpdate) {
                      Mt.image.__webglTextureCube ||
                        (Mt.addEventListener("dispose", Ie),
                        (Mt.image.__webglTextureCube = Y.createTexture()),
                        K.info.memory.textures++),
                        Y.activeTexture(Y.TEXTURE0 + Ct),
                        Y.bindTexture(
                          Y.TEXTURE_CUBE_MAP,
                          Mt.image.__webglTextureCube
                        ),
                        Y.pixelStorei(Y.UNPACK_FLIP_Y_WEBGL, Mt.flipY);
                      for (
                        var Pt = Mt instanceof THREE.CompressedTexture,
                          Lt = Mt.image[0] instanceof THREE.DataTexture,
                          Dt = [],
                          Ot = 0;
                        6 > Ot;
                        Ot++
                      )
                        Dt[Ot] =
                          !K.autoScaleCubemaps || Pt || Lt
                            ? Lt
                              ? Mt.image[Ot].image
                              : Mt.image[Ot]
                            : R(Mt.image[Ot], we);
                      var kt = Dt[0],
                        Ft =
                          THREE.Math.isPowerOfTwo(kt.width) &&
                          THREE.Math.isPowerOfTwo(kt.height),
                        Nt = S(Mt.format),
                        jt = S(Mt.type);
                      for (x(Y.TEXTURE_CUBE_MAP, Mt, Ft), Ot = 0; 6 > Ot; Ot++)
                        if (Pt)
                          for (
                            var Ut, It = Dt[Ot].mipmaps, Bt = 0, Vt = It.length;
                            Vt > Bt;
                            Bt++
                          )
                            (Ut = It[Bt]),
                              Mt.format !== THREE.RGBAFormat &&
                              Mt.format !== THREE.RGBFormat
                                ? -1 < Le().indexOf(Nt)
                                  ? Y.compressedTexImage2D(
                                      Y.TEXTURE_CUBE_MAP_POSITIVE_X + Ot,
                                      Bt,
                                      Nt,
                                      Ut.width,
                                      Ut.height,
                                      0,
                                      Ut.data
                                    )
                                  : THREE.warn(
                                      "THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setCubeTexture()"
                                    )
                                : Y.texImage2D(
                                    Y.TEXTURE_CUBE_MAP_POSITIVE_X + Ot,
                                    Bt,
                                    Nt,
                                    Ut.width,
                                    Ut.height,
                                    0,
                                    Nt,
                                    jt,
                                    Ut.data
                                  );
                        else
                          Lt
                            ? Y.texImage2D(
                                Y.TEXTURE_CUBE_MAP_POSITIVE_X + Ot,
                                0,
                                Nt,
                                Dt[Ot].width,
                                Dt[Ot].height,
                                0,
                                Nt,
                                jt,
                                Dt[Ot].data
                              )
                            : Y.texImage2D(
                                Y.TEXTURE_CUBE_MAP_POSITIVE_X + Ot,
                                0,
                                Nt,
                                Nt,
                                jt,
                                Dt[Ot]
                              );
                      Mt.generateMipmaps &&
                        Ft &&
                        Y.generateMipmap(Y.TEXTURE_CUBE_MAP),
                        (Mt.needsUpdate = !1),
                        Mt.onUpdate && Mt.onUpdate();
                    } else
                      Y.activeTexture(Y.TEXTURE0 + Ct),
                        Y.bindTexture(
                          Y.TEXTURE_CUBE_MAP,
                          Mt.image.__webglTextureCube
                        );
                } else if (Et instanceof THREE.WebGLRenderTargetCube) {
                  var zt = Et;
                  Y.activeTexture(Y.TEXTURE0 + vt),
                    Y.bindTexture(Y.TEXTURE_CUBE_MAP, zt.__webglTexture);
                } else K.setTexture(Et, vt);
                break;
              case "tv":
                for (
                  void 0 === Rt._array && (Rt._array = []),
                    St = 0,
                    At = Rt.value.length;
                  At > St;
                  St++
                )
                  Rt._array[St] = _();
                for (
                  Y.uniform1iv(Ht, Rt._array), St = 0, At = Rt.value.length;
                  At > St;
                  St++
                )
                  (Et = Rt.value[St]),
                    (vt = Rt._array[St]),
                    Et && K.setTexture(Et, vt);
                break;
              default:
                THREE.warn("THREE.WebGLRenderer: Unknown uniform type: " + bt);
            }
          }
        }
      }
      return (
        Y.uniformMatrix4fv(ae.modelViewMatrix, !1, n._modelViewMatrix.elements),
        ae.normalMatrix &&
          Y.uniformMatrix3fv(ae.normalMatrix, !1, n._normalMatrix.elements),
        null !== ae.modelMatrix &&
          Y.uniformMatrix4fv(ae.modelMatrix, !1, n.matrixWorld.elements),
        oe
      );
    }
    function v(e, t) {
      (e.ambientLightColor.needsUpdate = t),
        (e.directionalLightColor.needsUpdate = t),
        (e.directionalLightDirection.needsUpdate = t),
        (e.pointLightColor.needsUpdate = t),
        (e.pointLightPosition.needsUpdate = t),
        (e.pointLightDistance.needsUpdate = t),
        (e.pointLightDecay.needsUpdate = t),
        (e.spotLightColor.needsUpdate = t),
        (e.spotLightPosition.needsUpdate = t),
        (e.spotLightDistance.needsUpdate = t),
        (e.spotLightDirection.needsUpdate = t),
        (e.spotLightAngleCos.needsUpdate = t),
        (e.spotLightExponent.needsUpdate = t),
        (e.spotLightDecay.needsUpdate = t),
        (e.hemisphereLightSkyColor.needsUpdate = t),
        (e.hemisphereLightGroundColor.needsUpdate = t),
        (e.hemisphereLightDirection.needsUpdate = t);
    }
    function _() {
      var e = ie;
      return (
        e >= xe &&
          THREE.warn(
            "WebGLRenderer: trying to use " +
              e +
              " texture units while this GPU supports only " +
              xe
          ),
        (ie += 1),
        e
      );
    }
    function y(e, t) {
      e._modelViewMatrix.multiplyMatrices(t.matrixWorldInverse, e.matrixWorld),
        e._normalMatrix.getNormalMatrix(e._modelViewMatrix);
    }
    function T(e, t, i, r) {
      (e[t] = i.r * r), (e[t + 1] = i.g * r), (e[t + 2] = i.b * r);
    }
    function x(e, t, i) {
      i
        ? (Y.texParameteri(e, Y.TEXTURE_WRAP_S, S(t.wrapS)),
          Y.texParameteri(e, Y.TEXTURE_WRAP_T, S(t.wrapT)),
          Y.texParameteri(e, Y.TEXTURE_MAG_FILTER, S(t.magFilter)),
          Y.texParameteri(e, Y.TEXTURE_MIN_FILTER, S(t.minFilter)))
        : (Y.texParameteri(e, Y.TEXTURE_WRAP_S, Y.CLAMP_TO_EDGE),
          Y.texParameteri(e, Y.TEXTURE_WRAP_T, Y.CLAMP_TO_EDGE),
          (t.wrapS === THREE.ClampToEdgeWrapping &&
            t.wrapT === THREE.ClampToEdgeWrapping) ||
            THREE.warn(
              "THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping. ( " +
                t.sourceFile +
                " )"
            ),
          Y.texParameteri(e, Y.TEXTURE_MAG_FILTER, H(t.magFilter)),
          Y.texParameteri(e, Y.TEXTURE_MIN_FILTER, H(t.minFilter)),
          t.minFilter !== THREE.NearestFilter &&
            t.minFilter !== THREE.LinearFilter &&
            THREE.warn(
              "THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter. ( " +
                t.sourceFile +
                " )"
            )),
        (i = ve.get("EXT_texture_filter_anisotropic")) &&
          t.type !== THREE.FloatType &&
          t.type !== THREE.HalfFloatType &&
          (1 < t.anisotropy || t.__currentAnisotropy) &&
          (Y.texParameterf(
            e,
            i.TEXTURE_MAX_ANISOTROPY_EXT,
            Math.min(t.anisotropy, K.getMaxAnisotropy())
          ),
          (t.__currentAnisotropy = t.anisotropy));
    }
    function R(e, t) {
      if (e.width > t || e.height > t) {
        var i = t / Math.max(e.width, e.height),
          r = document.createElement("canvas");
        return (
          (r.width = Math.floor(e.width * i)),
          (r.height = Math.floor(e.height * i)),
          r
            .getContext("2d")
            .drawImage(e, 0, 0, e.width, e.height, 0, 0, r.width, r.height),
          THREE.warn(
            "THREE.WebGLRenderer: image is too big (" +
              e.width +
              "x" +
              e.height +
              "). Resized to " +
              r.width +
              "x" +
              r.height,
            e
          ),
          r
        );
      }
      return e;
    }
    function b(e, t) {
      Y.bindRenderbuffer(Y.RENDERBUFFER, e),
        t.depthBuffer && !t.stencilBuffer
          ? (Y.renderbufferStorage(
              Y.RENDERBUFFER,
              Y.DEPTH_COMPONENT16,
              t.width,
              t.height
            ),
            Y.framebufferRenderbuffer(
              Y.FRAMEBUFFER,
              Y.DEPTH_ATTACHMENT,
              Y.RENDERBUFFER,
              e
            ))
          : t.depthBuffer && t.stencilBuffer
          ? (Y.renderbufferStorage(
              Y.RENDERBUFFER,
              Y.DEPTH_STENCIL,
              t.width,
              t.height
            ),
            Y.framebufferRenderbuffer(
              Y.FRAMEBUFFER,
              Y.DEPTH_STENCIL_ATTACHMENT,
              Y.RENDERBUFFER,
              e
            ))
          : Y.renderbufferStorage(Y.RENDERBUFFER, Y.RGBA4, t.width, t.height);
    }
    function w(e) {
      e instanceof THREE.WebGLRenderTargetCube
        ? (Y.bindTexture(Y.TEXTURE_CUBE_MAP, e.__webglTexture),
          Y.generateMipmap(Y.TEXTURE_CUBE_MAP),
          Y.bindTexture(Y.TEXTURE_CUBE_MAP, null))
        : (Y.bindTexture(Y.TEXTURE_2D, e.__webglTexture),
          Y.generateMipmap(Y.TEXTURE_2D),
          Y.bindTexture(Y.TEXTURE_2D, null));
    }
    function H(e) {
      return e === THREE.NearestFilter ||
        e === THREE.NearestMipMapNearestFilter ||
        e === THREE.NearestMipMapLinearFilter
        ? Y.NEAREST
        : Y.LINEAR;
    }
    function S(e) {
      var t;
      if (e === THREE.RepeatWrapping) return Y.REPEAT;
      if (e === THREE.ClampToEdgeWrapping) return Y.CLAMP_TO_EDGE;
      if (e === THREE.MirroredRepeatWrapping) return Y.MIRRORED_REPEAT;
      if (e === THREE.NearestFilter) return Y.NEAREST;
      if (e === THREE.NearestMipMapNearestFilter)
        return Y.NEAREST_MIPMAP_NEAREST;
      if (e === THREE.NearestMipMapLinearFilter) return Y.NEAREST_MIPMAP_LINEAR;
      if (e === THREE.LinearFilter) return Y.LINEAR;
      if (e === THREE.LinearMipMapNearestFilter) return Y.LINEAR_MIPMAP_NEAREST;
      if (e === THREE.LinearMipMapLinearFilter) return Y.LINEAR_MIPMAP_LINEAR;
      if (e === THREE.UnsignedByteType) return Y.UNSIGNED_BYTE;
      if (e === THREE.UnsignedShort4444Type) return Y.UNSIGNED_SHORT_4_4_4_4;
      if (e === THREE.UnsignedShort5551Type) return Y.UNSIGNED_SHORT_5_5_5_1;
      if (e === THREE.UnsignedShort565Type) return Y.UNSIGNED_SHORT_5_6_5;
      if (e === THREE.ByteType) return Y.BYTE;
      if (e === THREE.ShortType) return Y.SHORT;
      if (e === THREE.UnsignedShortType) return Y.UNSIGNED_SHORT;
      if (e === THREE.IntType) return Y.INT;
      if (e === THREE.UnsignedIntType) return Y.UNSIGNED_INT;
      if (e === THREE.FloatType) return Y.FLOAT;
      if (
        ((t = ve.get("OES_texture_half_float")),
        null !== t && e === THREE.HalfFloatType)
      )
        return t.HALF_FLOAT_OES;
      if (e === THREE.AlphaFormat) return Y.ALPHA;
      if (e === THREE.RGBFormat) return Y.RGB;
      if (e === THREE.RGBAFormat) return Y.RGBA;
      if (e === THREE.LuminanceFormat) return Y.LUMINANCE;
      if (e === THREE.LuminanceAlphaFormat) return Y.LUMINANCE_ALPHA;
      if (e === THREE.AddEquation) return Y.FUNC_ADD;
      if (e === THREE.SubtractEquation) return Y.FUNC_SUBTRACT;
      if (e === THREE.ReverseSubtractEquation) return Y.FUNC_REVERSE_SUBTRACT;
      if (e === THREE.ZeroFactor) return Y.ZERO;
      if (e === THREE.OneFactor) return Y.ONE;
      if (e === THREE.SrcColorFactor) return Y.SRC_COLOR;
      if (e === THREE.OneMinusSrcColorFactor) return Y.ONE_MINUS_SRC_COLOR;
      if (e === THREE.SrcAlphaFactor) return Y.SRC_ALPHA;
      if (e === THREE.OneMinusSrcAlphaFactor) return Y.ONE_MINUS_SRC_ALPHA;
      if (e === THREE.DstAlphaFactor) return Y.DST_ALPHA;
      if (e === THREE.OneMinusDstAlphaFactor) return Y.ONE_MINUS_DST_ALPHA;
      if (e === THREE.DstColorFactor) return Y.DST_COLOR;
      if (e === THREE.OneMinusDstColorFactor) return Y.ONE_MINUS_DST_COLOR;
      if (e === THREE.SrcAlphaSaturateFactor) return Y.SRC_ALPHA_SATURATE;
      if (((t = ve.get("WEBGL_compressed_texture_s3tc")), null !== t)) {
        if (e === THREE.RGB_S3TC_DXT1_Format)
          return t.COMPRESSED_RGB_S3TC_DXT1_EXT;
        if (e === THREE.RGBA_S3TC_DXT1_Format)
          return t.COMPRESSED_RGBA_S3TC_DXT1_EXT;
        if (e === THREE.RGBA_S3TC_DXT3_Format)
          return t.COMPRESSED_RGBA_S3TC_DXT3_EXT;
        if (e === THREE.RGBA_S3TC_DXT5_Format)
          return t.COMPRESSED_RGBA_S3TC_DXT5_EXT;
      }
      if (((t = ve.get("WEBGL_compressed_texture_pvrtc")), null !== t)) {
        if (e === THREE.RGB_PVRTC_4BPPV1_Format)
          return t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;
        if (e === THREE.RGB_PVRTC_2BPPV1_Format)
          return t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;
        if (e === THREE.RGBA_PVRTC_4BPPV1_Format)
          return t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;
        if (e === THREE.RGBA_PVRTC_2BPPV1_Format)
          return t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG;
      }
      if (((t = ve.get("EXT_blend_minmax")), null !== t)) {
        if (e === THREE.MinEquation) return t.MIN_EXT;
        if (e === THREE.MaxEquation) return t.MAX_EXT;
      }
      return 0;
    }
    console.log("THREE.WebGLRenderer", THREE.REVISION), (e = e || {});
    var A = void 0 !== e.canvas ? e.canvas : document.createElement("canvas"),
      M = void 0 !== e.context ? e.context : null,
      C = 1,
      P = void 0 !== e.precision ? e.precision : "highp",
      L = void 0 !== e.alpha ? e.alpha : !1,
      D = void 0 !== e.depth ? e.depth : !0,
      O = void 0 !== e.stencil ? e.stencil : !0,
      k = void 0 !== e.antialias ? e.antialias : !1,
      F = void 0 !== e.premultipliedAlpha ? e.premultipliedAlpha : !0,
      N = void 0 !== e.preserveDrawingBuffer ? e.preserveDrawingBuffer : !1,
      j = void 0 !== e.logarithmicDepthBuffer ? e.logarithmicDepthBuffer : !1,
      U = new THREE.Color(0),
      I = 0,
      B = [],
      V = {},
      z = [],
      G = [],
      W = [],
      X = [],
      q = [];
    (this.domElement = A),
      (this.context = null),
      (this.sortObjects =
        this.autoClearStencil =
        this.autoClearDepth =
        this.autoClearColor =
        this.autoClear =
          !0),
      (this.gammaFactor = 2),
      (this.shadowMapEnabled = this.gammaOutput = this.gammaInput = !1),
      (this.shadowMapType = THREE.PCFShadowMap),
      (this.shadowMapCullFace = THREE.CullFaceFront),
      (this.shadowMapCascade = this.shadowMapDebug = !1),
      (this.maxMorphTargets = 8),
      (this.maxMorphNormals = 4),
      (this.autoScaleCubemaps = !0),
      (this.info = {
        memory: { programs: 0, geometries: 0, textures: 0 },
        render: { calls: 0, vertices: 0, faces: 0, points: 0 },
      });
    var Y,
      K = this,
      Q = [],
      $ = null,
      J = null,
      Z = -1,
      ee = "",
      te = null,
      ie = 0,
      re = 0,
      ne = 0,
      oe = A.width,
      ae = A.height,
      se = 0,
      le = 0,
      he = new THREE.Frustum(),
      ce = new THREE.Matrix4(),
      ue = new THREE.Vector3(),
      de = new THREE.Vector3(),
      fe = !0,
      pe = {
        ambient: [0, 0, 0],
        directional: { length: 0, colors: [], positions: [] },
        point: {
          length: 0,
          colors: [],
          positions: [],
          distances: [],
          decays: [],
        },
        spot: {
          length: 0,
          colors: [],
          positions: [],
          distances: [],
          directions: [],
          anglesCos: [],
          exponents: [],
          decays: [],
        },
        hemi: { length: 0, skyColors: [], groundColors: [], positions: [] },
      };
    try {
      var me = {
        alpha: L,
        depth: D,
        stencil: O,
        antialias: k,
        premultipliedAlpha: F,
        preserveDrawingBuffer: N,
      };
      if (
        ((Y =
          M ||
          A.getContext("webgl", me) ||
          A.getContext("experimental-webgl", me)),
        null === Y)
      ) {
        if (null !== A.getContext("webgl"))
          throw "Error creating WebGL context with your selected attributes.";
        throw "Error creating WebGL context.";
      }
      A.addEventListener(
        "webglcontextlost",
        function (e) {
          e.preventDefault(), Te(), ye(), (V = {});
        },
        !1
      );
    } catch (ge) {
      THREE.error("THREE.WebGLRenderer: " + ge);
    }
    var Ee = new THREE.WebGLState(Y, S);
    void 0 === Y.getShaderPrecisionFormat &&
      (Y.getShaderPrecisionFormat = function () {
        return { rangeMin: 1, rangeMax: 1, precision: 1 };
      });
    var ve = new THREE.WebGLExtensions(Y);
    ve.get("OES_texture_float"),
      ve.get("OES_texture_float_linear"),
      ve.get("OES_texture_half_float"),
      ve.get("OES_texture_half_float_linear"),
      ve.get("OES_standard_derivatives"),
      j && ve.get("EXT_frag_depth");
    var _e = function (e, t, i, r) {
        !0 === F && ((e *= r), (t *= r), (i *= r)), Y.clearColor(e, t, i, r);
      },
      ye = function () {
        Y.clearColor(0, 0, 0, 1),
          Y.clearDepth(1),
          Y.clearStencil(0),
          Y.enable(Y.DEPTH_TEST),
          Y.depthFunc(Y.LEQUAL),
          Y.frontFace(Y.CCW),
          Y.cullFace(Y.BACK),
          Y.enable(Y.CULL_FACE),
          Y.enable(Y.BLEND),
          Y.blendEquation(Y.FUNC_ADD),
          Y.blendFunc(Y.SRC_ALPHA, Y.ONE_MINUS_SRC_ALPHA),
          Y.viewport(re, ne, oe, ae),
          _e(U.r, U.g, U.b, I);
      },
      Te = function () {
        (te = $ = null), (ee = ""), (Z = -1), (fe = !0), Ee.reset();
      };
    ye(), (this.context = Y), (this.state = Ee);
    var xe = Y.getParameter(Y.MAX_TEXTURE_IMAGE_UNITS),
      Re = Y.getParameter(Y.MAX_VERTEX_TEXTURE_IMAGE_UNITS),
      be = Y.getParameter(Y.MAX_TEXTURE_SIZE),
      we = Y.getParameter(Y.MAX_CUBE_MAP_TEXTURE_SIZE),
      He = Re > 0,
      Se = He && ve.get("OES_texture_float"),
      Ae = Y.getShaderPrecisionFormat(Y.VERTEX_SHADER, Y.HIGH_FLOAT),
      Me = Y.getShaderPrecisionFormat(Y.VERTEX_SHADER, Y.MEDIUM_FLOAT),
      Ce = Y.getShaderPrecisionFormat(Y.FRAGMENT_SHADER, Y.HIGH_FLOAT),
      Pe = Y.getShaderPrecisionFormat(Y.FRAGMENT_SHADER, Y.MEDIUM_FLOAT),
      Le = (function () {
        var e;
        return function () {
          if (void 0 !== e) return e;
          if (
            ((e = []),
            ve.get("WEBGL_compressed_texture_pvrtc") ||
              ve.get("WEBGL_compressed_texture_s3tc"))
          )
            for (
              var t = Y.getParameter(Y.COMPRESSED_TEXTURE_FORMATS), i = 0;
              i < t.length;
              i++
            )
              e.push(t[i]);
          return e;
        };
      })(),
      De = 0 < Ae.precision && 0 < Ce.precision,
      Oe = 0 < Me.precision && 0 < Pe.precision;
    "highp" !== P ||
      De ||
      (Oe
        ? ((P = "mediump"),
          THREE.warn(
            "THREE.WebGLRenderer: highp not supported, using mediump."
          ))
        : ((P = "lowp"),
          THREE.warn(
            "THREE.WebGLRenderer: highp and mediump not supported, using lowp."
          ))),
      "mediump" !== P ||
        Oe ||
        ((P = "lowp"),
        THREE.warn("THREE.WebGLRenderer: mediump not supported, using lowp."));
    var ke = new THREE.ShadowMapPlugin(this, B, V, z),
      Fe = new THREE.SpritePlugin(this, X),
      Ne = new THREE.LensFlarePlugin(this, q);
    (this.getContext = function () {
      return Y;
    }),
      (this.forceContextLoss = function () {
        ve.get("WEBGL_lose_context").loseContext();
      }),
      (this.supportsVertexTextures = function () {
        return He;
      }),
      (this.supportsFloatTextures = function () {
        return ve.get("OES_texture_float");
      }),
      (this.supportsHalfFloatTextures = function () {
        return ve.get("OES_texture_half_float");
      }),
      (this.supportsStandardDerivatives = function () {
        return ve.get("OES_standard_derivatives");
      }),
      (this.supportsCompressedTextureS3TC = function () {
        return ve.get("WEBGL_compressed_texture_s3tc");
      }),
      (this.supportsCompressedTexturePVRTC = function () {
        return ve.get("WEBGL_compressed_texture_pvrtc");
      }),
      (this.supportsBlendMinMax = function () {
        return ve.get("EXT_blend_minmax");
      }),
      (this.getMaxAnisotropy = (function () {
        var e;
        return function () {
          if (void 0 !== e) return e;
          var t = ve.get("EXT_texture_filter_anisotropic");
          return (e =
            null !== t ? Y.getParameter(t.MAX_TEXTURE_MAX_ANISOTROPY_EXT) : 0);
        };
      })()),
      (this.getPrecision = function () {
        return P;
      }),
      (this.getPixelRatio = function () {
        return C;
      }),
      (this.setPixelRatio = function (e) {
        C = e;
      }),
      (this.setSize = function (e, t, i) {
        (A.width = e * C),
          (A.height = t * C),
          !1 !== i && ((A.style.width = e + "px"), (A.style.height = t + "px")),
          this.setViewport(0, 0, e, t);
      }),
      (this.setViewport = function (e, t, i, r) {
        (re = e * C),
          (ne = t * C),
          (oe = i * C),
          (ae = r * C),
          Y.viewport(re, ne, oe, ae);
      }),
      (this.setScissor = function (e, t, i, r) {
        Y.scissor(e * C, t * C, i * C, r * C);
      }),
      (this.enableScissorTest = function (e) {
        e ? Y.enable(Y.SCISSOR_TEST) : Y.disable(Y.SCISSOR_TEST);
      }),
      (this.getClearColor = function () {
        return U;
      }),
      (this.setClearColor = function (e, t) {
        U.set(e), (I = void 0 !== t ? t : 1), _e(U.r, U.g, U.b, I);
      }),
      (this.getClearAlpha = function () {
        return I;
      }),
      (this.setClearAlpha = function (e) {
        (I = e), _e(U.r, U.g, U.b, I);
      }),
      (this.clear = function (e, t, i) {
        var r = 0;
        (void 0 === e || e) && (r |= Y.COLOR_BUFFER_BIT),
          (void 0 === t || t) && (r |= Y.DEPTH_BUFFER_BIT),
          (void 0 === i || i) && (r |= Y.STENCIL_BUFFER_BIT),
          Y.clear(r);
      }),
      (this.clearColor = function () {
        Y.clear(Y.COLOR_BUFFER_BIT);
      }),
      (this.clearDepth = function () {
        Y.clear(Y.DEPTH_BUFFER_BIT);
      }),
      (this.clearStencil = function () {
        Y.clear(Y.STENCIL_BUFFER_BIT);
      }),
      (this.clearTarget = function (e, t, i, r) {
        this.setRenderTarget(e), this.clear(t, i, r);
      }),
      (this.resetGLState = Te);
    var je = function (e) {
        e.target.traverse(function (e) {
          if (
            (e.removeEventListener("remove", je),
            e instanceof THREE.Mesh ||
              e instanceof THREE.PointCloud ||
              e instanceof THREE.Line)
          )
            delete V[e.id];
          else if (
            e instanceof THREE.ImmediateRenderObject ||
            e.immediateRenderCallback
          )
            for (var t = z, i = t.length - 1; i >= 0; i--)
              t[i].object === e && t.splice(i, 1);
          delete e.__webglInit,
            delete e._modelViewMatrix,
            delete e._normalMatrix,
            delete e.__webglActive;
        });
      },
      Ue = function (e) {
        if (
          ((e = e.target),
          e.removeEventListener("dispose", Ue),
          delete e.__webglInit,
          e instanceof THREE.BufferGeometry)
        ) {
          for (var t in e.attributes) {
            var i = e.attributes[t];
            void 0 !== i.buffer && (Y.deleteBuffer(i.buffer), delete i.buffer);
          }
          K.info.memory.geometries--;
        } else if (((t = We[e.id]), void 0 !== t)) {
          for (var i = 0, r = t.length; r > i; i++) {
            var n = t[i];
            if (void 0 !== n.numMorphTargets) {
              for (var o = 0, a = n.numMorphTargets; a > o; o++)
                Y.deleteBuffer(n.__webglMorphTargetsBuffers[o]);
              delete n.__webglMorphTargetsBuffers;
            }
            if (void 0 !== n.numMorphNormals) {
              for (o = 0, a = n.numMorphNormals; a > o; o++)
                Y.deleteBuffer(n.__webglMorphNormalsBuffers[o]);
              delete n.__webglMorphNormalsBuffers;
            }
            ze(n);
          }
          delete We[e.id];
        } else ze(e);
        ee = "";
      },
      Ie = function (e) {
        (e = e.target),
          e.removeEventListener("dispose", Ie),
          e.image && e.image.__webglTextureCube
            ? (Y.deleteTexture(e.image.__webglTextureCube),
              delete e.image.__webglTextureCube)
            : void 0 !== e.__webglInit &&
              (Y.deleteTexture(e.__webglTexture),
              delete e.__webglTexture,
              delete e.__webglInit),
          K.info.memory.textures--;
      },
      Be = function (e) {
        if (
          ((e = e.target),
          e.removeEventListener("dispose", Be),
          e && void 0 !== e.__webglTexture)
        ) {
          if (
            (Y.deleteTexture(e.__webglTexture),
            delete e.__webglTexture,
            e instanceof THREE.WebGLRenderTargetCube)
          )
            for (var t = 0; 6 > t; t++)
              Y.deleteFramebuffer(e.__webglFramebuffer[t]),
                Y.deleteRenderbuffer(e.__webglRenderbuffer[t]);
          else
            Y.deleteFramebuffer(e.__webglFramebuffer),
              Y.deleteRenderbuffer(e.__webglRenderbuffer);
          delete e.__webglFramebuffer, delete e.__webglRenderbuffer;
        }
        K.info.memory.textures--;
      },
      Ve = function (e) {
        (e = e.target), e.removeEventListener("dispose", Ve), Ge(e);
      },
      ze = function (e) {
        for (
          var t =
              "__webglVertexBuffer __webglNormalBuffer __webglTangentBuffer __webglColorBuffer __webglUVBuffer __webglUV2Buffer __webglSkinIndicesBuffer __webglSkinWeightsBuffer __webglFaceBuffer __webglLineBuffer __webglLineDistanceBuffer".split(
                " "
              ),
            i = 0,
            r = t.length;
          r > i;
          i++
        ) {
          var n = t[i];
          void 0 !== e[n] && (Y.deleteBuffer(e[n]), delete e[n]);
        }
        if (void 0 !== e.__webglCustomAttributesList) {
          for (n in e.__webglCustomAttributesList)
            Y.deleteBuffer(e.__webglCustomAttributesList[n].buffer);
          delete e.__webglCustomAttributesList;
        }
        K.info.memory.geometries--;
      },
      Ge = function (e) {
        var t = e.program.program;
        if (void 0 !== t) {
          e.program = void 0;
          var i,
            r,
            n = !1;
          for (e = 0, i = Q.length; i > e; e++)
            if (((r = Q[e]), r.program === t)) {
              r.usedTimes--, 0 === r.usedTimes && (n = !0);
              break;
            }
          if (!0 === n) {
            for (n = [], e = 0, i = Q.length; i > e; e++)
              (r = Q[e]), r.program !== t && n.push(r);
            (Q = n), Y.deleteProgram(t), K.info.memory.programs--;
          }
        }
      };
    (this.renderBufferImmediate = function (e, t, i) {
      if (
        (Ee.initAttributes(),
        e.hasPositions &&
          !e.__webglVertexBuffer &&
          (e.__webglVertexBuffer = Y.createBuffer()),
        e.hasNormals &&
          !e.__webglNormalBuffer &&
          (e.__webglNormalBuffer = Y.createBuffer()),
        e.hasUvs &&
          !e.__webglUvBuffer &&
          (e.__webglUvBuffer = Y.createBuffer()),
        e.hasColors &&
          !e.__webglColorBuffer &&
          (e.__webglColorBuffer = Y.createBuffer()),
        e.hasPositions &&
          (Y.bindBuffer(Y.ARRAY_BUFFER, e.__webglVertexBuffer),
          Y.bufferData(Y.ARRAY_BUFFER, e.positionArray, Y.DYNAMIC_DRAW),
          Ee.enableAttribute(t.attributes.position),
          Y.vertexAttribPointer(t.attributes.position, 3, Y.FLOAT, !1, 0, 0)),
        e.hasNormals)
      ) {
        if (
          (Y.bindBuffer(Y.ARRAY_BUFFER, e.__webglNormalBuffer),
          !1 == i instanceof THREE.MeshPhongMaterial &&
            i.shading === THREE.FlatShading)
        ) {
          var r,
            n,
            o,
            a,
            s,
            l,
            h,
            c,
            u,
            d,
            f,
            p = 3 * e.count;
          for (f = 0; p > f; f += 9)
            (d = e.normalArray),
              (r = d[f]),
              (n = d[f + 1]),
              (o = d[f + 2]),
              (a = d[f + 3]),
              (l = d[f + 4]),
              (c = d[f + 5]),
              (s = d[f + 6]),
              (h = d[f + 7]),
              (u = d[f + 8]),
              (r = (r + a + s) / 3),
              (n = (n + l + h) / 3),
              (o = (o + c + u) / 3),
              (d[f] = r),
              (d[f + 1] = n),
              (d[f + 2] = o),
              (d[f + 3] = r),
              (d[f + 4] = n),
              (d[f + 5] = o),
              (d[f + 6] = r),
              (d[f + 7] = n),
              (d[f + 8] = o);
        }
        Y.bufferData(Y.ARRAY_BUFFER, e.normalArray, Y.DYNAMIC_DRAW),
          Ee.enableAttribute(t.attributes.normal),
          Y.vertexAttribPointer(t.attributes.normal, 3, Y.FLOAT, !1, 0, 0);
      }
      e.hasUvs &&
        i.map &&
        (Y.bindBuffer(Y.ARRAY_BUFFER, e.__webglUvBuffer),
        Y.bufferData(Y.ARRAY_BUFFER, e.uvArray, Y.DYNAMIC_DRAW),
        Ee.enableAttribute(t.attributes.uv),
        Y.vertexAttribPointer(t.attributes.uv, 2, Y.FLOAT, !1, 0, 0)),
        e.hasColors &&
          i.vertexColors !== THREE.NoColors &&
          (Y.bindBuffer(Y.ARRAY_BUFFER, e.__webglColorBuffer),
          Y.bufferData(Y.ARRAY_BUFFER, e.colorArray, Y.DYNAMIC_DRAW),
          Ee.enableAttribute(t.attributes.color),
          Y.vertexAttribPointer(t.attributes.color, 3, Y.FLOAT, !1, 0, 0)),
        Ee.disableUnusedAttributes(),
        Y.drawArrays(Y.TRIANGLES, 0, e.count),
        (e.count = 0);
    }),
      (this.renderBufferDirect = function (e, t, i, n, o, a) {
        if (!1 !== n.visible)
          if (
            (f(a),
            (e = E(e, t, i, n, a)),
            (t = !1),
            (i = "direct_" + o.id + "_" + e.id + "_" + (n.wireframe ? 1 : 0)),
            i !== ee && ((ee = i), (t = !0)),
            t && Ee.initAttributes(),
            a instanceof THREE.Mesh)
          ) {
            a = !0 === n.wireframe ? Y.LINES : Y.TRIANGLES;
            var s = o.attributes.index;
            if (s) {
              var l, h;
              if (
                (s.array instanceof Uint32Array &&
                ve.get("OES_element_index_uint")
                  ? ((l = Y.UNSIGNED_INT), (h = 4))
                  : ((l = Y.UNSIGNED_SHORT), (h = 2)),
                (i = o.offsets),
                0 === i.length)
              )
                t &&
                  (r(n, e, o, 0),
                  Y.bindBuffer(Y.ELEMENT_ARRAY_BUFFER, s.buffer)),
                  Y.drawElements(a, s.array.length, l, 0),
                  K.info.render.calls++,
                  (K.info.render.vertices += s.array.length),
                  (K.info.render.faces += s.array.length / 3);
              else {
                t = !0;
                for (var c = 0, u = i.length; u > c; c++) {
                  var d = i[c].index;
                  t &&
                    (r(n, e, o, d),
                    Y.bindBuffer(Y.ELEMENT_ARRAY_BUFFER, s.buffer)),
                    Y.drawElements(a, i[c].count, l, i[c].start * h),
                    K.info.render.calls++,
                    (K.info.render.vertices += i[c].count),
                    (K.info.render.faces += i[c].count / 3);
                }
              }
            } else
              t && r(n, e, o, 0),
                (n = o.attributes.position),
                Y.drawArrays(a, 0, n.array.length / n.itemSize),
                K.info.render.calls++,
                (K.info.render.vertices += n.array.length / n.itemSize),
                (K.info.render.faces += n.array.length / (3 * n.itemSize));
          } else if (a instanceof THREE.PointCloud)
            if (((a = Y.POINTS), (s = o.attributes.index)))
              if (
                (s.array instanceof Uint32Array &&
                ve.get("OES_element_index_uint")
                  ? ((l = Y.UNSIGNED_INT), (h = 4))
                  : ((l = Y.UNSIGNED_SHORT), (h = 2)),
                (i = o.offsets),
                0 === i.length)
              )
                t &&
                  (r(n, e, o, 0),
                  Y.bindBuffer(Y.ELEMENT_ARRAY_BUFFER, s.buffer)),
                  Y.drawElements(a, s.array.length, l, 0),
                  K.info.render.calls++,
                  (K.info.render.points += s.array.length);
              else
                for (1 < i.length && (t = !0), c = 0, u = i.length; u > c; c++)
                  (d = i[c].index),
                    t &&
                      (r(n, e, o, d),
                      Y.bindBuffer(Y.ELEMENT_ARRAY_BUFFER, s.buffer)),
                    Y.drawElements(a, i[c].count, l, i[c].start * h),
                    K.info.render.calls++,
                    (K.info.render.points += i[c].count);
            else if (
              (t && r(n, e, o, 0),
              (n = o.attributes.position),
              (i = o.offsets),
              0 === i.length)
            )
              Y.drawArrays(a, 0, n.array.length / 3),
                K.info.render.calls++,
                (K.info.render.points += n.array.length / 3);
            else
              for (c = 0, u = i.length; u > c; c++)
                Y.drawArrays(a, i[c].index, i[c].count),
                  K.info.render.calls++,
                  (K.info.render.points += i[c].count);
          else if (a instanceof THREE.Line)
            if (
              ((a = a.mode === THREE.LineStrip ? Y.LINE_STRIP : Y.LINES),
              Ee.setLineWidth(n.linewidth * C),
              (s = o.attributes.index))
            )
              if (
                (s.array instanceof Uint32Array
                  ? ((l = Y.UNSIGNED_INT), (h = 4))
                  : ((l = Y.UNSIGNED_SHORT), (h = 2)),
                (i = o.offsets),
                0 === i.length)
              )
                t &&
                  (r(n, e, o, 0),
                  Y.bindBuffer(Y.ELEMENT_ARRAY_BUFFER, s.buffer)),
                  Y.drawElements(a, s.array.length, l, 0),
                  K.info.render.calls++,
                  (K.info.render.vertices += s.array.length);
              else
                for (1 < i.length && (t = !0), c = 0, u = i.length; u > c; c++)
                  (d = i[c].index),
                    t &&
                      (r(n, e, o, d),
                      Y.bindBuffer(Y.ELEMENT_ARRAY_BUFFER, s.buffer)),
                    Y.drawElements(a, i[c].count, l, i[c].start * h),
                    K.info.render.calls++,
                    (K.info.render.vertices += i[c].count);
            else if (
              (t && r(n, e, o, 0),
              (n = o.attributes.position),
              (i = o.offsets),
              0 === i.length)
            )
              Y.drawArrays(a, 0, n.array.length / 3),
                K.info.render.calls++,
                (K.info.render.vertices += n.array.length / 3);
            else
              for (c = 0, u = i.length; u > c; c++)
                Y.drawArrays(a, i[c].index, i[c].count),
                  K.info.render.calls++,
                  (K.info.render.vertices += i[c].count);
      }),
      (this.renderBuffer = function (e, t, i, r, n, o) {
        if (!1 !== r.visible) {
          if (
            (f(o),
            (i = E(e, t, i, r, o)),
            (t = i.attributes),
            (e = !1),
            (i = n.id + "_" + i.id + "_" + (r.wireframe ? 1 : 0)),
            i !== ee && ((ee = i), (e = !0)),
            e && Ee.initAttributes(),
            !r.morphTargets && 0 <= t.position)
          )
            e &&
              (Y.bindBuffer(Y.ARRAY_BUFFER, n.__webglVertexBuffer),
              Ee.enableAttribute(t.position),
              Y.vertexAttribPointer(t.position, 3, Y.FLOAT, !1, 0, 0));
          else if (o.morphTargetBase) {
            if (
              ((i = r.program.attributes),
              -1 !== o.morphTargetBase && 0 <= i.position
                ? (Y.bindBuffer(
                    Y.ARRAY_BUFFER,
                    n.__webglMorphTargetsBuffers[o.morphTargetBase]
                  ),
                  Ee.enableAttribute(i.position),
                  Y.vertexAttribPointer(i.position, 3, Y.FLOAT, !1, 0, 0))
                : 0 <= i.position &&
                  (Y.bindBuffer(Y.ARRAY_BUFFER, n.__webglVertexBuffer),
                  Ee.enableAttribute(i.position),
                  Y.vertexAttribPointer(i.position, 3, Y.FLOAT, !1, 0, 0)),
              o.morphTargetForcedOrder.length)
            )
              for (
                var s,
                  l = 0,
                  h = o.morphTargetForcedOrder,
                  c = o.morphTargetInfluences;
                l < r.numSupportedMorphTargets && l < h.length;

              )
                (s = i["morphTarget" + l]),
                  s >= 0 &&
                    (Y.bindBuffer(
                      Y.ARRAY_BUFFER,
                      n.__webglMorphTargetsBuffers[h[l]]
                    ),
                    Ee.enableAttribute(s),
                    Y.vertexAttribPointer(s, 3, Y.FLOAT, !1, 0, 0)),
                  (s = i["morphNormal" + l]),
                  s >= 0 &&
                    r.morphNormals &&
                    (Y.bindBuffer(
                      Y.ARRAY_BUFFER,
                      n.__webglMorphNormalsBuffers[h[l]]
                    ),
                    Ee.enableAttribute(s),
                    Y.vertexAttribPointer(s, 3, Y.FLOAT, !1, 0, 0)),
                  (o.__webglMorphTargetInfluences[l] = c[h[l]]),
                  l++;
            else {
              for (
                h = [],
                  c = o.morphTargetInfluences,
                  l = o.geometry.morphTargets,
                  c.length > l.length &&
                    (console.warn(
                      "THREE.WebGLRenderer: Influences array is bigger than morphTargets array."
                    ),
                    (c.length = l.length)),
                  l = 0,
                  s = c.length;
                s > l;
                l++
              )
                h.push([c[l], l]);
              h.length > r.numSupportedMorphTargets
                ? (h.sort(a), (h.length = r.numSupportedMorphTargets))
                : h.length > r.numSupportedMorphNormals
                ? h.sort(a)
                : 0 === h.length && h.push([0, 0]);
              for (var l = 0, u = r.numSupportedMorphTargets; u > l; l++)
                if (h[l]) {
                  var d = h[l][1];
                  (s = i["morphTarget" + l]),
                    s >= 0 &&
                      (Y.bindBuffer(
                        Y.ARRAY_BUFFER,
                        n.__webglMorphTargetsBuffers[d]
                      ),
                      Ee.enableAttribute(s),
                      Y.vertexAttribPointer(s, 3, Y.FLOAT, !1, 0, 0)),
                    (s = i["morphNormal" + l]),
                    s >= 0 &&
                      r.morphNormals &&
                      (Y.bindBuffer(
                        Y.ARRAY_BUFFER,
                        n.__webglMorphNormalsBuffers[d]
                      ),
                      Ee.enableAttribute(s),
                      Y.vertexAttribPointer(s, 3, Y.FLOAT, !1, 0, 0)),
                    (o.__webglMorphTargetInfluences[l] = c[d]);
                } else o.__webglMorphTargetInfluences[l] = 0;
            }
            null !== r.program.uniforms.morphTargetInfluences &&
              Y.uniform1fv(
                r.program.uniforms.morphTargetInfluences,
                o.__webglMorphTargetInfluences
              );
          }
          if (e) {
            if (n.__webglCustomAttributesList)
              for (i = 0, c = n.__webglCustomAttributesList.length; c > i; i++)
                (h = n.__webglCustomAttributesList[i]),
                  0 <= t[h.buffer.belongsToAttribute] &&
                    (Y.bindBuffer(Y.ARRAY_BUFFER, h.buffer),
                    Ee.enableAttribute(t[h.buffer.belongsToAttribute]),
                    Y.vertexAttribPointer(
                      t[h.buffer.belongsToAttribute],
                      h.size,
                      Y.FLOAT,
                      !1,
                      0,
                      0
                    ));
            0 <= t.color &&
              (0 < o.geometry.colors.length || 0 < o.geometry.faces.length
                ? (Y.bindBuffer(Y.ARRAY_BUFFER, n.__webglColorBuffer),
                  Ee.enableAttribute(t.color),
                  Y.vertexAttribPointer(t.color, 3, Y.FLOAT, !1, 0, 0))
                : void 0 !== r.defaultAttributeValues &&
                  Y.vertexAttrib3fv(t.color, r.defaultAttributeValues.color)),
              0 <= t.normal &&
                (Y.bindBuffer(Y.ARRAY_BUFFER, n.__webglNormalBuffer),
                Ee.enableAttribute(t.normal),
                Y.vertexAttribPointer(t.normal, 3, Y.FLOAT, !1, 0, 0)),
              0 <= t.tangent &&
                (Y.bindBuffer(Y.ARRAY_BUFFER, n.__webglTangentBuffer),
                Ee.enableAttribute(t.tangent),
                Y.vertexAttribPointer(t.tangent, 4, Y.FLOAT, !1, 0, 0)),
              0 <= t.uv &&
                (o.geometry.faceVertexUvs[0]
                  ? (Y.bindBuffer(Y.ARRAY_BUFFER, n.__webglUVBuffer),
                    Ee.enableAttribute(t.uv),
                    Y.vertexAttribPointer(t.uv, 2, Y.FLOAT, !1, 0, 0))
                  : void 0 !== r.defaultAttributeValues &&
                    Y.vertexAttrib2fv(t.uv, r.defaultAttributeValues.uv)),
              0 <= t.uv2 &&
                (o.geometry.faceVertexUvs[1]
                  ? (Y.bindBuffer(Y.ARRAY_BUFFER, n.__webglUV2Buffer),
                    Ee.enableAttribute(t.uv2),
                    Y.vertexAttribPointer(t.uv2, 2, Y.FLOAT, !1, 0, 0))
                  : void 0 !== r.defaultAttributeValues &&
                    Y.vertexAttrib2fv(t.uv2, r.defaultAttributeValues.uv2)),
              r.skinning &&
                0 <= t.skinIndex &&
                0 <= t.skinWeight &&
                (Y.bindBuffer(Y.ARRAY_BUFFER, n.__webglSkinIndicesBuffer),
                Ee.enableAttribute(t.skinIndex),
                Y.vertexAttribPointer(t.skinIndex, 4, Y.FLOAT, !1, 0, 0),
                Y.bindBuffer(Y.ARRAY_BUFFER, n.__webglSkinWeightsBuffer),
                Ee.enableAttribute(t.skinWeight),
                Y.vertexAttribPointer(t.skinWeight, 4, Y.FLOAT, !1, 0, 0)),
              0 <= t.lineDistance &&
                (Y.bindBuffer(Y.ARRAY_BUFFER, n.__webglLineDistanceBuffer),
                Ee.enableAttribute(t.lineDistance),
                Y.vertexAttribPointer(t.lineDistance, 1, Y.FLOAT, !1, 0, 0));
          }
          Ee.disableUnusedAttributes(),
            o instanceof THREE.Mesh
              ? ((o =
                  n.__typeArray === Uint32Array
                    ? Y.UNSIGNED_INT
                    : Y.UNSIGNED_SHORT),
                r.wireframe
                  ? (Ee.setLineWidth(r.wireframeLinewidth * C),
                    e &&
                      Y.bindBuffer(Y.ELEMENT_ARRAY_BUFFER, n.__webglLineBuffer),
                    Y.drawElements(Y.LINES, n.__webglLineCount, o, 0))
                  : (e &&
                      Y.bindBuffer(Y.ELEMENT_ARRAY_BUFFER, n.__webglFaceBuffer),
                    Y.drawElements(Y.TRIANGLES, n.__webglFaceCount, o, 0)),
                K.info.render.calls++,
                (K.info.render.vertices += n.__webglFaceCount),
                (K.info.render.faces += n.__webglFaceCount / 3))
              : o instanceof THREE.Line
              ? ((o = o.mode === THREE.LineStrip ? Y.LINE_STRIP : Y.LINES),
                Ee.setLineWidth(r.linewidth * C),
                Y.drawArrays(o, 0, n.__webglLineCount),
                K.info.render.calls++)
              : o instanceof THREE.PointCloud &&
                (Y.drawArrays(Y.POINTS, 0, n.__webglParticleCount),
                K.info.render.calls++,
                (K.info.render.points += n.__webglParticleCount));
        }
      }),
      (this.render = function (e, t, i, r) {
        if (!1 == t instanceof THREE.Camera)
          THREE.error(
            "THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera."
          );
        else {
          var a = e.fog;
          (ee = ""),
            (Z = -1),
            (te = null),
            (fe = !0),
            !0 === e.autoUpdate && e.updateMatrixWorld(),
            void 0 === t.parent && t.updateMatrixWorld(),
            e.traverse(function (e) {
              e instanceof THREE.SkinnedMesh && e.skeleton.update();
            }),
            t.matrixWorldInverse.getInverse(t.matrixWorld),
            ce.multiplyMatrices(t.projectionMatrix, t.matrixWorldInverse),
            he.setFromMatrix(ce),
            (B.length = 0),
            (G.length = 0),
            (W.length = 0),
            (X.length = 0),
            (q.length = 0),
            s(e),
            !0 === K.sortObjects && (G.sort(n), W.sort(o)),
            ke.render(e, t),
            (K.info.render.calls = 0),
            (K.info.render.vertices = 0),
            (K.info.render.faces = 0),
            (K.info.render.points = 0),
            this.setRenderTarget(i),
            (this.autoClear || r) &&
              this.clear(
                this.autoClearColor,
                this.autoClearDepth,
                this.autoClearStencil
              ),
            (r = 0);
          for (var u = z.length; u > r; r++) {
            var d = z[r],
              f = d.object;
            f.visible && (y(f, t), c(d));
          }
          e.overrideMaterial
            ? ((r = e.overrideMaterial),
              g(r),
              l(G, t, B, a, r),
              l(W, t, B, a, r),
              h(z, "", t, B, a, r))
            : (Ee.setBlending(THREE.NoBlending),
              l(G, t, B, a, null),
              h(z, "opaque", t, B, a, null),
              l(W, t, B, a, null),
              h(z, "transparent", t, B, a, null)),
            Fe.render(e, t),
            Ne.render(e, t, se, le),
            i &&
              i.generateMipmaps &&
              i.minFilter !== THREE.NearestFilter &&
              i.minFilter !== THREE.LinearFilter &&
              w(i),
            Ee.setDepthTest(!0),
            Ee.setDepthWrite(!0),
            Ee.setColorWrite(!0);
        }
      }),
      (this.renderImmediateObject = function (e, t, i, r, n) {
        var o = E(e, t, i, r, n);
        (ee = ""),
          K.setMaterialFaces(r),
          n.immediateRenderCallback
            ? n.immediateRenderCallback(o, Y, he)
            : n.render(function (e) {
                K.renderBufferImmediate(e, o, r);
              });
      });
    var We = {},
      Xe = 0,
      qe = {
        MeshDepthMaterial: "depth",
        MeshNormalMaterial: "normal",
        MeshBasicMaterial: "basic",
        MeshLambertMaterial: "lambert",
        MeshPhongMaterial: "phong",
        LineBasicMaterial: "basic",
        LineDashedMaterial: "dashed",
        PointCloudMaterial: "particle_basic",
      };
    (this.setFaceCulling = function (e, t) {
      e === THREE.CullFaceNone
        ? Y.disable(Y.CULL_FACE)
        : (t === THREE.FrontFaceDirectionCW
            ? Y.frontFace(Y.CW)
            : Y.frontFace(Y.CCW),
          e === THREE.CullFaceBack
            ? Y.cullFace(Y.BACK)
            : e === THREE.CullFaceFront
            ? Y.cullFace(Y.FRONT)
            : Y.cullFace(Y.FRONT_AND_BACK),
          Y.enable(Y.CULL_FACE));
    }),
      (this.setMaterialFaces = function (e) {
        Ee.setDoubleSided(e.side === THREE.DoubleSide),
          Ee.setFlipSided(e.side === THREE.BackSide);
      }),
      (this.uploadTexture = function (e) {
        void 0 === e.__webglInit &&
          ((e.__webglInit = !0),
          e.addEventListener("dispose", Ie),
          (e.__webglTexture = Y.createTexture()),
          K.info.memory.textures++),
          Y.bindTexture(Y.TEXTURE_2D, e.__webglTexture),
          Y.pixelStorei(Y.UNPACK_FLIP_Y_WEBGL, e.flipY),
          Y.pixelStorei(Y.UNPACK_PREMULTIPLY_ALPHA_WEBGL, e.premultiplyAlpha),
          Y.pixelStorei(Y.UNPACK_ALIGNMENT, e.unpackAlignment),
          (e.image = R(e.image, be));
        var t = e.image,
          i =
            THREE.Math.isPowerOfTwo(t.width) &&
            THREE.Math.isPowerOfTwo(t.height),
          r = S(e.format),
          n = S(e.type);
        x(Y.TEXTURE_2D, e, i);
        var o = e.mipmaps;
        if (e instanceof THREE.DataTexture)
          if (0 < o.length && i) {
            for (var a = 0, s = o.length; s > a; a++)
              (t = o[a]),
                Y.texImage2D(
                  Y.TEXTURE_2D,
                  a,
                  r,
                  t.width,
                  t.height,
                  0,
                  r,
                  n,
                  t.data
                );
            e.generateMipmaps = !1;
          } else
            Y.texImage2D(
              Y.TEXTURE_2D,
              0,
              r,
              t.width,
              t.height,
              0,
              r,
              n,
              t.data
            );
        else if (e instanceof THREE.CompressedTexture)
          for (a = 0, s = o.length; s > a; a++)
            (t = o[a]),
              e.format !== THREE.RGBAFormat && e.format !== THREE.RGBFormat
                ? -1 < Le().indexOf(r)
                  ? Y.compressedTexImage2D(
                      Y.TEXTURE_2D,
                      a,
                      r,
                      t.width,
                      t.height,
                      0,
                      t.data
                    )
                  : THREE.warn(
                      "THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"
                    )
                : Y.texImage2D(
                    Y.TEXTURE_2D,
                    a,
                    r,
                    t.width,
                    t.height,
                    0,
                    r,
                    n,
                    t.data
                  );
        else if (0 < o.length && i) {
          for (a = 0, s = o.length; s > a; a++)
            (t = o[a]), Y.texImage2D(Y.TEXTURE_2D, a, r, r, n, t);
          e.generateMipmaps = !1;
        } else Y.texImage2D(Y.TEXTURE_2D, 0, r, r, n, e.image);
        e.generateMipmaps && i && Y.generateMipmap(Y.TEXTURE_2D),
          (e.needsUpdate = !1),
          e.onUpdate && e.onUpdate();
      }),
      (this.setTexture = function (e, t) {
        Y.activeTexture(Y.TEXTURE0 + t),
          e.needsUpdate
            ? K.uploadTexture(e)
            : Y.bindTexture(Y.TEXTURE_2D, e.__webglTexture);
      }),
      (this.setRenderTarget = function (e) {
        var t = e instanceof THREE.WebGLRenderTargetCube;
        if (e && void 0 === e.__webglFramebuffer) {
          void 0 === e.depthBuffer && (e.depthBuffer = !0),
            void 0 === e.stencilBuffer && (e.stencilBuffer = !0),
            e.addEventListener("dispose", Be),
            (e.__webglTexture = Y.createTexture()),
            K.info.memory.textures++;
          var i =
              THREE.Math.isPowerOfTwo(e.width) &&
              THREE.Math.isPowerOfTwo(e.height),
            r = S(e.format),
            n = S(e.type);
          if (t) {
            (e.__webglFramebuffer = []),
              (e.__webglRenderbuffer = []),
              Y.bindTexture(Y.TEXTURE_CUBE_MAP, e.__webglTexture),
              x(Y.TEXTURE_CUBE_MAP, e, i);
            for (var o = 0; 6 > o; o++) {
              (e.__webglFramebuffer[o] = Y.createFramebuffer()),
                (e.__webglRenderbuffer[o] = Y.createRenderbuffer()),
                Y.texImage2D(
                  Y.TEXTURE_CUBE_MAP_POSITIVE_X + o,
                  0,
                  r,
                  e.width,
                  e.height,
                  0,
                  r,
                  n,
                  null
                );
              var a = e,
                s = Y.TEXTURE_CUBE_MAP_POSITIVE_X + o;
              Y.bindFramebuffer(Y.FRAMEBUFFER, e.__webglFramebuffer[o]),
                Y.framebufferTexture2D(
                  Y.FRAMEBUFFER,
                  Y.COLOR_ATTACHMENT0,
                  s,
                  a.__webglTexture,
                  0
                ),
                b(e.__webglRenderbuffer[o], e);
            }
            i && Y.generateMipmap(Y.TEXTURE_CUBE_MAP);
          } else
            (e.__webglFramebuffer = Y.createFramebuffer()),
              (e.__webglRenderbuffer = e.shareDepthFrom
                ? e.shareDepthFrom.__webglRenderbuffer
                : Y.createRenderbuffer()),
              Y.bindTexture(Y.TEXTURE_2D, e.__webglTexture),
              x(Y.TEXTURE_2D, e, i),
              Y.texImage2D(
                Y.TEXTURE_2D,
                0,
                r,
                e.width,
                e.height,
                0,
                r,
                n,
                null
              ),
              (r = Y.TEXTURE_2D),
              Y.bindFramebuffer(Y.FRAMEBUFFER, e.__webglFramebuffer),
              Y.framebufferTexture2D(
                Y.FRAMEBUFFER,
                Y.COLOR_ATTACHMENT0,
                r,
                e.__webglTexture,
                0
              ),
              e.shareDepthFrom
                ? e.depthBuffer && !e.stencilBuffer
                  ? Y.framebufferRenderbuffer(
                      Y.FRAMEBUFFER,
                      Y.DEPTH_ATTACHMENT,
                      Y.RENDERBUFFER,
                      e.__webglRenderbuffer
                    )
                  : e.depthBuffer &&
                    e.stencilBuffer &&
                    Y.framebufferRenderbuffer(
                      Y.FRAMEBUFFER,
                      Y.DEPTH_STENCIL_ATTACHMENT,
                      Y.RENDERBUFFER,
                      e.__webglRenderbuffer
                    )
                : b(e.__webglRenderbuffer, e),
              i && Y.generateMipmap(Y.TEXTURE_2D);
          t
            ? Y.bindTexture(Y.TEXTURE_CUBE_MAP, null)
            : Y.bindTexture(Y.TEXTURE_2D, null),
            Y.bindRenderbuffer(Y.RENDERBUFFER, null),
            Y.bindFramebuffer(Y.FRAMEBUFFER, null);
        }
        e
          ? ((t = t
              ? e.__webglFramebuffer[e.activeCubeFace]
              : e.__webglFramebuffer),
            (i = e.width),
            (e = e.height),
            (n = r = 0))
          : ((t = null), (i = oe), (e = ae), (r = re), (n = ne)),
          t !== J &&
            (Y.bindFramebuffer(Y.FRAMEBUFFER, t),
            Y.viewport(r, n, i, e),
            (J = t)),
          (se = i),
          (le = e);
      }),
      (this.readRenderTargetPixels = function (e, t, i, r, n, o) {
        if (e instanceof THREE.WebGLRenderTarget) {
          if (e.__webglFramebuffer)
            if (e.format !== THREE.RGBAFormat)
              console.error(
                "THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA format. readPixels can read only RGBA format."
              );
            else {
              var a = !1;
              e.__webglFramebuffer !== J &&
                (Y.bindFramebuffer(Y.FRAMEBUFFER, e.__webglFramebuffer),
                (a = !0)),
                Y.checkFramebufferStatus(Y.FRAMEBUFFER) ===
                Y.FRAMEBUFFER_COMPLETE
                  ? Y.readPixels(t, i, r, n, Y.RGBA, Y.UNSIGNED_BYTE, o)
                  : console.error(
                      "THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete."
                    ),
                a && Y.bindFramebuffer(Y.FRAMEBUFFER, J);
            }
        } else
          console.error(
            "THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget."
          );
      }),
      (this.initMaterial = function () {
        THREE.warn("THREE.WebGLRenderer: .initMaterial() has been removed.");
      }),
      (this.addPrePlugin = function () {
        THREE.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.");
      }),
      (this.addPostPlugin = function () {
        THREE.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.");
      }),
      (this.updateShadowMap = function () {
        THREE.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.");
      });
  }),
  (THREE.WebGLRenderTarget = function (e, t, i) {
    (this.width = e),
      (this.height = t),
      (i = i || {}),
      (this.wrapS = void 0 !== i.wrapS ? i.wrapS : THREE.ClampToEdgeWrapping),
      (this.wrapT = void 0 !== i.wrapT ? i.wrapT : THREE.ClampToEdgeWrapping),
      (this.magFilter =
        void 0 !== i.magFilter ? i.magFilter : THREE.LinearFilter),
      (this.minFilter =
        void 0 !== i.minFilter ? i.minFilter : THREE.LinearMipMapLinearFilter),
      (this.anisotropy = void 0 !== i.anisotropy ? i.anisotropy : 1),
      (this.offset = new THREE.Vector2(0, 0)),
      (this.repeat = new THREE.Vector2(1, 1)),
      (this.format = void 0 !== i.format ? i.format : THREE.RGBAFormat),
      (this.type = void 0 !== i.type ? i.type : THREE.UnsignedByteType),
      (this.depthBuffer = void 0 !== i.depthBuffer ? i.depthBuffer : !0),
      (this.stencilBuffer = void 0 !== i.stencilBuffer ? i.stencilBuffer : !0),
      (this.generateMipmaps = !0),
      (this.shareDepthFrom =
        void 0 !== i.shareDepthFrom ? i.shareDepthFrom : null);
  }),
  (THREE.WebGLRenderTarget.prototype = {
    constructor: THREE.WebGLRenderTarget,
    setSize: function (e, t) {
      (this.width = e), (this.height = t);
    },
    clone: function () {
      var e = new THREE.WebGLRenderTarget(this.width, this.height);
      return (
        (e.wrapS = this.wrapS),
        (e.wrapT = this.wrapT),
        (e.magFilter = this.magFilter),
        (e.minFilter = this.minFilter),
        (e.anisotropy = this.anisotropy),
        e.offset.copy(this.offset),
        e.repeat.copy(this.repeat),
        (e.format = this.format),
        (e.type = this.type),
        (e.depthBuffer = this.depthBuffer),
        (e.stencilBuffer = this.stencilBuffer),
        (e.generateMipmaps = this.generateMipmaps),
        (e.shareDepthFrom = this.shareDepthFrom),
        e
      );
    },
    dispose: function () {
      this.dispatchEvent({ type: "dispose" });
    },
  }),
  THREE.EventDispatcher.prototype.apply(THREE.WebGLRenderTarget.prototype),
  (THREE.WebGLRenderTargetCube = function (e, t, i) {
    THREE.WebGLRenderTarget.call(this, e, t, i), (this.activeCubeFace = 0);
  }),
  (THREE.WebGLRenderTargetCube.prototype = Object.create(
    THREE.WebGLRenderTarget.prototype
  )),
  (THREE.WebGLRenderTargetCube.prototype.constructor =
    THREE.WebGLRenderTargetCube),
  (THREE.WebGLExtensions = function (e) {
    var t = {};
    this.get = function (i) {
      if (void 0 !== t[i]) return t[i];
      var r;
      switch (i) {
        case "EXT_texture_filter_anisotropic":
          r =
            e.getExtension("EXT_texture_filter_anisotropic") ||
            e.getExtension("MOZ_EXT_texture_filter_anisotropic") ||
            e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");
          break;
        case "WEBGL_compressed_texture_s3tc":
          r =
            e.getExtension("WEBGL_compressed_texture_s3tc") ||
            e.getExtension("MOZ_WEBGL_compressed_texture_s3tc") ||
            e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");
          break;
        case "WEBGL_compressed_texture_pvrtc":
          r =
            e.getExtension("WEBGL_compressed_texture_pvrtc") ||
            e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");
          break;
        default:
          r = e.getExtension(i);
      }
      return (
        null === r &&
          THREE.warn("THREE.WebGLRenderer: " + i + " extension not supported."),
        (t[i] = r)
      );
    };
  }),
  (THREE.WebGLProgram = (function () {
    var e = 0;
    return function (t, i, r, n) {
      var o = t.context,
        a = r.defines,
        s = r.__webglShader.uniforms,
        l = r.attributes,
        h = r.__webglShader.vertexShader,
        c = r.__webglShader.fragmentShader,
        u = r.index0AttributeName;
      void 0 === u && !0 === n.morphTargets && (u = "position");
      var d = "SHADOWMAP_TYPE_BASIC";
      n.shadowMapType === THREE.PCFShadowMap
        ? (d = "SHADOWMAP_TYPE_PCF")
        : n.shadowMapType === THREE.PCFSoftShadowMap &&
          (d = "SHADOWMAP_TYPE_PCF_SOFT");
      var f = "ENVMAP_TYPE_CUBE",
        p = "ENVMAP_MODE_REFLECTION",
        m = "ENVMAP_BLENDING_MULTIPLY";
      if (n.envMap) {
        switch (r.envMap.mapping) {
          case THREE.CubeReflectionMapping:
          case THREE.CubeRefractionMapping:
            f = "ENVMAP_TYPE_CUBE";
            break;
          case THREE.EquirectangularReflectionMapping:
          case THREE.EquirectangularRefractionMapping:
            f = "ENVMAP_TYPE_EQUIREC";
            break;
          case THREE.SphericalReflectionMapping:
            f = "ENVMAP_TYPE_SPHERE";
        }
        switch (r.envMap.mapping) {
          case THREE.CubeRefractionMapping:
          case THREE.EquirectangularRefractionMapping:
            p = "ENVMAP_MODE_REFRACTION";
        }
        switch (r.combine) {
          case THREE.MultiplyOperation:
            m = "ENVMAP_BLENDING_MULTIPLY";
            break;
          case THREE.MixOperation:
            m = "ENVMAP_BLENDING_MIX";
            break;
          case THREE.AddOperation:
            m = "ENVMAP_BLENDING_ADD";
        }
      }
      var g,
        E,
        v = 0 < t.gammaFactor ? t.gammaFactor : 1;
      g = [];
      for (var _ in a)
        (E = a[_]), !1 !== E && ((E = "#define " + _ + " " + E), g.push(E));
      (g = g.join("\n")),
        (a = o.createProgram()),
        r instanceof THREE.RawShaderMaterial
          ? (t = r = "")
          : ((r = [
              "precision " + n.precision + " float;",
              "precision " + n.precision + " int;",
              g,
              n.supportsVertexTextures ? "#define VERTEX_TEXTURES" : "",
              t.gammaInput ? "#define GAMMA_INPUT" : "",
              t.gammaOutput ? "#define GAMMA_OUTPUT" : "",
              "#define GAMMA_FACTOR " + v,
              "#define MAX_DIR_LIGHTS " + n.maxDirLights,
              "#define MAX_POINT_LIGHTS " + n.maxPointLights,
              "#define MAX_SPOT_LIGHTS " + n.maxSpotLights,
              "#define MAX_HEMI_LIGHTS " + n.maxHemiLights,
              "#define MAX_SHADOWS " + n.maxShadows,
              "#define MAX_BONES " + n.maxBones,
              n.map ? "#define USE_MAP" : "",
              n.envMap ? "#define USE_ENVMAP" : "",
              n.envMap ? "#define " + p : "",
              n.lightMap ? "#define USE_LIGHTMAP" : "",
              n.bumpMap ? "#define USE_BUMPMAP" : "",
              n.normalMap ? "#define USE_NORMALMAP" : "",
              n.specularMap ? "#define USE_SPECULARMAP" : "",
              n.alphaMap ? "#define USE_ALPHAMAP" : "",
              n.vertexColors ? "#define USE_COLOR" : "",
              n.flatShading ? "#define FLAT_SHADED" : "",
              n.skinning ? "#define USE_SKINNING" : "",
              n.useVertexTexture ? "#define BONE_TEXTURE" : "",
              n.morphTargets ? "#define USE_MORPHTARGETS" : "",
              n.morphNormals ? "#define USE_MORPHNORMALS" : "",
              n.wrapAround ? "#define WRAP_AROUND" : "",
              n.doubleSided ? "#define DOUBLE_SIDED" : "",
              n.flipSided ? "#define FLIP_SIDED" : "",
              n.shadowMapEnabled ? "#define USE_SHADOWMAP" : "",
              n.shadowMapEnabled ? "#define " + d : "",
              n.shadowMapDebug ? "#define SHADOWMAP_DEBUG" : "",
              n.shadowMapCascade ? "#define SHADOWMAP_CASCADE" : "",
              n.sizeAttenuation ? "#define USE_SIZEATTENUATION" : "",
              n.logarithmicDepthBuffer ? "#define USE_LOGDEPTHBUF" : "",
              "uniform mat4 modelMatrix;\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 cameraPosition;\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec2 uv;\nattribute vec2 uv2;\n#ifdef USE_COLOR\n	attribute vec3 color;\n#endif\n#ifdef USE_MORPHTARGETS\n	attribute vec3 morphTarget0;\n	attribute vec3 morphTarget1;\n	attribute vec3 morphTarget2;\n	attribute vec3 morphTarget3;\n	#ifdef USE_MORPHNORMALS\n		attribute vec3 morphNormal0;\n		attribute vec3 morphNormal1;\n		attribute vec3 morphNormal2;\n		attribute vec3 morphNormal3;\n	#else\n		attribute vec3 morphTarget4;\n		attribute vec3 morphTarget5;\n		attribute vec3 morphTarget6;\n		attribute vec3 morphTarget7;\n	#endif\n#endif\n#ifdef USE_SKINNING\n	attribute vec4 skinIndex;\n	attribute vec4 skinWeight;\n#endif\n",
            ].join("\n")),
            (t = [
              "precision " + n.precision + " float;",
              "precision " + n.precision + " int;",
              n.bumpMap || n.normalMap || n.flatShading
                ? "#extension GL_OES_standard_derivatives : enable"
                : "",
              g,
              "#define MAX_DIR_LIGHTS " + n.maxDirLights,
              "#define MAX_POINT_LIGHTS " + n.maxPointLights,
              "#define MAX_SPOT_LIGHTS " + n.maxSpotLights,
              "#define MAX_HEMI_LIGHTS " + n.maxHemiLights,
              "#define MAX_SHADOWS " + n.maxShadows,
              n.alphaTest ? "#define ALPHATEST " + n.alphaTest : "",
              t.gammaInput ? "#define GAMMA_INPUT" : "",
              t.gammaOutput ? "#define GAMMA_OUTPUT" : "",
              "#define GAMMA_FACTOR " + v,
              n.useFog && n.fog ? "#define USE_FOG" : "",
              n.useFog && n.fogExp ? "#define FOG_EXP2" : "",
              n.map ? "#define USE_MAP" : "",
              n.envMap ? "#define USE_ENVMAP" : "",
              n.envMap ? "#define " + f : "",
              n.envMap ? "#define " + p : "",
              n.envMap ? "#define " + m : "",
              n.lightMap ? "#define USE_LIGHTMAP" : "",
              n.bumpMap ? "#define USE_BUMPMAP" : "",
              n.normalMap ? "#define USE_NORMALMAP" : "",
              n.specularMap ? "#define USE_SPECULARMAP" : "",
              n.alphaMap ? "#define USE_ALPHAMAP" : "",
              n.vertexColors ? "#define USE_COLOR" : "",
              n.flatShading ? "#define FLAT_SHADED" : "",
              n.metal ? "#define METAL" : "",
              n.wrapAround ? "#define WRAP_AROUND" : "",
              n.doubleSided ? "#define DOUBLE_SIDED" : "",
              n.flipSided ? "#define FLIP_SIDED" : "",
              n.shadowMapEnabled ? "#define USE_SHADOWMAP" : "",
              n.shadowMapEnabled ? "#define " + d : "",
              n.shadowMapDebug ? "#define SHADOWMAP_DEBUG" : "",
              n.shadowMapCascade ? "#define SHADOWMAP_CASCADE" : "",
              n.logarithmicDepthBuffer ? "#define USE_LOGDEPTHBUF" : "",
              "uniform mat4 viewMatrix;\nuniform vec3 cameraPosition;\n",
            ].join("\n"))),
        (h = new THREE.WebGLShader(o, o.VERTEX_SHADER, r + h)),
        (c = new THREE.WebGLShader(o, o.FRAGMENT_SHADER, t + c)),
        o.attachShader(a, h),
        o.attachShader(a, c),
        void 0 !== u && o.bindAttribLocation(a, 0, u),
        o.linkProgram(a),
        (u = o.getProgramInfoLog(a)),
        !1 === o.getProgramParameter(a, o.LINK_STATUS) &&
          THREE.error(
            "THREE.WebGLProgram: shader error: " + o.getError(),
            "gl.VALIDATE_STATUS",
            o.getProgramParameter(a, o.VALIDATE_STATUS),
            "gl.getPRogramInfoLog",
            u
          ),
        "" !== u &&
          THREE.warn("THREE.WebGLProgram: gl.getProgramInfoLog()" + u),
        o.deleteShader(h),
        o.deleteShader(c),
        (u =
          "viewMatrix modelViewMatrix projectionMatrix normalMatrix modelMatrix cameraPosition morphTargetInfluences bindMatrix bindMatrixInverse".split(
            " "
          )),
        n.useVertexTexture
          ? (u.push("boneTexture"),
            u.push("boneTextureWidth"),
            u.push("boneTextureHeight"))
          : u.push("boneGlobalMatrices"),
        n.logarithmicDepthBuffer && u.push("logDepthBufFC");
      for (var y in s) u.push(y);
      for (s = u, y = {}, u = 0, t = s.length; t > u; u++)
        (d = s[u]), (y[d] = o.getUniformLocation(a, d));
      for (
        this.uniforms = y,
          u =
            "position normal uv uv2 tangent color skinIndex skinWeight lineDistance".split(
              " "
            ),
          s = 0;
        s < n.maxMorphTargets;
        s++
      )
        u.push("morphTarget" + s);
      for (s = 0; s < n.maxMorphNormals; s++) u.push("morphNormal" + s);
      for (var T in l) u.push(T);
      for (n = u, l = {}, T = 0, s = n.length; s > T; T++)
        (y = n[T]), (l[y] = o.getAttribLocation(a, y));
      return (
        (this.attributes = l),
        (this.attributesKeys = Object.keys(this.attributes)),
        (this.id = e++),
        (this.code = i),
        (this.usedTimes = 1),
        (this.program = a),
        (this.vertexShader = h),
        (this.fragmentShader = c),
        this
      );
    };
  })()),
  (THREE.WebGLShader = (function () {
    var e = function (e) {
      e = e.split("\n");
      for (var t = 0; t < e.length; t++) e[t] = t + 1 + ": " + e[t];
      return e.join("\n");
    };
    return function (t, i, r) {
      return (
        (i = t.createShader(i)),
        t.shaderSource(i, r),
        t.compileShader(i),
        !1 === t.getShaderParameter(i, t.COMPILE_STATUS) &&
          THREE.error("THREE.WebGLShader: Shader couldn't compile."),
        "" !== t.getShaderInfoLog(i) &&
          THREE.warn(
            "THREE.WebGLShader: gl.getShaderInfoLog()",
            t.getShaderInfoLog(i),
            e(r)
          ),
        i
      );
    };
  })()),
  (THREE.WebGLState = function (e, t) {
    var i = new Uint8Array(16),
      r = new Uint8Array(16),
      n = null,
      o = null,
      a = null,
      s = null,
      l = null,
      h = null,
      c = null,
      u = null,
      d = null,
      f = null,
      p = null,
      m = null,
      g = null,
      E = null,
      v = null,
      _ = null;
    (this.initAttributes = function () {
      for (var e = 0, t = i.length; t > e; e++) i[e] = 0;
    }),
      (this.enableAttribute = function (t) {
        (i[t] = 1), 0 === r[t] && (e.enableVertexAttribArray(t), (r[t] = 1));
      }),
      (this.disableUnusedAttributes = function () {
        for (var t = 0, n = r.length; n > t; t++)
          r[t] !== i[t] && (e.disableVertexAttribArray(t), (r[t] = 0));
      }),
      (this.setBlending = function (i, r, u, d, f, p, m) {
        i !== n &&
          (i === THREE.NoBlending
            ? e.disable(e.BLEND)
            : i === THREE.AdditiveBlending
            ? (e.enable(e.BLEND),
              e.blendEquation(e.FUNC_ADD),
              e.blendFunc(e.SRC_ALPHA, e.ONE))
            : i === THREE.SubtractiveBlending
            ? (e.enable(e.BLEND),
              e.blendEquation(e.FUNC_ADD),
              e.blendFunc(e.ZERO, e.ONE_MINUS_SRC_COLOR))
            : i === THREE.MultiplyBlending
            ? (e.enable(e.BLEND),
              e.blendEquation(e.FUNC_ADD),
              e.blendFunc(e.ZERO, e.SRC_COLOR))
            : i === THREE.CustomBlending
            ? e.enable(e.BLEND)
            : (e.enable(e.BLEND),
              e.blendEquationSeparate(e.FUNC_ADD, e.FUNC_ADD),
              e.blendFuncSeparate(
                e.SRC_ALPHA,
                e.ONE_MINUS_SRC_ALPHA,
                e.ONE,
                e.ONE_MINUS_SRC_ALPHA
              )),
          (n = i)),
          i === THREE.CustomBlending
            ? ((f = f || r),
              (p = p || u),
              (m = m || d),
              (r !== o || f !== l) &&
                (e.blendEquationSeparate(t(r), t(f)), (o = r), (l = f)),
              (u !== a || d !== s || p !== h || m !== c) &&
                (e.blendFuncSeparate(t(u), t(d), t(p), t(m)),
                (a = u),
                (s = d),
                (h = p),
                (c = m)))
            : (c = h = l = s = a = o = null);
      }),
      (this.setDepthTest = function (t) {
        u !== t &&
          (t ? e.enable(e.DEPTH_TEST) : e.disable(e.DEPTH_TEST), (u = t));
      }),
      (this.setDepthWrite = function (t) {
        d !== t && (e.depthMask(t), (d = t));
      }),
      (this.setColorWrite = function (t) {
        f !== t && (e.colorMask(t, t, t, t), (f = t));
      }),
      (this.setDoubleSided = function (t) {
        p !== t &&
          (t ? e.disable(e.CULL_FACE) : e.enable(e.CULL_FACE), (p = t));
      }),
      (this.setFlipSided = function (t) {
        m !== t && (t ? e.frontFace(e.CW) : e.frontFace(e.CCW), (m = t));
      }),
      (this.setLineWidth = function (t) {
        t !== g && (e.lineWidth(t), (g = t));
      }),
      (this.setPolygonOffset = function (t, i, r) {
        E !== t &&
          (t
            ? e.enable(e.POLYGON_OFFSET_FILL)
            : e.disable(e.POLYGON_OFFSET_FILL),
          (E = t)),
          !t ||
            (v === i && _ === r) ||
            (e.polygonOffset(i, r), (v = i), (_ = r));
      }),
      (this.reset = function () {
        for (var e = 0; e < r.length; e++) r[e] = 0;
        m = p = f = d = u = n = null;
      });
  }),
  (THREE.LensFlarePlugin = function (e, t) {
    var i,
      r,
      n,
      o,
      a,
      s,
      l,
      h,
      c,
      u,
      d,
      f,
      p,
      m,
      g,
      E,
      v = e.context;
    this.render = function (_, y, T, x) {
      if (0 !== t.length) {
        _ = new THREE.Vector3();
        var R = x / T,
          b = 0.5 * T,
          w = 0.5 * x,
          H = 16 / x,
          S = new THREE.Vector2(H * R, H),
          A = new THREE.Vector3(1, 1, 0),
          M = new THREE.Vector2(1, 1);
        if (void 0 === p) {
          var H = new Float32Array([
              -1, -1, 0, 0, 1, -1, 1, 0, 1, 1, 1, 1, -1, 1, 0, 1,
            ]),
            C = new Uint16Array([0, 1, 2, 0, 2, 3]);
          (d = v.createBuffer()),
            (f = v.createBuffer()),
            v.bindBuffer(v.ARRAY_BUFFER, d),
            v.bufferData(v.ARRAY_BUFFER, H, v.STATIC_DRAW),
            v.bindBuffer(v.ELEMENT_ARRAY_BUFFER, f),
            v.bufferData(v.ELEMENT_ARRAY_BUFFER, C, v.STATIC_DRAW),
            (g = v.createTexture()),
            (E = v.createTexture()),
            v.bindTexture(v.TEXTURE_2D, g),
            v.texImage2D(
              v.TEXTURE_2D,
              0,
              v.RGB,
              16,
              16,
              0,
              v.RGB,
              v.UNSIGNED_BYTE,
              null
            ),
            v.texParameteri(v.TEXTURE_2D, v.TEXTURE_WRAP_S, v.CLAMP_TO_EDGE),
            v.texParameteri(v.TEXTURE_2D, v.TEXTURE_WRAP_T, v.CLAMP_TO_EDGE),
            v.texParameteri(v.TEXTURE_2D, v.TEXTURE_MAG_FILTER, v.NEAREST),
            v.texParameteri(v.TEXTURE_2D, v.TEXTURE_MIN_FILTER, v.NEAREST),
            v.bindTexture(v.TEXTURE_2D, E),
            v.texImage2D(
              v.TEXTURE_2D,
              0,
              v.RGBA,
              16,
              16,
              0,
              v.RGBA,
              v.UNSIGNED_BYTE,
              null
            ),
            v.texParameteri(v.TEXTURE_2D, v.TEXTURE_WRAP_S, v.CLAMP_TO_EDGE),
            v.texParameteri(v.TEXTURE_2D, v.TEXTURE_WRAP_T, v.CLAMP_TO_EDGE),
            v.texParameteri(v.TEXTURE_2D, v.TEXTURE_MAG_FILTER, v.NEAREST),
            v.texParameteri(v.TEXTURE_2D, v.TEXTURE_MIN_FILTER, v.NEAREST);
          var H = (m = 0 < v.getParameter(v.MAX_VERTEX_TEXTURE_IMAGE_UNITS))
              ? {
                  vertexShader:
                    "uniform lowp int renderType;\nuniform vec3 screenPosition;\nuniform vec2 scale;\nuniform float rotation;\nuniform sampler2D occlusionMap;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvarying float vVisibility;\nvoid main() {\nvUV = uv;\nvec2 pos = position;\nif( renderType == 2 ) {\nvec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );\nvVisibility =        visibility.r / 9.0;\nvVisibility *= 1.0 - visibility.g / 9.0;\nvVisibility *=       visibility.b / 9.0;\nvVisibility *= 1.0 - visibility.a / 9.0;\npos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;\npos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;\n}\ngl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );\n}",
                  fragmentShader:
                    "uniform lowp int renderType;\nuniform sampler2D map;\nuniform float opacity;\nuniform vec3 color;\nvarying vec2 vUV;\nvarying float vVisibility;\nvoid main() {\nif( renderType == 0 ) {\ngl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );\n} else if( renderType == 1 ) {\ngl_FragColor = texture2D( map, vUV );\n} else {\nvec4 texture = texture2D( map, vUV );\ntexture.a *= opacity * vVisibility;\ngl_FragColor = texture;\ngl_FragColor.rgb *= color;\n}\n}",
                }
              : {
                  vertexShader:
                    "uniform lowp int renderType;\nuniform vec3 screenPosition;\nuniform vec2 scale;\nuniform float rotation;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvoid main() {\nvUV = uv;\nvec2 pos = position;\nif( renderType == 2 ) {\npos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;\npos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;\n}\ngl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );\n}",
                  fragmentShader:
                    "precision mediump float;\nuniform lowp int renderType;\nuniform sampler2D map;\nuniform sampler2D occlusionMap;\nuniform float opacity;\nuniform vec3 color;\nvarying vec2 vUV;\nvoid main() {\nif( renderType == 0 ) {\ngl_FragColor = vec4( texture2D( map, vUV ).rgb, 0.0 );\n} else if( renderType == 1 ) {\ngl_FragColor = texture2D( map, vUV );\n} else {\nfloat visibility = texture2D( occlusionMap, vec2( 0.5, 0.1 ) ).a;\nvisibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) ).a;\nvisibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) ).a;\nvisibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) ).a;\nvisibility = ( 1.0 - visibility / 4.0 );\nvec4 texture = texture2D( map, vUV );\ntexture.a *= opacity * visibility;\ngl_FragColor = texture;\ngl_FragColor.rgb *= color;\n}\n}",
                },
            C = v.createProgram(),
            P = v.createShader(v.FRAGMENT_SHADER),
            L = v.createShader(v.VERTEX_SHADER),
            D = "precision " + e.getPrecision() + " float;\n";
          v.shaderSource(P, D + H.fragmentShader),
            v.shaderSource(L, D + H.vertexShader),
            v.compileShader(P),
            v.compileShader(L),
            v.attachShader(C, P),
            v.attachShader(C, L),
            v.linkProgram(C),
            (p = C),
            (c = v.getAttribLocation(p, "position")),
            (u = v.getAttribLocation(p, "uv")),
            (i = v.getUniformLocation(p, "renderType")),
            (r = v.getUniformLocation(p, "map")),
            (n = v.getUniformLocation(p, "occlusionMap")),
            (o = v.getUniformLocation(p, "opacity")),
            (a = v.getUniformLocation(p, "color")),
            (s = v.getUniformLocation(p, "scale")),
            (l = v.getUniformLocation(p, "rotation")),
            (h = v.getUniformLocation(p, "screenPosition"));
        }
        for (
          v.useProgram(p),
            v.enableVertexAttribArray(c),
            v.enableVertexAttribArray(u),
            v.uniform1i(n, 0),
            v.uniform1i(r, 1),
            v.bindBuffer(v.ARRAY_BUFFER, d),
            v.vertexAttribPointer(c, 2, v.FLOAT, !1, 16, 0),
            v.vertexAttribPointer(u, 2, v.FLOAT, !1, 16, 8),
            v.bindBuffer(v.ELEMENT_ARRAY_BUFFER, f),
            v.disable(v.CULL_FACE),
            v.depthMask(!1),
            C = 0,
            P = t.length;
          P > C;
          C++
        )
          if (
            ((H = 16 / x),
            S.set(H * R, H),
            (L = t[C]),
            _.set(
              L.matrixWorld.elements[12],
              L.matrixWorld.elements[13],
              L.matrixWorld.elements[14]
            ),
            _.applyMatrix4(y.matrixWorldInverse),
            _.applyProjection(y.projectionMatrix),
            A.copy(_),
            (M.x = A.x * b + b),
            (M.y = A.y * w + w),
            m || (0 < M.x && M.x < T && 0 < M.y && M.y < x))
          ) {
            v.activeTexture(v.TEXTURE1),
              v.bindTexture(v.TEXTURE_2D, g),
              v.copyTexImage2D(
                v.TEXTURE_2D,
                0,
                v.RGB,
                M.x - 8,
                M.y - 8,
                16,
                16,
                0
              ),
              v.uniform1i(i, 0),
              v.uniform2f(s, S.x, S.y),
              v.uniform3f(h, A.x, A.y, A.z),
              v.disable(v.BLEND),
              v.enable(v.DEPTH_TEST),
              v.drawElements(v.TRIANGLES, 6, v.UNSIGNED_SHORT, 0),
              v.activeTexture(v.TEXTURE0),
              v.bindTexture(v.TEXTURE_2D, E),
              v.copyTexImage2D(
                v.TEXTURE_2D,
                0,
                v.RGBA,
                M.x - 8,
                M.y - 8,
                16,
                16,
                0
              ),
              v.uniform1i(i, 1),
              v.disable(v.DEPTH_TEST),
              v.activeTexture(v.TEXTURE1),
              v.bindTexture(v.TEXTURE_2D, g),
              v.drawElements(v.TRIANGLES, 6, v.UNSIGNED_SHORT, 0),
              L.positionScreen.copy(A),
              L.customUpdateCallback
                ? L.customUpdateCallback(L)
                : L.updateLensFlares(),
              v.uniform1i(i, 2),
              v.enable(v.BLEND);
            for (var D = 0, O = L.lensFlares.length; O > D; D++) {
              var k = L.lensFlares[D];
              0.001 < k.opacity &&
                0.001 < k.scale &&
                ((A.x = k.x),
                (A.y = k.y),
                (A.z = k.z),
                (H = (k.size * k.scale) / x),
                (S.x = H * R),
                (S.y = H),
                v.uniform3f(h, A.x, A.y, A.z),
                v.uniform2f(s, S.x, S.y),
                v.uniform1f(l, k.rotation),
                v.uniform1f(o, k.opacity),
                v.uniform3f(a, k.color.r, k.color.g, k.color.b),
                e.state.setBlending(
                  k.blending,
                  k.blendEquation,
                  k.blendSrc,
                  k.blendDst
                ),
                e.setTexture(k.texture, 1),
                v.drawElements(v.TRIANGLES, 6, v.UNSIGNED_SHORT, 0));
            }
          }
        v.enable(v.CULL_FACE),
          v.enable(v.DEPTH_TEST),
          v.depthMask(!0),
          e.resetGLState();
      }
    };
  }),
  (THREE.ShadowMapPlugin = function (e, t, i, r) {
    function n(e, t, r) {
      if (t.visible) {
        var o = i[t.id];
        if (
          o &&
          t.castShadow &&
          (!1 === t.frustumCulled || !0 === c.intersectsObject(t))
        )
          for (var a = 0, s = o.length; s > a; a++) {
            var l = o[a];
            t._modelViewMatrix.multiplyMatrices(
              r.matrixWorldInverse,
              t.matrixWorld
            ),
              m.push(l);
          }
        for (a = 0, s = t.children.length; s > a; a++) n(e, t.children[a], r);
      }
    }
    var o,
      a,
      s,
      l,
      h = e.context,
      c = new THREE.Frustum(),
      u = new THREE.Matrix4(),
      d = new THREE.Vector3(),
      f = new THREE.Vector3(),
      p = new THREE.Vector3(),
      m = [],
      g = THREE.ShaderLib.depthRGBA,
      E = THREE.UniformsUtils.clone(g.uniforms);
    (o = new THREE.ShaderMaterial({
      uniforms: E,
      vertexShader: g.vertexShader,
      fragmentShader: g.fragmentShader,
    })),
      (a = new THREE.ShaderMaterial({
        uniforms: E,
        vertexShader: g.vertexShader,
        fragmentShader: g.fragmentShader,
        morphTargets: !0,
      })),
      (s = new THREE.ShaderMaterial({
        uniforms: E,
        vertexShader: g.vertexShader,
        fragmentShader: g.fragmentShader,
        skinning: !0,
      })),
      (l = new THREE.ShaderMaterial({
        uniforms: E,
        vertexShader: g.vertexShader,
        fragmentShader: g.fragmentShader,
        morphTargets: !0,
        skinning: !0,
      })),
      (o._shadowPass = !0),
      (a._shadowPass = !0),
      (s._shadowPass = !0),
      (l._shadowPass = !0),
      (this.render = function (i, g) {
        if (!1 !== e.shadowMapEnabled) {
          var E,
            v,
            _,
            y,
            T,
            x,
            R,
            b,
            w = [];
          for (
            y = 0,
              h.clearColor(1, 1, 1, 1),
              h.disable(h.BLEND),
              h.enable(h.CULL_FACE),
              h.frontFace(h.CCW),
              e.shadowMapCullFace === THREE.CullFaceFront
                ? h.cullFace(h.FRONT)
                : h.cullFace(h.BACK),
              e.state.setDepthTest(!0),
              E = 0,
              v = t.length;
            v > E;
            E++
          )
            if (((_ = t[E]), _.castShadow))
              if (_ instanceof THREE.DirectionalLight && _.shadowCascade)
                for (T = 0; T < _.shadowCascadeCount; T++) {
                  var H;
                  if (_.shadowCascadeArray[T]) H = _.shadowCascadeArray[T];
                  else {
                    R = _;
                    var S = T;
                    (H = new THREE.DirectionalLight()),
                      (H.isVirtual = !0),
                      (H.onlyShadow = !0),
                      (H.castShadow = !0),
                      (H.shadowCameraNear = R.shadowCameraNear),
                      (H.shadowCameraFar = R.shadowCameraFar),
                      (H.shadowCameraLeft = R.shadowCameraLeft),
                      (H.shadowCameraRight = R.shadowCameraRight),
                      (H.shadowCameraBottom = R.shadowCameraBottom),
                      (H.shadowCameraTop = R.shadowCameraTop),
                      (H.shadowCameraVisible = R.shadowCameraVisible),
                      (H.shadowDarkness = R.shadowDarkness),
                      (H.shadowBias = R.shadowCascadeBias[S]),
                      (H.shadowMapWidth = R.shadowCascadeWidth[S]),
                      (H.shadowMapHeight = R.shadowCascadeHeight[S]),
                      (H.pointsWorld = []),
                      (H.pointsFrustum = []),
                      (b = H.pointsWorld),
                      (x = H.pointsFrustum);
                    for (var A = 0; 8 > A; A++)
                      (b[A] = new THREE.Vector3()),
                        (x[A] = new THREE.Vector3());
                    (b = R.shadowCascadeNearZ[S]),
                      (R = R.shadowCascadeFarZ[S]),
                      x[0].set(-1, -1, b),
                      x[1].set(1, -1, b),
                      x[2].set(-1, 1, b),
                      x[3].set(1, 1, b),
                      x[4].set(-1, -1, R),
                      x[5].set(1, -1, R),
                      x[6].set(-1, 1, R),
                      x[7].set(1, 1, R),
                      (H.originalCamera = g),
                      (x = new THREE.Gyroscope()),
                      x.position.copy(_.shadowCascadeOffset),
                      x.add(H),
                      x.add(H.target),
                      g.add(x),
                      (_.shadowCascadeArray[T] = H);
                  }
                  (S = _),
                    (b = T),
                    (R = S.shadowCascadeArray[b]),
                    R.position.copy(S.position),
                    R.target.position.copy(S.target.position),
                    R.lookAt(R.target),
                    (R.shadowCameraVisible = S.shadowCameraVisible),
                    (R.shadowDarkness = S.shadowDarkness),
                    (R.shadowBias = S.shadowCascadeBias[b]),
                    (x = S.shadowCascadeNearZ[b]),
                    (S = S.shadowCascadeFarZ[b]),
                    (R = R.pointsFrustum),
                    (R[0].z = x),
                    (R[1].z = x),
                    (R[2].z = x),
                    (R[3].z = x),
                    (R[4].z = S),
                    (R[5].z = S),
                    (R[6].z = S),
                    (R[7].z = S),
                    (w[y] = H),
                    y++;
                }
              else (w[y] = _), y++;
          for (E = 0, v = w.length; v > E; E++) {
            if (
              ((_ = w[E]),
              _.shadowMap ||
                ((T = THREE.LinearFilter),
                e.shadowMapType === THREE.PCFSoftShadowMap &&
                  (T = THREE.NearestFilter),
                (_.shadowMap = new THREE.WebGLRenderTarget(
                  _.shadowMapWidth,
                  _.shadowMapHeight,
                  { minFilter: T, magFilter: T, format: THREE.RGBAFormat }
                )),
                (_.shadowMapSize = new THREE.Vector2(
                  _.shadowMapWidth,
                  _.shadowMapHeight
                )),
                (_.shadowMatrix = new THREE.Matrix4())),
              !_.shadowCamera)
            ) {
              if (_ instanceof THREE.SpotLight)
                _.shadowCamera = new THREE.PerspectiveCamera(
                  _.shadowCameraFov,
                  _.shadowMapWidth / _.shadowMapHeight,
                  _.shadowCameraNear,
                  _.shadowCameraFar
                );
              else {
                if (!(_ instanceof THREE.DirectionalLight)) {
                  THREE.error(
                    "THREE.ShadowMapPlugin: Unsupported light type for shadow",
                    _
                  );
                  continue;
                }
                _.shadowCamera = new THREE.OrthographicCamera(
                  _.shadowCameraLeft,
                  _.shadowCameraRight,
                  _.shadowCameraTop,
                  _.shadowCameraBottom,
                  _.shadowCameraNear,
                  _.shadowCameraFar
                );
              }
              i.add(_.shadowCamera),
                !0 === i.autoUpdate && i.updateMatrixWorld();
            }
            if (
              (_.shadowCameraVisible &&
                !_.cameraHelper &&
                ((_.cameraHelper = new THREE.CameraHelper(_.shadowCamera)),
                i.add(_.cameraHelper)),
              _.isVirtual && H.originalCamera == g)
            ) {
              for (
                T = g,
                  y = _.shadowCamera,
                  x = _.pointsFrustum,
                  R = _.pointsWorld,
                  d.set(1 / 0, 1 / 0, 1 / 0),
                  f.set(-(1 / 0), -(1 / 0), -(1 / 0)),
                  S = 0;
                8 > S;
                S++
              )
                (b = R[S]),
                  b.copy(x[S]),
                  b.unproject(T),
                  b.applyMatrix4(y.matrixWorldInverse),
                  b.x < d.x && (d.x = b.x),
                  b.x > f.x && (f.x = b.x),
                  b.y < d.y && (d.y = b.y),
                  b.y > f.y && (f.y = b.y),
                  b.z < d.z && (d.z = b.z),
                  b.z > f.z && (f.z = b.z);
              (y.left = d.x),
                (y.right = f.x),
                (y.top = f.y),
                (y.bottom = d.y),
                y.updateProjectionMatrix();
            }
            for (
              y = _.shadowMap,
                x = _.shadowMatrix,
                T = _.shadowCamera,
                T.position.setFromMatrixPosition(_.matrixWorld),
                p.setFromMatrixPosition(_.target.matrixWorld),
                T.lookAt(p),
                T.updateMatrixWorld(),
                T.matrixWorldInverse.getInverse(T.matrixWorld),
                _.cameraHelper &&
                  (_.cameraHelper.visible = _.shadowCameraVisible),
                _.shadowCameraVisible && _.cameraHelper.update(),
                x.set(
                  0.5,
                  0,
                  0,
                  0.5,
                  0,
                  0.5,
                  0,
                  0.5,
                  0,
                  0,
                  0.5,
                  0.5,
                  0,
                  0,
                  0,
                  1
                ),
                x.multiply(T.projectionMatrix),
                x.multiply(T.matrixWorldInverse),
                u.multiplyMatrices(T.projectionMatrix, T.matrixWorldInverse),
                c.setFromMatrix(u),
                e.setRenderTarget(y),
                e.clear(),
                m.length = 0,
                n(i, i, T),
                _ = 0,
                y = m.length;
              y > _;
              _++
            )
              (R = m[_]),
                (x = R.object),
                (R = R.buffer),
                (S =
                  x.material instanceof THREE.MeshFaceMaterial
                    ? x.material.materials[0]
                    : x.material),
                (b =
                  void 0 !== x.geometry.morphTargets &&
                  0 < x.geometry.morphTargets.length &&
                  S.morphTargets),
                (A = x instanceof THREE.SkinnedMesh && S.skinning),
                (b = x.customDepthMaterial
                  ? x.customDepthMaterial
                  : A
                  ? b
                    ? l
                    : s
                  : b
                  ? a
                  : o),
                e.setMaterialFaces(S),
                R instanceof THREE.BufferGeometry
                  ? e.renderBufferDirect(T, t, null, b, R, x)
                  : e.renderBuffer(T, t, null, b, R, x);
            for (_ = 0, y = r.length; y > _; _++)
              (R = r[_]),
                (x = R.object),
                x.visible &&
                  x.castShadow &&
                  (x._modelViewMatrix.multiplyMatrices(
                    T.matrixWorldInverse,
                    x.matrixWorld
                  ),
                  e.renderImmediateObject(T, t, null, o, x));
          }
          (E = e.getClearColor()),
            (v = e.getClearAlpha()),
            h.clearColor(E.r, E.g, E.b, v),
            h.enable(h.BLEND),
            e.shadowMapCullFace === THREE.CullFaceFront && h.cullFace(h.BACK),
            e.resetGLState();
        }
      });
  }),
  (THREE.SpritePlugin = function (e, t) {
    function i(e, t) {
      return e.z !== t.z ? t.z - e.z : t.id - e.id;
    }
    var r,
      n,
      o,
      a,
      s,
      l,
      h,
      c,
      u,
      d,
      f,
      p,
      m,
      g,
      E,
      v,
      _,
      y,
      T,
      x,
      R,
      b = e.context,
      w = new THREE.Vector3(),
      H = new THREE.Quaternion(),
      S = new THREE.Vector3();
    this.render = function (A, M) {
      if (0 !== t.length) {
        if (void 0 === x) {
          var C = new Float32Array([
              -0.5, -0.5, 0, 0, 0.5, -0.5, 1, 0, 0.5, 0.5, 1, 1, -0.5, 0.5, 0,
              1,
            ]),
            P = new Uint16Array([0, 1, 2, 0, 2, 3]);
          (y = b.createBuffer()),
            (T = b.createBuffer()),
            b.bindBuffer(b.ARRAY_BUFFER, y),
            b.bufferData(b.ARRAY_BUFFER, C, b.STATIC_DRAW),
            b.bindBuffer(b.ELEMENT_ARRAY_BUFFER, T),
            b.bufferData(b.ELEMENT_ARRAY_BUFFER, P, b.STATIC_DRAW);
          var C = b.createProgram(),
            P = b.createShader(b.VERTEX_SHADER),
            L = b.createShader(b.FRAGMENT_SHADER);
          b.shaderSource(
            P,
            [
              "precision " + e.getPrecision() + " float;",
              "uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform float rotation;\nuniform vec2 scale;\nuniform vec2 uvOffset;\nuniform vec2 uvScale;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvoid main() {\nvUV = uvOffset + uv * uvScale;\nvec2 alignedPosition = position * scale;\nvec2 rotatedPosition;\nrotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\nrotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\nvec4 finalPosition;\nfinalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\nfinalPosition.xy += rotatedPosition;\nfinalPosition = projectionMatrix * finalPosition;\ngl_Position = finalPosition;\n}",
            ].join("\n")
          ),
            b.shaderSource(
              L,
              [
                "precision " + e.getPrecision() + " float;",
                "uniform vec3 color;\nuniform sampler2D map;\nuniform float opacity;\nuniform int fogType;\nuniform vec3 fogColor;\nuniform float fogDensity;\nuniform float fogNear;\nuniform float fogFar;\nuniform float alphaTest;\nvarying vec2 vUV;\nvoid main() {\nvec4 texture = texture2D( map, vUV );\nif ( texture.a < alphaTest ) discard;\ngl_FragColor = vec4( color * texture.xyz, texture.a * opacity );\nif ( fogType > 0 ) {\nfloat depth = gl_FragCoord.z / gl_FragCoord.w;\nfloat fogFactor = 0.0;\nif ( fogType == 1 ) {\nfogFactor = smoothstep( fogNear, fogFar, depth );\n} else {\nconst float LOG2 = 1.442695;\nfloat fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );\nfogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );\n}\ngl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}\n}",
              ].join("\n")
            ),
            b.compileShader(P),
            b.compileShader(L),
            b.attachShader(C, P),
            b.attachShader(C, L),
            b.linkProgram(C),
            (x = C),
            (v = b.getAttribLocation(x, "position")),
            (_ = b.getAttribLocation(x, "uv")),
            (r = b.getUniformLocation(x, "uvOffset")),
            (n = b.getUniformLocation(x, "uvScale")),
            (o = b.getUniformLocation(x, "rotation")),
            (a = b.getUniformLocation(x, "scale")),
            (s = b.getUniformLocation(x, "color")),
            (l = b.getUniformLocation(x, "map")),
            (h = b.getUniformLocation(x, "opacity")),
            (c = b.getUniformLocation(x, "modelViewMatrix")),
            (u = b.getUniformLocation(x, "projectionMatrix")),
            (d = b.getUniformLocation(x, "fogType")),
            (f = b.getUniformLocation(x, "fogDensity")),
            (p = b.getUniformLocation(x, "fogNear")),
            (m = b.getUniformLocation(x, "fogFar")),
            (g = b.getUniformLocation(x, "fogColor")),
            (E = b.getUniformLocation(x, "alphaTest")),
            (C = document.createElement("canvas")),
            (C.width = 8),
            (C.height = 8),
            (P = C.getContext("2d")),
            (P.fillStyle = "white"),
            P.fillRect(0, 0, 8, 8),
            (R = new THREE.Texture(C)),
            (R.needsUpdate = !0);
        }
        b.useProgram(x),
          b.enableVertexAttribArray(v),
          b.enableVertexAttribArray(_),
          b.disable(b.CULL_FACE),
          b.enable(b.BLEND),
          b.bindBuffer(b.ARRAY_BUFFER, y),
          b.vertexAttribPointer(v, 2, b.FLOAT, !1, 16, 0),
          b.vertexAttribPointer(_, 2, b.FLOAT, !1, 16, 8),
          b.bindBuffer(b.ELEMENT_ARRAY_BUFFER, T),
          b.uniformMatrix4fv(u, !1, M.projectionMatrix.elements),
          b.activeTexture(b.TEXTURE0),
          b.uniform1i(l, 0),
          (P = C = 0),
          (L = A.fog)
            ? (b.uniform3f(g, L.color.r, L.color.g, L.color.b),
              L instanceof THREE.Fog
                ? (b.uniform1f(p, L.near),
                  b.uniform1f(m, L.far),
                  b.uniform1i(d, 1),
                  (P = C = 1))
                : L instanceof THREE.FogExp2 &&
                  (b.uniform1f(f, L.density), b.uniform1i(d, 2), (P = C = 2)))
            : (b.uniform1i(d, 0), (P = C = 0));
        for (var L = 0, D = t.length; D > L; L++) {
          var O = t[L];
          O._modelViewMatrix.multiplyMatrices(
            M.matrixWorldInverse,
            O.matrixWorld
          ),
            (O.z = -O._modelViewMatrix.elements[14]);
        }
        t.sort(i);
        for (var k = [], L = 0, D = t.length; D > L; L++) {
          var O = t[L],
            F = O.material;
          b.uniform1f(E, F.alphaTest),
            b.uniformMatrix4fv(c, !1, O._modelViewMatrix.elements),
            O.matrixWorld.decompose(w, H, S),
            (k[0] = S.x),
            (k[1] = S.y),
            (O = 0),
            A.fog && F.fog && (O = P),
            C !== O && (b.uniform1i(d, O), (C = O)),
            null !== F.map
              ? (b.uniform2f(r, F.map.offset.x, F.map.offset.y),
                b.uniform2f(n, F.map.repeat.x, F.map.repeat.y))
              : (b.uniform2f(r, 0, 0), b.uniform2f(n, 1, 1)),
            b.uniform1f(h, F.opacity),
            b.uniform3f(s, F.color.r, F.color.g, F.color.b),
            b.uniform1f(o, F.rotation),
            b.uniform2fv(a, k),
            e.state.setBlending(
              F.blending,
              F.blendEquation,
              F.blendSrc,
              F.blendDst
            ),
            e.state.setDepthTest(F.depthTest),
            e.state.setDepthWrite(F.depthWrite),
            F.map && F.map.image && F.map.image.width
              ? e.setTexture(F.map, 0)
              : e.setTexture(R, 0),
            b.drawElements(b.TRIANGLES, 6, b.UNSIGNED_SHORT, 0);
        }
        b.enable(b.CULL_FACE), e.resetGLState();
      }
    };
  }),
  (THREE.GeometryUtils = {
    merge: function (e, t, i) {
      THREE.warn(
        "THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead."
      );
      var r;
      t instanceof THREE.Mesh &&
        (t.matrixAutoUpdate && t.updateMatrix(),
        (r = t.matrix),
        (t = t.geometry)),
        e.merge(t, r, i);
    },
    center: function (e) {
      return (
        THREE.warn(
          "THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."
        ),
        e.center()
      );
    },
  }),
  (THREE.ImageUtils = {
    crossOrigin: void 0,
    loadTexture: function (e, t, i, r) {
      var n = new THREE.ImageLoader();
      n.crossOrigin = this.crossOrigin;
      var o = new THREE.Texture(void 0, t);
      return (
        n.load(
          e,
          function (e) {
            (o.image = e), (o.needsUpdate = !0), i && i(o);
          },
          void 0,
          function (e) {
            r && r(e);
          }
        ),
        (o.sourceFile = e),
        o
      );
    },
    loadTextureCube: function (e, t, i, r) {
      var n = new THREE.ImageLoader();
      n.crossOrigin = this.crossOrigin;
      var o = new THREE.CubeTexture([], t);
      o.flipY = !1;
      var a = 0;
      t = function (t) {
        n.load(
          e[t],
          function (e) {
            (o.images[t] = e),
              (a += 1),
              6 === a && ((o.needsUpdate = !0), i && i(o));
          },
          void 0,
          r
        );
      };
      for (var s = 0, l = e.length; l > s; ++s) t(s);
      return o;
    },
    loadCompressedTexture: function () {
      THREE.error(
        "THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead."
      );
    },
    loadCompressedTextureCube: function () {
      THREE.error(
        "THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead."
      );
    },
    getNormalMap: function (e, t) {
      var i = function (e) {
        var t = Math.sqrt(e[0] * e[0] + e[1] * e[1] + e[2] * e[2]);
        return [e[0] / t, e[1] / t, e[2] / t];
      };
      t |= 1;
      var r = e.width,
        n = e.height,
        o = document.createElement("canvas");
      (o.width = r), (o.height = n);
      var a = o.getContext("2d");
      a.drawImage(e, 0, 0);
      for (
        var s = a.getImageData(0, 0, r, n).data,
          l = a.createImageData(r, n),
          h = l.data,
          c = 0;
        r > c;
        c++
      )
        for (var u = 0; n > u; u++) {
          var d = 0 > u - 1 ? 0 : u - 1,
            f = u + 1 > n - 1 ? n - 1 : u + 1,
            p = 0 > c - 1 ? 0 : c - 1,
            m = c + 1 > r - 1 ? r - 1 : c + 1,
            g = [],
            E = [0, 0, (s[4 * (u * r + c)] / 255) * t];
          for (
            g.push([-1, 0, (s[4 * (u * r + p)] / 255) * t]),
              g.push([-1, -1, (s[4 * (d * r + p)] / 255) * t]),
              g.push([0, -1, (s[4 * (d * r + c)] / 255) * t]),
              g.push([1, -1, (s[4 * (d * r + m)] / 255) * t]),
              g.push([1, 0, (s[4 * (u * r + m)] / 255) * t]),
              g.push([1, 1, (s[4 * (f * r + m)] / 255) * t]),
              g.push([0, 1, (s[4 * (f * r + c)] / 255) * t]),
              g.push([-1, 1, (s[4 * (f * r + p)] / 255) * t]),
              d = [],
              p = g.length,
              f = 0;
            p > f;
            f++
          ) {
            var m = g[f],
              v = g[(f + 1) % p],
              m = [m[0] - E[0], m[1] - E[1], m[2] - E[2]],
              v = [v[0] - E[0], v[1] - E[1], v[2] - E[2]];
            d.push(
              i([
                m[1] * v[2] - m[2] * v[1],
                m[2] * v[0] - m[0] * v[2],
                m[0] * v[1] - m[1] * v[0],
              ])
            );
          }
          for (g = [0, 0, 0], f = 0; f < d.length; f++)
            (g[0] += d[f][0]), (g[1] += d[f][1]), (g[2] += d[f][2]);
          (g[0] /= d.length),
            (g[1] /= d.length),
            (g[2] /= d.length),
            (E = 4 * (u * r + c)),
            (h[E] = (((g[0] + 1) / 2) * 255) | 0),
            (h[E + 1] = (((g[1] + 1) / 2) * 255) | 0),
            (h[E + 2] = (255 * g[2]) | 0),
            (h[E + 3] = 255);
        }
      return a.putImageData(l, 0, 0), o;
    },
    generateDataTexture: function (e, t, i) {
      var r = e * t,
        n = new Uint8Array(3 * r),
        o = Math.floor(255 * i.r),
        a = Math.floor(255 * i.g);
      i = Math.floor(255 * i.b);
      for (var s = 0; r > s; s++)
        (n[3 * s] = o), (n[3 * s + 1] = a), (n[3 * s + 2] = i);
      return (
        (e = new THREE.DataTexture(n, e, t, THREE.RGBFormat)),
        (e.needsUpdate = !0),
        e
      );
    },
  }),
  (THREE.SceneUtils = {
    createMultiMaterialObject: function (e, t) {
      for (var i = new THREE.Object3D(), r = 0, n = t.length; n > r; r++)
        i.add(new THREE.Mesh(e, t[r]));
      return i;
    },
    detach: function (e, t, i) {
      e.applyMatrix(t.matrixWorld), t.remove(e), i.add(e);
    },
    attach: function (e, t, i) {
      var r = new THREE.Matrix4();
      r.getInverse(i.matrixWorld), e.applyMatrix(r), t.remove(e), i.add(e);
    },
  }),
  (THREE.FontUtils = {
    faces: {},
    face: "helvetiker",
    weight: "normal",
    style: "normal",
    size: 150,
    divisions: 10,
    getFace: function () {
      try {
        return this.faces[this.face][this.weight][this.style];
      } catch (e) {
        throw (
          "The font " +
          this.face +
          " with " +
          this.weight +
          " weight and " +
          this.style +
          " style is missing."
        );
      }
    },
    loadFace: function (e) {
      var t = e.familyName.toLowerCase();
      return (
        (this.faces[t] = this.faces[t] || {}),
        (this.faces[t][e.cssFontWeight] = this.faces[t][e.cssFontWeight] || {}),
        (this.faces[t][e.cssFontWeight][e.cssFontStyle] = e),
        (this.faces[t][e.cssFontWeight][e.cssFontStyle] = e)
      );
    },
    drawText: function (e) {
      var t = this.getFace(),
        i = this.size / t.resolution,
        r = 0,
        n = String(e).split(""),
        o = n.length,
        a = [];
      for (e = 0; o > e; e++) {
        var s = new THREE.Path(),
          s = this.extractGlyphPoints(n[e], t, i, r, s),
          r = r + s.offset;
        a.push(s.path);
      }
      return { paths: a, offset: r / 2 };
    },
    extractGlyphPoints: function (e, t, i, r, n) {
      var o,
        a,
        s,
        l,
        h,
        c,
        u,
        d,
        f,
        p,
        m,
        g = [],
        E = t.glyphs[e] || t.glyphs["?"];
      if (E) {
        if (E.o)
          for (
            t = E._cachedOutline || (E._cachedOutline = E.o.split(" ")),
              l = t.length,
              e = 0;
            l > e;

          )
            switch ((s = t[e++])) {
              case "m":
                (s = t[e++] * i + r), (h = t[e++] * i), n.moveTo(s, h);
                break;
              case "l":
                (s = t[e++] * i + r), (h = t[e++] * i), n.lineTo(s, h);
                break;
              case "q":
                if (
                  ((s = t[e++] * i + r),
                  (h = t[e++] * i),
                  (d = t[e++] * i + r),
                  (f = t[e++] * i),
                  n.quadraticCurveTo(d, f, s, h),
                  (o = g[g.length - 1]))
                )
                  for (
                    c = o.x, u = o.y, o = 1, a = this.divisions;
                    a >= o;
                    o++
                  ) {
                    var v = o / a;
                    THREE.Shape.Utils.b2(v, c, d, s),
                      THREE.Shape.Utils.b2(v, u, f, h);
                  }
                break;
              case "b":
                if (
                  ((s = t[e++] * i + r),
                  (h = t[e++] * i),
                  (d = t[e++] * i + r),
                  (f = t[e++] * i),
                  (p = t[e++] * i + r),
                  (m = t[e++] * i),
                  n.bezierCurveTo(d, f, p, m, s, h),
                  (o = g[g.length - 1]))
                )
                  for (c = o.x, u = o.y, o = 1, a = this.divisions; a >= o; o++)
                    (v = o / a),
                      THREE.Shape.Utils.b3(v, c, d, p, s),
                      THREE.Shape.Utils.b3(v, u, f, m, h);
            }
        return { offset: E.ha * i, path: n };
      }
    },
  }),
  (THREE.FontUtils.generateShapes = function (e, t) {
    t = t || {};
    var i = void 0 !== t.curveSegments ? t.curveSegments : 4,
      r = void 0 !== t.font ? t.font : "helvetiker",
      n = void 0 !== t.weight ? t.weight : "normal",
      o = void 0 !== t.style ? t.style : "normal";
    for (
      THREE.FontUtils.size = void 0 !== t.size ? t.size : 100,
        THREE.FontUtils.divisions = i,
        THREE.FontUtils.face = r,
        THREE.FontUtils.weight = n,
        THREE.FontUtils.style = o,
        i = THREE.FontUtils.drawText(e).paths,
        r = [],
        n = 0,
        o = i.length;
      o > n;
      n++
    )
      Array.prototype.push.apply(r, i[n].toShapes());
    return r;
  }),
  (function (e) {
    var t = function (e) {
      for (var t = e.length, i = 0, r = t - 1, n = 0; t > n; r = n++)
        i += e[r].x * e[n].y - e[n].x * e[r].y;
      return 0.5 * i;
    };
    return (
      (e.Triangulate = function (e, i) {
        var r = e.length;
        if (3 > r) return null;
        var n,
          o,
          a,
          s = [],
          l = [],
          h = [];
        if (0 < t(e)) for (o = 0; r > o; o++) l[o] = o;
        else for (o = 0; r > o; o++) l[o] = r - 1 - o;
        var c = 2 * r;
        for (o = r - 1; r > 2; ) {
          if (0 >= c--) {
            THREE.warn(
              "THREE.FontUtils: Warning, unable to triangulate polygon! in Triangulate.process()"
            );
            break;
          }
          (n = o),
            n >= r && (n = 0),
            (o = n + 1),
            o >= r && (o = 0),
            (a = o + 1),
            a >= r && (a = 0);
          var u;
          e: {
            var d = (u = void 0),
              f = void 0,
              p = void 0,
              m = void 0,
              g = void 0,
              E = void 0,
              v = void 0,
              _ = void 0,
              d = e[l[n]].x,
              f = e[l[n]].y,
              p = e[l[o]].x,
              m = e[l[o]].y,
              g = e[l[a]].x,
              E = e[l[a]].y;
            if (1e-10 > (p - d) * (E - f) - (m - f) * (g - d)) u = !1;
            else {
              var y = void 0,
                T = void 0,
                x = void 0,
                R = void 0,
                b = void 0,
                w = void 0,
                H = void 0,
                S = void 0,
                A = void 0,
                M = void 0,
                A = (S = H = _ = v = void 0),
                y = g - p,
                T = E - m,
                x = d - g,
                R = f - E,
                b = p - d,
                w = m - f;
              for (u = 0; r > u; u++)
                if (
                  ((v = e[l[u]].x),
                  (_ = e[l[u]].y),
                  !(
                    (v === d && _ === f) ||
                    (v === p && _ === m) ||
                    (v === g && _ === E)
                  ) &&
                    ((H = v - d),
                    (S = _ - f),
                    (A = v - p),
                    (M = _ - m),
                    (v -= g),
                    (_ -= E),
                    (A = y * M - T * A),
                    (H = b * S - w * H),
                    (S = x * _ - R * v),
                    A >= -1e-10 && S >= -1e-10 && H >= -1e-10))
                ) {
                  u = !1;
                  break e;
                }
              u = !0;
            }
          }
          if (u) {
            for (
              s.push([e[l[n]], e[l[o]], e[l[a]]]),
                h.push([l[n], l[o], l[a]]),
                n = o,
                a = o + 1;
              r > a;
              n++, a++
            )
              l[n] = l[a];
            r--, (c = 2 * r);
          }
        }
        return i ? h : s;
      }),
      (e.Triangulate.area = t),
      e
    );
  })(THREE.FontUtils),
  (self._typeface_js = {
    faces: THREE.FontUtils.faces,
    loadFace: THREE.FontUtils.loadFace,
  }),
  (THREE.typeface_js = self._typeface_js),
  (THREE.Audio = function (e) {
    THREE.Object3D.call(this),
      (this.type = "Audio"),
      (this.context = e.context),
      (this.source = this.context.createBufferSource()),
      (this.source.onended = this.onEnded.bind(this)),
      (this.gain = this.context.createGain()),
      this.gain.connect(this.context.destination),
      (this.panner = this.context.createPanner()),
      this.panner.connect(this.gain),
      (this.autoplay = !1),
      (this.startTime = 0),
      (this.isPlaying = !1);
  }),
  (THREE.Audio.prototype = Object.create(THREE.Object3D.prototype)),
  (THREE.Audio.prototype.constructor = THREE.Audio),
  (THREE.Audio.prototype.load = function (e) {
    var t = this,
      i = new XMLHttpRequest();
    return (
      i.open("GET", e, !0),
      (i.responseType = "arraybuffer"),
      (i.onload = function (e) {
        t.context.decodeAudioData(this.response, function (e) {
          (t.source.buffer = e), t.autoplay && t.play();
        });
      }),
      i.send(),
      this
    );
  }),
  (THREE.Audio.prototype.play = function () {
    if (!0 === this.isPlaying)
      THREE.warn("THREE.Audio: Audio is already playing.");
    else {
      var e = this.context.createBufferSource();
      (e.buffer = this.source.buffer),
        (e.loop = this.source.loop),
        (e.onended = this.source.onended),
        e.connect(this.panner),
        e.start(0, this.startTime),
        (this.isPlaying = !0),
        (this.source = e);
    }
  }),
  (THREE.Audio.prototype.pause = function () {
    this.source.stop(), (this.startTime = this.context.currentTime);
  }),
  (THREE.Audio.prototype.stop = function () {
    this.source.stop(), (this.startTime = 0);
  }),
  (THREE.Audio.prototype.onEnded = function () {
    this.isPlaying = !1;
  }),
  (THREE.Audio.prototype.setLoop = function (e) {
    this.source.loop = e;
  }),
  (THREE.Audio.prototype.setRefDistance = function (e) {
    this.panner.refDistance = e;
  }),
  (THREE.Audio.prototype.setRolloffFactor = function (e) {
    this.panner.rolloffFactor = e;
  }),
  (THREE.Audio.prototype.setVolume = function (e) {
    this.gain.gain.value = e;
  }),
  (THREE.Audio.prototype.updateMatrixWorld = (function () {
    var e = new THREE.Vector3();
    return function (t) {
      THREE.Object3D.prototype.updateMatrixWorld.call(this, t),
        e.setFromMatrixPosition(this.matrixWorld),
        this.panner.setPosition(e.x, e.y, e.z);
    };
  })()),
  (THREE.AudioListener = function () {
    THREE.Object3D.call(this),
      (this.type = "AudioListener"),
      (this.context = new (window.AudioContext || window.webkitAudioContext)());
  }),
  (THREE.AudioListener.prototype = Object.create(THREE.Object3D.prototype)),
  (THREE.AudioListener.prototype.constructor = THREE.AudioListener),
  (THREE.AudioListener.prototype.updateMatrixWorld = (function () {
    var e = new THREE.Vector3(),
      t = new THREE.Quaternion(),
      i = new THREE.Vector3(),
      r = new THREE.Vector3(),
      n = new THREE.Vector3(),
      o = new THREE.Vector3();
    return function (a) {
      THREE.Object3D.prototype.updateMatrixWorld.call(this, a),
        (a = this.context.listener);
      var s = this.up;
      this.matrixWorld.decompose(e, t, i),
        r.set(0, 0, -1).applyQuaternion(t),
        n.subVectors(e, o),
        a.setPosition(e.x, e.y, e.z),
        a.setOrientation(r.x, r.y, r.z, s.x, s.y, s.z),
        a.setVelocity(n.x, n.y, n.z),
        o.copy(e);
    };
  })()),
  (THREE.Curve = function () {}),
  (THREE.Curve.prototype.getPoint = function (e) {
    return (
      THREE.warn("THREE.Curve: Warning, getPoint() not implemented!"), null
    );
  }),
  (THREE.Curve.prototype.getPointAt = function (e) {
    return (e = this.getUtoTmapping(e)), this.getPoint(e);
  }),
  (THREE.Curve.prototype.getPoints = function (e) {
    e || (e = 5);
    var t,
      i = [];
    for (t = 0; e >= t; t++) i.push(this.getPoint(t / e));
    return i;
  }),
  (THREE.Curve.prototype.getSpacedPoints = function (e) {
    e || (e = 5);
    var t,
      i = [];
    for (t = 0; e >= t; t++) i.push(this.getPointAt(t / e));
    return i;
  }),
  (THREE.Curve.prototype.getLength = function () {
    var e = this.getLengths();
    return e[e.length - 1];
  }),
  (THREE.Curve.prototype.getLengths = function (e) {
    if (
      (e || (e = this.__arcLengthDivisions ? this.__arcLengthDivisions : 200),
      this.cacheArcLengths &&
        this.cacheArcLengths.length == e + 1 &&
        !this.needsUpdate)
    )
      return this.cacheArcLengths;
    this.needsUpdate = !1;
    var t,
      i,
      r = [],
      n = this.getPoint(0),
      o = 0;
    for (r.push(0), i = 1; e >= i; i++)
      (t = this.getPoint(i / e)), (o += t.distanceTo(n)), r.push(o), (n = t);
    return (this.cacheArcLengths = r);
  }),
  (THREE.Curve.prototype.updateArcLengths = function () {
    (this.needsUpdate = !0), this.getLengths();
  }),
  (THREE.Curve.prototype.getUtoTmapping = function (e, t) {
    var i,
      r = this.getLengths(),
      n = 0,
      o = r.length;
    i = t ? t : e * r[o - 1];
    for (var a, s = 0, l = o - 1; l >= s; )
      if (((n = Math.floor(s + (l - s) / 2)), (a = r[n] - i), 0 > a)) s = n + 1;
      else {
        if (!(a > 0)) {
          l = n;
          break;
        }
        l = n - 1;
      }
    return (
      (n = l),
      r[n] == i
        ? n / (o - 1)
        : ((s = r[n]), (r = (n + (i - s) / (r[n + 1] - s)) / (o - 1)))
    );
  }),
  (THREE.Curve.prototype.getTangent = function (e) {
    var t = e - 1e-4;
    return (
      (e += 1e-4),
      0 > t && (t = 0),
      e > 1 && (e = 1),
      (t = this.getPoint(t)),
      this.getPoint(e).clone().sub(t).normalize()
    );
  }),
  (THREE.Curve.prototype.getTangentAt = function (e) {
    return (e = this.getUtoTmapping(e)), this.getTangent(e);
  }),
  (THREE.Curve.Utils = {
    tangentQuadraticBezier: function (e, t, i, r) {
      return 2 * (1 - e) * (i - t) + 2 * e * (r - i);
    },
    tangentCubicBezier: function (e, t, i, r, n) {
      return (
        -3 * t * (1 - e) * (1 - e) +
        3 * i * (1 - e) * (1 - e) -
        6 * e * i * (1 - e) +
        6 * e * r * (1 - e) -
        3 * e * e * r +
        3 * e * e * n
      );
    },
    tangentSpline: function (e, t, i, r, n) {
      return (
        6 * e * e -
        6 * e +
        (3 * e * e - 4 * e + 1) +
        (-6 * e * e + 6 * e) +
        (3 * e * e - 2 * e)
      );
    },
    interpolate: function (e, t, i, r, n) {
      (e = 0.5 * (i - e)), (r = 0.5 * (r - t));
      var o = n * n;
      return (
        (2 * t - 2 * i + e + r) * n * o +
        (-3 * t + 3 * i - 2 * e - r) * o +
        e * n +
        t
      );
    },
  }),
  (THREE.Curve.create = function (e, t) {
    return (
      (e.prototype = Object.create(THREE.Curve.prototype)),
      (e.prototype.constructor = e),
      (e.prototype.getPoint = t),
      e
    );
  }),
  (THREE.CurvePath = function () {
    (this.curves = []), (this.bends = []), (this.autoClose = !1);
  }),
  (THREE.CurvePath.prototype = Object.create(THREE.Curve.prototype)),
  (THREE.CurvePath.prototype.constructor = THREE.CurvePath),
  (THREE.CurvePath.prototype.add = function (e) {
    this.curves.push(e);
  }),
  (THREE.CurvePath.prototype.checkConnection = function () {}),
  (THREE.CurvePath.prototype.closePath = function () {
    var e = this.curves[0].getPoint(0),
      t = this.curves[this.curves.length - 1].getPoint(1);
    e.equals(t) || this.curves.push(new THREE.LineCurve(t, e));
  }),
  (THREE.CurvePath.prototype.getPoint = function (e) {
    var t = e * this.getLength(),
      i = this.getCurveLengths();
    for (e = 0; e < i.length; ) {
      if (i[e] >= t)
        return (
          (t = i[e] - t),
          (e = this.curves[e]),
          (t = 1 - t / e.getLength()),
          e.getPointAt(t)
        );
      e++;
    }
    return null;
  }),
  (THREE.CurvePath.prototype.getLength = function () {
    var e = this.getCurveLengths();
    return e[e.length - 1];
  }),
  (THREE.CurvePath.prototype.getCurveLengths = function () {
    if (this.cacheLengths && this.cacheLengths.length == this.curves.length)
      return this.cacheLengths;
    var e,
      t = [],
      i = 0,
      r = this.curves.length;
    for (e = 0; r > e; e++) (i += this.curves[e].getLength()), t.push(i);
    return (this.cacheLengths = t);
  }),
  (THREE.CurvePath.prototype.getBoundingBox = function () {
    var e,
      t,
      i,
      r,
      n,
      o,
      a = this.getPoints();
    (e = t = Number.NEGATIVE_INFINITY), (r = n = Number.POSITIVE_INFINITY);
    var s,
      l,
      h,
      c,
      u = a[0] instanceof THREE.Vector3;
    for (
      c = u ? new THREE.Vector3() : new THREE.Vector2(), l = 0, h = a.length;
      h > l;
      l++
    )
      (s = a[l]),
        s.x > e ? (e = s.x) : s.x < r && (r = s.x),
        s.y > t ? (t = s.y) : s.y < n && (n = s.y),
        u && (s.z > i ? (i = s.z) : s.z < o && (o = s.z)),
        c.add(s);
    return (
      (a = { minX: r, minY: n, maxX: e, maxY: t }),
      u && ((a.maxZ = i), (a.minZ = o)),
      a
    );
  }),
  (THREE.CurvePath.prototype.createPointsGeometry = function (e) {
    return (e = this.getPoints(e, !0)), this.createGeometry(e);
  }),
  (THREE.CurvePath.prototype.createSpacedPointsGeometry = function (e) {
    return (e = this.getSpacedPoints(e, !0)), this.createGeometry(e);
  }),
  (THREE.CurvePath.prototype.createGeometry = function (e) {
    for (var t = new THREE.Geometry(), i = 0; i < e.length; i++)
      t.vertices.push(new THREE.Vector3(e[i].x, e[i].y, e[i].z || 0));
    return t;
  }),
  (THREE.CurvePath.prototype.addWrapPath = function (e) {
    this.bends.push(e);
  }),
  (THREE.CurvePath.prototype.getTransformedPoints = function (e, t) {
    var i,
      r,
      n = this.getPoints(e);
    for (t || (t = this.bends), i = 0, r = t.length; r > i; i++)
      n = this.getWrapPoints(n, t[i]);
    return n;
  }),
  (THREE.CurvePath.prototype.getTransformedSpacedPoints = function (e, t) {
    var i,
      r,
      n = this.getSpacedPoints(e);
    for (t || (t = this.bends), i = 0, r = t.length; r > i; i++)
      n = this.getWrapPoints(n, t[i]);
    return n;
  }),
  (THREE.CurvePath.prototype.getWrapPoints = function (e, t) {
    var i,
      r,
      n,
      o,
      a,
      s,
      l = this.getBoundingBox();
    for (i = 0, r = e.length; r > i; i++)
      (n = e[i]),
        (o = n.x),
        (a = n.y),
        (s = o / l.maxX),
        (s = t.getUtoTmapping(s, o)),
        (o = t.getPoint(s)),
        (s = t.getTangent(s)),
        s.set(-s.y, s.x).multiplyScalar(a),
        (n.x = o.x + s.x),
        (n.y = o.y + s.y);
    return e;
  }),
  (THREE.Gyroscope = function () {
    THREE.Object3D.call(this);
  }),
  (THREE.Gyroscope.prototype = Object.create(THREE.Object3D.prototype)),
  (THREE.Gyroscope.prototype.constructor = THREE.Gyroscope),
  (THREE.Gyroscope.prototype.updateMatrixWorld = (function () {
    var e = new THREE.Vector3(),
      t = new THREE.Quaternion(),
      i = new THREE.Vector3(),
      r = new THREE.Vector3(),
      n = new THREE.Quaternion(),
      o = new THREE.Vector3();
    return function (a) {
      this.matrixAutoUpdate && this.updateMatrix(),
        (this.matrixWorldNeedsUpdate || a) &&
          (this.parent
            ? (this.matrixWorld.multiplyMatrices(
                this.parent.matrixWorld,
                this.matrix
              ),
              this.matrixWorld.decompose(r, n, o),
              this.matrix.decompose(e, t, i),
              this.matrixWorld.compose(r, t, o))
            : this.matrixWorld.copy(this.matrix),
          (this.matrixWorldNeedsUpdate = !1),
          (a = !0));
      for (var s = 0, l = this.children.length; l > s; s++)
        this.children[s].updateMatrixWorld(a);
    };
  })()),
  (THREE.Path = function (e) {
    THREE.CurvePath.call(this), (this.actions = []), e && this.fromPoints(e);
  }),
  (THREE.Path.prototype = Object.create(THREE.CurvePath.prototype)),
  (THREE.Path.prototype.constructor = THREE.Path),
  (THREE.PathActions = {
    MOVE_TO: "moveTo",
    LINE_TO: "lineTo",
    QUADRATIC_CURVE_TO: "quadraticCurveTo",
    BEZIER_CURVE_TO: "bezierCurveTo",
    CSPLINE_THRU: "splineThru",
    ARC: "arc",
    ELLIPSE: "ellipse",
  }),
  (THREE.Path.prototype.fromPoints = function (e) {
    this.moveTo(e[0].x, e[0].y);
    for (var t = 1, i = e.length; i > t; t++) this.lineTo(e[t].x, e[t].y);
  }),
  (THREE.Path.prototype.moveTo = function (e, t) {
    var i = Array.prototype.slice.call(arguments);
    this.actions.push({ action: THREE.PathActions.MOVE_TO, args: i });
  }),
  (THREE.Path.prototype.lineTo = function (e, t) {
    var i = Array.prototype.slice.call(arguments),
      r = this.actions[this.actions.length - 1].args,
      r = new THREE.LineCurve(
        new THREE.Vector2(r[r.length - 2], r[r.length - 1]),
        new THREE.Vector2(e, t)
      );
    this.curves.push(r),
      this.actions.push({ action: THREE.PathActions.LINE_TO, args: i });
  }),
  (THREE.Path.prototype.quadraticCurveTo = function (e, t, i, r) {
    var n = Array.prototype.slice.call(arguments),
      o = this.actions[this.actions.length - 1].args,
      o = new THREE.QuadraticBezierCurve(
        new THREE.Vector2(o[o.length - 2], o[o.length - 1]),
        new THREE.Vector2(e, t),
        new THREE.Vector2(i, r)
      );
    this.curves.push(o),
      this.actions.push({
        action: THREE.PathActions.QUADRATIC_CURVE_TO,
        args: n,
      });
  }),
  (THREE.Path.prototype.bezierCurveTo = function (e, t, i, r, n, o) {
    var a = Array.prototype.slice.call(arguments),
      s = this.actions[this.actions.length - 1].args,
      s = new THREE.CubicBezierCurve(
        new THREE.Vector2(s[s.length - 2], s[s.length - 1]),
        new THREE.Vector2(e, t),
        new THREE.Vector2(i, r),
        new THREE.Vector2(n, o)
      );
    this.curves.push(s),
      this.actions.push({ action: THREE.PathActions.BEZIER_CURVE_TO, args: a });
  }),
  (THREE.Path.prototype.splineThru = function (e) {
    var t = Array.prototype.slice.call(arguments),
      i = this.actions[this.actions.length - 1].args,
      i = [new THREE.Vector2(i[i.length - 2], i[i.length - 1])];
    Array.prototype.push.apply(i, e),
      (i = new THREE.SplineCurve(i)),
      this.curves.push(i),
      this.actions.push({ action: THREE.PathActions.CSPLINE_THRU, args: t });
  }),
  (THREE.Path.prototype.arc = function (e, t, i, r, n, o) {
    var a = this.actions[this.actions.length - 1].args;
    this.absarc(e + a[a.length - 2], t + a[a.length - 1], i, r, n, o);
  }),
  (THREE.Path.prototype.absarc = function (e, t, i, r, n, o) {
    this.absellipse(e, t, i, i, r, n, o);
  }),
  (THREE.Path.prototype.ellipse = function (e, t, i, r, n, o, a) {
    var s = this.actions[this.actions.length - 1].args;
    this.absellipse(e + s[s.length - 2], t + s[s.length - 1], i, r, n, o, a);
  }),
  (THREE.Path.prototype.absellipse = function (e, t, i, r, n, o, a) {
    var s = Array.prototype.slice.call(arguments),
      l = new THREE.EllipseCurve(e, t, i, r, n, o, a);
    this.curves.push(l),
      (l = l.getPoint(1)),
      s.push(l.x),
      s.push(l.y),
      this.actions.push({ action: THREE.PathActions.ELLIPSE, args: s });
  }),
  (THREE.Path.prototype.getSpacedPoints = function (e, t) {
    e || (e = 40);
    for (var i = [], r = 0; e > r; r++) i.push(this.getPoint(r / e));
    return i;
  }),
  (THREE.Path.prototype.getPoints = function (e, t) {
    if (this.useSpacedPoints)
      return console.log("tata"), this.getSpacedPoints(e, t);
    e = e || 12;
    var i,
      r,
      n,
      o,
      a,
      s,
      l,
      h,
      c,
      u,
      d,
      f,
      p,
      m = [];
    for (i = 0, r = this.actions.length; r > i; i++)
      switch (((n = this.actions[i]), (o = n.action), (n = n.args), o)) {
        case THREE.PathActions.MOVE_TO:
          m.push(new THREE.Vector2(n[0], n[1]));
          break;
        case THREE.PathActions.LINE_TO:
          m.push(new THREE.Vector2(n[0], n[1]));
          break;
        case THREE.PathActions.QUADRATIC_CURVE_TO:
          for (
            a = n[2],
              s = n[3],
              c = n[0],
              u = n[1],
              0 < m.length
                ? ((o = m[m.length - 1]), (d = o.x), (f = o.y))
                : ((o = this.actions[i - 1].args),
                  (d = o[o.length - 2]),
                  (f = o[o.length - 1])),
              n = 1;
            e >= n;
            n++
          )
            (p = n / e),
              (o = THREE.Shape.Utils.b2(p, d, c, a)),
              (p = THREE.Shape.Utils.b2(p, f, u, s)),
              m.push(new THREE.Vector2(o, p));
          break;
        case THREE.PathActions.BEZIER_CURVE_TO:
          for (
            a = n[4],
              s = n[5],
              c = n[0],
              u = n[1],
              l = n[2],
              h = n[3],
              0 < m.length
                ? ((o = m[m.length - 1]), (d = o.x), (f = o.y))
                : ((o = this.actions[i - 1].args),
                  (d = o[o.length - 2]),
                  (f = o[o.length - 1])),
              n = 1;
            e >= n;
            n++
          )
            (p = n / e),
              (o = THREE.Shape.Utils.b3(p, d, c, l, a)),
              (p = THREE.Shape.Utils.b3(p, f, u, h, s)),
              m.push(new THREE.Vector2(o, p));
          break;
        case THREE.PathActions.CSPLINE_THRU:
          for (
            o = this.actions[i - 1].args,
              p = [new THREE.Vector2(o[o.length - 2], o[o.length - 1])],
              o = e * n[0].length,
              p = p.concat(n[0]),
              p = new THREE.SplineCurve(p),
              n = 1;
            o >= n;
            n++
          )
            m.push(p.getPointAt(n / o));
          break;
        case THREE.PathActions.ARC:
          for (
            a = n[0],
              s = n[1],
              u = n[2],
              l = n[3],
              o = n[4],
              c = !!n[5],
              d = o - l,
              f = 2 * e,
              n = 1;
            f >= n;
            n++
          )
            (p = n / f),
              c || (p = 1 - p),
              (p = l + p * d),
              (o = a + u * Math.cos(p)),
              (p = s + u * Math.sin(p)),
              m.push(new THREE.Vector2(o, p));
          break;
        case THREE.PathActions.ELLIPSE:
          for (
            a = n[0],
              s = n[1],
              u = n[2],
              h = n[3],
              l = n[4],
              o = n[5],
              c = !!n[6],
              d = o - l,
              f = 2 * e,
              n = 1;
            f >= n;
            n++
          )
            (p = n / f),
              c || (p = 1 - p),
              (p = l + p * d),
              (o = a + u * Math.cos(p)),
              (p = s + h * Math.sin(p)),
              m.push(new THREE.Vector2(o, p));
      }
    return (
      (i = m[m.length - 1]),
      1e-10 > Math.abs(i.x - m[0].x) &&
        1e-10 > Math.abs(i.y - m[0].y) &&
        m.splice(m.length - 1, 1),
      t && m.push(m[0]),
      m
    );
  }),
  (THREE.Path.prototype.toShapes = function (e, t) {
    function i(e) {
      for (var t = [], i = 0, r = e.length; r > i; i++) {
        var n = e[i],
          o = new THREE.Shape();
        (o.actions = n.actions), (o.curves = n.curves), t.push(o);
      }
      return t;
    }
    function r(e, t) {
      for (var i = t.length, r = !1, n = i - 1, o = 0; i > o; n = o++) {
        var a = t[n],
          s = t[o],
          l = s.x - a.x,
          h = s.y - a.y;
        if (1e-10 < Math.abs(h)) {
          if (
            (0 > h && ((a = t[o]), (l = -l), (s = t[n]), (h = -h)),
            !(e.y < a.y || e.y > s.y))
          )
            if (e.y == a.y) {
              if (e.x == a.x) return !0;
            } else {
              if (((n = h * (e.x - a.x) - l * (e.y - a.y)), 0 == n)) return !0;
              0 > n || (r = !r);
            }
        } else if (
          e.y == a.y &&
          ((s.x <= e.x && e.x <= a.x) || (a.x <= e.x && e.x <= s.x))
        )
          return !0;
      }
      return r;
    }
    var n = (function (e) {
      var t,
        i,
        r,
        n,
        o = [],
        a = new THREE.Path();
      for (t = 0, i = e.length; i > t; t++)
        (r = e[t]),
          (n = r.args),
          (r = r.action),
          r == THREE.PathActions.MOVE_TO &&
            0 != a.actions.length &&
            (o.push(a), (a = new THREE.Path())),
          a[r].apply(a, n);
      return 0 != a.actions.length && o.push(a), o;
    })(this.actions);
    if (0 == n.length) return [];
    if (!0 === t) return i(n);
    var o,
      a,
      s,
      l = [];
    if (1 == n.length)
      return (
        (a = n[0]),
        (s = new THREE.Shape()),
        (s.actions = a.actions),
        (s.curves = a.curves),
        l.push(s),
        l
      );
    var h = !THREE.Shape.Utils.isClockWise(n[0].getPoints()),
      h = e ? !h : h;
    s = [];
    var c,
      u = [],
      d = [],
      f = 0;
    (u[f] = void 0), (d[f] = []);
    var p, m;
    for (p = 0, m = n.length; m > p; p++)
      (a = n[p]),
        (c = a.getPoints()),
        (o = THREE.Shape.Utils.isClockWise(c)),
        (o = e ? !o : o)
          ? (!h && u[f] && f++,
            (u[f] = { s: new THREE.Shape(), p: c }),
            (u[f].s.actions = a.actions),
            (u[f].s.curves = a.curves),
            h && f++,
            (d[f] = []))
          : d[f].push({ h: a, p: c[0] });
    if (!u[0]) return i(n);
    if (1 < u.length) {
      for (p = !1, m = [], a = 0, n = u.length; n > a; a++) s[a] = [];
      for (a = 0, n = u.length; n > a; a++)
        for (o = d[a], h = 0; h < o.length; h++) {
          (f = o[h]), (c = !0);
          for (var g = 0; g < u.length; g++)
            r(f.p, u[g].p) &&
              (a != g && m.push({ froms: a, tos: g, hole: h }),
              c ? ((c = !1), s[g].push(f)) : (p = !0));
          c && s[a].push(f);
        }
      0 < m.length && (p || (d = s));
    }
    for (p = 0, m = u.length; m > p; p++)
      for (s = u[p].s, l.push(s), a = d[p], n = 0, o = a.length; o > n; n++)
        s.holes.push(a[n].h);
    return l;
  }),
  (THREE.Shape = function () {
    THREE.Path.apply(this, arguments), (this.holes = []);
  }),
  (THREE.Shape.prototype = Object.create(THREE.Path.prototype)),
  (THREE.Shape.prototype.constructor = THREE.Shape),
  (THREE.Shape.prototype.extrude = function (e) {
    return new THREE.ExtrudeGeometry(this, e);
  }),
  (THREE.Shape.prototype.makeGeometry = function (e) {
    return new THREE.ShapeGeometry(this, e);
  }),
  (THREE.Shape.prototype.getPointsHoles = function (e) {
    var t,
      i = this.holes.length,
      r = [];
    for (t = 0; i > t; t++)
      r[t] = this.holes[t].getTransformedPoints(e, this.bends);
    return r;
  }),
  (THREE.Shape.prototype.getSpacedPointsHoles = function (e) {
    var t,
      i = this.holes.length,
      r = [];
    for (t = 0; i > t; t++)
      r[t] = this.holes[t].getTransformedSpacedPoints(e, this.bends);
    return r;
  }),
  (THREE.Shape.prototype.extractAllPoints = function (e) {
    return {
      shape: this.getTransformedPoints(e),
      holes: this.getPointsHoles(e),
    };
  }),
  (THREE.Shape.prototype.extractPoints = function (e) {
    return this.useSpacedPoints
      ? this.extractAllSpacedPoints(e)
      : this.extractAllPoints(e);
  }),
  (THREE.Shape.prototype.extractAllSpacedPoints = function (e) {
    return {
      shape: this.getTransformedSpacedPoints(e),
      holes: this.getSpacedPointsHoles(e),
    };
  }),
  (THREE.Shape.Utils = {
    triangulateShape: function (e, t) {
      function i(e, t, i) {
        return e.x != t.x
          ? e.x < t.x
            ? e.x <= i.x && i.x <= t.x
            : t.x <= i.x && i.x <= e.x
          : e.y < t.y
          ? e.y <= i.y && i.y <= t.y
          : t.y <= i.y && i.y <= e.y;
      }
      function r(e, t, r, n, o) {
        var a = t.x - e.x,
          s = t.y - e.y,
          l = n.x - r.x,
          h = n.y - r.y,
          c = e.x - r.x,
          u = e.y - r.y,
          d = s * l - a * h,
          f = s * c - a * u;
        if (1e-10 < Math.abs(d)) {
          if (d > 0) {
            if (0 > f || f > d) return [];
            if (((l = h * c - l * u), 0 > l || l > d)) return [];
          } else {
            if (f > 0 || d > f) return [];
            if (((l = h * c - l * u), l > 0 || d > l)) return [];
          }
          return 0 == l
            ? !o || (0 != f && f != d)
              ? [e]
              : []
            : l == d
            ? !o || (0 != f && f != d)
              ? [t]
              : []
            : 0 == f
            ? [r]
            : f == d
            ? [n]
            : ((o = l / d), [{ x: e.x + o * a, y: e.y + o * s }]);
        }
        return 0 != f || h * c != l * u
          ? []
          : ((s = 0 == a && 0 == s),
            (l = 0 == l && 0 == h),
            s && l
              ? e.x != r.x || e.y != r.y
                ? []
                : [e]
              : s
              ? i(r, n, e)
                ? [e]
                : []
              : l
              ? i(e, t, r)
                ? [r]
                : []
              : (0 != a
                  ? (e.x < t.x
                      ? ((a = e), (l = e.x), (s = t), (e = t.x))
                      : ((a = t), (l = t.x), (s = e), (e = e.x)),
                    r.x < n.x
                      ? ((t = r), (d = r.x), (h = n), (r = n.x))
                      : ((t = n), (d = n.x), (h = r), (r = r.x)))
                  : (e.y < t.y
                      ? ((a = e), (l = e.y), (s = t), (e = t.y))
                      : ((a = t), (l = t.y), (s = e), (e = e.y)),
                    r.y < n.y
                      ? ((t = r), (d = r.y), (h = n), (r = n.y))
                      : ((t = n), (d = n.y), (h = r), (r = r.y))),
                d >= l
                  ? d > e
                    ? []
                    : e == d
                    ? o
                      ? []
                      : [t]
                    : r >= e
                    ? [t, s]
                    : [t, h]
                  : l > r
                  ? []
                  : l == r
                  ? o
                    ? []
                    : [a]
                  : r >= e
                  ? [a, s]
                  : [a, h]));
      }
      function n(e, t, i, r) {
        var n = t.x - e.x,
          o = t.y - e.y;
        (t = i.x - e.x), (i = i.y - e.y);
        var a = r.x - e.x;
        return (
          (r = r.y - e.y),
          (e = n * i - o * t),
          (n = n * r - o * a),
          1e-10 < Math.abs(e)
            ? ((t = a * i - r * t), e > 0 ? n >= 0 && t >= 0 : n >= 0 || t >= 0)
            : n > 0
        );
      }
      var o,
        a,
        s,
        l,
        h,
        c = {};
      for (s = e.concat(), o = 0, a = t.length; a > o; o++)
        Array.prototype.push.apply(s, t[o]);
      for (o = 0, a = s.length; a > o; o++)
        (h = s[o].x + ":" + s[o].y),
          void 0 !== c[h] && THREE.warn("THREE.Shape: Duplicate point", h),
          (c[h] = o);
      o = (function (e, t) {
        function i(e, t) {
          var i = g.length - 1,
            r = e - 1;
          0 > r && (r = i);
          var o = e + 1;
          return (
            o > i && (o = 0),
            (i = n(g[e], g[r], g[o], s[t]))
              ? ((i = s.length - 1),
                (r = t - 1),
                0 > r && (r = i),
                (o = t + 1),
                o > i && (o = 0),
                (i = n(s[t], s[r], s[o], g[e])) ? !0 : !1)
              : !1
          );
        }
        function o(e, t) {
          var i, n;
          for (i = 0; i < g.length; i++)
            if (
              ((n = i + 1),
              (n %= g.length),
              (n = r(e, t, g[i], g[n], !0)),
              0 < n.length)
            )
              return !0;
          return !1;
        }
        function a(e, i) {
          var n, o, a, s;
          for (n = 0; n < E.length; n++)
            for (o = t[E[n]], a = 0; a < o.length; a++)
              if (
                ((s = a + 1),
                (s %= o.length),
                (s = r(e, i, o[a], o[s], !0)),
                0 < s.length)
              )
                return !0;
          return !1;
        }
        var s,
          l,
          h,
          c,
          u,
          d,
          f,
          p,
          m,
          g = e.concat(),
          E = [],
          v = [],
          _ = 0;
        for (l = t.length; l > _; _++) E.push(_);
        f = 0;
        for (var y = 2 * E.length; 0 < E.length; ) {
          if ((y--, 0 > y)) {
            console.log(
              "Infinite Loop! Holes left:" +
                E.length +
                ", Probably Hole outside Shape!"
            );
            break;
          }
          for (h = f; h < g.length; h++) {
            for (c = g[h], l = -1, _ = 0; _ < E.length; _++)
              if (
                ((u = E[_]), (d = c.x + ":" + c.y + ":" + u), void 0 === v[d])
              ) {
                for (s = t[u], p = 0; p < s.length; p++)
                  if (((u = s[p]), i(h, p) && !o(c, u) && !a(c, u))) {
                    (l = p),
                      E.splice(_, 1),
                      (f = g.slice(0, h + 1)),
                      (u = g.slice(h)),
                      (p = s.slice(l)),
                      (m = s.slice(0, l + 1)),
                      (g = f.concat(p).concat(m).concat(u)),
                      (f = h);
                    break;
                  }
                if (l >= 0) break;
                v[d] = !0;
              }
            if (l >= 0) break;
          }
        }
        return g;
      })(e, t);
      var u = THREE.FontUtils.Triangulate(o, !1);
      for (o = 0, a = u.length; a > o; o++)
        for (l = u[o], s = 0; 3 > s; s++)
          (h = l[s].x + ":" + l[s].y), (h = c[h]), void 0 !== h && (l[s] = h);
      return u.concat();
    },
    isClockWise: function (e) {
      return 0 > THREE.FontUtils.Triangulate.area(e);
    },
    b2p0: function (e, t) {
      var i = 1 - e;
      return i * i * t;
    },
    b2p1: function (e, t) {
      return 2 * (1 - e) * e * t;
    },
    b2p2: function (e, t) {
      return e * e * t;
    },
    b2: function (e, t, i, r) {
      return this.b2p0(e, t) + this.b2p1(e, i) + this.b2p2(e, r);
    },
    b3p0: function (e, t) {
      var i = 1 - e;
      return i * i * i * t;
    },
    b3p1: function (e, t) {
      var i = 1 - e;
      return 3 * i * i * e * t;
    },
    b3p2: function (e, t) {
      return 3 * (1 - e) * e * e * t;
    },
    b3p3: function (e, t) {
      return e * e * e * t;
    },
    b3: function (e, t, i, r, n) {
      return (
        this.b3p0(e, t) + this.b3p1(e, i) + this.b3p2(e, r) + this.b3p3(e, n)
      );
    },
  }),
  (THREE.LineCurve = function (e, t) {
    (this.v1 = e), (this.v2 = t);
  }),
  (THREE.LineCurve.prototype = Object.create(THREE.Curve.prototype)),
  (THREE.LineCurve.prototype.constructor = THREE.LineCurve),
  (THREE.LineCurve.prototype.getPoint = function (e) {
    var t = this.v2.clone().sub(this.v1);
    return t.multiplyScalar(e).add(this.v1), t;
  }),
  (THREE.LineCurve.prototype.getPointAt = function (e) {
    return this.getPoint(e);
  }),
  (THREE.LineCurve.prototype.getTangent = function (e) {
    return this.v2.clone().sub(this.v1).normalize();
  }),
  (THREE.QuadraticBezierCurve = function (e, t, i) {
    (this.v0 = e), (this.v1 = t), (this.v2 = i);
  }),
  (THREE.QuadraticBezierCurve.prototype = Object.create(THREE.Curve.prototype)),
  (THREE.QuadraticBezierCurve.prototype.constructor =
    THREE.QuadraticBezierCurve),
  (THREE.QuadraticBezierCurve.prototype.getPoint = function (e) {
    var t = new THREE.Vector2();
    return (
      (t.x = THREE.Shape.Utils.b2(e, this.v0.x, this.v1.x, this.v2.x)),
      (t.y = THREE.Shape.Utils.b2(e, this.v0.y, this.v1.y, this.v2.y)),
      t
    );
  }),
  (THREE.QuadraticBezierCurve.prototype.getTangent = function (e) {
    var t = new THREE.Vector2();
    return (
      (t.x = THREE.Curve.Utils.tangentQuadraticBezier(
        e,
        this.v0.x,
        this.v1.x,
        this.v2.x
      )),
      (t.y = THREE.Curve.Utils.tangentQuadraticBezier(
        e,
        this.v0.y,
        this.v1.y,
        this.v2.y
      )),
      t.normalize()
    );
  }),
  (THREE.CubicBezierCurve = function (e, t, i, r) {
    (this.v0 = e), (this.v1 = t), (this.v2 = i), (this.v3 = r);
  }),
  (THREE.CubicBezierCurve.prototype = Object.create(THREE.Curve.prototype)),
  (THREE.CubicBezierCurve.prototype.constructor = THREE.CubicBezierCurve),
  (THREE.CubicBezierCurve.prototype.getPoint = function (e) {
    var t;
    return (
      (t = THREE.Shape.Utils.b3(e, this.v0.x, this.v1.x, this.v2.x, this.v3.x)),
      (e = THREE.Shape.Utils.b3(e, this.v0.y, this.v1.y, this.v2.y, this.v3.y)),
      new THREE.Vector2(t, e)
    );
  }),
  (THREE.CubicBezierCurve.prototype.getTangent = function (e) {
    var t;
    return (
      (t = THREE.Curve.Utils.tangentCubicBezier(
        e,
        this.v0.x,
        this.v1.x,
        this.v2.x,
        this.v3.x
      )),
      (e = THREE.Curve.Utils.tangentCubicBezier(
        e,
        this.v0.y,
        this.v1.y,
        this.v2.y,
        this.v3.y
      )),
      (t = new THREE.Vector2(t, e)),
      t.normalize(),
      t
    );
  }),
  (THREE.SplineCurve = function (e) {
    this.points = void 0 == e ? [] : e;
  }),
  (THREE.SplineCurve.prototype = Object.create(THREE.Curve.prototype)),
  (THREE.SplineCurve.prototype.constructor = THREE.SplineCurve),
  (THREE.SplineCurve.prototype.getPoint = function (e) {
    var t = this.points;
    e *= t.length - 1;
    var i = Math.floor(e);
    e -= i;
    var r = t[0 == i ? i : i - 1],
      n = t[i],
      o = t[i > t.length - 2 ? t.length - 1 : i + 1],
      t = t[i > t.length - 3 ? t.length - 1 : i + 2],
      i = new THREE.Vector2();
    return (
      (i.x = THREE.Curve.Utils.interpolate(r.x, n.x, o.x, t.x, e)),
      (i.y = THREE.Curve.Utils.interpolate(r.y, n.y, o.y, t.y, e)),
      i
    );
  }),
  (THREE.EllipseCurve = function (e, t, i, r, n, o, a) {
    (this.aX = e),
      (this.aY = t),
      (this.xRadius = i),
      (this.yRadius = r),
      (this.aStartAngle = n),
      (this.aEndAngle = o),
      (this.aClockwise = a);
  }),
  (THREE.EllipseCurve.prototype = Object.create(THREE.Curve.prototype)),
  (THREE.EllipseCurve.prototype.constructor = THREE.EllipseCurve),
  (THREE.EllipseCurve.prototype.getPoint = function (e) {
    var t = this.aEndAngle - this.aStartAngle;
    return (
      0 > t && (t += 2 * Math.PI),
      t > 2 * Math.PI && (t -= 2 * Math.PI),
      (e =
        !0 === this.aClockwise
          ? this.aEndAngle + (1 - e) * (2 * Math.PI - t)
          : this.aStartAngle + e * t),
      (t = new THREE.Vector2()),
      (t.x = this.aX + this.xRadius * Math.cos(e)),
      (t.y = this.aY + this.yRadius * Math.sin(e)),
      t
    );
  }),
  (THREE.ArcCurve = function (e, t, i, r, n, o) {
    THREE.EllipseCurve.call(this, e, t, i, i, r, n, o);
  }),
  (THREE.ArcCurve.prototype = Object.create(THREE.EllipseCurve.prototype)),
  (THREE.ArcCurve.prototype.constructor = THREE.ArcCurve),
  (THREE.LineCurve3 = THREE.Curve.create(
    function (e, t) {
      (this.v1 = e), (this.v2 = t);
    },
    function (e) {
      var t = new THREE.Vector3();
      return (
        t.subVectors(this.v2, this.v1), t.multiplyScalar(e), t.add(this.v1), t
      );
    }
  )),
  (THREE.QuadraticBezierCurve3 = THREE.Curve.create(
    function (e, t, i) {
      (this.v0 = e), (this.v1 = t), (this.v2 = i);
    },
    function (e) {
      var t = new THREE.Vector3();
      return (
        (t.x = THREE.Shape.Utils.b2(e, this.v0.x, this.v1.x, this.v2.x)),
        (t.y = THREE.Shape.Utils.b2(e, this.v0.y, this.v1.y, this.v2.y)),
        (t.z = THREE.Shape.Utils.b2(e, this.v0.z, this.v1.z, this.v2.z)),
        t
      );
    }
  )),
  (THREE.CubicBezierCurve3 = THREE.Curve.create(
    function (e, t, i, r) {
      (this.v0 = e), (this.v1 = t), (this.v2 = i), (this.v3 = r);
    },
    function (e) {
      var t = new THREE.Vector3();
      return (
        (t.x = THREE.Shape.Utils.b3(
          e,
          this.v0.x,
          this.v1.x,
          this.v2.x,
          this.v3.x
        )),
        (t.y = THREE.Shape.Utils.b3(
          e,
          this.v0.y,
          this.v1.y,
          this.v2.y,
          this.v3.y
        )),
        (t.z = THREE.Shape.Utils.b3(
          e,
          this.v0.z,
          this.v1.z,
          this.v2.z,
          this.v3.z
        )),
        t
      );
    }
  )),
  (THREE.SplineCurve3 = THREE.Curve.create(
    function (e) {
      this.points = void 0 == e ? [] : e;
    },
    function (e) {
      var t = this.points;
      e *= t.length - 1;
      var i = Math.floor(e);
      e -= i;
      var r = t[0 == i ? i : i - 1],
        n = t[i],
        o = t[i > t.length - 2 ? t.length - 1 : i + 1],
        t = t[i > t.length - 3 ? t.length - 1 : i + 2],
        i = new THREE.Vector3();
      return (
        (i.x = THREE.Curve.Utils.interpolate(r.x, n.x, o.x, t.x, e)),
        (i.y = THREE.Curve.Utils.interpolate(r.y, n.y, o.y, t.y, e)),
        (i.z = THREE.Curve.Utils.interpolate(r.z, n.z, o.z, t.z, e)),
        i
      );
    }
  )),
  (THREE.ClosedSplineCurve3 = THREE.Curve.create(
    function (e) {
      this.points = void 0 == e ? [] : e;
    },
    function (e) {
      var t = this.points;
      e *= t.length - 0;
      var i = Math.floor(e);
      e -= i;
      var i =
          i + (i > 0 ? 0 : (Math.floor(Math.abs(i) / t.length) + 1) * t.length),
        r = t[(i - 1) % t.length],
        n = t[i % t.length],
        o = t[(i + 1) % t.length],
        t = t[(i + 2) % t.length],
        i = new THREE.Vector3();
      return (
        (i.x = THREE.Curve.Utils.interpolate(r.x, n.x, o.x, t.x, e)),
        (i.y = THREE.Curve.Utils.interpolate(r.y, n.y, o.y, t.y, e)),
        (i.z = THREE.Curve.Utils.interpolate(r.z, n.z, o.z, t.z, e)),
        i
      );
    }
  )),
  (THREE.AnimationHandler = {
    LINEAR: 0,
    CATMULLROM: 1,
    CATMULLROM_FORWARD: 2,
    add: function () {
      THREE.warn("THREE.AnimationHandler.add() has been deprecated.");
    },
    get: function () {
      THREE.warn("THREE.AnimationHandler.get() has been deprecated.");
    },
    remove: function () {
      THREE.warn("THREE.AnimationHandler.remove() has been deprecated.");
    },
    animations: [],
    init: function (e) {
      if (!0 === e.initialized) return e;
      for (var t = 0; t < e.hierarchy.length; t++) {
        for (var i = 0; i < e.hierarchy[t].keys.length; i++)
          if (
            (0 > e.hierarchy[t].keys[i].time &&
              (e.hierarchy[t].keys[i].time = 0),
            void 0 !== e.hierarchy[t].keys[i].rot &&
              !(e.hierarchy[t].keys[i].rot instanceof THREE.Quaternion))
          ) {
            var r = e.hierarchy[t].keys[i].rot;
            e.hierarchy[t].keys[i].rot = new THREE.Quaternion().fromArray(r);
          }
        if (
          e.hierarchy[t].keys.length &&
          void 0 !== e.hierarchy[t].keys[0].morphTargets
        ) {
          for (r = {}, i = 0; i < e.hierarchy[t].keys.length; i++)
            for (
              var n = 0;
              n < e.hierarchy[t].keys[i].morphTargets.length;
              n++
            ) {
              var o = e.hierarchy[t].keys[i].morphTargets[n];
              r[o] = -1;
            }
          for (
            e.hierarchy[t].usedMorphTargets = r, i = 0;
            i < e.hierarchy[t].keys.length;
            i++
          ) {
            var a = {};
            for (o in r) {
              for (n = 0; n < e.hierarchy[t].keys[i].morphTargets.length; n++)
                if (e.hierarchy[t].keys[i].morphTargets[n] === o) {
                  a[o] = e.hierarchy[t].keys[i].morphTargetsInfluences[n];
                  break;
                }
              n === e.hierarchy[t].keys[i].morphTargets.length && (a[o] = 0);
            }
            e.hierarchy[t].keys[i].morphTargetsInfluences = a;
          }
        }
        for (i = 1; i < e.hierarchy[t].keys.length; i++)
          e.hierarchy[t].keys[i].time === e.hierarchy[t].keys[i - 1].time &&
            (e.hierarchy[t].keys.splice(i, 1), i--);
        for (i = 0; i < e.hierarchy[t].keys.length; i++)
          e.hierarchy[t].keys[i].index = i;
      }
      return (e.initialized = !0), e;
    },
    parse: function (e) {
      var t = function (e, i) {
          i.push(e);
          for (var r = 0; r < e.children.length; r++) t(e.children[r], i);
        },
        i = [];
      if (e instanceof THREE.SkinnedMesh)
        for (var r = 0; r < e.skeleton.bones.length; r++)
          i.push(e.skeleton.bones[r]);
      else t(e, i);
      return i;
    },
    play: function (e) {
      -1 === this.animations.indexOf(e) && this.animations.push(e);
    },
    stop: function (e) {
      (e = this.animations.indexOf(e)),
        -1 !== e && this.animations.splice(e, 1);
    },
    update: function (e) {
      for (var t = 0; t < this.animations.length; t++)
        this.animations[t].resetBlendWeights();
      for (t = 0; t < this.animations.length; t++) this.animations[t].update(e);
    },
  }),
  (THREE.Animation = function (e, t) {
    (this.root = e),
      (this.data = THREE.AnimationHandler.init(t)),
      (this.hierarchy = THREE.AnimationHandler.parse(e)),
      (this.currentTime = 0),
      (this.timeScale = 1),
      (this.isPlaying = !1),
      (this.loop = !0),
      (this.weight = 0),
      (this.interpolationType = THREE.AnimationHandler.LINEAR);
  }),
  (THREE.Animation.prototype = {
    constructor: THREE.Animation,
    keyTypes: ["pos", "rot", "scl"],
    play: function (e, t) {
      (this.currentTime = void 0 !== e ? e : 0),
        (this.weight = void 0 !== t ? t : 1),
        (this.isPlaying = !0),
        this.reset(),
        THREE.AnimationHandler.play(this);
    },
    stop: function () {
      (this.isPlaying = !1), THREE.AnimationHandler.stop(this);
    },
    reset: function () {
      for (var e = 0, t = this.hierarchy.length; t > e; e++) {
        var i = this.hierarchy[e];
        void 0 === i.animationCache &&
          (i.animationCache = {
            animations: {},
            blending: {
              positionWeight: 0,
              quaternionWeight: 0,
              scaleWeight: 0,
            },
          });
        var r = this.data.name,
          n = i.animationCache.animations,
          o = n[r];
        for (
          void 0 === o &&
            ((o = {
              prevKey: { pos: 0, rot: 0, scl: 0 },
              nextKey: { pos: 0, rot: 0, scl: 0 },
              originalMatrix: i.matrix,
            }),
            (n[r] = o)),
            i = 0;
          3 > i;
          i++
        ) {
          for (
            var r = this.keyTypes[i],
              n = this.data.hierarchy[e].keys[0],
              a = this.getNextKeyWith(r, e, 1);
            a.time < this.currentTime && a.index > n.index;

          )
            (n = a), (a = this.getNextKeyWith(r, e, a.index + 1));
          (o.prevKey[r] = n), (o.nextKey[r] = a);
        }
      }
    },
    resetBlendWeights: function () {
      for (var e = 0, t = this.hierarchy.length; t > e; e++) {
        var i = this.hierarchy[e].animationCache;
        void 0 !== i &&
          ((i = i.blending),
          (i.positionWeight = 0),
          (i.quaternionWeight = 0),
          (i.scaleWeight = 0));
      }
    },
    update: (function () {
      var e = [],
        t = new THREE.Vector3(),
        i = new THREE.Vector3(),
        r = new THREE.Quaternion(),
        n = function (e, t) {
          var i,
            r,
            n,
            a,
            s,
            l,
            h = [],
            c = [];
          return (
            (i = (e.length - 1) * t),
            (r = Math.floor(i)),
            (i -= r),
            (h[0] = 0 === r ? r : r - 1),
            (h[1] = r),
            (h[2] = r > e.length - 2 ? r : r + 1),
            (h[3] = r > e.length - 3 ? r : r + 2),
            (r = e[h[0]]),
            (a = e[h[1]]),
            (s = e[h[2]]),
            (l = e[h[3]]),
            (h = i * i),
            (n = i * h),
            (c[0] = o(r[0], a[0], s[0], l[0], i, h, n)),
            (c[1] = o(r[1], a[1], s[1], l[1], i, h, n)),
            (c[2] = o(r[2], a[2], s[2], l[2], i, h, n)),
            c
          );
        },
        o = function (e, t, i, r, n, o, a) {
          return (
            (e = 0.5 * (i - e)),
            (r = 0.5 * (r - t)),
            (2 * (t - i) + e + r) * a +
              (-3 * (t - i) - 2 * e - r) * o +
              e * n +
              t
          );
        };
      return function (o) {
        if (
          !1 !== this.isPlaying &&
          ((this.currentTime += o * this.timeScale), 0 !== this.weight)
        ) {
          (o = this.data.length),
            (this.currentTime > o || 0 > this.currentTime) &&
              (this.loop
                ? ((this.currentTime %= o),
                  0 > this.currentTime && (this.currentTime += o),
                  this.reset())
                : this.stop()),
            (o = 0);
          for (var a = this.hierarchy.length; a > o; o++)
            for (
              var s = this.hierarchy[o],
                l = s.animationCache.animations[this.data.name],
                h = s.animationCache.blending,
                c = 0;
              3 > c;
              c++
            ) {
              var u = this.keyTypes[c],
                d = l.prevKey[u],
                f = l.nextKey[u];
              if (
                (0 < this.timeScale && f.time <= this.currentTime) ||
                (0 > this.timeScale && d.time >= this.currentTime)
              ) {
                for (
                  d = this.data.hierarchy[o].keys[0],
                    f = this.getNextKeyWith(u, o, 1);
                  f.time < this.currentTime && f.index > d.index;

                )
                  (d = f), (f = this.getNextKeyWith(u, o, f.index + 1));
                (l.prevKey[u] = d), (l.nextKey[u] = f);
              }
              var p = (this.currentTime - d.time) / (f.time - d.time),
                m = d[u],
                g = f[u];
              0 > p && (p = 0),
                p > 1 && (p = 1),
                "pos" === u
                  ? this.interpolationType === THREE.AnimationHandler.LINEAR
                    ? ((i.x = m[0] + (g[0] - m[0]) * p),
                      (i.y = m[1] + (g[1] - m[1]) * p),
                      (i.z = m[2] + (g[2] - m[2]) * p),
                      (d = this.weight / (this.weight + h.positionWeight)),
                      s.position.lerp(i, d),
                      (h.positionWeight += this.weight))
                    : (this.interpolationType ===
                        THREE.AnimationHandler.CATMULLROM ||
                        this.interpolationType ===
                          THREE.AnimationHandler.CATMULLROM_FORWARD) &&
                      ((e[0] = this.getPrevKeyWith("pos", o, d.index - 1).pos),
                      (e[1] = m),
                      (e[2] = g),
                      (e[3] = this.getNextKeyWith("pos", o, f.index + 1).pos),
                      (p = 0.33 * p + 0.33),
                      (f = n(e, p)),
                      (d = this.weight / (this.weight + h.positionWeight)),
                      (h.positionWeight += this.weight),
                      (u = s.position),
                      (u.x += (f[0] - u.x) * d),
                      (u.y += (f[1] - u.y) * d),
                      (u.z += (f[2] - u.z) * d),
                      this.interpolationType ===
                        THREE.AnimationHandler.CATMULLROM_FORWARD &&
                        ((p = n(e, 1.01 * p)),
                        t.set(p[0], p[1], p[2]),
                        t.sub(u),
                        (t.y = 0),
                        t.normalize(),
                        (p = Math.atan2(t.x, t.z)),
                        s.rotation.set(0, p, 0)))
                  : "rot" === u
                  ? (THREE.Quaternion.slerp(m, g, r, p),
                    0 === h.quaternionWeight
                      ? (s.quaternion.copy(r),
                        (h.quaternionWeight = this.weight))
                      : ((d = this.weight / (this.weight + h.quaternionWeight)),
                        THREE.Quaternion.slerp(
                          s.quaternion,
                          r,
                          s.quaternion,
                          d
                        ),
                        (h.quaternionWeight += this.weight)))
                  : "scl" === u &&
                    ((i.x = m[0] + (g[0] - m[0]) * p),
                    (i.y = m[1] + (g[1] - m[1]) * p),
                    (i.z = m[2] + (g[2] - m[2]) * p),
                    (d = this.weight / (this.weight + h.scaleWeight)),
                    s.scale.lerp(i, d),
                    (h.scaleWeight += this.weight));
            }
          return !0;
        }
      };
    })(),
    getNextKeyWith: function (e, t, i) {
      var r = this.data.hierarchy[t].keys;
      for (
        i =
          this.interpolationType === THREE.AnimationHandler.CATMULLROM ||
          this.interpolationType === THREE.AnimationHandler.CATMULLROM_FORWARD
            ? i < r.length - 1
              ? i
              : r.length - 1
            : i % r.length;
        i < r.length;
        i++
      )
        if (void 0 !== r[i][e]) return r[i];
      return this.data.hierarchy[t].keys[0];
    },
    getPrevKeyWith: function (e, t, i) {
      var r = this.data.hierarchy[t].keys;
      for (
        i =
          this.interpolationType === THREE.AnimationHandler.CATMULLROM ||
          this.interpolationType === THREE.AnimationHandler.CATMULLROM_FORWARD
            ? i > 0
              ? i
              : 0
            : i >= 0
            ? i
            : i + r.length;
        i >= 0;
        i--
      )
        if (void 0 !== r[i][e]) return r[i];
      return this.data.hierarchy[t].keys[r.length - 1];
    },
  }),
  (THREE.KeyFrameAnimation = function (e) {
    (this.root = e.node),
      (this.data = THREE.AnimationHandler.init(e)),
      (this.hierarchy = THREE.AnimationHandler.parse(this.root)),
      (this.currentTime = 0),
      (this.timeScale = 0.001),
      (this.isPlaying = !1),
      (this.loop = this.isPaused = !0),
      (e = 0);
    for (var t = this.hierarchy.length; t > e; e++) {
      var i = this.data.hierarchy[e].sids,
        r = this.hierarchy[e];
      if (this.data.hierarchy[e].keys.length && i) {
        for (var n = 0; n < i.length; n++) {
          var o = i[n],
            a = this.getNextKeyWith(o, e, 0);
          a && a.apply(o);
        }
        (r.matrixAutoUpdate = !1),
          this.data.hierarchy[e].node.updateMatrix(),
          (r.matrixWorldNeedsUpdate = !0);
      }
    }
  }),
  (THREE.KeyFrameAnimation.prototype = {
    constructor: THREE.KeyFrameAnimation,
    play: function (e) {
      if (((this.currentTime = void 0 !== e ? e : 0), !1 === this.isPlaying)) {
        this.isPlaying = !0;
        var t,
          i,
          r = this.hierarchy.length;
        for (e = 0; r > e; e++)
          (t = this.hierarchy[e]),
            (i = this.data.hierarchy[e]),
            void 0 === i.animationCache &&
              ((i.animationCache = {}),
              (i.animationCache.prevKey = null),
              (i.animationCache.nextKey = null),
              (i.animationCache.originalMatrix = t.matrix)),
            (t = this.data.hierarchy[e].keys),
            t.length &&
              ((i.animationCache.prevKey = t[0]),
              (i.animationCache.nextKey = t[1]),
              (this.startTime = Math.min(t[0].time, this.startTime)),
              (this.endTime = Math.max(t[t.length - 1].time, this.endTime)));
        this.update(0);
      }
      (this.isPaused = !1), THREE.AnimationHandler.play(this);
    },
    stop: function () {
      (this.isPaused = this.isPlaying = !1), THREE.AnimationHandler.stop(this);
      for (var e = 0; e < this.data.hierarchy.length; e++) {
        var t = this.hierarchy[e],
          i = this.data.hierarchy[e];
        if (void 0 !== i.animationCache) {
          var r = i.animationCache.originalMatrix;
          r.copy(t.matrix), (t.matrix = r), delete i.animationCache;
        }
      }
    },
    update: function (e) {
      if (!1 !== this.isPlaying) {
        (this.currentTime += e * this.timeScale),
          (e = this.data.length),
          !0 === this.loop && this.currentTime > e && (this.currentTime %= e),
          (this.currentTime = Math.min(this.currentTime, e)),
          (e = 0);
        for (var t = this.hierarchy.length; t > e; e++) {
          var i = this.hierarchy[e],
            r = this.data.hierarchy[e],
            n = r.keys,
            r = r.animationCache;
          if (n.length) {
            var o = r.prevKey,
              a = r.nextKey;
            if (a.time <= this.currentTime) {
              for (; a.time < this.currentTime && a.index > o.index; )
                (o = a), (a = n[o.index + 1]);
              (r.prevKey = o), (r.nextKey = a);
            }
            a.time >= this.currentTime
              ? o.interpolate(a, this.currentTime)
              : o.interpolate(a, a.time),
              this.data.hierarchy[e].node.updateMatrix(),
              (i.matrixWorldNeedsUpdate = !0);
          }
        }
      }
    },
    getNextKeyWith: function (e, t, i) {
      for (t = this.data.hierarchy[t].keys, i %= t.length; i < t.length; i++)
        if (t[i].hasTarget(e)) return t[i];
      return t[0];
    },
    getPrevKeyWith: function (e, t, i) {
      for (
        t = this.data.hierarchy[t].keys, i = i >= 0 ? i : i + t.length;
        i >= 0;
        i--
      )
        if (t[i].hasTarget(e)) return t[i];
      return t[t.length - 1];
    },
  }),
  (THREE.MorphAnimation = function (e) {
    (this.mesh = e),
      (this.frames = e.morphTargetInfluences.length),
      (this.currentTime = 0),
      (this.duration = 1e3),
      (this.loop = !0),
      (this.currentFrame = this.lastFrame = 0),
      (this.isPlaying = !1);
  }),
  (THREE.MorphAnimation.prototype = {
    constructor: THREE.MorphAnimation,
    play: function () {
      this.isPlaying = !0;
    },
    pause: function () {
      this.isPlaying = !1;
    },
    update: function (e) {
      if (!1 !== this.isPlaying) {
        (this.currentTime += e),
          !0 === this.loop &&
            this.currentTime > this.duration &&
            (this.currentTime %= this.duration),
          (this.currentTime = Math.min(this.currentTime, this.duration)),
          (e = this.duration / this.frames);
        var t = Math.floor(this.currentTime / e),
          i = this.mesh.morphTargetInfluences;
        t != this.currentFrame &&
          ((i[this.lastFrame] = 0),
          (i[this.currentFrame] = 1),
          (i[t] = 0),
          (this.lastFrame = this.currentFrame),
          (this.currentFrame = t)),
          (i[t] = (this.currentTime % e) / e),
          (i[this.lastFrame] = 1 - i[t]);
      }
    },
  }),
  (THREE.BoxGeometry = function (e, t, i, r, n, o) {
    function a(e, t, i, r, n, o, a, l) {
      var h,
        c = s.widthSegments,
        u = s.heightSegments,
        d = n / 2,
        f = o / 2,
        p = s.vertices.length;
      ("x" === e && "y" === t) || ("y" === e && "x" === t)
        ? (h = "z")
        : ("x" === e && "z" === t) || ("z" === e && "x" === t)
        ? ((h = "y"), (u = s.depthSegments))
        : (("z" === e && "y" === t) || ("y" === e && "z" === t)) &&
          ((h = "x"), (c = s.depthSegments));
      var m = c + 1,
        g = u + 1,
        E = n / c,
        v = o / u,
        _ = new THREE.Vector3();
      for (_[h] = a > 0 ? 1 : -1, n = 0; g > n; n++)
        for (o = 0; m > o; o++) {
          var y = new THREE.Vector3();
          (y[e] = (o * E - d) * i),
            (y[t] = (n * v - f) * r),
            (y[h] = a),
            s.vertices.push(y);
        }
      for (n = 0; u > n; n++)
        for (o = 0; c > o; o++)
          (f = o + m * n),
            (e = o + m * (n + 1)),
            (t = o + 1 + m * (n + 1)),
            (i = o + 1 + m * n),
            (r = new THREE.Vector2(o / c, 1 - n / u)),
            (a = new THREE.Vector2(o / c, 1 - (n + 1) / u)),
            (h = new THREE.Vector2((o + 1) / c, 1 - (n + 1) / u)),
            (d = new THREE.Vector2((o + 1) / c, 1 - n / u)),
            (f = new THREE.Face3(f + p, e + p, i + p)),
            f.normal.copy(_),
            f.vertexNormals.push(_.clone(), _.clone(), _.clone()),
            (f.materialIndex = l),
            s.faces.push(f),
            s.faceVertexUvs[0].push([r, a, d]),
            (f = new THREE.Face3(e + p, t + p, i + p)),
            f.normal.copy(_),
            f.vertexNormals.push(_.clone(), _.clone(), _.clone()),
            (f.materialIndex = l),
            s.faces.push(f),
            s.faceVertexUvs[0].push([a.clone(), h, d.clone()]);
    }
    THREE.Geometry.call(this),
      (this.type = "BoxGeometry"),
      (this.parameters = {
        width: e,
        height: t,
        depth: i,
        widthSegments: r,
        heightSegments: n,
        depthSegments: o,
      }),
      (this.widthSegments = r || 1),
      (this.heightSegments = n || 1),
      (this.depthSegments = o || 1);
    var s = this;
    (r = e / 2),
      (n = t / 2),
      (o = i / 2),
      a("z", "y", -1, -1, i, t, r, 0),
      a("z", "y", 1, -1, i, t, -r, 1),
      a("x", "z", 1, 1, e, i, n, 2),
      a("x", "z", 1, -1, e, i, -n, 3),
      a("x", "y", 1, -1, e, t, o, 4),
      a("x", "y", -1, -1, e, t, -o, 5),
      this.mergeVertices();
  }),
  (THREE.BoxGeometry.prototype = Object.create(THREE.Geometry.prototype)),
  (THREE.BoxGeometry.prototype.constructor = THREE.BoxGeometry),
  (THREE.CircleGeometry = function (e, t, i, r) {
    THREE.Geometry.call(this),
      (this.type = "CircleGeometry"),
      (this.parameters = {
        radius: e,
        segments: t,
        thetaStart: i,
        thetaLength: r,
      }),
      (e = e || 50),
      (t = void 0 !== t ? Math.max(3, t) : 8),
      (i = void 0 !== i ? i : 0),
      (r = void 0 !== r ? r : 2 * Math.PI);
    var n,
      o = [];
    n = new THREE.Vector3();
    var a = new THREE.Vector2(0.5, 0.5);
    for (this.vertices.push(n), o.push(a), n = 0; t >= n; n++) {
      var s = new THREE.Vector3(),
        l = i + (n / t) * r;
      (s.x = e * Math.cos(l)),
        (s.y = e * Math.sin(l)),
        this.vertices.push(s),
        o.push(new THREE.Vector2((s.x / e + 1) / 2, (s.y / e + 1) / 2));
    }
    for (i = new THREE.Vector3(0, 0, 1), n = 1; t >= n; n++)
      this.faces.push(
        new THREE.Face3(n, n + 1, 0, [i.clone(), i.clone(), i.clone()])
      ),
        this.faceVertexUvs[0].push([o[n].clone(), o[n + 1].clone(), a.clone()]);
    this.computeFaceNormals(),
      (this.boundingSphere = new THREE.Sphere(new THREE.Vector3(), e));
  }),
  (THREE.CircleGeometry.prototype = Object.create(THREE.Geometry.prototype)),
  (THREE.CircleGeometry.prototype.constructor = THREE.CircleGeometry),
  (THREE.CubeGeometry = function (e, t, i, r, n, o) {
    return (
      THREE.warn("THREE.CubeGeometry has been renamed to THREE.BoxGeometry."),
      new THREE.BoxGeometry(e, t, i, r, n, o)
    );
  }),
  (THREE.CylinderGeometry = function (e, t, i, r, n, o, a, s) {
    THREE.Geometry.call(this),
      (this.type = "CylinderGeometry"),
      (this.parameters = {
        radiusTop: e,
        radiusBottom: t,
        height: i,
        radialSegments: r,
        heightSegments: n,
        openEnded: o,
        thetaStart: a,
        thetaLength: s,
      }),
      (e = void 0 !== e ? e : 20),
      (t = void 0 !== t ? t : 20),
      (i = void 0 !== i ? i : 100),
      (r = r || 8),
      (n = n || 1),
      (o = void 0 !== o ? o : !1),
      (a = void 0 !== a ? a : 0),
      (s = void 0 !== s ? s : 2 * Math.PI);
    var l,
      h,
      c = i / 2,
      u = [],
      d = [];
    for (h = 0; n >= h; h++) {
      var f = [],
        p = [],
        m = h / n,
        g = m * (t - e) + e;
      for (l = 0; r >= l; l++) {
        var E = l / r,
          v = new THREE.Vector3();
        (v.x = g * Math.sin(E * s + a)),
          (v.y = -m * i + c),
          (v.z = g * Math.cos(E * s + a)),
          this.vertices.push(v),
          f.push(this.vertices.length - 1),
          p.push(new THREE.Vector2(E, 1 - m));
      }
      u.push(f), d.push(p);
    }
    for (i = (t - e) / i, l = 0; r > l; l++)
      for (
        0 !== e
          ? ((a = this.vertices[u[0][l]].clone()),
            (s = this.vertices[u[0][l + 1]].clone()))
          : ((a = this.vertices[u[1][l]].clone()),
            (s = this.vertices[u[1][l + 1]].clone())),
          a.setY(Math.sqrt(a.x * a.x + a.z * a.z) * i).normalize(),
          s.setY(Math.sqrt(s.x * s.x + s.z * s.z) * i).normalize(),
          h = 0;
        n > h;
        h++
      ) {
        var f = u[h][l],
          p = u[h + 1][l],
          m = u[h + 1][l + 1],
          g = u[h][l + 1],
          E = a.clone(),
          v = a.clone(),
          _ = s.clone(),
          y = s.clone(),
          T = d[h][l].clone(),
          x = d[h + 1][l].clone(),
          R = d[h + 1][l + 1].clone(),
          b = d[h][l + 1].clone();
        this.faces.push(new THREE.Face3(f, p, g, [E, v, y])),
          this.faceVertexUvs[0].push([T, x, b]),
          this.faces.push(new THREE.Face3(p, m, g, [v.clone(), _, y.clone()])),
          this.faceVertexUvs[0].push([x.clone(), R, b.clone()]);
      }
    if (!1 === o && e > 0)
      for (this.vertices.push(new THREE.Vector3(0, c, 0)), l = 0; r > l; l++)
        (f = u[0][l]),
          (p = u[0][l + 1]),
          (m = this.vertices.length - 1),
          (E = new THREE.Vector3(0, 1, 0)),
          (v = new THREE.Vector3(0, 1, 0)),
          (_ = new THREE.Vector3(0, 1, 0)),
          (T = d[0][l].clone()),
          (x = d[0][l + 1].clone()),
          (R = new THREE.Vector2(x.x, 0)),
          this.faces.push(new THREE.Face3(f, p, m, [E, v, _])),
          this.faceVertexUvs[0].push([T, x, R]);
    if (!1 === o && t > 0)
      for (this.vertices.push(new THREE.Vector3(0, -c, 0)), l = 0; r > l; l++)
        (f = u[n][l + 1]),
          (p = u[n][l]),
          (m = this.vertices.length - 1),
          (E = new THREE.Vector3(0, -1, 0)),
          (v = new THREE.Vector3(0, -1, 0)),
          (_ = new THREE.Vector3(0, -1, 0)),
          (T = d[n][l + 1].clone()),
          (x = d[n][l].clone()),
          (R = new THREE.Vector2(x.x, 1)),
          this.faces.push(new THREE.Face3(f, p, m, [E, v, _])),
          this.faceVertexUvs[0].push([T, x, R]);
    this.computeFaceNormals();
  }),
  (THREE.CylinderGeometry.prototype = Object.create(THREE.Geometry.prototype)),
  (THREE.CylinderGeometry.prototype.constructor = THREE.CylinderGeometry),
  (THREE.ExtrudeGeometry = function (e, t) {
    "undefined" != typeof e &&
      (THREE.Geometry.call(this),
      (this.type = "ExtrudeGeometry"),
      (e = e instanceof Array ? e : [e]),
      this.addShapeList(e, t),
      this.computeFaceNormals());
  }),
  (THREE.ExtrudeGeometry.prototype = Object.create(THREE.Geometry.prototype)),
  (THREE.ExtrudeGeometry.prototype.constructor = THREE.ExtrudeGeometry),
  (THREE.ExtrudeGeometry.prototype.addShapeList = function (e, t) {
    for (var i = e.length, r = 0; i > r; r++) this.addShape(e[r], t);
  }),
  (THREE.ExtrudeGeometry.prototype.addShape = function (e, t) {
    function i(e, t, i) {
      return (
        t || THREE.error("THREE.ExtrudeGeometry: vec does not exist"),
        t.clone().multiplyScalar(i).add(e)
      );
    }
    function r(e, t, i) {
      var r = 1,
        r = e.x - t.x,
        n = e.y - t.y,
        o = i.x - e.x,
        a = i.y - e.y,
        s = r * r + n * n;
      if (1e-10 < Math.abs(r * a - n * o)) {
        var l = Math.sqrt(s),
          h = Math.sqrt(o * o + a * a),
          s = t.x - n / l;
        if (
          ((t = t.y + r / l),
          (o =
            ((i.x - a / h - s) * a - (i.y + o / h - t) * o) / (r * a - n * o)),
          (i = s + r * o - e.x),
          (e = t + n * o - e.y),
          (r = i * i + e * e),
          2 >= r)
        )
          return new THREE.Vector2(i, e);
        r = Math.sqrt(r / 2);
      } else
        (e = !1),
          r > 1e-10
            ? o > 1e-10 && (e = !0)
            : -1e-10 > r
            ? -1e-10 > o && (e = !0)
            : Math.sign(n) == Math.sign(a) && (e = !0),
          e
            ? ((i = -n), (e = r), (r = Math.sqrt(s)))
            : ((i = r), (e = n), (r = Math.sqrt(s / 2)));
      return new THREE.Vector2(i / r, e / r);
    }
    function n(e, t) {
      var i, r;
      for (I = e.length; 0 <= --I; ) {
        (i = I), (r = I - 1), 0 > r && (r = e.length - 1);
        for (var n = 0, o = v + 2 * m, n = 0; o > n; n++) {
          var a = j * n,
            s = j * (n + 1),
            l = t + i + a,
            a = t + r + a,
            h = t + r + s,
            s = t + i + s,
            l = l + A,
            a = a + A,
            h = h + A,
            s = s + A;
          S.faces.push(new THREE.Face3(l, a, s, null, null, x)),
            S.faces.push(new THREE.Face3(a, h, s, null, null, x)),
            (l = R.generateSideWallUV(S, l, a, h, s)),
            S.faceVertexUvs[0].push([l[0], l[1], l[3]]),
            S.faceVertexUvs[0].push([l[1], l[2], l[3]]);
        }
      }
    }
    function o(e, t, i) {
      S.vertices.push(new THREE.Vector3(e, t, i));
    }
    function a(e, t, i) {
      (e += A),
        (t += A),
        (i += A),
        S.faces.push(new THREE.Face3(e, t, i, null, null, T)),
        (e = R.generateTopUV(S, e, t, i)),
        S.faceVertexUvs[0].push(e);
    }
    var s,
      l,
      h,
      c,
      u,
      d = void 0 !== t.amount ? t.amount : 100,
      f = void 0 !== t.bevelThickness ? t.bevelThickness : 6,
      p = void 0 !== t.bevelSize ? t.bevelSize : f - 2,
      m = void 0 !== t.bevelSegments ? t.bevelSegments : 3,
      g = void 0 !== t.bevelEnabled ? t.bevelEnabled : !0,
      E = void 0 !== t.curveSegments ? t.curveSegments : 12,
      v = void 0 !== t.steps ? t.steps : 1,
      _ = t.extrudePath,
      y = !1,
      T = t.material,
      x = t.extrudeMaterial,
      R =
        void 0 !== t.UVGenerator
          ? t.UVGenerator
          : THREE.ExtrudeGeometry.WorldUVGenerator;
    _ &&
      ((s = _.getSpacedPoints(v)),
      (y = !0),
      (g = !1),
      (l =
        void 0 !== t.frames
          ? t.frames
          : new THREE.TubeGeometry.FrenetFrames(_, v, !1)),
      (h = new THREE.Vector3()),
      (c = new THREE.Vector3()),
      (u = new THREE.Vector3())),
      g || (p = f = m = 0);
    var b,
      w,
      H,
      S = this,
      A = this.vertices.length,
      _ = e.extractPoints(E),
      E = _.shape,
      M = _.holes;
    if ((_ = !THREE.Shape.Utils.isClockWise(E))) {
      for (E = E.reverse(), w = 0, H = M.length; H > w; w++)
        (b = M[w]), THREE.Shape.Utils.isClockWise(b) && (M[w] = b.reverse());
      _ = !1;
    }
    var C = THREE.Shape.Utils.triangulateShape(E, M),
      P = E;
    for (w = 0, H = M.length; H > w; w++) (b = M[w]), (E = E.concat(b));
    var L,
      D,
      O,
      k,
      F,
      N,
      j = E.length,
      U = C.length,
      _ = [],
      I = 0;
    for (O = P.length, L = O - 1, D = I + 1; O > I; I++, L++, D++)
      L === O && (L = 0), D === O && (D = 0), (_[I] = r(P[I], P[L], P[D]));
    var B,
      V = [],
      z = _.concat();
    for (w = 0, H = M.length; H > w; w++) {
      for (
        b = M[w], B = [], I = 0, O = b.length, L = O - 1, D = I + 1;
        O > I;
        I++, L++, D++
      )
        L === O && (L = 0), D === O && (D = 0), (B[I] = r(b[I], b[L], b[D]));
      V.push(B), (z = z.concat(B));
    }
    for (L = 0; m > L; L++) {
      for (
        O = L / m,
          k = f * (1 - O),
          D = p * Math.sin((O * Math.PI) / 2),
          I = 0,
          O = P.length;
        O > I;
        I++
      )
        (F = i(P[I], _[I], D)), o(F.x, F.y, -k);
      for (w = 0, H = M.length; H > w; w++)
        for (b = M[w], B = V[w], I = 0, O = b.length; O > I; I++)
          (F = i(b[I], B[I], D)), o(F.x, F.y, -k);
    }
    for (D = p, I = 0; j > I; I++)
      (F = g ? i(E[I], z[I], D) : E[I]),
        y
          ? (c.copy(l.normals[0]).multiplyScalar(F.x),
            h.copy(l.binormals[0]).multiplyScalar(F.y),
            u.copy(s[0]).add(c).add(h),
            o(u.x, u.y, u.z))
          : o(F.x, F.y, 0);
    for (O = 1; v >= O; O++)
      for (I = 0; j > I; I++)
        (F = g ? i(E[I], z[I], D) : E[I]),
          y
            ? (c.copy(l.normals[O]).multiplyScalar(F.x),
              h.copy(l.binormals[O]).multiplyScalar(F.y),
              u.copy(s[O]).add(c).add(h),
              o(u.x, u.y, u.z))
            : o(F.x, F.y, (d / v) * O);
    for (L = m - 1; L >= 0; L--) {
      for (
        O = L / m,
          k = f * (1 - O),
          D = p * Math.sin((O * Math.PI) / 2),
          I = 0,
          O = P.length;
        O > I;
        I++
      )
        (F = i(P[I], _[I], D)), o(F.x, F.y, d + k);
      for (w = 0, H = M.length; H > w; w++)
        for (b = M[w], B = V[w], I = 0, O = b.length; O > I; I++)
          (F = i(b[I], B[I], D)),
            y ? o(F.x, F.y + s[v - 1].y, s[v - 1].x + k) : o(F.x, F.y, d + k);
    }
    !(function () {
      if (g) {
        var e;
        for (e = 0 * j, I = 0; U > I; I++)
          (N = C[I]), a(N[2] + e, N[1] + e, N[0] + e);
        for (e = v + 2 * m, e *= j, I = 0; U > I; I++)
          (N = C[I]), a(N[0] + e, N[1] + e, N[2] + e);
      } else {
        for (I = 0; U > I; I++) (N = C[I]), a(N[2], N[1], N[0]);
        for (I = 0; U > I; I++)
          (N = C[I]), a(N[0] + j * v, N[1] + j * v, N[2] + j * v);
      }
    })(),
      (function () {
        var e = 0;
        for (n(P, e), e += P.length, w = 0, H = M.length; H > w; w++)
          (b = M[w]), n(b, e), (e += b.length);
      })();
  }),
  (THREE.ExtrudeGeometry.WorldUVGenerator = {
    generateTopUV: function (e, t, i, r) {
      return (
        (e = e.vertices),
        (t = e[t]),
        (i = e[i]),
        (r = e[r]),
        [
          new THREE.Vector2(t.x, t.y),
          new THREE.Vector2(i.x, i.y),
          new THREE.Vector2(r.x, r.y),
        ]
      );
    },
    generateSideWallUV: function (e, t, i, r, n) {
      return (
        (e = e.vertices),
        (t = e[t]),
        (i = e[i]),
        (r = e[r]),
        (n = e[n]),
        0.01 > Math.abs(t.y - i.y)
          ? [
              new THREE.Vector2(t.x, 1 - t.z),
              new THREE.Vector2(i.x, 1 - i.z),
              new THREE.Vector2(r.x, 1 - r.z),
              new THREE.Vector2(n.x, 1 - n.z),
            ]
          : [
              new THREE.Vector2(t.y, 1 - t.z),
              new THREE.Vector2(i.y, 1 - i.z),
              new THREE.Vector2(r.y, 1 - r.z),
              new THREE.Vector2(n.y, 1 - n.z),
            ]
      );
    },
  }),
  (THREE.ShapeGeometry = function (e, t) {
    THREE.Geometry.call(this),
      (this.type = "ShapeGeometry"),
      !1 == e instanceof Array && (e = [e]),
      this.addShapeList(e, t),
      this.computeFaceNormals();
  }),
  (THREE.ShapeGeometry.prototype = Object.create(THREE.Geometry.prototype)),
  (THREE.ShapeGeometry.prototype.constructor = THREE.ShapeGeometry),
  (THREE.ShapeGeometry.prototype.addShapeList = function (e, t) {
    for (var i = 0, r = e.length; r > i; i++) this.addShape(e[i], t);
    return this;
  }),
  (THREE.ShapeGeometry.prototype.addShape = function (e, t) {
    void 0 === t && (t = {});
    var i,
      r,
      n,
      o = t.material,
      a =
        void 0 === t.UVGenerator
          ? THREE.ExtrudeGeometry.WorldUVGenerator
          : t.UVGenerator,
      s = this.vertices.length;
    i = e.extractPoints(void 0 !== t.curveSegments ? t.curveSegments : 12);
    var l = i.shape,
      h = i.holes;
    if (!THREE.Shape.Utils.isClockWise(l))
      for (l = l.reverse(), i = 0, r = h.length; r > i; i++)
        (n = h[i]), THREE.Shape.Utils.isClockWise(n) && (h[i] = n.reverse());
    var c = THREE.Shape.Utils.triangulateShape(l, h);
    for (i = 0, r = h.length; r > i; i++) (n = h[i]), (l = l.concat(n));
    for (h = l.length, r = c.length, i = 0; h > i; i++)
      (n = l[i]), this.vertices.push(new THREE.Vector3(n.x, n.y, 0));
    for (i = 0; r > i; i++)
      (h = c[i]),
        (l = h[0] + s),
        (n = h[1] + s),
        (h = h[2] + s),
        this.faces.push(new THREE.Face3(l, n, h, null, null, o)),
        this.faceVertexUvs[0].push(a.generateTopUV(this, l, n, h));
  }),
  (THREE.LatheGeometry = function (e, t, i, r) {
    THREE.Geometry.call(this),
      (this.type = "LatheGeometry"),
      (this.parameters = { points: e, segments: t, phiStart: i, phiLength: r }),
      (t = t || 12),
      (i = i || 0),
      (r = r || 2 * Math.PI);
    for (var n = 1 / (e.length - 1), o = 1 / t, a = 0, s = t; s >= a; a++)
      for (
        var l = i + a * o * r,
          h = Math.cos(l),
          c = Math.sin(l),
          l = 0,
          u = e.length;
        u > l;
        l++
      ) {
        var d = e[l],
          f = new THREE.Vector3();
        (f.x = h * d.x - c * d.y),
          (f.y = c * d.x + h * d.y),
          (f.z = d.z),
          this.vertices.push(f);
      }
    for (i = e.length, a = 0, s = t; s > a; a++)
      for (l = 0, u = e.length - 1; u > l; l++) {
        (t = c = l + i * a), (r = c + i);
        var h = c + 1 + i,
          c = c + 1,
          d = a * o,
          f = l * n,
          p = d + o,
          m = f + n;
        this.faces.push(new THREE.Face3(t, r, c)),
          this.faceVertexUvs[0].push([
            new THREE.Vector2(d, f),
            new THREE.Vector2(p, f),
            new THREE.Vector2(d, m),
          ]),
          this.faces.push(new THREE.Face3(r, h, c)),
          this.faceVertexUvs[0].push([
            new THREE.Vector2(p, f),
            new THREE.Vector2(p, m),
            new THREE.Vector2(d, m),
          ]);
      }
    this.mergeVertices(),
      this.computeFaceNormals(),
      this.computeVertexNormals();
  }),
  (THREE.LatheGeometry.prototype = Object.create(THREE.Geometry.prototype)),
  (THREE.LatheGeometry.prototype.constructor = THREE.LatheGeometry),
  (THREE.PlaneGeometry = function (e, t, i, r) {
    console.info(
      "THREE.PlaneGeometry: Consider using THREE.PlaneBufferGeometry for lower memory footprint."
    ),
      THREE.Geometry.call(this),
      (this.type = "PlaneGeometry"),
      (this.parameters = {
        width: e,
        height: t,
        widthSegments: i,
        heightSegments: r,
      }),
      this.fromBufferGeometry(new THREE.PlaneBufferGeometry(e, t, i, r));
  }),
  (THREE.PlaneGeometry.prototype = Object.create(THREE.Geometry.prototype)),
  (THREE.PlaneGeometry.prototype.constructor = THREE.PlaneGeometry),
  (THREE.PlaneBufferGeometry = function (e, t, i, r) {
    THREE.BufferGeometry.call(this),
      (this.type = "PlaneBufferGeometry"),
      (this.parameters = {
        width: e,
        height: t,
        widthSegments: i,
        heightSegments: r,
      });
    var n = e / 2,
      o = t / 2;
    (i = i || 1), (r = r || 1);
    var a = i + 1,
      s = r + 1,
      l = e / i,
      h = t / r;
    (t = new Float32Array(a * s * 3)), (e = new Float32Array(a * s * 3));
    for (var c = new Float32Array(a * s * 2), u = 0, d = 0, f = 0; s > f; f++)
      for (var p = f * h - o, m = 0; a > m; m++)
        (t[u] = m * l - n),
          (t[u + 1] = -p),
          (e[u + 2] = 1),
          (c[d] = m / i),
          (c[d + 1] = 1 - f / r),
          (u += 3),
          (d += 2);
    for (
      u = 0,
        n = new (65535 < t.length / 3 ? Uint32Array : Uint16Array)(i * r * 6),
        f = 0;
      r > f;
      f++
    )
      for (m = 0; i > m; m++)
        (o = m + a * (f + 1)),
          (s = m + 1 + a * (f + 1)),
          (l = m + 1 + a * f),
          (n[u] = m + a * f),
          (n[u + 1] = o),
          (n[u + 2] = l),
          (n[u + 3] = o),
          (n[u + 4] = s),
          (n[u + 5] = l),
          (u += 6);
    this.addAttribute("index", new THREE.BufferAttribute(n, 1)),
      this.addAttribute("position", new THREE.BufferAttribute(t, 3)),
      this.addAttribute("normal", new THREE.BufferAttribute(e, 3)),
      this.addAttribute("uv", new THREE.BufferAttribute(c, 2));
  }),
  (THREE.PlaneBufferGeometry.prototype = Object.create(
    THREE.BufferGeometry.prototype
  )),
  (THREE.PlaneBufferGeometry.prototype.constructor = THREE.PlaneBufferGeometry),
  (THREE.RingGeometry = function (e, t, i, r, n, o) {
    THREE.Geometry.call(this),
      (this.type = "RingGeometry"),
      (this.parameters = {
        innerRadius: e,
        outerRadius: t,
        thetaSegments: i,
        phiSegments: r,
        thetaStart: n,
        thetaLength: o,
      }),
      (e = e || 0),
      (t = t || 50),
      (n = void 0 !== n ? n : 0),
      (o = void 0 !== o ? o : 2 * Math.PI),
      (i = void 0 !== i ? Math.max(3, i) : 8),
      (r = void 0 !== r ? Math.max(1, r) : 8);
    var a,
      s = [],
      l = e,
      h = (t - e) / r;
    for (e = 0; r + 1 > e; e++) {
      for (a = 0; i + 1 > a; a++) {
        var c = new THREE.Vector3(),
          u = n + (a / i) * o;
        (c.x = l * Math.cos(u)),
          (c.y = l * Math.sin(u)),
          this.vertices.push(c),
          s.push(new THREE.Vector2((c.x / t + 1) / 2, (c.y / t + 1) / 2));
      }
      l += h;
    }
    for (t = new THREE.Vector3(0, 0, 1), e = 0; r > e; e++)
      for (n = e * (i + 1), a = 0; i > a; a++)
        (o = u = a + n),
          (h = u + i + 1),
          (c = u + i + 2),
          this.faces.push(
            new THREE.Face3(o, h, c, [t.clone(), t.clone(), t.clone()])
          ),
          this.faceVertexUvs[0].push([
            s[o].clone(),
            s[h].clone(),
            s[c].clone(),
          ]),
          (o = u),
          (h = u + i + 2),
          (c = u + 1),
          this.faces.push(
            new THREE.Face3(o, h, c, [t.clone(), t.clone(), t.clone()])
          ),
          this.faceVertexUvs[0].push([
            s[o].clone(),
            s[h].clone(),
            s[c].clone(),
          ]);
    this.computeFaceNormals(),
      (this.boundingSphere = new THREE.Sphere(new THREE.Vector3(), l));
  }),
  (THREE.RingGeometry.prototype = Object.create(THREE.Geometry.prototype)),
  (THREE.RingGeometry.prototype.constructor = THREE.RingGeometry),
  (THREE.SphereGeometry = function (e, t, i, r, n, o, a) {
    THREE.Geometry.call(this),
      (this.type = "SphereGeometry"),
      (this.parameters = {
        radius: e,
        widthSegments: t,
        heightSegments: i,
        phiStart: r,
        phiLength: n,
        thetaStart: o,
        thetaLength: a,
      }),
      (e = e || 50),
      (t = Math.max(3, Math.floor(t) || 8)),
      (i = Math.max(2, Math.floor(i) || 6)),
      (r = void 0 !== r ? r : 0),
      (n = void 0 !== n ? n : 2 * Math.PI),
      (o = void 0 !== o ? o : 0),
      (a = void 0 !== a ? a : Math.PI);
    var s,
      l,
      h = [],
      c = [];
    for (l = 0; i >= l; l++) {
      var u = [],
        d = [];
      for (s = 0; t >= s; s++) {
        var f = s / t,
          p = l / i,
          m = new THREE.Vector3();
        (m.x = -e * Math.cos(r + f * n) * Math.sin(o + p * a)),
          (m.y = e * Math.cos(o + p * a)),
          (m.z = e * Math.sin(r + f * n) * Math.sin(o + p * a)),
          this.vertices.push(m),
          u.push(this.vertices.length - 1),
          d.push(new THREE.Vector2(f, 1 - p));
      }
      h.push(u), c.push(d);
    }
    for (l = 0; i > l; l++)
      for (s = 0; t > s; s++) {
        (r = h[l][s + 1]),
          (n = h[l][s]),
          (o = h[l + 1][s]),
          (a = h[l + 1][s + 1]);
        var u = this.vertices[r].clone().normalize(),
          d = this.vertices[n].clone().normalize(),
          f = this.vertices[o].clone().normalize(),
          p = this.vertices[a].clone().normalize(),
          m = c[l][s + 1].clone(),
          g = c[l][s].clone(),
          E = c[l + 1][s].clone(),
          v = c[l + 1][s + 1].clone();
        Math.abs(this.vertices[r].y) === e
          ? ((m.x = (m.x + g.x) / 2),
            this.faces.push(new THREE.Face3(r, o, a, [u, f, p])),
            this.faceVertexUvs[0].push([m, E, v]))
          : Math.abs(this.vertices[o].y) === e
          ? ((E.x = (E.x + v.x) / 2),
            this.faces.push(new THREE.Face3(r, n, o, [u, d, f])),
            this.faceVertexUvs[0].push([m, g, E]))
          : (this.faces.push(new THREE.Face3(r, n, a, [u, d, p])),
            this.faceVertexUvs[0].push([m, g, v]),
            this.faces.push(
              new THREE.Face3(n, o, a, [d.clone(), f, p.clone()])
            ),
            this.faceVertexUvs[0].push([g.clone(), E, v.clone()]));
      }
    this.computeFaceNormals(),
      (this.boundingSphere = new THREE.Sphere(new THREE.Vector3(), e));
  }),
  (THREE.SphereGeometry.prototype = Object.create(THREE.Geometry.prototype)),
  (THREE.SphereGeometry.prototype.constructor = THREE.SphereGeometry),
  (THREE.TextGeometry = function (e, t) {
    t = t || {};
    var i = THREE.FontUtils.generateShapes(e, t);
    (t.amount = void 0 !== t.height ? t.height : 50),
      void 0 === t.bevelThickness && (t.bevelThickness = 10),
      void 0 === t.bevelSize && (t.bevelSize = 8),
      void 0 === t.bevelEnabled && (t.bevelEnabled = !1),
      THREE.ExtrudeGeometry.call(this, i, t),
      (this.type = "TextGeometry");
  }),
  (THREE.TextGeometry.prototype = Object.create(
    THREE.ExtrudeGeometry.prototype
  )),
  (THREE.TextGeometry.prototype.constructor = THREE.TextGeometry),
  (THREE.TorusGeometry = function (e, t, i, r, n) {
    THREE.Geometry.call(this),
      (this.type = "TorusGeometry"),
      (this.parameters = {
        radius: e,
        tube: t,
        radialSegments: i,
        tubularSegments: r,
        arc: n,
      }),
      (e = e || 100),
      (t = t || 40),
      (i = i || 8),
      (r = r || 6),
      (n = n || 2 * Math.PI);
    for (var o = new THREE.Vector3(), a = [], s = [], l = 0; i >= l; l++)
      for (var h = 0; r >= h; h++) {
        var c = (h / r) * n,
          u = (l / i) * Math.PI * 2;
        (o.x = e * Math.cos(c)), (o.y = e * Math.sin(c));
        var d = new THREE.Vector3();
        (d.x = (e + t * Math.cos(u)) * Math.cos(c)),
          (d.y = (e + t * Math.cos(u)) * Math.sin(c)),
          (d.z = t * Math.sin(u)),
          this.vertices.push(d),
          a.push(new THREE.Vector2(h / r, l / i)),
          s.push(d.clone().sub(o).normalize());
      }
    for (l = 1; i >= l; l++)
      for (h = 1; r >= h; h++)
        (e = (r + 1) * l + h - 1),
          (t = (r + 1) * (l - 1) + h - 1),
          (n = (r + 1) * (l - 1) + h),
          (o = (r + 1) * l + h),
          (c = new THREE.Face3(e, t, o, [
            s[e].clone(),
            s[t].clone(),
            s[o].clone(),
          ])),
          this.faces.push(c),
          this.faceVertexUvs[0].push([
            a[e].clone(),
            a[t].clone(),
            a[o].clone(),
          ]),
          (c = new THREE.Face3(t, n, o, [
            s[t].clone(),
            s[n].clone(),
            s[o].clone(),
          ])),
          this.faces.push(c),
          this.faceVertexUvs[0].push([
            a[t].clone(),
            a[n].clone(),
            a[o].clone(),
          ]);
    this.computeFaceNormals();
  }),
  (THREE.TorusGeometry.prototype = Object.create(THREE.Geometry.prototype)),
  (THREE.TorusGeometry.prototype.constructor = THREE.TorusGeometry),
  (THREE.TorusKnotGeometry = function (e, t, i, r, n, o, a) {
    function s(e, t, i, r, n) {
      var o = Math.cos(e),
        a = Math.sin(e);
      return (
        (e *= t / i),
        (t = Math.cos(e)),
        (o *= r * (2 + t) * 0.5),
        (a = r * (2 + t) * a * 0.5),
        (r = n * r * Math.sin(e) * 0.5),
        new THREE.Vector3(o, a, r)
      );
    }
    THREE.Geometry.call(this),
      (this.type = "TorusKnotGeometry"),
      (this.parameters = {
        radius: e,
        tube: t,
        radialSegments: i,
        tubularSegments: r,
        p: n,
        q: o,
        heightScale: a,
      }),
      (e = e || 100),
      (t = t || 40),
      (i = i || 64),
      (r = r || 8),
      (n = n || 2),
      (o = o || 3),
      (a = a || 1);
    for (
      var l = Array(i),
        h = new THREE.Vector3(),
        c = new THREE.Vector3(),
        u = new THREE.Vector3(),
        d = 0;
      i > d;
      ++d
    ) {
      l[d] = Array(r);
      var f = (d / i) * 2 * n * Math.PI,
        p = s(f, o, n, e, a),
        f = s(f + 0.01, o, n, e, a);
      for (
        h.subVectors(f, p),
          c.addVectors(f, p),
          u.crossVectors(h, c),
          c.crossVectors(u, h),
          u.normalize(),
          c.normalize(),
          f = 0;
        r > f;
        ++f
      ) {
        var m = (f / r) * 2 * Math.PI,
          g = -t * Math.cos(m),
          m = t * Math.sin(m),
          E = new THREE.Vector3();
        (E.x = p.x + g * c.x + m * u.x),
          (E.y = p.y + g * c.y + m * u.y),
          (E.z = p.z + g * c.z + m * u.z),
          (l[d][f] = this.vertices.push(E) - 1);
      }
    }
    for (d = 0; i > d; ++d)
      for (f = 0; r > f; ++f)
        (n = (d + 1) % i),
          (o = (f + 1) % r),
          (e = l[d][f]),
          (t = l[n][f]),
          (n = l[n][o]),
          (o = l[d][o]),
          (a = new THREE.Vector2(d / i, f / r)),
          (h = new THREE.Vector2((d + 1) / i, f / r)),
          (c = new THREE.Vector2((d + 1) / i, (f + 1) / r)),
          (u = new THREE.Vector2(d / i, (f + 1) / r)),
          this.faces.push(new THREE.Face3(e, t, o)),
          this.faceVertexUvs[0].push([a, h, u]),
          this.faces.push(new THREE.Face3(t, n, o)),
          this.faceVertexUvs[0].push([h.clone(), c, u.clone()]);
    this.computeFaceNormals(), this.computeVertexNormals();
  }),
  (THREE.TorusKnotGeometry.prototype = Object.create(THREE.Geometry.prototype)),
  (THREE.TorusKnotGeometry.prototype.constructor = THREE.TorusKnotGeometry),
  (THREE.TubeGeometry = function (e, t, i, r, n, o) {
    THREE.Geometry.call(this),
      (this.type = "TubeGeometry"),
      (this.parameters = {
        path: e,
        segments: t,
        radius: i,
        radialSegments: r,
        closed: n,
      }),
      (t = t || 64),
      (i = i || 1),
      (r = r || 8),
      (n = n || !1),
      (o = o || THREE.TubeGeometry.NoTaper);
    var a,
      s,
      l,
      h,
      c,
      u,
      d,
      f,
      p,
      m,
      g = [],
      E = t + 1,
      v = new THREE.Vector3();
    for (
      f = new THREE.TubeGeometry.FrenetFrames(e, t, n),
        p = f.normals,
        m = f.binormals,
        this.tangents = f.tangents,
        this.normals = p,
        this.binormals = m,
        f = 0;
      E > f;
      f++
    )
      for (
        g[f] = [],
          l = f / (E - 1),
          d = e.getPointAt(l),
          a = p[f],
          s = m[f],
          c = i * o(l),
          l = 0;
        r > l;
        l++
      )
        (h = (l / r) * 2 * Math.PI),
          (u = -c * Math.cos(h)),
          (h = c * Math.sin(h)),
          v.copy(d),
          (v.x += u * a.x + h * s.x),
          (v.y += u * a.y + h * s.y),
          (v.z += u * a.z + h * s.z),
          (g[f][l] = this.vertices.push(new THREE.Vector3(v.x, v.y, v.z)) - 1);
    for (f = 0; t > f; f++)
      for (l = 0; r > l; l++)
        (o = n ? (f + 1) % t : f + 1),
          (E = (l + 1) % r),
          (e = g[f][l]),
          (i = g[o][l]),
          (o = g[o][E]),
          (E = g[f][E]),
          (v = new THREE.Vector2(f / t, l / r)),
          (p = new THREE.Vector2((f + 1) / t, l / r)),
          (m = new THREE.Vector2((f + 1) / t, (l + 1) / r)),
          (a = new THREE.Vector2(f / t, (l + 1) / r)),
          this.faces.push(new THREE.Face3(e, i, E)),
          this.faceVertexUvs[0].push([v, p, a]),
          this.faces.push(new THREE.Face3(i, o, E)),
          this.faceVertexUvs[0].push([p.clone(), m, a.clone()]);
    this.computeFaceNormals(), this.computeVertexNormals();
  }),
  (THREE.TubeGeometry.prototype = Object.create(THREE.Geometry.prototype)),
  (THREE.TubeGeometry.prototype.constructor = THREE.TubeGeometry),
  (THREE.TubeGeometry.NoTaper = function (e) {
    return 1;
  }),
  (THREE.TubeGeometry.SinusoidalTaper = function (e) {
    return Math.sin(Math.PI * e);
  }),
  (THREE.TubeGeometry.FrenetFrames = function (e, t, i) {
    var r = new THREE.Vector3(),
      n = [],
      o = [],
      a = [],
      s = new THREE.Vector3(),
      l = new THREE.Matrix4();
    t += 1;
    var h, c, u;
    for (
      this.tangents = n, this.normals = o, this.binormals = a, h = 0;
      t > h;
      h++
    )
      (c = h / (t - 1)), (n[h] = e.getTangentAt(c)), n[h].normalize();
    for (
      o[0] = new THREE.Vector3(),
        a[0] = new THREE.Vector3(),
        e = Number.MAX_VALUE,
        h = Math.abs(n[0].x),
        c = Math.abs(n[0].y),
        u = Math.abs(n[0].z),
        e >= h && ((e = h), r.set(1, 0, 0)),
        e >= c && ((e = c), r.set(0, 1, 0)),
        e >= u && r.set(0, 0, 1),
        s.crossVectors(n[0], r).normalize(),
        o[0].crossVectors(n[0], s),
        a[0].crossVectors(n[0], o[0]),
        h = 1;
      t > h;
      h++
    )
      (o[h] = o[h - 1].clone()),
        (a[h] = a[h - 1].clone()),
        s.crossVectors(n[h - 1], n[h]),
        1e-4 < s.length() &&
          (s.normalize(),
          (r = Math.acos(THREE.Math.clamp(n[h - 1].dot(n[h]), -1, 1))),
          o[h].applyMatrix4(l.makeRotationAxis(s, r))),
        a[h].crossVectors(n[h], o[h]);
    if (i)
      for (
        r = Math.acos(THREE.Math.clamp(o[0].dot(o[t - 1]), -1, 1)),
          r /= t - 1,
          0 < n[0].dot(s.crossVectors(o[0], o[t - 1])) && (r = -r),
          h = 1;
        t > h;
        h++
      )
        o[h].applyMatrix4(l.makeRotationAxis(n[h], r * h)),
          a[h].crossVectors(n[h], o[h]);
  }),
  (THREE.PolyhedronGeometry = function (e, t, i, r) {
    function n(e) {
      var t = e.normalize().clone();
      t.index = l.vertices.push(t) - 1;
      var i = Math.atan2(e.z, -e.x) / 2 / Math.PI + 0.5;
      return (
        (e =
          Math.atan2(-e.y, Math.sqrt(e.x * e.x + e.z * e.z)) / Math.PI + 0.5),
        (t.uv = new THREE.Vector2(i, 1 - e)),
        t
      );
    }
    function o(e, t, i) {
      var r = new THREE.Face3(e.index, t.index, i.index, [
        e.clone(),
        t.clone(),
        i.clone(),
      ]);
      l.faces.push(r),
        g.copy(e).add(t).add(i).divideScalar(3),
        (r = Math.atan2(g.z, -g.x)),
        l.faceVertexUvs[0].push([s(e.uv, e, r), s(t.uv, t, r), s(i.uv, i, r)]);
    }
    function a(e, t) {
      for (
        var i = Math.pow(2, t),
          r = n(l.vertices[e.a]),
          a = n(l.vertices[e.b]),
          s = n(l.vertices[e.c]),
          h = [],
          c = 0;
        i >= c;
        c++
      ) {
        h[c] = [];
        for (
          var u = n(r.clone().lerp(s, c / i)),
            d = n(a.clone().lerp(s, c / i)),
            f = i - c,
            p = 0;
          f >= p;
          p++
        )
          h[c][p] = 0 == p && c == i ? u : n(u.clone().lerp(d, p / f));
      }
      for (c = 0; i > c; c++)
        for (p = 0; 2 * (i - c) - 1 > p; p++)
          (r = Math.floor(p / 2)),
            0 == p % 2
              ? o(h[c][r + 1], h[c + 1][r], h[c][r])
              : o(h[c][r + 1], h[c + 1][r + 1], h[c + 1][r]);
    }
    function s(e, t, i) {
      return (
        0 > i && 1 === e.x && (e = new THREE.Vector2(e.x - 1, e.y)),
        0 === t.x &&
          0 === t.z &&
          (e = new THREE.Vector2(i / 2 / Math.PI + 0.5, e.y)),
        e.clone()
      );
    }
    THREE.Geometry.call(this),
      (this.type = "PolyhedronGeometry"),
      (this.parameters = { vertices: e, indices: t, radius: i, detail: r }),
      (i = i || 1),
      (r = r || 0);
    for (var l = this, h = 0, c = e.length; c > h; h += 3)
      n(new THREE.Vector3(e[h], e[h + 1], e[h + 2]));
    e = this.vertices;
    for (var u = [], d = (h = 0), c = t.length; c > h; h += 3, d++) {
      var f = e[t[h]],
        p = e[t[h + 1]],
        m = e[t[h + 2]];
      u[d] = new THREE.Face3(f.index, p.index, m.index, [
        f.clone(),
        p.clone(),
        m.clone(),
      ]);
    }
    for (var g = new THREE.Vector3(), h = 0, c = u.length; c > h; h++)
      a(u[h], r);
    for (h = 0, c = this.faceVertexUvs[0].length; c > h; h++)
      (t = this.faceVertexUvs[0][h]),
        (r = t[0].x),
        (e = t[1].x),
        (u = t[2].x),
        (d = Math.max(r, Math.max(e, u))),
        (f = Math.min(r, Math.min(e, u))),
        d > 0.9 &&
          0.1 > f &&
          (0.2 > r && (t[0].x += 1),
          0.2 > e && (t[1].x += 1),
          0.2 > u && (t[2].x += 1));
    for (h = 0, c = this.vertices.length; c > h; h++)
      this.vertices[h].multiplyScalar(i);
    this.mergeVertices(),
      this.computeFaceNormals(),
      (this.boundingSphere = new THREE.Sphere(new THREE.Vector3(), i));
  }),
  (THREE.PolyhedronGeometry.prototype = Object.create(
    THREE.Geometry.prototype
  )),
  (THREE.PolyhedronGeometry.prototype.constructor = THREE.PolyhedronGeometry),
  (THREE.DodecahedronGeometry = function (e, t) {
    this.parameters = { radius: e, detail: t };
    var i = (1 + Math.sqrt(5)) / 2,
      r = 1 / i;
    THREE.PolyhedronGeometry.call(
      this,
      [
        -1,
        -1,
        -1,
        -1,
        -1,
        1,
        -1,
        1,
        -1,
        -1,
        1,
        1,
        1,
        -1,
        -1,
        1,
        -1,
        1,
        1,
        1,
        -1,
        1,
        1,
        1,
        0,
        -r,
        -i,
        0,
        -r,
        i,
        0,
        r,
        -i,
        0,
        r,
        i,
        -r,
        -i,
        0,
        -r,
        i,
        0,
        r,
        -i,
        0,
        r,
        i,
        0,
        -i,
        0,
        -r,
        i,
        0,
        -r,
        -i,
        0,
        r,
        i,
        0,
        r,
      ],
      [
        3, 11, 7, 3, 7, 15, 3, 15, 13, 7, 19, 17, 7, 17, 6, 7, 6, 15, 17, 4, 8,
        17, 8, 10, 17, 10, 6, 8, 0, 16, 8, 16, 2, 8, 2, 10, 0, 12, 1, 0, 1, 18,
        0, 18, 16, 6, 10, 2, 6, 2, 13, 6, 13, 15, 2, 16, 18, 2, 18, 3, 2, 3, 13,
        18, 1, 9, 18, 9, 11, 18, 11, 3, 4, 14, 12, 4, 12, 0, 4, 0, 8, 11, 9, 5,
        11, 5, 19, 11, 19, 7, 19, 5, 14, 19, 14, 4, 19, 4, 17, 1, 12, 14, 1, 14,
        5, 1, 5, 9,
      ],
      e,
      t
    );
  }),
  (THREE.DodecahedronGeometry.prototype = Object.create(
    THREE.Geometry.prototype
  )),
  (THREE.DodecahedronGeometry.prototype.constructor =
    THREE.DodecahedronGeometry),
  (THREE.IcosahedronGeometry = function (e, t) {
    var i = (1 + Math.sqrt(5)) / 2;
    THREE.PolyhedronGeometry.call(
      this,
      [
        -1,
        i,
        0,
        1,
        i,
        0,
        -1,
        -i,
        0,
        1,
        -i,
        0,
        0,
        -1,
        i,
        0,
        1,
        i,
        0,
        -1,
        -i,
        0,
        1,
        -i,
        i,
        0,
        -1,
        i,
        0,
        1,
        -i,
        0,
        -1,
        -i,
        0,
        1,
      ],
      [
        0, 11, 5, 0, 5, 1, 0, 1, 7, 0, 7, 10, 0, 10, 11, 1, 5, 9, 5, 11, 4, 11,
        10, 2, 10, 7, 6, 7, 1, 8, 3, 9, 4, 3, 4, 2, 3, 2, 6, 3, 6, 8, 3, 8, 9,
        4, 9, 5, 2, 4, 11, 6, 2, 10, 8, 6, 7, 9, 8, 1,
      ],
      e,
      t
    ),
      (this.type = "IcosahedronGeometry"),
      (this.parameters = { radius: e, detail: t });
  }),
  (THREE.IcosahedronGeometry.prototype = Object.create(
    THREE.Geometry.prototype
  )),
  (THREE.IcosahedronGeometry.prototype.constructor = THREE.IcosahedronGeometry),
  (THREE.OctahedronGeometry = function (e, t) {
    (this.parameters = { radius: e, detail: t }),
      THREE.PolyhedronGeometry.call(
        this,
        [1, 0, 0, -1, 0, 0, 0, 1, 0, 0, -1, 0, 0, 0, 1, 0, 0, -1],
        [
          0, 2, 4, 0, 4, 3, 0, 3, 5, 0, 5, 2, 1, 2, 5, 1, 5, 3, 1, 3, 4, 1, 4,
          2,
        ],
        e,
        t
      ),
      (this.type = "OctahedronGeometry"),
      (this.parameters = { radius: e, detail: t });
  }),
  (THREE.OctahedronGeometry.prototype = Object.create(
    THREE.Geometry.prototype
  )),
  (THREE.OctahedronGeometry.prototype.constructor = THREE.OctahedronGeometry),
  (THREE.TetrahedronGeometry = function (e, t) {
    THREE.PolyhedronGeometry.call(
      this,
      [1, 1, 1, -1, -1, 1, -1, 1, -1, 1, -1, -1],
      [2, 1, 0, 0, 3, 2, 1, 3, 0, 2, 3, 1],
      e,
      t
    ),
      (this.type = "TetrahedronGeometry"),
      (this.parameters = { radius: e, detail: t });
  }),
  (THREE.TetrahedronGeometry.prototype = Object.create(
    THREE.Geometry.prototype
  )),
  (THREE.TetrahedronGeometry.prototype.constructor = THREE.TetrahedronGeometry),
  (THREE.ParametricGeometry = function (e, t, i) {
    THREE.Geometry.call(this),
      (this.type = "ParametricGeometry"),
      (this.parameters = { func: e, slices: t, stacks: i });
    var r,
      n,
      o,
      a,
      s = this.vertices,
      l = this.faces,
      h = this.faceVertexUvs[0],
      c = t + 1;
    for (r = 0; i >= r; r++)
      for (a = r / i, n = 0; t >= n; n++) (o = n / t), (o = e(o, a)), s.push(o);
    var u, d, f, p;
    for (r = 0; i > r; r++)
      for (n = 0; t > n; n++)
        (e = r * c + n),
          (s = r * c + n + 1),
          (a = (r + 1) * c + n + 1),
          (o = (r + 1) * c + n),
          (u = new THREE.Vector2(n / t, r / i)),
          (d = new THREE.Vector2((n + 1) / t, r / i)),
          (f = new THREE.Vector2((n + 1) / t, (r + 1) / i)),
          (p = new THREE.Vector2(n / t, (r + 1) / i)),
          l.push(new THREE.Face3(e, s, o)),
          h.push([u, d, p]),
          l.push(new THREE.Face3(s, a, o)),
          h.push([d.clone(), f, p.clone()]);
    this.computeFaceNormals(), this.computeVertexNormals();
  }),
  (THREE.ParametricGeometry.prototype = Object.create(
    THREE.Geometry.prototype
  )),
  (THREE.ParametricGeometry.prototype.constructor = THREE.ParametricGeometry),
  (THREE.AxisHelper = function (e) {
    e = e || 1;
    var t = new Float32Array([
        0,
        0,
        0,
        e,
        0,
        0,
        0,
        0,
        0,
        0,
        e,
        0,
        0,
        0,
        0,
        0,
        0,
        e,
      ]),
      i = new Float32Array([
        1, 0, 0, 1, 0.6, 0, 0, 1, 0, 0.6, 1, 0, 0, 0, 1, 0, 0.6, 1,
      ]);
    (e = new THREE.BufferGeometry()),
      e.addAttribute("position", new THREE.BufferAttribute(t, 3)),
      e.addAttribute("color", new THREE.BufferAttribute(i, 3)),
      (t = new THREE.LineBasicMaterial({ vertexColors: THREE.VertexColors })),
      THREE.Line.call(this, e, t, THREE.LinePieces);
  }),
  (THREE.AxisHelper.prototype = Object.create(THREE.Line.prototype)),
  (THREE.AxisHelper.prototype.constructor = THREE.AxisHelper),
  (THREE.ArrowHelper = (function () {
    var e = new THREE.Geometry();
    e.vertices.push(new THREE.Vector3(0, 0, 0), new THREE.Vector3(0, 1, 0));
    var t = new THREE.CylinderGeometry(0, 0.5, 1, 5, 1);
    return (
      t.applyMatrix(new THREE.Matrix4().makeTranslation(0, -0.5, 0)),
      function (i, r, n, o, a, s) {
        THREE.Object3D.call(this),
          void 0 === o && (o = 16776960),
          void 0 === n && (n = 1),
          void 0 === a && (a = 0.2 * n),
          void 0 === s && (s = 0.2 * a),
          this.position.copy(r),
          (this.line = new THREE.Line(
            e,
            new THREE.LineBasicMaterial({ color: o })
          )),
          (this.line.matrixAutoUpdate = !1),
          this.add(this.line),
          (this.cone = new THREE.Mesh(
            t,
            new THREE.MeshBasicMaterial({ color: o })
          )),
          (this.cone.matrixAutoUpdate = !1),
          this.add(this.cone),
          this.setDirection(i),
          this.setLength(n, a, s);
      }
    );
  })()),
  (THREE.ArrowHelper.prototype = Object.create(THREE.Object3D.prototype)),
  (THREE.ArrowHelper.prototype.constructor = THREE.ArrowHelper),
  (THREE.ArrowHelper.prototype.setDirection = (function () {
    var e,
      t = new THREE.Vector3();
    return function (i) {
      0.99999 < i.y
        ? this.quaternion.set(0, 0, 0, 1)
        : -0.99999 > i.y
        ? this.quaternion.set(1, 0, 0, 0)
        : (t.set(i.z, 0, -i.x).normalize(),
          (e = Math.acos(i.y)),
          this.quaternion.setFromAxisAngle(t, e));
    };
  })()),
  (THREE.ArrowHelper.prototype.setLength = function (e, t, i) {
    void 0 === t && (t = 0.2 * e),
      void 0 === i && (i = 0.2 * t),
      this.line.scale.set(1, e - t, 1),
      this.line.updateMatrix(),
      this.cone.scale.set(i, t, i),
      (this.cone.position.y = e),
      this.cone.updateMatrix();
  }),
  (THREE.ArrowHelper.prototype.setColor = function (e) {
    this.line.material.color.set(e), this.cone.material.color.set(e);
  }),
  (THREE.BoxHelper = function (e) {
    var t = new THREE.BufferGeometry();
    t.addAttribute(
      "position",
      new THREE.BufferAttribute(new Float32Array(72), 3)
    ),
      THREE.Line.call(
        this,
        t,
        new THREE.LineBasicMaterial({ color: 16776960 }),
        THREE.LinePieces
      ),
      void 0 !== e && this.update(e);
  }),
  (THREE.BoxHelper.prototype = Object.create(THREE.Line.prototype)),
  (THREE.BoxHelper.prototype.constructor = THREE.BoxHelper),
  (THREE.BoxHelper.prototype.update = function (e) {
    var t = e.geometry;
    null === t.boundingBox && t.computeBoundingBox();
    var i = t.boundingBox.min,
      t = t.boundingBox.max,
      r = this.geometry.attributes.position.array;
    (r[0] = t.x),
      (r[1] = t.y),
      (r[2] = t.z),
      (r[3] = i.x),
      (r[4] = t.y),
      (r[5] = t.z),
      (r[6] = i.x),
      (r[7] = t.y),
      (r[8] = t.z),
      (r[9] = i.x),
      (r[10] = i.y),
      (r[11] = t.z),
      (r[12] = i.x),
      (r[13] = i.y),
      (r[14] = t.z),
      (r[15] = t.x),
      (r[16] = i.y),
      (r[17] = t.z),
      (r[18] = t.x),
      (r[19] = i.y),
      (r[20] = t.z),
      (r[21] = t.x),
      (r[22] = t.y),
      (r[23] = t.z),
      (r[24] = t.x),
      (r[25] = t.y),
      (r[26] = i.z),
      (r[27] = i.x),
      (r[28] = t.y),
      (r[29] = i.z),
      (r[30] = i.x),
      (r[31] = t.y),
      (r[32] = i.z),
      (r[33] = i.x),
      (r[34] = i.y),
      (r[35] = i.z),
      (r[36] = i.x),
      (r[37] = i.y),
      (r[38] = i.z),
      (r[39] = t.x),
      (r[40] = i.y),
      (r[41] = i.z),
      (r[42] = t.x),
      (r[43] = i.y),
      (r[44] = i.z),
      (r[45] = t.x),
      (r[46] = t.y),
      (r[47] = i.z),
      (r[48] = t.x),
      (r[49] = t.y),
      (r[50] = t.z),
      (r[51] = t.x),
      (r[52] = t.y),
      (r[53] = i.z),
      (r[54] = i.x),
      (r[55] = t.y),
      (r[56] = t.z),
      (r[57] = i.x),
      (r[58] = t.y),
      (r[59] = i.z),
      (r[60] = i.x),
      (r[61] = i.y),
      (r[62] = t.z),
      (r[63] = i.x),
      (r[64] = i.y),
      (r[65] = i.z),
      (r[66] = t.x),
      (r[67] = i.y),
      (r[68] = t.z),
      (r[69] = t.x),
      (r[70] = i.y),
      (r[71] = i.z),
      (this.geometry.attributes.position.needsUpdate = !0),
      this.geometry.computeBoundingSphere(),
      (this.matrix = e.matrixWorld),
      (this.matrixAutoUpdate = !1);
  }),
  (THREE.BoundingBoxHelper = function (e, t) {
    var i = void 0 !== t ? t : 8947848;
    (this.object = e),
      (this.box = new THREE.Box3()),
      THREE.Mesh.call(
        this,
        new THREE.BoxGeometry(1, 1, 1),
        new THREE.MeshBasicMaterial({ color: i, wireframe: !0 })
      );
  }),
  (THREE.BoundingBoxHelper.prototype = Object.create(THREE.Mesh.prototype)),
  (THREE.BoundingBoxHelper.prototype.constructor = THREE.BoundingBoxHelper),
  (THREE.BoundingBoxHelper.prototype.update = function () {
    this.box.setFromObject(this.object),
      this.box.size(this.scale),
      this.box.center(this.position);
  }),
  (THREE.CameraHelper = function (e) {
    function t(e, t, r) {
      i(e, r), i(t, r);
    }
    function i(e, t) {
      r.vertices.push(new THREE.Vector3()),
        r.colors.push(new THREE.Color(t)),
        void 0 === o[e] && (o[e] = []),
        o[e].push(r.vertices.length - 1);
    }
    var r = new THREE.Geometry(),
      n = new THREE.LineBasicMaterial({
        color: 16777215,
        vertexColors: THREE.FaceColors,
      }),
      o = {};
    t("n1", "n2", 16755200),
      t("n2", "n4", 16755200),
      t("n4", "n3", 16755200),
      t("n3", "n1", 16755200),
      t("f1", "f2", 16755200),
      t("f2", "f4", 16755200),
      t("f4", "f3", 16755200),
      t("f3", "f1", 16755200),
      t("n1", "f1", 16755200),
      t("n2", "f2", 16755200),
      t("n3", "f3", 16755200),
      t("n4", "f4", 16755200),
      t("p", "n1", 16711680),
      t("p", "n2", 16711680),
      t("p", "n3", 16711680),
      t("p", "n4", 16711680),
      t("u1", "u2", 43775),
      t("u2", "u3", 43775),
      t("u3", "u1", 43775),
      t("c", "t", 16777215),
      t("p", "c", 3355443),
      t("cn1", "cn2", 3355443),
      t("cn3", "cn4", 3355443),
      t("cf1", "cf2", 3355443),
      t("cf3", "cf4", 3355443),
      THREE.Line.call(this, r, n, THREE.LinePieces),
      (this.camera = e),
      (this.matrix = e.matrixWorld),
      (this.matrixAutoUpdate = !1),
      (this.pointMap = o),
      this.update();
  }),
  (THREE.CameraHelper.prototype = Object.create(THREE.Line.prototype)),
  (THREE.CameraHelper.prototype.constructor = THREE.CameraHelper),
  (THREE.CameraHelper.prototype.update = (function () {
    var e,
      t,
      i = new THREE.Vector3(),
      r = new THREE.Camera(),
      n = function (n, o, a, s) {
        if ((i.set(o, a, s).unproject(r), (n = t[n]), void 0 !== n))
          for (o = 0, a = n.length; a > o; o++) e.vertices[n[o]].copy(i);
      };
    return function () {
      (e = this.geometry),
        (t = this.pointMap),
        r.projectionMatrix.copy(this.camera.projectionMatrix),
        n("c", 0, 0, -1),
        n("t", 0, 0, 1),
        n("n1", -1, -1, -1),
        n("n2", 1, -1, -1),
        n("n3", -1, 1, -1),
        n("n4", 1, 1, -1),
        n("f1", -1, -1, 1),
        n("f2", 1, -1, 1),
        n("f3", -1, 1, 1),
        n("f4", 1, 1, 1),
        n("u1", 0.7, 1.1, -1),
        n("u2", -0.7, 1.1, -1),
        n("u3", 0, 2, -1),
        n("cf1", -1, 0, 1),
        n("cf2", 1, 0, 1),
        n("cf3", 0, -1, 1),
        n("cf4", 0, 1, 1),
        n("cn1", -1, 0, -1),
        n("cn2", 1, 0, -1),
        n("cn3", 0, -1, -1),
        n("cn4", 0, 1, -1),
        (e.verticesNeedUpdate = !0);
    };
  })()),
  (THREE.DirectionalLightHelper = function (e, t) {
    THREE.Object3D.call(this),
      (this.light = e),
      this.light.updateMatrixWorld(),
      (this.matrix = e.matrixWorld),
      (this.matrixAutoUpdate = !1),
      (t = t || 1);
    var i = new THREE.Geometry();
    i.vertices.push(
      new THREE.Vector3(-t, t, 0),
      new THREE.Vector3(t, t, 0),
      new THREE.Vector3(t, -t, 0),
      new THREE.Vector3(-t, -t, 0),
      new THREE.Vector3(-t, t, 0)
    );
    var r = new THREE.LineBasicMaterial({ fog: !1 });
    r.color.copy(this.light.color).multiplyScalar(this.light.intensity),
      (this.lightPlane = new THREE.Line(i, r)),
      this.add(this.lightPlane),
      (i = new THREE.Geometry()),
      i.vertices.push(new THREE.Vector3(), new THREE.Vector3()),
      (r = new THREE.LineBasicMaterial({ fog: !1 })),
      r.color.copy(this.light.color).multiplyScalar(this.light.intensity),
      (this.targetLine = new THREE.Line(i, r)),
      this.add(this.targetLine),
      this.update();
  }),
  (THREE.DirectionalLightHelper.prototype = Object.create(
    THREE.Object3D.prototype
  )),
  (THREE.DirectionalLightHelper.prototype.constructor =
    THREE.DirectionalLightHelper),
  (THREE.DirectionalLightHelper.prototype.dispose = function () {
    this.lightPlane.geometry.dispose(),
      this.lightPlane.material.dispose(),
      this.targetLine.geometry.dispose(),
      this.targetLine.material.dispose();
  }),
  (THREE.DirectionalLightHelper.prototype.update = (function () {
    var e = new THREE.Vector3(),
      t = new THREE.Vector3(),
      i = new THREE.Vector3();
    return function () {
      e.setFromMatrixPosition(this.light.matrixWorld),
        t.setFromMatrixPosition(this.light.target.matrixWorld),
        i.subVectors(t, e),
        this.lightPlane.lookAt(i),
        this.lightPlane.material.color
          .copy(this.light.color)
          .multiplyScalar(this.light.intensity),
        this.targetLine.geometry.vertices[1].copy(i),
        (this.targetLine.geometry.verticesNeedUpdate = !0),
        this.targetLine.material.color.copy(this.lightPlane.material.color);
    };
  })()),
  (THREE.EdgesHelper = function (e, t, i) {
    (t = void 0 !== t ? t : 16777215),
      (i = Math.cos(THREE.Math.degToRad(void 0 !== i ? i : 1)));
    var r,
      n = [0, 0],
      o = {},
      a = function (e, t) {
        return e - t;
      },
      s = ["a", "b", "c"],
      l = new THREE.BufferGeometry();
    e.geometry instanceof THREE.BufferGeometry
      ? ((r = new THREE.Geometry()), r.fromBufferGeometry(e.geometry))
      : (r = e.geometry.clone()),
      r.mergeVertices(),
      r.computeFaceNormals();
    var h = r.vertices;
    r = r.faces;
    for (var c = 0, u = 0, d = r.length; d > u; u++)
      for (var f = r[u], p = 0; 3 > p; p++) {
        (n[0] = f[s[p]]), (n[1] = f[s[(p + 1) % 3]]), n.sort(a);
        var m = n.toString();
        void 0 === o[m]
          ? ((o[m] = { vert1: n[0], vert2: n[1], face1: u, face2: void 0 }),
            c++)
          : (o[m].face2 = u);
      }
    (n = new Float32Array(6 * c)), (a = 0);
    for (m in o)
      (s = o[m]),
        (void 0 === s.face2 || r[s.face1].normal.dot(r[s.face2].normal) <= i) &&
          ((c = h[s.vert1]),
          (n[a++] = c.x),
          (n[a++] = c.y),
          (n[a++] = c.z),
          (c = h[s.vert2]),
          (n[a++] = c.x),
          (n[a++] = c.y),
          (n[a++] = c.z));
    l.addAttribute("position", new THREE.BufferAttribute(n, 3)),
      THREE.Line.call(
        this,
        l,
        new THREE.LineBasicMaterial({ color: t }),
        THREE.LinePieces
      ),
      (this.matrix = e.matrixWorld),
      (this.matrixAutoUpdate = !1);
  }),
  (THREE.EdgesHelper.prototype = Object.create(THREE.Line.prototype)),
  (THREE.EdgesHelper.prototype.constructor = THREE.EdgesHelper),
  (THREE.FaceNormalsHelper = function (e, t, i, r) {
    (this.object = e),
      (this.size = void 0 !== t ? t : 1),
      (e = void 0 !== i ? i : 16776960),
      (r = void 0 !== r ? r : 1),
      (t = new THREE.Geometry()),
      (i = 0);
    for (var n = this.object.geometry.faces.length; n > i; i++)
      t.vertices.push(new THREE.Vector3(), new THREE.Vector3());
    THREE.Line.call(
      this,
      t,
      new THREE.LineBasicMaterial({ color: e, linewidth: r }),
      THREE.LinePieces
    ),
      (this.matrixAutoUpdate = !1),
      (this.normalMatrix = new THREE.Matrix3()),
      this.update();
  }),
  (THREE.FaceNormalsHelper.prototype = Object.create(THREE.Line.prototype)),
  (THREE.FaceNormalsHelper.prototype.constructor = THREE.FaceNormalsHelper),
  (THREE.FaceNormalsHelper.prototype.update = function () {
    var e = this.geometry.vertices,
      t = this.object,
      i = t.geometry.vertices,
      r = t.geometry.faces,
      n = t.matrixWorld;
    t.updateMatrixWorld(!0), this.normalMatrix.getNormalMatrix(n);
    for (var o = (t = 0), a = r.length; a > t; t++, o += 2) {
      var s = r[t];
      e[o].copy(i[s.a]).add(i[s.b]).add(i[s.c]).divideScalar(3).applyMatrix4(n),
        e[o + 1]
          .copy(s.normal)
          .applyMatrix3(this.normalMatrix)
          .normalize()
          .multiplyScalar(this.size)
          .add(e[o]);
    }
    return (this.geometry.verticesNeedUpdate = !0), this;
  }),
  (THREE.GridHelper = function (e, t) {
    var i = new THREE.Geometry(),
      r = new THREE.LineBasicMaterial({ vertexColors: THREE.VertexColors });
    (this.color1 = new THREE.Color(4473924)),
      (this.color2 = new THREE.Color(8947848));
    for (var n = -e; e >= n; n += t) {
      i.vertices.push(
        new THREE.Vector3(-e, 0, n),
        new THREE.Vector3(e, 0, n),
        new THREE.Vector3(n, 0, -e),
        new THREE.Vector3(n, 0, e)
      );
      var o = 0 === n ? this.color1 : this.color2;
      i.colors.push(o, o, o, o);
    }
    THREE.Line.call(this, i, r, THREE.LinePieces);
  }),
  (THREE.GridHelper.prototype = Object.create(THREE.Line.prototype)),
  (THREE.GridHelper.prototype.constructor = THREE.GridHelper),
  (THREE.GridHelper.prototype.setColors = function (e, t) {
    this.color1.set(e),
      this.color2.set(t),
      (this.geometry.colorsNeedUpdate = !0);
  }),
  (THREE.HemisphereLightHelper = function (e, t) {
    THREE.Object3D.call(this),
      (this.light = e),
      this.light.updateMatrixWorld(),
      (this.matrix = e.matrixWorld),
      (this.matrixAutoUpdate = !1),
      (this.colors = [new THREE.Color(), new THREE.Color()]);
    var i = new THREE.SphereGeometry(t, 4, 2);
    i.applyMatrix(new THREE.Matrix4().makeRotationX(-Math.PI / 2));
    for (var r = 0; 8 > r; r++) i.faces[r].color = this.colors[4 > r ? 0 : 1];
    (r = new THREE.MeshBasicMaterial({
      vertexColors: THREE.FaceColors,
      wireframe: !0,
    })),
      (this.lightSphere = new THREE.Mesh(i, r)),
      this.add(this.lightSphere),
      this.update();
  }),
  (THREE.HemisphereLightHelper.prototype = Object.create(
    THREE.Object3D.prototype
  )),
  (THREE.HemisphereLightHelper.prototype.constructor =
    THREE.HemisphereLightHelper),
  (THREE.HemisphereLightHelper.prototype.dispose = function () {
    this.lightSphere.geometry.dispose(), this.lightSphere.material.dispose();
  }),
  (THREE.HemisphereLightHelper.prototype.update = (function () {
    var e = new THREE.Vector3();
    return function () {
      this.colors[0]
        .copy(this.light.color)
        .multiplyScalar(this.light.intensity),
        this.colors[1]
          .copy(this.light.groundColor)
          .multiplyScalar(this.light.intensity),
        this.lightSphere.lookAt(
          e.setFromMatrixPosition(this.light.matrixWorld).negate()
        ),
        (this.lightSphere.geometry.colorsNeedUpdate = !0);
    };
  })()),
  (THREE.PointLightHelper = function (e, t) {
    (this.light = e), this.light.updateMatrixWorld();
    var i = new THREE.SphereGeometry(t, 4, 2),
      r = new THREE.MeshBasicMaterial({ wireframe: !0, fog: !1 });
    r.color.copy(this.light.color).multiplyScalar(this.light.intensity),
      THREE.Mesh.call(this, i, r),
      (this.matrix = this.light.matrixWorld),
      (this.matrixAutoUpdate = !1);
  }),
  (THREE.PointLightHelper.prototype = Object.create(THREE.Mesh.prototype)),
  (THREE.PointLightHelper.prototype.constructor = THREE.PointLightHelper),
  (THREE.PointLightHelper.prototype.dispose = function () {
    this.geometry.dispose(), this.material.dispose();
  }),
  (THREE.PointLightHelper.prototype.update = function () {
    this.material.color
      .copy(this.light.color)
      .multiplyScalar(this.light.intensity);
  }),
  (THREE.SkeletonHelper = function (e) {
    this.bones = this.getBoneList(e);
    for (var t = new THREE.Geometry(), i = 0; i < this.bones.length; i++)
      this.bones[i].parent instanceof THREE.Bone &&
        (t.vertices.push(new THREE.Vector3()),
        t.vertices.push(new THREE.Vector3()),
        t.colors.push(new THREE.Color(0, 0, 1)),
        t.colors.push(new THREE.Color(0, 1, 0)));
    (i = new THREE.LineBasicMaterial({
      vertexColors: THREE.VertexColors,
      depthTest: !1,
      depthWrite: !1,
      transparent: !0,
    })),
      THREE.Line.call(this, t, i, THREE.LinePieces),
      (this.root = e),
      (this.matrix = e.matrixWorld),
      (this.matrixAutoUpdate = !1),
      this.update();
  }),
  (THREE.SkeletonHelper.prototype = Object.create(THREE.Line.prototype)),
  (THREE.SkeletonHelper.prototype.constructor = THREE.SkeletonHelper),
  (THREE.SkeletonHelper.prototype.getBoneList = function (e) {
    var t = [];
    e instanceof THREE.Bone && t.push(e);
    for (var i = 0; i < e.children.length; i++)
      t.push.apply(t, this.getBoneList(e.children[i]));
    return t;
  }),
  (THREE.SkeletonHelper.prototype.update = function () {
    for (
      var e = this.geometry,
        t = new THREE.Matrix4().getInverse(this.root.matrixWorld),
        i = new THREE.Matrix4(),
        r = 0,
        n = 0;
      n < this.bones.length;
      n++
    ) {
      var o = this.bones[n];
      o.parent instanceof THREE.Bone &&
        (i.multiplyMatrices(t, o.matrixWorld),
        e.vertices[r].setFromMatrixPosition(i),
        i.multiplyMatrices(t, o.parent.matrixWorld),
        e.vertices[r + 1].setFromMatrixPosition(i),
        (r += 2));
    }
    (e.verticesNeedUpdate = !0), e.computeBoundingSphere();
  }),
  (THREE.SpotLightHelper = function (e) {
    THREE.Object3D.call(this),
      (this.light = e),
      this.light.updateMatrixWorld(),
      (this.matrix = e.matrixWorld),
      (this.matrixAutoUpdate = !1),
      (e = new THREE.CylinderGeometry(0, 1, 1, 8, 1, !0)),
      e.applyMatrix(new THREE.Matrix4().makeTranslation(0, -0.5, 0)),
      e.applyMatrix(new THREE.Matrix4().makeRotationX(-Math.PI / 2));
    var t = new THREE.MeshBasicMaterial({ wireframe: !0, fog: !1 });
    (this.cone = new THREE.Mesh(e, t)), this.add(this.cone), this.update();
  }),
  (THREE.SpotLightHelper.prototype = Object.create(THREE.Object3D.prototype)),
  (THREE.SpotLightHelper.prototype.constructor = THREE.SpotLightHelper),
  (THREE.SpotLightHelper.prototype.dispose = function () {
    this.cone.geometry.dispose(), this.cone.material.dispose();
  }),
  (THREE.SpotLightHelper.prototype.update = (function () {
    var e = new THREE.Vector3(),
      t = new THREE.Vector3();
    return function () {
      var i = this.light.distance ? this.light.distance : 1e4,
        r = i * Math.tan(this.light.angle);
      this.cone.scale.set(r, r, i),
        e.setFromMatrixPosition(this.light.matrixWorld),
        t.setFromMatrixPosition(this.light.target.matrixWorld),
        this.cone.lookAt(t.sub(e)),
        this.cone.material.color
          .copy(this.light.color)
          .multiplyScalar(this.light.intensity);
    };
  })()),
  (THREE.VertexNormalsHelper = function (e, t, i, r) {
    (this.object = e),
      (this.size = void 0 !== t ? t : 1),
      (t = void 0 !== i ? i : 16711680),
      (r = void 0 !== r ? r : 1),
      (i = new THREE.Geometry()),
      (e = e.geometry.faces);
    for (var n = 0, o = e.length; o > n; n++)
      for (var a = 0, s = e[n].vertexNormals.length; s > a; a++)
        i.vertices.push(new THREE.Vector3(), new THREE.Vector3());
    THREE.Line.call(
      this,
      i,
      new THREE.LineBasicMaterial({ color: t, linewidth: r }),
      THREE.LinePieces
    ),
      (this.matrixAutoUpdate = !1),
      (this.normalMatrix = new THREE.Matrix3()),
      this.update();
  }),
  (THREE.VertexNormalsHelper.prototype = Object.create(THREE.Line.prototype)),
  (THREE.VertexNormalsHelper.prototype.constructor = THREE.VertexNormalsHelper),
  (THREE.VertexNormalsHelper.prototype.update = (function (e) {
    var t = new THREE.Vector3();
    return function (e) {
      (e = ["a", "b", "c", "d"]),
        this.object.updateMatrixWorld(!0),
        this.normalMatrix.getNormalMatrix(this.object.matrixWorld);
      for (
        var i = this.geometry.vertices,
          r = this.object.geometry.vertices,
          n = this.object.geometry.faces,
          o = this.object.matrixWorld,
          a = 0,
          s = 0,
          l = n.length;
        l > s;
        s++
      )
        for (var h = n[s], c = 0, u = h.vertexNormals.length; u > c; c++) {
          var d = h.vertexNormals[c];
          i[a].copy(r[h[e[c]]]).applyMatrix4(o),
            t
              .copy(d)
              .applyMatrix3(this.normalMatrix)
              .normalize()
              .multiplyScalar(this.size),
            t.add(i[a]),
            (a += 1),
            i[a].copy(t),
            (a += 1);
        }
      return (this.geometry.verticesNeedUpdate = !0), this;
    };
  })()),
  (THREE.VertexTangentsHelper = function (e, t, i, r) {
    (this.object = e),
      (this.size = void 0 !== t ? t : 1),
      (t = void 0 !== i ? i : 255),
      (r = void 0 !== r ? r : 1),
      (i = new THREE.Geometry()),
      (e = e.geometry.faces);
    for (var n = 0, o = e.length; o > n; n++)
      for (var a = 0, s = e[n].vertexTangents.length; s > a; a++)
        i.vertices.push(new THREE.Vector3()),
          i.vertices.push(new THREE.Vector3());
    THREE.Line.call(
      this,
      i,
      new THREE.LineBasicMaterial({ color: t, linewidth: r }),
      THREE.LinePieces
    ),
      (this.matrixAutoUpdate = !1),
      this.update();
  }),
  (THREE.VertexTangentsHelper.prototype = Object.create(THREE.Line.prototype)),
  (THREE.VertexTangentsHelper.prototype.constructor =
    THREE.VertexTangentsHelper),
  (THREE.VertexTangentsHelper.prototype.update = (function (e) {
    var t = new THREE.Vector3();
    return function (e) {
      (e = ["a", "b", "c", "d"]), this.object.updateMatrixWorld(!0);
      for (
        var i = this.geometry.vertices,
          r = this.object.geometry.vertices,
          n = this.object.geometry.faces,
          o = this.object.matrixWorld,
          a = 0,
          s = 0,
          l = n.length;
        l > s;
        s++
      )
        for (var h = n[s], c = 0, u = h.vertexTangents.length; u > c; c++) {
          var d = h.vertexTangents[c];
          i[a].copy(r[h[e[c]]]).applyMatrix4(o),
            t.copy(d).transformDirection(o).multiplyScalar(this.size),
            t.add(i[a]),
            (a += 1),
            i[a].copy(t),
            (a += 1);
        }
      return (this.geometry.verticesNeedUpdate = !0), this;
    };
  })()),
  (THREE.WireframeHelper = function (e, t) {
    var i = void 0 !== t ? t : 16777215,
      r = [0, 0],
      n = {},
      o = function (e, t) {
        return e - t;
      },
      a = ["a", "b", "c"],
      s = new THREE.BufferGeometry();
    if (e.geometry instanceof THREE.Geometry) {
      for (
        var l = e.geometry.vertices,
          h = e.geometry.faces,
          c = 0,
          u = new Uint32Array(6 * h.length),
          d = 0,
          f = h.length;
        f > d;
        d++
      )
        for (var p = h[d], m = 0; 3 > m; m++) {
          (r[0] = p[a[m]]), (r[1] = p[a[(m + 1) % 3]]), r.sort(o);
          var g = r.toString();
          void 0 === n[g] &&
            ((u[2 * c] = r[0]), (u[2 * c + 1] = r[1]), (n[g] = !0), c++);
        }
      for (r = new Float32Array(6 * c), d = 0, f = c; f > d; d++)
        for (m = 0; 2 > m; m++)
          (c = l[u[2 * d + m]]),
            (a = 6 * d + 3 * m),
            (r[a + 0] = c.x),
            (r[a + 1] = c.y),
            (r[a + 2] = c.z);
      s.addAttribute("position", new THREE.BufferAttribute(r, 3));
    } else if (e.geometry instanceof THREE.BufferGeometry) {
      if (void 0 !== e.geometry.attributes.index) {
        (l = e.geometry.attributes.position.array),
          (f = e.geometry.attributes.index.array),
          (h = e.geometry.drawcalls),
          (c = 0),
          0 === h.length && (h = [{ count: f.length, index: 0, start: 0 }]);
        for (
          var u = new Uint32Array(2 * f.length), p = 0, E = h.length;
          E > p;
          ++p
        )
          for (
            var m = h[p].start,
              g = h[p].count,
              a = h[p].index,
              d = m,
              v = m + g;
            v > d;
            d += 3
          )
            for (m = 0; 3 > m; m++)
              (r[0] = a + f[d + m]),
                (r[1] = a + f[d + ((m + 1) % 3)]),
                r.sort(o),
                (g = r.toString()),
                void 0 === n[g] &&
                  ((u[2 * c] = r[0]), (u[2 * c + 1] = r[1]), (n[g] = !0), c++);
        for (r = new Float32Array(6 * c), d = 0, f = c; f > d; d++)
          for (m = 0; 2 > m; m++)
            (a = 6 * d + 3 * m),
              (c = 3 * u[2 * d + m]),
              (r[a + 0] = l[c]),
              (r[a + 1] = l[c + 1]),
              (r[a + 2] = l[c + 2]);
      } else
        for (
          l = e.geometry.attributes.position.array,
            c = l.length / 3,
            u = c / 3,
            r = new Float32Array(6 * c),
            d = 0,
            f = u;
          f > d;
          d++
        )
          for (m = 0; 3 > m; m++)
            (a = 18 * d + 6 * m),
              (u = 9 * d + 3 * m),
              (r[a + 0] = l[u]),
              (r[a + 1] = l[u + 1]),
              (r[a + 2] = l[u + 2]),
              (c = 9 * d + ((m + 1) % 3) * 3),
              (r[a + 3] = l[c]),
              (r[a + 4] = l[c + 1]),
              (r[a + 5] = l[c + 2]);
      s.addAttribute("position", new THREE.BufferAttribute(r, 3));
    }
    THREE.Line.call(
      this,
      s,
      new THREE.LineBasicMaterial({ color: i }),
      THREE.LinePieces
    ),
      (this.matrix = e.matrixWorld),
      (this.matrixAutoUpdate = !1);
  }),
  (THREE.WireframeHelper.prototype = Object.create(THREE.Line.prototype)),
  (THREE.WireframeHelper.prototype.constructor = THREE.WireframeHelper),
  (THREE.ImmediateRenderObject = function () {
    THREE.Object3D.call(this), (this.render = function (e) {});
  }),
  (THREE.ImmediateRenderObject.prototype = Object.create(
    THREE.Object3D.prototype
  )),
  (THREE.ImmediateRenderObject.prototype.constructor =
    THREE.ImmediateRenderObject),
  (THREE.MorphBlendMesh = function (e, t) {
    THREE.Mesh.call(this, e, t),
      (this.animationsMap = {}),
      (this.animationsList = []);
    var i = this.geometry.morphTargets.length;
    this.createAnimation("__default", 0, i - 1, i / 1),
      this.setAnimationWeight("__default", 1);
  }),
  (THREE.MorphBlendMesh.prototype = Object.create(THREE.Mesh.prototype)),
  (THREE.MorphBlendMesh.prototype.constructor = THREE.MorphBlendMesh),
  (THREE.MorphBlendMesh.prototype.createAnimation = function (e, t, i, r) {
    (t = {
      startFrame: t,
      endFrame: i,
      length: i - t + 1,
      fps: r,
      duration: (i - t) / r,
      lastFrame: 0,
      currentFrame: 0,
      active: !1,
      time: 0,
      direction: 1,
      weight: 1,
      directionBackwards: !1,
      mirroredLoop: !1,
    }),
      (this.animationsMap[e] = t),
      this.animationsList.push(t);
  }),
  (THREE.MorphBlendMesh.prototype.autoCreateAnimations = function (e) {
    for (
      var t,
        i = /([a-z]+)_?(\d+)/,
        r = {},
        n = this.geometry,
        o = 0,
        a = n.morphTargets.length;
      a > o;
      o++
    ) {
      var s = n.morphTargets[o].name.match(i);
      if (s && 1 < s.length) {
        var l = s[1];
        r[l] || (r[l] = { start: 1 / 0, end: -(1 / 0) }),
          (s = r[l]),
          o < s.start && (s.start = o),
          o > s.end && (s.end = o),
          t || (t = l);
      }
    }
    for (l in r) (s = r[l]), this.createAnimation(l, s.start, s.end, e);
    this.firstAnimation = t;
  }),
  (THREE.MorphBlendMesh.prototype.setAnimationDirectionForward = function (e) {
    (e = this.animationsMap[e]) &&
      ((e.direction = 1), (e.directionBackwards = !1));
  }),
  (THREE.MorphBlendMesh.prototype.setAnimationDirectionBackward = function (e) {
    (e = this.animationsMap[e]) &&
      ((e.direction = -1), (e.directionBackwards = !0));
  }),
  (THREE.MorphBlendMesh.prototype.setAnimationFPS = function (e, t) {
    var i = this.animationsMap[e];
    i && ((i.fps = t), (i.duration = (i.end - i.start) / i.fps));
  }),
  (THREE.MorphBlendMesh.prototype.setAnimationDuration = function (e, t) {
    var i = this.animationsMap[e];
    i && ((i.duration = t), (i.fps = (i.end - i.start) / i.duration));
  }),
  (THREE.MorphBlendMesh.prototype.setAnimationWeight = function (e, t) {
    var i = this.animationsMap[e];
    i && (i.weight = t);
  }),
  (THREE.MorphBlendMesh.prototype.setAnimationTime = function (e, t) {
    var i = this.animationsMap[e];
    i && (i.time = t);
  }),
  (THREE.MorphBlendMesh.prototype.getAnimationTime = function (e) {
    var t = 0;
    return (e = this.animationsMap[e]) && (t = e.time), t;
  }),
  (THREE.MorphBlendMesh.prototype.getAnimationDuration = function (e) {
    var t = -1;
    return (e = this.animationsMap[e]) && (t = e.duration), t;
  }),
  (THREE.MorphBlendMesh.prototype.playAnimation = function (e) {
    var t = this.animationsMap[e];
    t
      ? ((t.time = 0), (t.active = !0))
      : THREE.warn(
          "THREE.MorphBlendMesh: animation[" +
            e +
            "] undefined in .playAnimation()"
        );
  }),
  (THREE.MorphBlendMesh.prototype.stopAnimation = function (e) {
    (e = this.animationsMap[e]) && (e.active = !1);
  }),
  (THREE.MorphBlendMesh.prototype.update = function (e) {
    for (var t = 0, i = this.animationsList.length; i > t; t++) {
      var r = this.animationsList[t];
      if (r.active) {
        var n = r.duration / r.length;
        (r.time += r.direction * e),
          r.mirroredLoop
            ? (r.time > r.duration || 0 > r.time) &&
              ((r.direction *= -1),
              r.time > r.duration &&
                ((r.time = r.duration), (r.directionBackwards = !0)),
              0 > r.time && ((r.time = 0), (r.directionBackwards = !1)))
            : ((r.time %= r.duration), 0 > r.time && (r.time += r.duration));
        var o =
            r.startFrame +
            THREE.Math.clamp(Math.floor(r.time / n), 0, r.length - 1),
          a = r.weight;
        o !== r.currentFrame &&
          ((this.morphTargetInfluences[r.lastFrame] = 0),
          (this.morphTargetInfluences[r.currentFrame] = 1 * a),
          (this.morphTargetInfluences[o] = 0),
          (r.lastFrame = r.currentFrame),
          (r.currentFrame = o)),
          (n = (r.time % n) / n),
          r.directionBackwards && (n = 1 - n),
          (this.morphTargetInfluences[r.currentFrame] = n * a),
          (this.morphTargetInfluences[r.lastFrame] = (1 - n) * a);
      }
    }
  }),
  define(
    "three",
    (function (e) {
      return function () {
        var t;
        return t || e.THREE;
      };
    })(this)
  ),
  define("text", ["module"], function (e) {
    "use strict";
    var t,
      i,
      r,
      n,
      o,
      a = ["Msxml2.XMLHTTP", "Microsoft.XMLHTTP", "Msxml2.XMLHTTP.4.0"],
      s = /^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,
      l = /<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,
      h = "undefined" != typeof location && location.href,
      c = h && location.protocol && location.protocol.replace(/\:/, ""),
      u = h && location.hostname,
      d = h && (location.port || void 0),
      f = {},
      p = (e.config && e.config()) || {};
    return (
      (t = {
        version: "2.0.10",
        strip: function (e) {
          if (e) {
            e = e.replace(s, "");
            var t = e.match(l);
            t && (e = t[1]);
          } else e = "";
          return e;
        },
        jsEscape: function (e) {
          return e
            .replace(/(['\\])/g, "\\$1")
            .replace(/[\f]/g, "\\f")
            .replace(/[\b]/g, "\\b")
            .replace(/[\n]/g, "\\n")
            .replace(/[\t]/g, "\\t")
            .replace(/[\r]/g, "\\r")
            .replace(/[\u2028]/g, "\\u2028")
            .replace(/[\u2029]/g, "\\u2029");
        },
        createXhr:
          p.createXhr ||
          function () {
            var e, t, i;
            if ("undefined" != typeof XMLHttpRequest)
              return new XMLHttpRequest();
            if ("undefined" != typeof ActiveXObject)
              for (t = 0; 3 > t; t += 1) {
                i = a[t];
                try {
                  e = new ActiveXObject(i);
                } catch (r) {}
                if (e) {
                  a = [i];
                  break;
                }
              }
            return e;
          },
        parseName: function (e) {
          var t,
            i,
            r,
            n = !1,
            o = e.indexOf("."),
            a = 0 === e.indexOf("./") || 0 === e.indexOf("../");
          return (
            -1 !== o && (!a || o > 1)
              ? ((t = e.substring(0, o)), (i = e.substring(o + 1, e.length)))
              : (t = e),
            (r = i || t),
            (o = r.indexOf("!")),
            -1 !== o &&
              ((n = "strip" === r.substring(o + 1)),
              (r = r.substring(0, o)),
              i ? (i = r) : (t = r)),
            { moduleName: t, ext: i, strip: n }
          );
        },
        xdRegExp: /^((\w+)\:)?\/\/([^\/\\]+)/,
        useXhr: function (e, i, r, n) {
          var o,
            a,
            s,
            l = t.xdRegExp.exec(e);
          return l
            ? ((o = l[2]),
              (a = l[3]),
              (a = a.split(":")),
              (s = a[1]),
              (a = a[0]),
              !(
                (o && o !== i) ||
                (a && a.toLowerCase() !== r.toLowerCase()) ||
                ((s || a) && s !== n)
              ))
            : !0;
        },
        finishLoad: function (e, i, r, n) {
          (r = i ? t.strip(r) : r), p.isBuild && (f[e] = r), n(r);
        },
        load: function (e, i, r, n) {
          if (n.isBuild && !n.inlineText) return void r();
          p.isBuild = n.isBuild;
          var o = t.parseName(e),
            a = o.moduleName + (o.ext ? "." + o.ext : ""),
            s = i.toUrl(a),
            l = p.useXhr || t.useXhr;
          return 0 === s.indexOf("empty:")
            ? void r()
            : void (!h || l(s, c, u, d)
                ? t.get(
                    s,
                    function (i) {
                      t.finishLoad(e, o.strip, i, r);
                    },
                    function (e) {
                      r.error && r.error(e);
                    }
                  )
                : i([a], function (e) {
                    t.finishLoad(o.moduleName + "." + o.ext, o.strip, e, r);
                  }));
        },
        write: function (e, i, r, n) {
          if (f.hasOwnProperty(i)) {
            var o = t.jsEscape(f[i]);
            r.asModule(
              e + "!" + i,
              "define(function () { return '" + o + "';});\n"
            );
          }
        },
        writeFile: function (e, i, r, n, o) {
          var a = t.parseName(i),
            s = a.ext ? "." + a.ext : "",
            l = a.moduleName + s,
            h = r.toUrl(a.moduleName + s) + ".js";
          t.load(
            l,
            r,
            function (i) {
              var r = function (e) {
                return n(h, e);
              };
              (r.asModule = function (e, t) {
                return n.asModule(e, h, t);
              }),
                t.write(e, l, r, o);
            },
            o
          );
        },
      }),
      "node" === p.env ||
      (!p.env &&
        "undefined" != typeof process &&
        process.versions &&
        process.versions.node &&
        !process.versions["node-webkit"])
        ? ((i = require.nodeRequire("fs")),
          (t.get = function (e, t, r) {
            try {
              var n = i.readFileSync(e, "utf8");
              0 === n.indexOf("\ufeff") && (n = n.substring(1)), t(n);
            } catch (o) {
              r(o);
            }
          }))
        : "xhr" === p.env || (!p.env && t.createXhr())
        ? (t.get = function (e, i, r, n) {
            var o,
              a = t.createXhr();
            if ((a.open("GET", e, !0), n))
              for (o in n)
                n.hasOwnProperty(o) &&
                  a.setRequestHeader(o.toLowerCase(), n[o]);
            p.onXhr && p.onXhr(a, e),
              (a.onreadystatechange = function (t) {
                var n, o;
                4 === a.readyState &&
                  ((n = a.status),
                  n > 399 && 600 > n
                    ? ((o = new Error(e + " HTTP status: " + n)),
                      (o.xhr = a),
                      r(o))
                    : i(a.responseText),
                  p.onXhrComplete && p.onXhrComplete(a, e));
              }),
              a.send(null);
          })
        : "rhino" === p.env ||
          (!p.env &&
            "undefined" != typeof Packages &&
            "undefined" != typeof java)
        ? (t.get = function (e, t) {
            var i,
              r,
              n = "utf-8",
              o = new java.io.File(e),
              a = java.lang.System.getProperty("line.separator"),
              s = new java.io.BufferedReader(
                new java.io.InputStreamReader(new java.io.FileInputStream(o), n)
              ),
              l = "";
            try {
              for (
                i = new java.lang.StringBuffer(),
                  r = s.readLine(),
                  r &&
                    r.length() &&
                    65279 === r.charAt(0) &&
                    (r = r.substring(1)),
                  null !== r && i.append(r);
                null !== (r = s.readLine());

              )
                i.append(a), i.append(r);
              l = String(i.toString());
            } finally {
              s.close();
            }
            t(l);
          })
        : ("xpconnect" === p.env ||
            (!p.env &&
              "undefined" != typeof Components &&
              Components.classes &&
              Components.interfaces)) &&
          ((r = Components.classes),
          (n = Components.interfaces),
          Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),
          (o = "@mozilla.org/windows-registry-key;1" in r),
          (t.get = function (e, t) {
            var i,
              a,
              s,
              l = {};
            o && (e = e.replace(/\//g, "\\")), (s = new FileUtils.File(e));
            try {
              (i = r["@mozilla.org/network/file-input-stream;1"].createInstance(
                n.nsIFileInputStream
              )),
                i.init(s, 1, 0, !1),
                (a = r[
                  "@mozilla.org/intl/converter-input-stream;1"
                ].createInstance(n.nsIConverterInputStream)),
                a.init(
                  i,
                  "utf-8",
                  i.available(),
                  n.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER
                ),
                a.readString(i.available(), l),
                a.close(),
                i.close(),
                t(l.value);
            } catch (h) {
              throw new Error(((s && s.path) || "") + ": " + h);
            }
          })),
      t
    );
  }),
  define("text!shaders/frag.glsl", [], function () {
    return "uniform int buzzyMode;\nuniform float entrance;\nvarying float alphaOne;\n//varying float particleAnimateInAlpha;\n\nvoid main() {\n	//fade particles out they are animated in\n    if(alphaOne > 0.){\n        gl_FragColor = vec4(1. * entrance, 1. *entrance, 1.*entrance, 0.6);\n//        gl_FragColor = vec4(1., 1., 1., 1.);\n            //gl_FragColor = vec4(1.* entrance * particleAnimateInAlpha, 1.* entrance * particleAnimateInAlpha, 1. * entrance * particleAnimateInAlpha, 1. * particleAnimateInAlpha);\n    }\n    else{\n        gl_FragColor = vec4(1.*entrance, 1.*entrance, 1.*entrance, 0.4);\n        //gl_FragColor = vec4(1. * particleAnimateInAlpha, 1. * particleAnimateInAlpha, 1. * particleAnimateInAlpha, 0.8);\n    }\n\n}";
  }),
  define("text!shaders/vert.glsl", [], function () {
    return "//uniform vec2 mousePos;\nattribute float randomSize;\nattribute vec2 particleIndex;\nuniform sampler2D positionTexture;\nuniform sampler2D origPosTexture;\nuniform float time;\nuniform int buzzyMode;\nuniform float pointSize;\nuniform int randomPointSize;\n\nvarying float alphaOne;\n//varying float particleAnimateInAlpha;\n\nfloat maxDist = 1.;\nint home = 0;\n\nfloat rand(vec2 co){\n    return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\n\nvec3 getNewPosition(){\n\n        vec4 newPos = texture2D(positionTexture, particleIndex);\n\n        //to fix alpha error, maybe put in attribute(would be nicer, don't have to do texture lookup)\n        vec4 origPos = texture2D(origPosTexture, particleIndex);\n\n        //fade particle out if starting award behind z = 0\n//        particleAnimateInAlpha = min(1.0, (newPos.z + 0.1) / 0.075);\n        //particleAnimateInAlpha = 0.2 + 0.8 * min(1.0, (newPos.z + 0.1) / 0.05);\n        //particleAnimateInAlpha = 1.0 - newPos.z / -0.1;\n\n        if(distance(newPos.xy, origPos.xy) < 0.1){\n            newPos.y += rand(particleIndex) * 0.008;\n            home = 1;\n            alphaOne = 1.;\n        }\n        else{\n            alphaOne = 0.;\n        }\n\n            return vec3(newPos.xy, 0.);\n\n}\n\nvoid main() {\n    vec3 newPos = getNewPosition();\n\n//    if(home == 1){\n//        gl_PointSize = pointSize;\n//    }\n     if(randomPointSize == 1){\n        gl_PointSize = randomSize;\n    }\n    else{\n        gl_PointSize = pointSize;\n    }\n\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(newPos, 1.0);\n}";
  }),
  define("text!shaders/position_frag.glsl", [], function () {
    return "varying vec2 uvPosition;\n\nuniform sampler2D texture;\nuniform sampler2D accelerationTexture;\nuniform sampler2D randomTextureX;\nuniform sampler2D originalPosition;\nuniform int resetParticles;\nuniform float easeInMultiplier;\nuniform float maxUVX;\nuniform float maxUVY;\nuniform float posOffset;\n\nuniform float tweenValue;\nuniform float tValue;\n\nuniform float maxDist;\nuniform vec2 randomOffset;\n\nuniform vec2 mousePos;\nuniform float randomVal;\n\nuniform float time;\n\nvec4 mod289(vec4 x)\n{\n    return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute(vec4 x)\n{\n    return mod289(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt(vec4 r)\n{\n    return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nvec2 fade(vec2 t) {\n    return t*t*t*(t*(t*6.0-15.0)+10.0);\n}\n\n// Classic Perlin noise\nfloat cnoise(vec2 P)\n{\n    vec4 Pi = floor(P.xyxy) + vec4(0.0, 0.0, 1.0, 1.0);\n    vec4 Pf = fract(P.xyxy) - vec4(0.0, 0.0, 1.0, 1.0);\n    Pi = mod289(Pi); // To avoid truncation effects in permutation\n    vec4 ix = Pi.xzxz;\n    vec4 iy = Pi.yyww;\n    vec4 fx = Pf.xzxz;\n    vec4 fy = Pf.yyww;\n\n    vec4 i = permute(permute(ix) + iy);\n\n    vec4 gx = fract(i * (1.0 / 41.0)) * 2.0 - 1.0 ;\n    vec4 gy = abs(gx) - 0.5 ;\n    vec4 tx = floor(gx + 0.5);\n    gx = gx - tx;\n\n    vec2 g00 = vec2(gx.x,gy.x);\n    vec2 g10 = vec2(gx.y,gy.y);\n    vec2 g01 = vec2(gx.z,gy.z);\n    vec2 g11 = vec2(gx.w,gy.w);\n\n    vec4 norm = taylorInvSqrt(vec4(dot(g00, g00), dot(g01, g01), dot(g10, g10), dot(g11, g11)));\n    g00 *= norm.x;\n    g01 *= norm.y;\n    g10 *= norm.z;\n    g11 *= norm.w;\n\n    float n00 = dot(g00, vec2(fx.x, fy.x));\n    float n10 = dot(g10, vec2(fx.y, fy.y));\n    float n01 = dot(g01, vec2(fx.z, fy.z));\n    float n11 = dot(g11, vec2(fx.w, fy.w));\n\n    vec2 fade_xy = fade(Pf.xy);\n    vec2 n_x = mix(vec2(n00, n01), vec2(n10, n11), fade_xy.x);\n    float n_xy = mix(n_x.x, n_x.y, fade_xy.y);\n    return 2.3 * n_xy;\n}\n\n// Classic Perlin noise, periodic variant\nfloat pnoise(vec2 P, vec2 rep)\n{\n    vec4 Pi = floor(P.xyxy) + vec4(0.0, 0.0, 1.0, 1.0);\n    vec4 Pf = fract(P.xyxy) - vec4(0.0, 0.0, 1.0, 1.0);\n    Pi = mod(Pi, rep.xyxy); // To create noise with explicit period\n    Pi = mod289(Pi);        // To avoid truncation effects in permutation\n    vec4 ix = Pi.xzxz;\n    vec4 iy = Pi.yyww;\n    vec4 fx = Pf.xzxz;\n    vec4 fy = Pf.yyww;\n\n    vec4 i = permute(permute(ix) + iy);\n\n    vec4 gx = fract(i * (1.0 / 41.0)) * 2.0 - 1.0 ;\n    vec4 gy = abs(gx) - 0.5 ;\n    vec4 tx = floor(gx + 0.5);\n    gx = gx - tx;\n\n    vec2 g00 = vec2(gx.x,gy.x);\n    vec2 g10 = vec2(gx.y,gy.y);\n    vec2 g01 = vec2(gx.z,gy.z);\n    vec2 g11 = vec2(gx.w,gy.w);\n\n    vec4 norm = taylorInvSqrt(vec4(dot(g00, g00), dot(g01, g01), dot(g10, g10), dot(g11, g11)));\n    g00 *= norm.x;\n    g01 *= norm.y;\n    g10 *= norm.z;\n    g11 *= norm.w;\n\n    float n00 = dot(g00, vec2(fx.x, fy.x));\n    float n10 = dot(g10, vec2(fx.y, fy.y));\n    float n01 = dot(g01, vec2(fx.z, fy.z));\n    float n11 = dot(g11, vec2(fx.w, fy.w));\n\n    vec2 fade_xy = fade(Pf.xy);\n    vec2 n_x = mix(vec2(n00, n01), vec2(n10, n11), fade_xy.x);\n    float n_xy = mix(n_x.x, n_x.y, fade_xy.y);\n    return 2.3 * n_xy;\n}\n\nfloat random( vec2 p )\n{\n  // We need irrationals for pseudo randomness.\n  // Most (all?) known transcendental numbers will (generally) work.\n  const vec2 r = vec2(\n    23.1406926327792690,  // e^pi (Gelfond's constant)\n     2.6651441426902251); // 2^sqrt(2) (Gelfondâ€“Schneider constant)\n  return fract( cos( mod( 123456789., 1e-7 + 256. * dot(p,r) ) ) );\n}\n\n\n\n//  float dx = mouseX - rectposX;\n//  float dy = mouseY - rectposY;\n//  float dlsq = dx*dx+dy*dy; // note no sqrt() - need a nonlinear measure\n//  float overall_speed = 1000; // adjust this for \"feel\"\n//  float t = 1.0 / dlsq * overall_speed; // t is smaller when dlsq is bigger\n//  if (t > 1.0) t = 1.0; // gotta clamp when very close else it'll explode\n//  rectposX = lerp(rectposX, mouseX, t);\n//  rectposY = lerp(rectposY, mouseY, t);\n\n\n//put reset logic in here as it is the position texture\nvec4 resetPosition(vec4 origPos){\n\n    vec4 pos = texture2D(texture, uvPosition);\n    vec4 randomV = texture2D(randomTextureX, uvPosition);\n    vec4 pos2 = origPos;\n\n    vec3 diff = pos2.xyz - pos.xyz;\n    //float diffZ =  pos2.z - pos.z; //not used?\n    float rand = random(pos.xy);\n\n    float randomOffset = sin(pnoise(pos2.xy, pos.xy * 30.));\n//    float randomOffset = sin(pnoise(randomV.yz, randomV.xy) * 2.) + sin(pos.x * 2.);\n//    float randomOffset2 = sin(cnoise(pos2.xy * pos.xy * 0.4) * 3.14/2.2);\n\n//    float r = random(t * randomVal) * sin(pos.x) * sin(pos2.y);\n\n//    diff *= randomOffset/10.;\n    diff *= 0.4 + sin(randomOffset * 0.25);\n\n    //float dist = distance(pos, pos2);\n    float dist = distance(pos.xy, pos2.xy);\n\n//    float r = random(t * randomVal) * sin(pos.x) * sin(pos2.y);\n\n    //dist += (pos.x + 5.0) * 0.5;\n\n    //lengthen gravity distance threshold more for particles on the right (so they take longer before they animate in)\n    //dist *= max(1.0, (pos.x + 5.0) * 0.7);\n    dist += max(0.0, (pos.x + 3.0) * 0.25);\n    //dist += max(0.0, (pos.x + 5.0) * 0.15);\n    //dist *= max(1.0, (pos.x + 5.0) * 0.3);\n    //dist *= max(0.5, 1.0 - (pos.x + 5.0) * 0.1);\n\n    //dist *= (pos.x + 5.0) * 0.3;\n\n    float curMaxDist = maxDist + 10.0 * (random(pos2.xy + pos.xy) - 0.5);\n\n    if(dist < maxDist){\n        pos.xyz += diff * 0.3;//0.4;\n    }\n\n    return pos;\n}\n\nvec4 addAcceleration(){\n    vec4 pos = texture2D(texture, uvPosition);\n    vec4 acceleration = texture2D(accelerationTexture, uvPosition);\n    pos.xy += acceleration.xy;\n    return pos;\n}\n\nvoid main() {\n    vec4 origPos= texture2D(originalPosition, uvPosition);\n    vec4 pos;\n\n    if(resetParticles == 1){\n        pos = resetPosition(origPos);\n    }\n    else{\n        pos = addAcceleration();\n    }\n\n    gl_FragColor = pos;\n}";
  }),
  define("text!shaders/position_vert.glsl", [], function () {
    return "uniform vec2 mousePos;\nvarying vec2 uvPosition;\n//attribute float randomSize;\n//attribute vec2 particleIndex;\n\nfloat maxDist = 1.;\n\nvoid main() {\n\n    uvPosition = uv;\n\n//    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n    gl_Position = vec4(position, 1.);\n}";
  });
var dat = dat || {};
(dat.gui = dat.gui || {}),
  (dat.utils = dat.utils || {}),
  (dat.controllers = dat.controllers || {}),
  (dat.dom = dat.dom || {}),
  (dat.color = dat.color || {}),
  (dat.utils.css = (function () {
    return {
      load: function (e, t) {
        t = t || document;
        var i = t.createElement("link");
        (i.type = "text/css"),
          (i.rel = "stylesheet"),
          (i.href = e),
          t.getElementsByTagName("head")[0].appendChild(i);
      },
      inject: function (e, t) {
        t = t || document;
        var i = document.createElement("style");
        (i.type = "text/css"),
          (i.innerHTML = e),
          t.getElementsByTagName("head")[0].appendChild(i);
      },
    };
  })()),
  (dat.utils.common = (function () {
    var e = Array.prototype.forEach,
      t = Array.prototype.slice;
    return {
      BREAK: {},
      extend: function (e) {
        return (
          this.each(
            t.call(arguments, 1),
            function (t) {
              for (var i in t) this.isUndefined(t[i]) || (e[i] = t[i]);
            },
            this
          ),
          e
        );
      },
      defaults: function (e) {
        return (
          this.each(
            t.call(arguments, 1),
            function (t) {
              for (var i in t) this.isUndefined(e[i]) && (e[i] = t[i]);
            },
            this
          ),
          e
        );
      },
      compose: function () {
        var e = t.call(arguments);
        return function () {
          for (var i = t.call(arguments), r = e.length - 1; r >= 0; r--)
            i = [e[r].apply(this, i)];
          return i[0];
        };
      },
      each: function (t, i, r) {
        if (t)
          if (e && t.forEach && t.forEach === e) t.forEach(i, r);
          else if (t.length === t.length + 0)
            for (
              var n = 0, o = t.length;
              o > n && !(n in t && i.call(r, t[n], n) === this.BREAK);
              n++
            );
          else for (n in t) if (i.call(r, t[n], n) === this.BREAK) break;
      },
      defer: function (e) {
        setTimeout(e, 0);
      },
      toArray: function (e) {
        return e.toArray ? e.toArray() : t.call(e);
      },
      isUndefined: function (e) {
        return void 0 === e;
      },
      isNull: function (e) {
        return null === e;
      },
      isNaN: function (e) {
        return e !== e;
      },
      isArray:
        Array.isArray ||
        function (e) {
          return e.constructor === Array;
        },
      isObject: function (e) {
        return e === Object(e);
      },
      isNumber: function (e) {
        return e === e + 0;
      },
      isString: function (e) {
        return e === e + "";
      },
      isBoolean: function (e) {
        return !1 === e || !0 === e;
      },
      isFunction: function (e) {
        return "[object Function]" === Object.prototype.toString.call(e);
      },
    };
  })()),
  (dat.controllers.Controller = (function (e) {
    var t = function (e, t) {
      (this.initialValue = e[t]),
        (this.domElement = document.createElement("div")),
        (this.object = e),
        (this.property = t),
        (this.__onFinishChange = this.__onChange = void 0);
    };
    return (
      e.extend(t.prototype, {
        onChange: function (e) {
          return (this.__onChange = e), this;
        },
        onFinishChange: function (e) {
          return (this.__onFinishChange = e), this;
        },
        setValue: function (e) {
          return (
            (this.object[this.property] = e),
            this.__onChange && this.__onChange.call(this, e),
            this.updateDisplay(),
            this
          );
        },
        getValue: function () {
          return this.object[this.property];
        },
        updateDisplay: function () {
          return this;
        },
        isModified: function () {
          return this.initialValue !== this.getValue();
        },
      }),
      t
    );
  })(dat.utils.common)),
  (dat.dom.dom = (function (e) {
    function t(t) {
      return "0" === t || e.isUndefined(t)
        ? 0
        : ((t = t.match(r)), e.isNull(t) ? 0 : parseFloat(t[1]));
    }
    var i = {};
    e.each(
      {
        HTMLEvents: ["change"],
        MouseEvents: [
          "click",
          "mousemove",
          "mousedown",
          "mouseup",
          "mouseover",
        ],
        KeyboardEvents: ["keydown"],
      },
      function (t, r) {
        e.each(t, function (e) {
          i[e] = r;
        });
      }
    );
    var r = /(\d+(\.\d+)?)px/,
      n = {
        makeSelectable: function (e, t) {
          void 0 !== e &&
            void 0 !== e.style &&
            ((e.onselectstart = t
              ? function () {
                  return !1;
                }
              : function () {}),
            (e.style.MozUserSelect = t ? "auto" : "none"),
            (e.style.KhtmlUserSelect = t ? "auto" : "none"),
            (e.unselectable = t ? "on" : "off"));
        },
        makeFullscreen: function (t, i, r) {
          e.isUndefined(i) && (i = !0),
            e.isUndefined(r) && (r = !0),
            (t.style.position = "absolute"),
            i && ((t.style.left = 0), (t.style.right = 0)),
            r && ((t.style.top = 0), (t.style.bottom = 0));
        },
        fakeEvent: function (t, r, n, o) {
          n = n || {};
          var a = i[r];
          if (!a) throw Error("Event type " + r + " not supported.");
          var s = document.createEvent(a);
          switch (a) {
            case "MouseEvents":
              s.initMouseEvent(
                r,
                n.bubbles || !1,
                n.cancelable || !0,
                window,
                n.clickCount || 1,
                0,
                0,
                n.x || n.clientX || 0,
                n.y || n.clientY || 0,
                !1,
                !1,
                !1,
                !1,
                0,
                null
              );
              break;
            case "KeyboardEvents":
              (a = s.initKeyboardEvent || s.initKeyEvent),
                e.defaults(n, {
                  cancelable: !0,
                  ctrlKey: !1,
                  altKey: !1,
                  shiftKey: !1,
                  metaKey: !1,
                  keyCode: void 0,
                  charCode: void 0,
                }),
                a(
                  r,
                  n.bubbles || !1,
                  n.cancelable,
                  window,
                  n.ctrlKey,
                  n.altKey,
                  n.shiftKey,
                  n.metaKey,
                  n.keyCode,
                  n.charCode
                );
              break;
            default:
              s.initEvent(r, n.bubbles || !1, n.cancelable || !0);
          }
          e.defaults(s, o), t.dispatchEvent(s);
        },
        bind: function (e, t, i, r) {
          return (
            e.addEventListener
              ? e.addEventListener(t, i, r || !1)
              : e.attachEvent && e.attachEvent("on" + t, i),
            n
          );
        },
        unbind: function (e, t, i, r) {
          return (
            e.removeEventListener
              ? e.removeEventListener(t, i, r || !1)
              : e.detachEvent && e.detachEvent("on" + t, i),
            n
          );
        },
        addClass: function (e, t) {
          if (void 0 === e.className) e.className = t;
          else if (e.className !== t) {
            var i = e.className.split(/ +/);
            -1 == i.indexOf(t) &&
              (i.push(t),
              (e.className = i
                .join(" ")
                .replace(/^\s+/, "")
                .replace(/\s+$/, "")));
          }
          return n;
        },
        removeClass: function (e, t) {
          if (t) {
            if (void 0 !== e.className)
              if (e.className === t) e.removeAttribute("class");
              else {
                var i = e.className.split(/ +/),
                  r = i.indexOf(t);
                -1 != r && (i.splice(r, 1), (e.className = i.join(" ")));
              }
          } else e.className = void 0;
          return n;
        },
        hasClass: function (e, t) {
          return (
            new RegExp("(?:^|\\s+)" + t + "(?:\\s+|$)").test(e.className) || !1
          );
        },
        getWidth: function (e) {
          return (
            (e = getComputedStyle(e)),
            t(e["border-left-width"]) +
              t(e["border-right-width"]) +
              t(e["padding-left"]) +
              t(e["padding-right"]) +
              t(e.width)
          );
        },
        getHeight: function (e) {
          return (
            (e = getComputedStyle(e)),
            t(e["border-top-width"]) +
              t(e["border-bottom-width"]) +
              t(e["padding-top"]) +
              t(e["padding-bottom"]) +
              t(e.height)
          );
        },
        getOffset: function (e) {
          var t = { left: 0, top: 0 };
          if (e.offsetParent)
            do (t.left += e.offsetLeft), (t.top += e.offsetTop);
            while ((e = e.offsetParent));
          return t;
        },
        isActive: function (e) {
          return e === document.activeElement && (e.type || e.href);
        },
      };
    return n;
  })(dat.utils.common)),
  (dat.controllers.OptionController = (function (e, t, i) {
    var r = function (e, n, o) {
      r.superclass.call(this, e, n);
      var a = this;
      if (((this.__select = document.createElement("select")), i.isArray(o))) {
        var s = {};
        i.each(o, function (e) {
          s[e] = e;
        }),
          (o = s);
      }
      i.each(o, function (e, t) {
        var i = document.createElement("option");
        (i.innerHTML = t),
          i.setAttribute("value", e),
          a.__select.appendChild(i);
      }),
        this.updateDisplay(),
        t.bind(this.__select, "change", function () {
          a.setValue(this.options[this.selectedIndex].value);
        }),
        this.domElement.appendChild(this.__select);
    };
    return (
      (r.superclass = e),
      i.extend(r.prototype, e.prototype, {
        setValue: function (e) {
          return (
            (e = r.superclass.prototype.setValue.call(this, e)),
            this.__onFinishChange &&
              this.__onFinishChange.call(this, this.getValue()),
            e
          );
        },
        updateDisplay: function () {
          return (
            (this.__select.value = this.getValue()),
            r.superclass.prototype.updateDisplay.call(this)
          );
        },
      }),
      r
    );
  })(dat.controllers.Controller, dat.dom.dom, dat.utils.common)),
  (dat.controllers.NumberController = (function (e, t) {
    function i(e) {
      return (
        (e = e.toString()),
        -1 < e.indexOf(".") ? e.length - e.indexOf(".") - 1 : 0
      );
    }
    var r = function (e, n, o) {
      r.superclass.call(this, e, n),
        (o = o || {}),
        (this.__min = o.min),
        (this.__max = o.max),
        (this.__step = o.step),
        t.isUndefined(this.__step)
          ? (this.__impliedStep =
              0 == this.initialValue
                ? 1
                : Math.pow(
                    10,
                    Math.floor(
                      Math.log(Math.abs(this.initialValue)) / Math.LN10
                    )
                  ) / 10)
          : (this.__impliedStep = this.__step),
        (this.__precision = i(this.__impliedStep));
    };
    return (
      (r.superclass = e),
      t.extend(r.prototype, e.prototype, {
        setValue: function (e) {
          return (
            void 0 !== this.__min && e < this.__min
              ? (e = this.__min)
              : void 0 !== this.__max && e > this.__max && (e = this.__max),
            void 0 !== this.__step &&
              0 != e % this.__step &&
              (e = Math.round(e / this.__step) * this.__step),
            r.superclass.prototype.setValue.call(this, e)
          );
        },
        min: function (e) {
          return (this.__min = e), this;
        },
        max: function (e) {
          return (this.__max = e), this;
        },
        step: function (e) {
          return (
            (this.__impliedStep = this.__step = e),
            (this.__precision = i(e)),
            this
          );
        },
      }),
      r
    );
  })(dat.controllers.Controller, dat.utils.common)),
  (dat.controllers.NumberControllerBox = (function (e, t, i) {
    var r = function (e, n, o) {
      function a() {
        var e = parseFloat(c.__input.value);
        i.isNaN(e) || c.setValue(e);
      }
      function s(e) {
        var t = h - e.clientY;
        c.setValue(c.getValue() + t * c.__impliedStep), (h = e.clientY);
      }
      function l() {
        t.unbind(window, "mousemove", s), t.unbind(window, "mouseup", l);
      }
      (this.__truncationSuspended = !1), r.superclass.call(this, e, n, o);
      var h,
        c = this;
      (this.__input = document.createElement("input")),
        this.__input.setAttribute("type", "text"),
        t.bind(this.__input, "change", a),
        t.bind(this.__input, "blur", function () {
          a(), c.__onFinishChange && c.__onFinishChange.call(c, c.getValue());
        }),
        t.bind(this.__input, "mousedown", function (e) {
          t.bind(window, "mousemove", s),
            t.bind(window, "mouseup", l),
            (h = e.clientY);
        }),
        t.bind(this.__input, "keydown", function (e) {
          13 === e.keyCode &&
            ((c.__truncationSuspended = !0),
            this.blur(),
            (c.__truncationSuspended = !1));
        }),
        this.updateDisplay(),
        this.domElement.appendChild(this.__input);
    };
    return (
      (r.superclass = e),
      i.extend(r.prototype, e.prototype, {
        updateDisplay: function () {
          var e,
            t = this.__input;
          if (this.__truncationSuspended) e = this.getValue();
          else {
            e = this.getValue();
            var i = Math.pow(10, this.__precision);
            e = Math.round(e * i) / i;
          }
          return (t.value = e), r.superclass.prototype.updateDisplay.call(this);
        },
      }),
      r
    );
  })(dat.controllers.NumberController, dat.dom.dom, dat.utils.common)),
  (dat.controllers.NumberControllerSlider = (function (e, t, i, r, n) {
    function o(e, t, i, r, n) {
      return r + ((e - t) / (i - t)) * (n - r);
    }
    var a = function (e, i, r, n, s) {
      function l(e) {
        e.preventDefault();
        var i = t.getOffset(c.__background),
          r = t.getWidth(c.__background);
        return (
          c.setValue(o(e.clientX, i.left, i.left + r, c.__min, c.__max)), !1
        );
      }
      function h() {
        t.unbind(window, "mousemove", l),
          t.unbind(window, "mouseup", h),
          c.__onFinishChange && c.__onFinishChange.call(c, c.getValue());
      }
      a.superclass.call(this, e, i, { min: r, max: n, step: s });
      var c = this;
      (this.__background = document.createElement("div")),
        (this.__foreground = document.createElement("div")),
        t.bind(this.__background, "mousedown", function (e) {
          t.bind(window, "mousemove", l), t.bind(window, "mouseup", h), l(e);
        }),
        t.addClass(this.__background, "slider"),
        t.addClass(this.__foreground, "slider-fg"),
        this.updateDisplay(),
        this.__background.appendChild(this.__foreground),
        this.domElement.appendChild(this.__background);
    };
    return (
      (a.superclass = e),
      (a.useDefaultStyles = function () {
        i.inject(n);
      }),
      r.extend(a.prototype, e.prototype, {
        updateDisplay: function () {
          var e = (this.getValue() - this.__min) / (this.__max - this.__min);
          return (
            (this.__foreground.style.width = 100 * e + "%"),
            a.superclass.prototype.updateDisplay.call(this)
          );
        },
      }),
      a
    );
  })(
    dat.controllers.NumberController,
    dat.dom.dom,
    dat.utils.css,
    dat.utils.common,
    "/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\n.slider {\n  box-shadow: inset 0 2px 4px rgba(0,0,0,0.15);\n  height: 1em;\n  border-radius: 1em;\n  background-color: #eee;\n  padding: 0 0.5em;\n  overflow: hidden;\n}\n\n.slider-fg {\n  padding: 1px 0 2px 0;\n  background-color: #aaa;\n  height: 1em;\n  margin-left: -0.5em;\n  padding-right: 0.5em;\n  border-radius: 1em 0 0 1em;\n}\n\n.slider-fg:after {\n  display: inline-block;\n  border-radius: 1em;\n  background-color: #fff;\n  border:  1px solid #aaa;\n  content: '';\n  float: right;\n  margin-right: -1em;\n  margin-top: -1px;\n  height: 0.9em;\n  width: 0.9em;\n}"
  )),
  (dat.controllers.FunctionController = (function (e, t, i) {
    var r = function (e, i, n) {
      r.superclass.call(this, e, i);
      var o = this;
      (this.__button = document.createElement("div")),
        (this.__button.innerHTML = void 0 === n ? "Fire" : n),
        t.bind(this.__button, "click", function (e) {
          return e.preventDefault(), o.fire(), !1;
        }),
        t.addClass(this.__button, "button"),
        this.domElement.appendChild(this.__button);
    };
    return (
      (r.superclass = e),
      i.extend(r.prototype, e.prototype, {
        fire: function () {
          this.__onChange && this.__onChange.call(this),
            this.getValue().call(this.object),
            this.__onFinishChange &&
              this.__onFinishChange.call(this, this.getValue());
        },
      }),
      r
    );
  })(dat.controllers.Controller, dat.dom.dom, dat.utils.common)),
  (dat.controllers.BooleanController = (function (e, t, i) {
    var r = function (e, i) {
      r.superclass.call(this, e, i);
      var n = this;
      (this.__prev = this.getValue()),
        (this.__checkbox = document.createElement("input")),
        this.__checkbox.setAttribute("type", "checkbox"),
        t.bind(
          this.__checkbox,
          "change",
          function () {
            n.setValue(!n.__prev);
          },
          !1
        ),
        this.domElement.appendChild(this.__checkbox),
        this.updateDisplay();
    };
    return (
      (r.superclass = e),
      i.extend(r.prototype, e.prototype, {
        setValue: function (e) {
          return (
            (e = r.superclass.prototype.setValue.call(this, e)),
            this.__onFinishChange &&
              this.__onFinishChange.call(this, this.getValue()),
            (this.__prev = this.getValue()),
            e
          );
        },
        updateDisplay: function () {
          return (
            !0 === this.getValue()
              ? (this.__checkbox.setAttribute("checked", "checked"),
                (this.__checkbox.checked = !0))
              : (this.__checkbox.checked = !1),
            r.superclass.prototype.updateDisplay.call(this)
          );
        },
      }),
      r
    );
  })(dat.controllers.Controller, dat.dom.dom, dat.utils.common)),
  (dat.color.toString = (function (e) {
    return function (t) {
      if (1 == t.a || e.isUndefined(t.a)) {
        for (t = t.hex.toString(16); 6 > t.length; ) t = "0" + t;
        return "#" + t;
      }
      return (
        "rgba(" +
        Math.round(t.r) +
        "," +
        Math.round(t.g) +
        "," +
        Math.round(t.b) +
        "," +
        t.a +
        ")"
      );
    };
  })(dat.utils.common)),
  (dat.color.interpret = (function (e, t) {
    var i,
      r,
      n = [
        {
          litmus: t.isString,
          conversions: {
            THREE_CHAR_HEX: {
              read: function (e) {
                return (
                  (e = e.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i)),
                  null === e
                    ? !1
                    : {
                        space: "HEX",
                        hex: parseInt(
                          "0x" +
                            e[1].toString() +
                            e[1].toString() +
                            e[2].toString() +
                            e[2].toString() +
                            e[3].toString() +
                            e[3].toString()
                        ),
                      }
                );
              },
              write: e,
            },
            SIX_CHAR_HEX: {
              read: function (e) {
                return (
                  (e = e.match(/^#([A-F0-9]{6})$/i)),
                  null === e
                    ? !1
                    : { space: "HEX", hex: parseInt("0x" + e[1].toString()) }
                );
              },
              write: e,
            },
            CSS_RGB: {
              read: function (e) {
                return (
                  (e = e.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/)),
                  null === e
                    ? !1
                    : {
                        space: "RGB",
                        r: parseFloat(e[1]),
                        g: parseFloat(e[2]),
                        b: parseFloat(e[3]),
                      }
                );
              },
              write: e,
            },
            CSS_RGBA: {
              read: function (e) {
                return (
                  (e = e.match(
                    /^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\,\s*(.+)\s*\)/
                  )),
                  null === e
                    ? !1
                    : {
                        space: "RGB",
                        r: parseFloat(e[1]),
                        g: parseFloat(e[2]),
                        b: parseFloat(e[3]),
                        a: parseFloat(e[4]),
                      }
                );
              },
              write: e,
            },
          },
        },
        {
          litmus: t.isNumber,
          conversions: {
            HEX: {
              read: function (e) {
                return { space: "HEX", hex: e, conversionName: "HEX" };
              },
              write: function (e) {
                return e.hex;
              },
            },
          },
        },
        {
          litmus: t.isArray,
          conversions: {
            RGB_ARRAY: {
              read: function (e) {
                return 3 != e.length
                  ? !1
                  : { space: "RGB", r: e[0], g: e[1], b: e[2] };
              },
              write: function (e) {
                return [e.r, e.g, e.b];
              },
            },
            RGBA_ARRAY: {
              read: function (e) {
                return 4 != e.length
                  ? !1
                  : { space: "RGB", r: e[0], g: e[1], b: e[2], a: e[3] };
              },
              write: function (e) {
                return [e.r, e.g, e.b, e.a];
              },
            },
          },
        },
        {
          litmus: t.isObject,
          conversions: {
            RGBA_OBJ: {
              read: function (e) {
                return t.isNumber(e.r) &&
                  t.isNumber(e.g) &&
                  t.isNumber(e.b) &&
                  t.isNumber(e.a)
                  ? { space: "RGB", r: e.r, g: e.g, b: e.b, a: e.a }
                  : !1;
              },
              write: function (e) {
                return { r: e.r, g: e.g, b: e.b, a: e.a };
              },
            },
            RGB_OBJ: {
              read: function (e) {
                return t.isNumber(e.r) && t.isNumber(e.g) && t.isNumber(e.b)
                  ? { space: "RGB", r: e.r, g: e.g, b: e.b }
                  : !1;
              },
              write: function (e) {
                return { r: e.r, g: e.g, b: e.b };
              },
            },
            HSVA_OBJ: {
              read: function (e) {
                return t.isNumber(e.h) &&
                  t.isNumber(e.s) &&
                  t.isNumber(e.v) &&
                  t.isNumber(e.a)
                  ? { space: "HSV", h: e.h, s: e.s, v: e.v, a: e.a }
                  : !1;
              },
              write: function (e) {
                return { h: e.h, s: e.s, v: e.v, a: e.a };
              },
            },
            HSV_OBJ: {
              read: function (e) {
                return t.isNumber(e.h) && t.isNumber(e.s) && t.isNumber(e.v)
                  ? { space: "HSV", h: e.h, s: e.s, v: e.v }
                  : !1;
              },
              write: function (e) {
                return { h: e.h, s: e.s, v: e.v };
              },
            },
          },
        },
      ];
    return function () {
      r = !1;
      var e = 1 < arguments.length ? t.toArray(arguments) : arguments[0];
      return (
        t.each(n, function (n) {
          return n.litmus(e)
            ? (t.each(n.conversions, function (n, o) {
                return (
                  (i = n.read(e)),
                  !1 === r && !1 !== i
                    ? ((r = i),
                      (i.conversionName = o),
                      (i.conversion = n),
                      t.BREAK)
                    : void 0
                );
              }),
              t.BREAK)
            : void 0;
        }),
        r
      );
    };
  })(dat.color.toString, dat.utils.common)),
  (dat.GUI = dat.gui.GUI =
    (function (e, t, i, r, n, o, a, s, l, h, c, u, d, f, p) {
      function m(e, t, i, o) {
        if (void 0 === t[i])
          throw Error("Object " + t + ' has no property "' + i + '"');
        o.color
          ? (t = new c(t, i))
          : ((t = [t, i].concat(o.factoryArgs)), (t = r.apply(e, t))),
          o.before instanceof n && (o.before = o.before.__li),
          v(e, t),
          f.addClass(t.domElement, "c"),
          (i = document.createElement("span")),
          f.addClass(i, "property-name"),
          (i.innerHTML = t.property);
        var a = document.createElement("div");
        return (
          a.appendChild(i),
          a.appendChild(t.domElement),
          (o = g(e, a, o.before)),
          f.addClass(o, D.CLASS_CONTROLLER_ROW),
          f.addClass(o, typeof t.getValue()),
          E(e, o, t),
          e.__controllers.push(t),
          t
        );
      }
      function g(e, t, i) {
        var r = document.createElement("li");
        return (
          t && r.appendChild(t),
          i ? e.__ul.insertBefore(r, params.before) : e.__ul.appendChild(r),
          e.onResize(),
          r
        );
      }
      function E(e, t, i) {
        if (
          ((i.__li = t),
          (i.__gui = e),
          p.extend(i, {
            options: function (t) {
              return 1 < arguments.length
                ? (i.remove(),
                  m(e, i.object, i.property, {
                    before: i.__li.nextElementSibling,
                    factoryArgs: [p.toArray(arguments)],
                  }))
                : p.isArray(t) || p.isObject(t)
                ? (i.remove(),
                  m(e, i.object, i.property, {
                    before: i.__li.nextElementSibling,
                    factoryArgs: [t],
                  }))
                : void 0;
            },
            name: function (e) {
              return (
                (i.__li.firstElementChild.firstElementChild.innerHTML = e), i
              );
            },
            listen: function () {
              return i.__gui.listen(i), i;
            },
            remove: function () {
              return i.__gui.remove(i), i;
            },
          }),
          i instanceof l)
        ) {
          var r = new s(i.object, i.property, {
            min: i.__min,
            max: i.__max,
            step: i.__step,
          });
          p.each(["updateDisplay", "onChange", "onFinishChange"], function (e) {
            var t = i[e],
              n = r[e];
            i[e] = r[e] = function () {
              var e = Array.prototype.slice.call(arguments);
              return t.apply(i, e), n.apply(r, e);
            };
          }),
            f.addClass(t, "has-slider"),
            i.domElement.insertBefore(
              r.domElement,
              i.domElement.firstElementChild
            );
        } else if (i instanceof s) {
          var n = function (t) {
            return p.isNumber(i.__min) && p.isNumber(i.__max)
              ? (i.remove(),
                m(e, i.object, i.property, {
                  before: i.__li.nextElementSibling,
                  factoryArgs: [i.__min, i.__max, i.__step],
                }))
              : t;
          };
          (i.min = p.compose(n, i.min)), (i.max = p.compose(n, i.max));
        } else
          i instanceof o
            ? (f.bind(t, "click", function () {
                f.fakeEvent(i.__checkbox, "click");
              }),
              f.bind(i.__checkbox, "click", function (e) {
                e.stopPropagation();
              }))
            : i instanceof a
            ? (f.bind(t, "click", function () {
                f.fakeEvent(i.__button, "click");
              }),
              f.bind(t, "mouseover", function () {
                f.addClass(i.__button, "hover");
              }),
              f.bind(t, "mouseout", function () {
                f.removeClass(i.__button, "hover");
              }))
            : i instanceof c &&
              (f.addClass(t, "color"),
              (i.updateDisplay = p.compose(function (e) {
                return (t.style.borderLeftColor = i.__color.toString()), e;
              }, i.updateDisplay)),
              i.updateDisplay());
        i.setValue = p.compose(function (t) {
          return (
            e.getRoot().__preset_select && i.isModified() && b(e.getRoot(), !0),
            t
          );
        }, i.setValue);
      }
      function v(e, t) {
        var i = e.getRoot(),
          r = i.__rememberedObjects.indexOf(t.object);
        if (-1 != r) {
          var n = i.__rememberedObjectIndecesToControllers[r];
          if (
            (void 0 === n &&
              ((n = {}), (i.__rememberedObjectIndecesToControllers[r] = n)),
            (n[t.property] = t),
            i.load && i.load.remembered)
          ) {
            if (((i = i.load.remembered), i[e.preset])) i = i[e.preset];
            else {
              if (!i.Default) return;
              i = i.Default;
            }
            i[r] &&
              void 0 !== i[r][t.property] &&
              ((r = i[r][t.property]), (t.initialValue = r), t.setValue(r));
          }
        }
      }
      function _(e) {
        var t = (e.__save_row = document.createElement("li"));
        f.addClass(e.domElement, "has-save"),
          e.__ul.insertBefore(t, e.__ul.firstChild),
          f.addClass(t, "save-row");
        var i = document.createElement("span");
        (i.innerHTML = "&nbsp;"), f.addClass(i, "button gears");
        var r = document.createElement("span");
        (r.innerHTML = "Save"), f.addClass(r, "button"), f.addClass(r, "save");
        var n = document.createElement("span");
        (n.innerHTML = "New"),
          f.addClass(n, "button"),
          f.addClass(n, "save-as");
        var o = document.createElement("span");
        (o.innerHTML = "Revert"),
          f.addClass(o, "button"),
          f.addClass(o, "revert");
        var a = (e.__preset_select = document.createElement("select"));
        if (
          (e.load && e.load.remembered
            ? p.each(e.load.remembered, function (t, i) {
                R(e, i, i == e.preset);
              })
            : R(e, "Default", !1),
          f.bind(a, "change", function () {
            for (var t = 0; t < e.__preset_select.length; t++)
              e.__preset_select[t].innerHTML = e.__preset_select[t].value;
            e.preset = this.value;
          }),
          t.appendChild(a),
          t.appendChild(i),
          t.appendChild(r),
          t.appendChild(n),
          t.appendChild(o),
          H)
        ) {
          var s = function () {
              l.style.display = e.useLocalStorage ? "block" : "none";
            },
            t = document.getElementById("dg-save-locally"),
            l = document.getElementById("dg-local-explain");
          (t.style.display = "block"),
            (t = document.getElementById("dg-local-storage")),
            "true" ===
              localStorage.getItem(document.location.href + ".isLocal") &&
              t.setAttribute("checked", "checked"),
            s(),
            f.bind(t, "change", function () {
              (e.useLocalStorage = !e.useLocalStorage), s();
            });
        }
        var h = document.getElementById("dg-new-constructor");
        f.bind(h, "keydown", function (e) {
          !e.metaKey || (67 !== e.which && 67 != e.keyCode) || A.hide();
        }),
          f.bind(i, "click", function () {
            (h.innerHTML = JSON.stringify(e.getSaveObject(), void 0, 2)),
              A.show(),
              h.focus(),
              h.select();
          }),
          f.bind(r, "click", function () {
            e.save();
          }),
          f.bind(n, "click", function () {
            var t = prompt("Enter a new preset name.");
            t && e.saveAs(t);
          }),
          f.bind(o, "click", function () {
            e.revert();
          });
      }
      function y(e) {
        function t(t) {
          return (
            t.preventDefault(),
            (n = t.clientX),
            f.addClass(e.__closeButton, D.CLASS_DRAG),
            f.bind(window, "mousemove", i),
            f.bind(window, "mouseup", r),
            !1
          );
        }
        function i(t) {
          return (
            t.preventDefault(),
            (e.width += n - t.clientX),
            e.onResize(),
            (n = t.clientX),
            !1
          );
        }
        function r() {
          f.removeClass(e.__closeButton, D.CLASS_DRAG),
            f.unbind(window, "mousemove", i),
            f.unbind(window, "mouseup", r);
        }
        (e.__resize_handle = document.createElement("div")),
          p.extend(e.__resize_handle.style, {
            width: "6px",
            marginLeft: "-3px",
            height: "200px",
            cursor: "ew-resize",
            position: "absolute",
          });
        var n;
        f.bind(e.__resize_handle, "mousedown", t),
          f.bind(e.__closeButton, "mousedown", t),
          e.domElement.insertBefore(
            e.__resize_handle,
            e.domElement.firstElementChild
          );
      }
      function T(e, t) {
        (e.domElement.style.width = t + "px"),
          e.__save_row && e.autoPlace && (e.__save_row.style.width = t + "px"),
          e.__closeButton && (e.__closeButton.style.width = t + "px");
      }
      function x(e, t) {
        var i = {};
        return (
          p.each(e.__rememberedObjects, function (r, n) {
            var o = {};
            p.each(
              e.__rememberedObjectIndecesToControllers[n],
              function (e, i) {
                o[i] = t ? e.initialValue : e.getValue();
              }
            ),
              (i[n] = o);
          }),
          i
        );
      }
      function R(e, t, i) {
        var r = document.createElement("option");
        (r.innerHTML = t),
          (r.value = t),
          e.__preset_select.appendChild(r),
          i && (e.__preset_select.selectedIndex = e.__preset_select.length - 1);
      }
      function b(e, t) {
        var i = e.__preset_select[e.__preset_select.selectedIndex];
        i.innerHTML = t ? i.value + "*" : i.value;
      }
      function w(e) {
        0 != e.length &&
          u(function () {
            w(e);
          }),
          p.each(e, function (e) {
            e.updateDisplay();
          });
      }
      e.inject(i);
      var H;
      try {
        H = "localStorage" in window && null !== window.localStorage;
      } catch (S) {
        H = !1;
      }
      var A,
        M,
        C = !0,
        P = !1,
        L = [],
        D = function (e) {
          function t() {
            var e = i.getRoot();
            (e.width += 1),
              p.defer(function () {
                --e.width;
              });
          }
          var i = this;
          (this.domElement = document.createElement("div")),
            (this.__ul = document.createElement("ul")),
            this.domElement.appendChild(this.__ul),
            f.addClass(this.domElement, "dg"),
            (this.__folders = {}),
            (this.__controllers = []),
            (this.__rememberedObjects = []),
            (this.__rememberedObjectIndecesToControllers = []),
            (this.__listening = []),
            (e = e || {}),
            (e = p.defaults(e, { autoPlace: !0, width: D.DEFAULT_WIDTH })),
            (e = p.defaults(e, {
              resizable: e.autoPlace,
              hideable: e.autoPlace,
            })),
            p.isUndefined(e.load)
              ? (e.load = { preset: "Default" })
              : e.preset && (e.load.preset = e.preset),
            p.isUndefined(e.parent) && e.hideable && L.push(this),
            (e.resizable = p.isUndefined(e.parent) && e.resizable),
            e.autoPlace && p.isUndefined(e.scrollable) && (e.scrollable = !0);
          var r,
            n =
              H &&
              "true" ===
                localStorage.getItem(document.location.href + ".isLocal");
          if (
            (Object.defineProperties(this, {
              parent: {
                get: function () {
                  return e.parent;
                },
              },
              scrollable: {
                get: function () {
                  return e.scrollable;
                },
              },
              autoPlace: {
                get: function () {
                  return e.autoPlace;
                },
              },
              preset: {
                get: function () {
                  return i.parent ? i.getRoot().preset : e.load.preset;
                },
                set: function (t) {
                  for (
                    i.parent ? (i.getRoot().preset = t) : (e.load.preset = t),
                      t = 0;
                    t < this.__preset_select.length;
                    t++
                  )
                    this.__preset_select[t].value == this.preset &&
                      (this.__preset_select.selectedIndex = t);
                  i.revert();
                },
              },
              width: {
                get: function () {
                  return e.width;
                },
                set: function (t) {
                  (e.width = t), T(i, t);
                },
              },
              name: {
                get: function () {
                  return e.name;
                },
                set: function (t) {
                  (e.name = t), a && (a.innerHTML = e.name);
                },
              },
              closed: {
                get: function () {
                  return e.closed;
                },
                set: function (t) {
                  (e.closed = t),
                    e.closed
                      ? f.addClass(i.__ul, D.CLASS_CLOSED)
                      : f.removeClass(i.__ul, D.CLASS_CLOSED),
                    this.onResize(),
                    i.__closeButton &&
                      (i.__closeButton.innerHTML = t
                        ? D.TEXT_OPEN
                        : D.TEXT_CLOSED);
                },
              },
              load: {
                get: function () {
                  return e.load;
                },
              },
              useLocalStorage: {
                get: function () {
                  return n;
                },
                set: function (e) {
                  H &&
                    ((n = e)
                      ? f.bind(window, "unload", r)
                      : f.unbind(window, "unload", r),
                    localStorage.setItem(
                      document.location.href + ".isLocal",
                      e
                    ));
                },
              },
            }),
            p.isUndefined(e.parent))
          ) {
            if (
              ((e.closed = !1),
              f.addClass(this.domElement, D.CLASS_MAIN),
              f.makeSelectable(this.domElement, !1),
              H && n)
            ) {
              i.useLocalStorage = !0;
              var o = localStorage.getItem(document.location.href + ".gui");
              o && (e.load = JSON.parse(o));
            }
            (this.__closeButton = document.createElement("div")),
              (this.__closeButton.innerHTML = D.TEXT_CLOSED),
              f.addClass(this.__closeButton, D.CLASS_CLOSE_BUTTON),
              this.domElement.appendChild(this.__closeButton),
              f.bind(this.__closeButton, "click", function () {
                i.closed = !i.closed;
              });
          } else {
            void 0 === e.closed && (e.closed = !0);
            var a = document.createTextNode(e.name);
            f.addClass(a, "controller-name"),
              (o = g(i, a)),
              f.addClass(this.__ul, D.CLASS_CLOSED),
              f.addClass(o, "title"),
              f.bind(o, "click", function (e) {
                return e.preventDefault(), (i.closed = !i.closed), !1;
              }),
              e.closed || (this.closed = !1);
          }
          e.autoPlace &&
            (p.isUndefined(e.parent) &&
              (C &&
                ((M = document.createElement("div")),
                f.addClass(M, "dg"),
                f.addClass(M, D.CLASS_AUTO_PLACE_CONTAINER),
                document.body.appendChild(M),
                (C = !1)),
              M.appendChild(this.domElement),
              f.addClass(this.domElement, D.CLASS_AUTO_PLACE)),
            this.parent || T(i, e.width)),
            f.bind(window, "resize", function () {
              i.onResize();
            }),
            f.bind(this.__ul, "webkitTransitionEnd", function () {
              i.onResize();
            }),
            f.bind(this.__ul, "transitionend", function () {
              i.onResize();
            }),
            f.bind(this.__ul, "oTransitionEnd", function () {
              i.onResize();
            }),
            this.onResize(),
            e.resizable && y(this),
            (this.saveToLocalStorageIfPossible = r =
              function () {
                H &&
                  "true" ===
                    localStorage.getItem(document.location.href + ".isLocal") &&
                  localStorage.setItem(
                    document.location.href + ".gui",
                    JSON.stringify(i.getSaveObject())
                  );
              }),
            i.getRoot(),
            e.parent || t();
        };
      return (
        (D.toggleHide = function () {
          (P = !P),
            p.each(L, function (e) {
              (e.domElement.style.zIndex = P ? -999 : 999),
                (e.domElement.style.opacity = P ? 0 : 1);
            });
        }),
        (D.CLASS_AUTO_PLACE = "a"),
        (D.CLASS_AUTO_PLACE_CONTAINER = "ac"),
        (D.CLASS_MAIN = "main"),
        (D.CLASS_CONTROLLER_ROW = "cr"),
        (D.CLASS_TOO_TALL = "taller-than-window"),
        (D.CLASS_CLOSED = "closed"),
        (D.CLASS_CLOSE_BUTTON = "close-button"),
        (D.CLASS_DRAG = "drag"),
        (D.DEFAULT_WIDTH = 245),
        (D.TEXT_CLOSED = "Close Controls"),
        (D.TEXT_OPEN = "Open Controls"),
        f.bind(
          window,
          "keydown",
          function (e) {
            "text" === document.activeElement.type ||
              (72 !== e.which && 72 != e.keyCode) ||
              D.toggleHide();
          },
          !1
        ),
        p.extend(D.prototype, {
          add: function (e, t) {
            return m(this, e, t, {
              factoryArgs: Array.prototype.slice.call(arguments, 2),
            });
          },
          addColor: function (e, t) {
            return m(this, e, t, { color: !0 });
          },
          remove: function (e) {
            this.__ul.removeChild(e.__li),
              this.__controllers.splice(this.__controllers.indexOf(e), 1);
            var t = this;
            p.defer(function () {
              t.onResize();
            });
          },
          destroy: function () {
            this.autoPlace && M.removeChild(this.domElement);
          },
          addFolder: function (e) {
            if (void 0 !== this.__folders[e])
              throw Error(
                'You already have a folder in this GUI by the name "' + e + '"'
              );
            var t = { name: e, parent: this };
            return (
              (t.autoPlace = this.autoPlace),
              this.load &&
                this.load.folders &&
                this.load.folders[e] &&
                ((t.closed = this.load.folders[e].closed),
                (t.load = this.load.folders[e])),
              (t = new D(t)),
              (this.__folders[e] = t),
              (e = g(this, t.domElement)),
              f.addClass(e, "folder"),
              t
            );
          },
          open: function () {
            this.closed = !1;
          },
          close: function () {
            this.closed = !0;
          },
          onResize: function () {
            var e = this.getRoot();
            if (e.scrollable) {
              var t = f.getOffset(e.__ul).top,
                i = 0;
              p.each(e.__ul.childNodes, function (t) {
                (e.autoPlace && t === e.__save_row) || (i += f.getHeight(t));
              }),
                window.innerHeight - t - 20 < i
                  ? (f.addClass(e.domElement, D.CLASS_TOO_TALL),
                    (e.__ul.style.height = window.innerHeight - t - 20 + "px"))
                  : (f.removeClass(e.domElement, D.CLASS_TOO_TALL),
                    (e.__ul.style.height = "auto"));
            }
            e.__resize_handle &&
              p.defer(function () {
                e.__resize_handle.style.height = e.__ul.offsetHeight + "px";
              }),
              e.__closeButton && (e.__closeButton.style.width = e.width + "px");
          },
          remember: function () {
            if (
              (p.isUndefined(A) &&
                ((A = new d()), (A.domElement.innerHTML = t)),
              this.parent)
            )
              throw Error("You can only call remember on a top level GUI.");
            var e = this;
            p.each(Array.prototype.slice.call(arguments), function (t) {
              0 == e.__rememberedObjects.length && _(e),
                -1 == e.__rememberedObjects.indexOf(t) &&
                  e.__rememberedObjects.push(t);
            }),
              this.autoPlace && T(this, this.width);
          },
          getRoot: function () {
            for (var e = this; e.parent; ) e = e.parent;
            return e;
          },
          getSaveObject: function () {
            var e = this.load;
            return (
              (e.closed = this.closed),
              0 < this.__rememberedObjects.length &&
                ((e.preset = this.preset),
                e.remembered || (e.remembered = {}),
                (e.remembered[this.preset] = x(this))),
              (e.folders = {}),
              p.each(this.__folders, function (t, i) {
                e.folders[i] = t.getSaveObject();
              }),
              e
            );
          },
          save: function () {
            this.load.remembered || (this.load.remembered = {}),
              (this.load.remembered[this.preset] = x(this)),
              b(this, !1),
              this.saveToLocalStorageIfPossible();
          },
          saveAs: function (e) {
            this.load.remembered ||
              ((this.load.remembered = {}),
              (this.load.remembered.Default = x(this, !0))),
              (this.load.remembered[e] = x(this)),
              (this.preset = e),
              R(this, e, !0),
              this.saveToLocalStorageIfPossible();
          },
          revert: function (e) {
            p.each(
              this.__controllers,
              function (t) {
                this.getRoot().load.remembered
                  ? v(e || this.getRoot(), t)
                  : t.setValue(t.initialValue);
              },
              this
            ),
              p.each(this.__folders, function (e) {
                e.revert(e);
              }),
              e || b(this.getRoot(), !1);
          },
          listen: function (e) {
            var t = 0 == this.__listening.length;
            this.__listening.push(e), t && w(this.__listening);
          },
        }),
        D
      );
    })(
      dat.utils.css,
      '<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n      \n    </div>\n    \n  </div>\n\n</div>',
      ".dg {\n  /** Clear list styles */\n  /* Auto-place container */\n  /* Auto-placed GUI's */\n  /* Line items that don't contain folders. */\n  /** Folder names */\n  /** Hides closed items */\n  /** Controller row */\n  /** Name-half (left) */\n  /** Controller-half (right) */\n  /** Controller placement */\n  /** Shorter number boxes when slider is present. */\n  /** Ensure the entire boolean and function row shows a hand */ }\n  .dg ul {\n    list-style: none;\n    margin: 0;\n    padding: 0;\n    width: 100%;\n    clear: both; }\n  .dg.ac {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 0;\n    z-index: 0; }\n  .dg:not(.ac) .main {\n    /** Exclude mains in ac so that we don't hide close button */\n    overflow: hidden; }\n  .dg.main {\n    -webkit-transition: opacity 0.1s linear;\n    -o-transition: opacity 0.1s linear;\n    -moz-transition: opacity 0.1s linear;\n    transition: opacity 0.1s linear; }\n    .dg.main.taller-than-window {\n      overflow-y: auto; }\n      .dg.main.taller-than-window .close-button {\n        opacity: 1;\n        /* TODO, these are style notes */\n        margin-top: -1px;\n        border-top: 1px solid #2c2c2c; }\n    .dg.main ul.closed .close-button {\n      opacity: 1 !important; }\n    .dg.main:hover .close-button,\n    .dg.main .close-button.drag {\n      opacity: 1; }\n    .dg.main .close-button {\n      /*opacity: 0;*/\n      -webkit-transition: opacity 0.1s linear;\n      -o-transition: opacity 0.1s linear;\n      -moz-transition: opacity 0.1s linear;\n      transition: opacity 0.1s linear;\n      border: 0;\n      position: absolute;\n      line-height: 19px;\n      height: 20px;\n      /* TODO, these are style notes */\n      cursor: pointer;\n      text-align: center;\n      background-color: #000; }\n      .dg.main .close-button:hover {\n        background-color: #111; }\n  .dg.a {\n    float: right;\n    margin-right: 15px;\n    overflow-x: hidden; }\n    .dg.a.has-save > ul {\n      margin-top: 27px; }\n      .dg.a.has-save > ul.closed {\n        margin-top: 0; }\n    .dg.a .save-row {\n      position: fixed;\n      top: 0;\n      z-index: 1002; }\n  .dg li {\n    -webkit-transition: height 0.1s ease-out;\n    -o-transition: height 0.1s ease-out;\n    -moz-transition: height 0.1s ease-out;\n    transition: height 0.1s ease-out; }\n  .dg li:not(.folder) {\n    cursor: auto;\n    height: 27px;\n    line-height: 27px;\n    overflow: hidden;\n    padding: 0 4px 0 5px; }\n  .dg li.folder {\n    padding: 0;\n    border-left: 4px solid rgba(0, 0, 0, 0); }\n  .dg li.title {\n    cursor: pointer;\n    margin-left: -4px; }\n  .dg .closed li:not(.title),\n  .dg .closed ul li,\n  .dg .closed ul li > * {\n    height: 0;\n    overflow: hidden;\n    border: 0; }\n  .dg .cr {\n    clear: both;\n    padding-left: 3px;\n    height: 27px; }\n  .dg .property-name {\n    cursor: default;\n    float: left;\n    clear: left;\n    width: 40%;\n    overflow: hidden;\n    text-overflow: ellipsis; }\n  .dg .c {\n    float: left;\n    width: 60%; }\n  .dg .c input[type=text] {\n    border: 0;\n    margin-top: 4px;\n    padding: 3px;\n    width: 100%;\n    float: right; }\n  .dg .has-slider input[type=text] {\n    width: 30%;\n    /*display: none;*/\n    margin-left: 0; }\n  .dg .slider {\n    float: left;\n    width: 66%;\n    margin-left: -5px;\n    margin-right: 0;\n    height: 19px;\n    margin-top: 4px; }\n  .dg .slider-fg {\n    height: 100%; }\n  .dg .c input[type=checkbox] {\n    margin-top: 9px; }\n  .dg .c select {\n    margin-top: 5px; }\n  .dg .cr.function,\n  .dg .cr.function .property-name,\n  .dg .cr.function *,\n  .dg .cr.boolean,\n  .dg .cr.boolean * {\n    cursor: pointer; }\n  .dg .selector {\n    display: none;\n    position: absolute;\n    margin-left: -9px;\n    margin-top: 23px;\n    z-index: 10; }\n  .dg .c:hover .selector,\n  .dg .selector.drag {\n    display: block; }\n  .dg li.save-row {\n    padding: 0; }\n    .dg li.save-row .button {\n      display: inline-block;\n      padding: 0px 6px; }\n  .dg.dialogue {\n    background-color: #222;\n    width: 460px;\n    padding: 15px;\n    font-size: 13px;\n    line-height: 15px; }\n\n/* TODO Separate style and structure */\n#dg-new-constructor {\n  padding: 10px;\n  color: #222;\n  font-family: Monaco, monospace;\n  font-size: 10px;\n  border: 0;\n  resize: none;\n  box-shadow: inset 1px 1px 1px #888;\n  word-wrap: break-word;\n  margin: 12px 0;\n  display: block;\n  width: 440px;\n  overflow-y: scroll;\n  height: 100px;\n  position: relative; }\n\n#dg-local-explain {\n  display: none;\n  font-size: 11px;\n  line-height: 17px;\n  border-radius: 3px;\n  background-color: #333;\n  padding: 8px;\n  margin-top: 10px; }\n  #dg-local-explain code {\n    font-size: 10px; }\n\n#dat-gui-save-locally {\n  display: none; }\n\n/** Main type */\n.dg {\n  color: #eee;\n  font: 11px 'Lucida Grande', sans-serif;\n  text-shadow: 0 -1px 0 #111;\n  /** Auto place */\n  /* Controller row, <li> */\n  /** Controllers */ }\n  .dg.main {\n    /** Scrollbar */ }\n    .dg.main::-webkit-scrollbar {\n      width: 5px;\n      background: #1a1a1a; }\n    .dg.main::-webkit-scrollbar-corner {\n      height: 0;\n      display: none; }\n    .dg.main::-webkit-scrollbar-thumb {\n      border-radius: 5px;\n      background: #676767; }\n  .dg li:not(.folder) {\n    background: #1a1a1a;\n    border-bottom: 1px solid #2c2c2c; }\n  .dg li.save-row {\n    line-height: 25px;\n    background: #dad5cb;\n    border: 0; }\n    .dg li.save-row select {\n      margin-left: 5px;\n      width: 108px; }\n    .dg li.save-row .button {\n      margin-left: 5px;\n      margin-top: 1px;\n      border-radius: 2px;\n      font-size: 9px;\n      line-height: 7px;\n      padding: 4px 4px 5px 4px;\n      background: #c5bdad;\n      color: #fff;\n      text-shadow: 0 1px 0 #b0a58f;\n      box-shadow: 0 -1px 0 #b0a58f;\n      cursor: pointer; }\n      .dg li.save-row .button.gears {\n        background: #c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;\n        height: 7px;\n        width: 8px; }\n      .dg li.save-row .button:hover {\n        background-color: #bab19e;\n        box-shadow: 0 -1px 0 #b0a58f; }\n  .dg li.folder {\n    border-bottom: 0; }\n  .dg li.title {\n    padding-left: 16px;\n    background: black url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;\n    cursor: pointer;\n    border-bottom: 1px solid rgba(255, 255, 255, 0.2); }\n  .dg .closed li.title {\n    background-image: url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==); }\n  .dg .cr.boolean {\n    border-left: 3px solid #806787; }\n  .dg .cr.function {\n    border-left: 3px solid #e61d5f; }\n  .dg .cr.number {\n    border-left: 3px solid #2fa1d6; }\n    .dg .cr.number input[type=text] {\n      color: #2fa1d6; }\n  .dg .cr.string {\n    border-left: 3px solid #1ed36f; }\n    .dg .cr.string input[type=text] {\n      color: #1ed36f; }\n  .dg .cr.function:hover, .dg .cr.boolean:hover {\n    background: #111; }\n  .dg .c input[type=text] {\n    background: #303030;\n    outline: none; }\n    .dg .c input[type=text]:hover {\n      background: #3c3c3c; }\n    .dg .c input[type=text]:focus {\n      background: #494949;\n      color: #fff; }\n  .dg .c .slider {\n    background: #303030;\n    cursor: ew-resize; }\n  .dg .c .slider-fg {\n    background: #2fa1d6; }\n  .dg .c .slider:hover {\n    background: #3c3c3c; }\n    .dg .c .slider:hover .slider-fg {\n      background: #44abda; }\n",
      (dat.controllers.factory = (function (e, t, i, r, n, o, a) {
        return function (s, l, h, c) {
          var u = s[l];
          return a.isArray(h) || a.isObject(h)
            ? new e(s, l, h)
            : a.isNumber(u)
            ? a.isNumber(h) && a.isNumber(c)
              ? new i(s, l, h, c)
              : new t(s, l, { min: h, max: c })
            : a.isString(u)
            ? new r(s, l)
            : a.isFunction(u)
            ? new n(s, l, "")
            : a.isBoolean(u)
            ? new o(s, l)
            : void 0;
        };
      })(
        dat.controllers.OptionController,
        dat.controllers.NumberControllerBox,
        dat.controllers.NumberControllerSlider,
        (dat.controllers.StringController = (function (e, t, i) {
          var r = function (e, i) {
            function n() {
              o.setValue(o.__input.value);
            }
            r.superclass.call(this, e, i);
            var o = this;
            (this.__input = document.createElement("input")),
              this.__input.setAttribute("type", "text"),
              t.bind(this.__input, "keyup", n),
              t.bind(this.__input, "change", n),
              t.bind(this.__input, "blur", function () {
                o.__onFinishChange && o.__onFinishChange.call(o, o.getValue());
              }),
              t.bind(this.__input, "keydown", function (e) {
                13 === e.keyCode && this.blur();
              }),
              this.updateDisplay(),
              this.domElement.appendChild(this.__input);
          };
          return (
            (r.superclass = e),
            i.extend(r.prototype, e.prototype, {
              updateDisplay: function () {
                return (
                  t.isActive(this.__input) ||
                    (this.__input.value = this.getValue()),
                  r.superclass.prototype.updateDisplay.call(this)
                );
              },
            }),
            r
          );
        })(dat.controllers.Controller, dat.dom.dom, dat.utils.common)),
        dat.controllers.FunctionController,
        dat.controllers.BooleanController,
        dat.utils.common
      )),
      dat.controllers.Controller,
      dat.controllers.BooleanController,
      dat.controllers.FunctionController,
      dat.controllers.NumberControllerBox,
      dat.controllers.NumberControllerSlider,
      dat.controllers.OptionController,
      (dat.controllers.ColorController = (function (e, t, i, r, n) {
        function o(e, t, i, r) {
          (e.style.background = ""),
            n.each(l, function (n) {
              e.style.cssText +=
                "background: " +
                n +
                "linear-gradient(" +
                t +
                ", " +
                i +
                " 0%, " +
                r +
                " 100%); ";
            });
        }
        function a(e) {
          (e.style.background = ""),
            (e.style.cssText +=
              "background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);"),
            (e.style.cssText +=
              "background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);"),
            (e.style.cssText +=
              "background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);"),
            (e.style.cssText +=
              "background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);"),
            (e.style.cssText +=
              "background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);");
        }
        var s = function (e, l) {
          function h(e) {
            f(e), t.bind(window, "mousemove", f), t.bind(window, "mouseup", c);
          }
          function c() {
            t.unbind(window, "mousemove", f), t.unbind(window, "mouseup", c);
          }
          function u() {
            var e = r(this.value);
            !1 !== e
              ? ((m.__color.__state = e), m.setValue(m.__color.toOriginal()))
              : (this.value = m.__color.toString());
          }
          function d() {
            t.unbind(window, "mousemove", p), t.unbind(window, "mouseup", d);
          }
          function f(e) {
            e.preventDefault();
            var i = t.getWidth(m.__saturation_field),
              r = t.getOffset(m.__saturation_field),
              n = (e.clientX - r.left + document.body.scrollLeft) / i;
            return (
              (e = 1 - (e.clientY - r.top + document.body.scrollTop) / i),
              e > 1 ? (e = 1) : 0 > e && (e = 0),
              n > 1 ? (n = 1) : 0 > n && (n = 0),
              (m.__color.v = e),
              (m.__color.s = n),
              m.setValue(m.__color.toOriginal()),
              !1
            );
          }
          function p(e) {
            e.preventDefault();
            var i = t.getHeight(m.__hue_field),
              r = t.getOffset(m.__hue_field);
            return (
              (e = 1 - (e.clientY - r.top + document.body.scrollTop) / i),
              e > 1 ? (e = 1) : 0 > e && (e = 0),
              (m.__color.h = 360 * e),
              m.setValue(m.__color.toOriginal()),
              !1
            );
          }
          s.superclass.call(this, e, l),
            (this.__color = new i(this.getValue())),
            (this.__temp = new i(0));
          var m = this;
          (this.domElement = document.createElement("div")),
            t.makeSelectable(this.domElement, !1),
            (this.__selector = document.createElement("div")),
            (this.__selector.className = "selector"),
            (this.__saturation_field = document.createElement("div")),
            (this.__saturation_field.className = "saturation-field"),
            (this.__field_knob = document.createElement("div")),
            (this.__field_knob.className = "field-knob"),
            (this.__field_knob_border = "2px solid "),
            (this.__hue_knob = document.createElement("div")),
            (this.__hue_knob.className = "hue-knob"),
            (this.__hue_field = document.createElement("div")),
            (this.__hue_field.className = "hue-field"),
            (this.__input = document.createElement("input")),
            (this.__input.type = "text"),
            (this.__input_textShadow = "0 1px 1px "),
            t.bind(this.__input, "keydown", function (e) {
              13 === e.keyCode && u.call(this);
            }),
            t.bind(this.__input, "blur", u),
            t.bind(this.__selector, "mousedown", function (e) {
              t.addClass(this, "drag").bind(window, "mouseup", function (e) {
                t.removeClass(m.__selector, "drag");
              });
            });
          var g = document.createElement("div");
          n.extend(this.__selector.style, {
            width: "122px",
            height: "102px",
            padding: "3px",
            backgroundColor: "#222",
            boxShadow: "0px 1px 3px rgba(0,0,0,0.3)",
          }),
            n.extend(this.__field_knob.style, {
              position: "absolute",
              width: "12px",
              height: "12px",
              border:
                this.__field_knob_border +
                (0.5 > this.__color.v ? "#fff" : "#000"),
              boxShadow: "0px 1px 3px rgba(0,0,0,0.5)",
              borderRadius: "12px",
              zIndex: 1,
            }),
            n.extend(this.__hue_knob.style, {
              position: "absolute",
              width: "15px",
              height: "2px",
              borderRight: "4px solid #fff",
              zIndex: 1,
            }),
            n.extend(this.__saturation_field.style, {
              width: "100px",
              height: "100px",
              border: "1px solid #555",
              marginRight: "3px",
              display: "inline-block",
              cursor: "pointer",
            }),
            n.extend(g.style, {
              width: "100%",
              height: "100%",
              background: "none",
            }),
            o(g, "top", "rgba(0,0,0,0)", "#000"),
            n.extend(this.__hue_field.style, {
              width: "15px",
              height: "100px",
              display: "inline-block",
              border: "1px solid #555",
              cursor: "ns-resize",
            }),
            a(this.__hue_field),
            n.extend(this.__input.style, {
              outline: "none",
              textAlign: "center",
              color: "#fff",
              border: 0,
              fontWeight: "bold",
              textShadow: this.__input_textShadow + "rgba(0,0,0,0.7)",
            }),
            t.bind(this.__saturation_field, "mousedown", h),
            t.bind(this.__field_knob, "mousedown", h),
            t.bind(this.__hue_field, "mousedown", function (e) {
              p(e),
                t.bind(window, "mousemove", p),
                t.bind(window, "mouseup", d);
            }),
            this.__saturation_field.appendChild(g),
            this.__selector.appendChild(this.__field_knob),
            this.__selector.appendChild(this.__saturation_field),
            this.__selector.appendChild(this.__hue_field),
            this.__hue_field.appendChild(this.__hue_knob),
            this.domElement.appendChild(this.__input),
            this.domElement.appendChild(this.__selector),
            this.updateDisplay();
        };
        (s.superclass = e),
          n.extend(s.prototype, e.prototype, {
            updateDisplay: function () {
              var e = r(this.getValue());
              if (!1 !== e) {
                var t = !1;
                n.each(
                  i.COMPONENTS,
                  function (i) {
                    return n.isUndefined(e[i]) ||
                      n.isUndefined(this.__color.__state[i]) ||
                      e[i] === this.__color.__state[i]
                      ? void 0
                      : ((t = !0), {});
                  },
                  this
                ),
                  t && n.extend(this.__color.__state, e);
              }
              n.extend(this.__temp.__state, this.__color.__state),
                (this.__temp.a = 1);
              var a = 0.5 > this.__color.v || 0.5 < this.__color.s ? 255 : 0,
                s = 255 - a;
              n.extend(this.__field_knob.style, {
                marginLeft: 100 * this.__color.s - 7 + "px",
                marginTop: 100 * (1 - this.__color.v) - 7 + "px",
                backgroundColor: this.__temp.toString(),
                border:
                  this.__field_knob_border +
                  "rgb(" +
                  a +
                  "," +
                  a +
                  "," +
                  a +
                  ")",
              }),
                (this.__hue_knob.style.marginTop =
                  100 * (1 - this.__color.h / 360) + "px"),
                (this.__temp.s = 1),
                (this.__temp.v = 1),
                o(
                  this.__saturation_field,
                  "left",
                  "#fff",
                  this.__temp.toString()
                ),
                n.extend(this.__input.style, {
                  backgroundColor: (this.__input.value =
                    this.__color.toString()),
                  color: "rgb(" + a + "," + a + "," + a + ")",
                  textShadow:
                    this.__input_textShadow +
                    "rgba(" +
                    s +
                    "," +
                    s +
                    "," +
                    s +
                    ",.7)",
                });
            },
          });
        var l = ["-moz-", "-o-", "-webkit-", "-ms-", ""];
        return s;
      })(
        dat.controllers.Controller,
        dat.dom.dom,
        (dat.color.Color = (function (e, t, i, r) {
          function n(e, t, i) {
            Object.defineProperty(e, t, {
              get: function () {
                return "RGB" === this.__state.space
                  ? this.__state[t]
                  : (a(this, t, i), this.__state[t]);
              },
              set: function (e) {
                "RGB" !== this.__state.space &&
                  (a(this, t, i), (this.__state.space = "RGB")),
                  (this.__state[t] = e);
              },
            });
          }
          function o(e, t) {
            Object.defineProperty(e, t, {
              get: function () {
                return "HSV" === this.__state.space
                  ? this.__state[t]
                  : (s(this), this.__state[t]);
              },
              set: function (e) {
                "HSV" !== this.__state.space &&
                  (s(this), (this.__state.space = "HSV")),
                  (this.__state[t] = e);
              },
            });
          }
          function a(e, i, n) {
            if ("HEX" === e.__state.space)
              e.__state[i] = t.component_from_hex(e.__state.hex, n);
            else {
              if ("HSV" !== e.__state.space) throw "Corrupted color state";
              r.extend(
                e.__state,
                t.hsv_to_rgb(e.__state.h, e.__state.s, e.__state.v)
              );
            }
          }
          function s(e) {
            var i = t.rgb_to_hsv(e.r, e.g, e.b);
            r.extend(e.__state, { s: i.s, v: i.v }),
              r.isNaN(i.h)
                ? r.isUndefined(e.__state.h) && (e.__state.h = 0)
                : (e.__state.h = i.h);
          }
          var l = function () {
            if (
              ((this.__state = e.apply(this, arguments)), !1 === this.__state)
            )
              throw "Failed to interpret color arguments";
            this.__state.a = this.__state.a || 1;
          };
          return (
            (l.COMPONENTS = "r g b h s v hex a".split(" ")),
            r.extend(l.prototype, {
              toString: function () {
                return i(this);
              },
              toOriginal: function () {
                return this.__state.conversion.write(this);
              },
            }),
            n(l.prototype, "r", 2),
            n(l.prototype, "g", 1),
            n(l.prototype, "b", 0),
            o(l.prototype, "h"),
            o(l.prototype, "s"),
            o(l.prototype, "v"),
            Object.defineProperty(l.prototype, "a", {
              get: function () {
                return this.__state.a;
              },
              set: function (e) {
                this.__state.a = e;
              },
            }),
            Object.defineProperty(l.prototype, "hex", {
              get: function () {
                return (
                  "HEX" !== !this.__state.space &&
                    (this.__state.hex = t.rgb_to_hex(this.r, this.g, this.b)),
                  this.__state.hex
                );
              },
              set: function (e) {
                (this.__state.space = "HEX"), (this.__state.hex = e);
              },
            }),
            l
          );
        })(
          dat.color.interpret,
          (dat.color.math = (function () {
            var e;
            return {
              hsv_to_rgb: function (e, t, i) {
                var r = e / 60 - Math.floor(e / 60),
                  n = i * (1 - t),
                  o = i * (1 - r * t);
                return (
                  (t = i * (1 - (1 - r) * t)),
                  (e = [
                    [i, t, n],
                    [o, i, n],
                    [n, i, t],
                    [n, o, i],
                    [t, n, i],
                    [i, n, o],
                  ][Math.floor(e / 60) % 6]),
                  { r: 255 * e[0], g: 255 * e[1], b: 255 * e[2] }
                );
              },
              rgb_to_hsv: function (e, t, i) {
                var r = Math.min(e, t, i),
                  n = Math.max(e, t, i),
                  r = n - r;
                return 0 == n
                  ? { h: NaN, s: 0, v: 0 }
                  : ((e =
                      (e == n
                        ? (t - i) / r
                        : t == n
                        ? 2 + (i - e) / r
                        : 4 + (e - t) / r) / 6),
                    0 > e && (e += 1),
                    { h: 360 * e, s: r / n, v: n / 255 });
              },
              rgb_to_hex: function (e, t, i) {
                return (
                  (e = this.hex_with_component(0, 2, e)),
                  (e = this.hex_with_component(e, 1, t)),
                  (e = this.hex_with_component(e, 0, i))
                );
              },
              component_from_hex: function (e, t) {
                return (e >> (8 * t)) & 255;
              },
              hex_with_component: function (t, i, r) {
                return (r << (e = 8 * i)) | (t & ~(255 << e));
              },
            };
          })()),
          dat.color.toString,
          dat.utils.common
        )),
        dat.color.interpret,
        dat.utils.common
      )),
      (dat.utils.requestAnimationFrame = (function () {
        return (
          window.requestAnimationFrame ||
          window.webkitRequestAnimationFrame ||
          window.mozRequestAnimationFrame ||
          window.oRequestAnimationFrame ||
          window.msRequestAnimationFrame ||
          function (e, t) {
            window.setTimeout(e, 1e3 / 60);
          }
        );
      })()),
      (dat.dom.CenteredDiv = (function (e, t) {
        var i = function () {
          (this.backgroundElement = document.createElement("div")),
            t.extend(this.backgroundElement.style, {
              backgroundColor: "rgba(0,0,0,0.8)",
              top: 0,
              left: 0,
              display: "none",
              zIndex: "1000",
              opacity: 0,
              WebkitTransition: "opacity 0.2s linear",
              transition: "opacity 0.2s linear",
            }),
            e.makeFullscreen(this.backgroundElement),
            (this.backgroundElement.style.position = "fixed"),
            (this.domElement = document.createElement("div")),
            t.extend(this.domElement.style, {
              position: "fixed",
              display: "none",
              zIndex: "1001",
              opacity: 0,
              WebkitTransition:
                "-webkit-transform 0.2s ease-out, opacity 0.2s linear",
              transition: "transform 0.2s ease-out, opacity 0.2s linear",
            }),
            document.body.appendChild(this.backgroundElement),
            document.body.appendChild(this.domElement);
          var i = this;
          e.bind(this.backgroundElement, "click", function () {
            i.hide();
          });
        };
        return (
          (i.prototype.show = function () {
            var e = this;
            (this.backgroundElement.style.display = "block"),
              (this.domElement.style.display = "block"),
              (this.domElement.style.opacity = 0),
              (this.domElement.style.webkitTransform = "scale(1.1)"),
              this.layout(),
              t.defer(function () {
                (e.backgroundElement.style.opacity = 1),
                  (e.domElement.style.opacity = 1),
                  (e.domElement.style.webkitTransform = "scale(1)");
              });
          }),
          (i.prototype.hide = function () {
            var t = this,
              i = function () {
                (t.domElement.style.display = "none"),
                  (t.backgroundElement.style.display = "none"),
                  e.unbind(t.domElement, "webkitTransitionEnd", i),
                  e.unbind(t.domElement, "transitionend", i),
                  e.unbind(t.domElement, "oTransitionEnd", i);
              };
            e.bind(this.domElement, "webkitTransitionEnd", i),
              e.bind(this.domElement, "transitionend", i),
              e.bind(this.domElement, "oTransitionEnd", i),
              (this.backgroundElement.style.opacity = 0),
              (this.domElement.style.opacity = 0),
              (this.domElement.style.webkitTransform = "scale(1.1)");
          }),
          (i.prototype.layout = function () {
            (this.domElement.style.left =
              window.innerWidth / 2 - e.getWidth(this.domElement) / 2 + "px"),
              (this.domElement.style.top =
                window.innerHeight / 2 -
                e.getHeight(this.domElement) / 2 +
                "px");
          }),
          i
        );
      })(dat.dom.dom, dat.utils.common)),
      dat.dom.dom,
      dat.utils.common
    )),
  define(
    "datgui",
    (function (e) {
      return function () {
        var t;
        return t || e.dat;
      };
    })(this)
  ),
  define("util/dat_util", ["jquery", "datgui"], function (e, t) {
    return {};
  }),
  define(
    "view/components/position_render_target",
    [
      "jquery",
      "underscore",
      "backbone",
      "model/loader_collection",
      "view/common/base_view",
      "config",
      "three",
      "text!shaders/position_frag.glsl",
      "text!shaders/position_vert.glsl",
      "util/dat_util",
      "util/anim_frame",
      "TweenMax",
      "model/app_model",
      "view/common/communicator",
    ],
    function (e, t, i, r, n, o, a, s, l, h, c, u, d, f) {
      "use strict";
      r.add({ id: "cocainedata", src: "js/data/test.json" }),
        r.add({ id: "cocaineposition", src: "js/data/cocaine.json" });
      loadProgress.updateProgress(100);
      var p = n.extend({
        resetParticleTimerLength: 3,
        resetParticleTimerActive: !1,
        clickActive: !0,
        size: 350,
        positionTarget: [],
        scene: null,
        mesh: null,
        camera: null,
        texture: null,
        index: 0,
        data: [],
        currentTarget: null,
        introPlayed: !1,
        originalPosTexture: null,
        positionResetMaxDistTweenProp: { value: 0 },
        initialize: function (e) {
          this.createPositionTexture(),
            this.createRandomTextureX(),
            this.createOrigPosTexture(),
            this.createRenderTargets(),
            this.createScene(),
            this.addEvents(),
            (this.currentTarget = this.positionTarget[this.index]),
            this.index++,
            this.resetPosition(),
            d.on("change:renderApp", t.bind(this.onRenderState, this));
        },
        onRenderState: function (e, t) {
          t === !0 ? this.addEvents() : this.removeEvents();
        },
        addEvents: function () {
          (this.boundResetPosition = t.bind(this.resetPosition, this)),
            f.on(
              f.EVENTS.SITE.PARTICLES.RESET_POSITION,
              this.boundResetPosition
            ),
            (this.boundAnimFrame = t.bind(this.onAnimFrame, this)),
            c.on("anim_frame", this.boundAnimFrame);
        },
        removeEvents: function () {
          f.off(
            f.EVENTS.SITE.PARTICLES.RESET_POSITION,
            this.boundResetPosition
          ),
            c.off("anim_frame", this.boundAnimFrame);
        },
        onAnimFrame: function () {
          this.mesh.material.uniforms.maxDist.value =
            this.positionResetMaxDistTweenProp.value;
        },
        onMouseDown: function () {
          this.resetTimeout && clearTimeout(this.resetTimeout);
        },
        onMouseUp: function () {
          if (this.resetParticleTimerActive) {
            var e = this;
            this.resetTimeout = setTimeout(function () {
              e.resetPosition();
            }, 1e3 * this.resetParticleTimerLength);
          }
        },
        createPositionTexture: function () {
          this.data = r.getResult("cocainedata").data;
          for (
            var e = new Float32Array(3 * this.size * 3 * this.size), t = 0;
            t < this.data.length;
            t++
          )
            e[t] = this.data[t];
          (this.texture = new a.DataTexture(
            e,
            this.size,
            this.size,
            a.RGBFormat,
            a.FloatType,
            a.UVMapping,
            a.ClampToEdgeWrapping,
            a.ClampToEdgeWrapping,
            a.NearestFilter,
            a.NearestFilter
          )),
            (this.texture.needsUpdate = !0);
        },
        createOrigPosTexture: function () {
          this.origPos = r.getResult("cocaineposition").data;
          for (
            var e = new Float32Array(3 * this.size * 3 * this.size), t = 0;
            t < this.origPos.length;
            t++
          )
            e[t] = this.origPos[t];
          (this.originalPosTexture = new a.DataTexture(
            e,
            this.size,
            this.size,
            a.RGBFormat,
            a.FloatType,
            a.UVMapping,
            a.ClampToEdgeWrapping,
            a.ClampToEdgeWrapping,
            a.NearestFilter,
            a.NearestFilter
          )),
            (this.originalPosTexture.needsUpdate = !0);
        },
        createRenderTargets: function () {
          this.camera = new a.OrthographicCamera(
            -this.size / 2,
            this.size / 2,
            -this.size / 2,
            this.size / 2,
            -1,
            1
          );
          for (var e = 0; 2 > e; e++) {
            var t = new a.WebGLRenderTarget(this.size, this.size, {
              format: a.RGBAFormat,
              generateMipmaps: !1,
              magFilter: a.NearestFilter,
              minFilter: a.NearestFilter,
              type: a.FloatType,
            });
            (t.generateMipmaps = !1), this.positionTarget.push(t);
          }
        },
        createRandomTextureX: function () {
          for (
            var e = new Float32Array(3 * this.size * 3 * this.size), t = 0;
            t < e.length;
            t++
          )
            e[t] = 6 * Math.random();
          (this.randomTextureX = new a.DataTexture(
            e,
            this.size,
            this.size,
            a.RGBFormat,
            a.FloatType,
            a.UVMapping,
            a.ClampToEdgeWrapping,
            a.ClampToEdgeWrapping,
            a.NearestFilter,
            a.NearestFilter
          )),
            (this.randomTextureX.needsUpdate = !0);
        },
        createScene: function () {
          this.scene = new a.Scene();
          var e = new a.PlaneBufferGeometry(2, 2, 8, 8),
            t = new a.ShaderMaterial({
              vertexShader: l,
              fragmentShader: s,
              uniforms: {
                texture: { type: "t", value: this.texture },
                transitionStartPos: { type: "t", value: this.texture },
                originalPosition: { type: "t", value: this.originalPosTexture },
                accelerationTexture: { type: "t", value: null },
                resetParticles: { type: "i", value: !1 },
                resetRadius: { type: "f", value: 0 },
                easeInMultiplier: { type: "f", value: 0 },
                maxUVX: { type: "f", value: 0 },
                maxUVY: { type: "f", value: 1 },
                tweenValue: { type: "f", value: 0 },
                posOffset: { type: "f", value: 10 },
                tValue: { type: "f", value: 0 },
                maxDist: { type: "f", value: 0 },
                mousePos: { type: "v2", value: new a.Vector2(0, 0) },
                randomVal: { type: "f", value: 1 * Math.random() },
                randomTextureX: { type: "t", value: this.randomTextureX },
              },
            });
          (this.mesh = new a.Mesh(e, t)), this.scene.add(this.mesh);
        },
        resetPosition: function () {
          (this.mesh.material.uniforms.posOffset.value = 3.5),
            (this.mesh.material.uniforms.resetParticles.value = !0),
            (this.mesh.material.uniforms.maxDist.value = 0);
          var e = this.introPlayed ? 5.5 : 10.5,
            i = this.introPlayed ? 0 : 2,
            r = 3.5,
            n = r + 1.75;
          u.delayedCall(n, t.bind(this.onIntroAnimationComplete, this)),
            (this.positionResetMaxDistTweenProp.value = 0.1),
            u.to(this.positionResetMaxDistTweenProp, 2, {
              value: e,
              ease: window.Quad.easeInOut,
              delay: i,
            }),
            (this.introPlayed = !0);
        },
        onIntroAnimationComplete: function () {
          this.mesh.material.uniforms.resetParticles.value = !1;
        },
        updateMousePos: function (e, t) {
          this.mesh.material.uniforms.mousePos.value = e;
        },
        updateTargets: function () {
          (this.mesh.material.uniforms.texture.value = this.currentTarget),
            (this.currentTarget = this.positionTarget[this.index % 2]),
            this.index++;
        },
        destroy: function () {
          n.prototype.destroy.apply(this, arguments);
        },
      });
      return p;
    }
  ),
  define("text!shaders/acceleration_frag.glsl", [], function () {
    return "uniform vec2 mousePos;\nuniform vec2 forceDir;\nuniform float forceSpeed; //pre calculated speed to push particles for performance\nuniform vec2 cardDirection;  //card direction separate from particle push direction (card direction defined at start of drag)\nvarying vec2 uvPosition;\n\nuniform sampler2D accelerationTex;\nuniform sampler2D texture;\nuniform sampler2D positionTexture;\n\nuniform int mode;\nuniform int clickActive;\nuniform int clickDown;\n\nuniform float spreadX;\nuniform float spreadY;\nuniform float mouseForce;\nuniform float accelerationDamping;\nuniform float stickiness;\n\nuniform vec2 randomVector;\n//uniform float phaseOffset;\n\nuniform float cardLength;\n\nfloat random( vec2 p )\n{\n  // We need irrationals for pseudo randomness.\n  // Most (all?) known transcendental numbers will (generally) work.\n  const vec2 r = vec2(\n    23.1406926327792690,  // e^pi (Gelfond's constant)\n     2.6651441426902251); // 2^sqrt(2) (Gelfondâ€“Schneider constant)\n  return fract( cos( mod( 123456789., 1e-7 + 256. * dot(p,r) ) ) );\n}\n\n//used for scattering of particles on click\nvec4 disperseClick(){\n    //get position\n    vec4 pos = texture2D(positionTexture, uvPosition);\n    vec4 accelTex = texture2D(texture, uvPosition);\n\n    float dist = distance(pos.xy, mousePos.xy);\n\n    float minDist = 0.75;\n\n    vec2 randomPos = pos.xy + randomVector.xy * 1000.0;\n\n    //vary minimum distance randomly depending on point position\n    minDist *= 2.0 * random(randomPos.yx + mousePos.yx);\n\n    //if point within dispersal radius\n    if (dist < minDist) {                               //if particles are within effect radius\n        float rand = random(randomPos.xy * mousePos.xy);\n\n        //scatter 60% of particles\n        if(rand < 0.6) {\n            float randDist = random(randomPos.xy - mousePos.xy);\n\n            vec2 diff = mousePos - pos.xy;\n\n            //determine particle push amount, particles in the center affected 100% particles at the edge 0%\n            float pushAmount = (1. - dist / minDist);\n\n            pushAmount *= 0.75 + 0.4 * random(randomVector.xy);\n\n            //bias push amount to push those in center more\n            pushAmount = pow(pushAmount, 3.0);\n\n            pushAmount *= 1.0 + 1.0 * (sin(randomPos.y * 11.3534 + randomPos.x * 7.34535) + sin(randomPos.y * 15.3654 - randomPos.x * 8.65464) * 2.0 + sin(-randomPos.y * 9.34 + randomPos.x * 18.4) * 1.5) / 3.0;\n\n            pushAmount += 0.01 + 0.02 * random(randomPos.yx + mousePos.yx);\n\n            //determine normalised direction of particle for pushing outward\n            diff.xy = diff.xy / dist;\n\n            //apply fake noise to create turbulence in push direction\n            diff.x += 0.2 * (sin(randomPos.y * 6.452 + randomPos.x * 10.) + sin(randomPos.y * 11.34 + randomPos.x * 5.4) * 2.0 + sin(-randomPos.y * 3.34 + randomPos.x * 9.4) * 1.5) / 3.0;\n            diff.y += 0.2 * (sin(randomPos.y * 12.45 - randomPos.x * 13.) + sin(randomPos.y * 8.234 - randomPos.x * 3.43) * 3.0 + sin(-randomPos.y * 6.34 + randomPos.x * 10.4) * 1.7) / 3.0;\n\n            //randomise push direction\n            diff.x *= (1.0 + 0.2 * random(randomPos.yx + mousePos.yx + randomVector.xy));\n            diff.y *= (1.0 + 0.2 * random(randomPos.xy - mousePos.yx + randomVector.xy));\n\n            //push particles outward from center point\n            accelTex.xy -= diff.xy * 0.3 * pushAmount * randDist;\n        }\n    }\n\n    return accelTex;\n}\n\n//used for scattering of particles on mouse move\nvec4 hoverDisperse(){\n    //get position\n    vec4 pos = texture2D(positionTexture, uvPosition);\n    vec4 accelTex = texture2D(texture, uvPosition);\n\n    float dist = distance(pos.xy, mousePos.xy);\n\n    vec2 randomPos = pos.xy + randomVector.xy * 1000.0;// + phaseOffset * 1.0;\n\n    //if mouse movement is fast enough (currently 0.1 is the limit so values have to be scaled a lot)\n    if(forceSpeed > 0.09) {\n        float pushSpeed = (forceSpeed - 0.09) * 4.0;    //determine current push speed about minimum threshold\n        //float minDist = 2.0 + 20.0 * pushSpeed;         //determine radius to affect particles based on push speed\n        float minDist = 0.8 + 0.5 * randomVector.x;\n\n        if (dist < minDist) {                               //if particles are within effect radius\n            float rand = random(randomPos.xy * mousePos.xy);\n\n            if(rand < 0.03) {                                       //scatter only a small amount of particles\n                float randDist = random(randomPos.xy - mousePos.xy);\n\n                vec2 diff = mousePos - pos.xy;\n\n                //determine particle push amount, particles in the center affected 100% particles at the edge 0%\n                float pushAmount = (1. - dist / minDist);\n\n                /*if (forceSpeed > 0.098) {\n                    pushAmount *= 2.0;\n                }*/\n\n                if (rand < 0.0494) { //for most particles attenuate push amount to really focus on just pushing centre particles\n                    pushAmount = pow(pushAmount, 10.0);\n                }\n\n                //determine normalised direction of particle for pushing outward\n                diff.xy = diff.xy / dist;\n\n                //apply fake noise to create turbulence in push direction\n                diff.x += 0.6 * (sin(randomPos.y * 6.452 + randomPos.x * 10.) + sin(randomPos.y * 11.34 + randomPos.x * 5.4) * 2.0 + sin(-randomPos.y * 3.34 + randomPos.x * 9.4) * 1.5) / 3.0;\n                diff.y += 0.6 * (sin(randomPos.y * 12.45 - randomPos.x * 13.) + sin(randomPos.y * 8.234 - randomPos.x * 3.43) * 3.0 + sin(-randomPos.y * 6.34 + randomPos.x * 10.4) * 1.7) / 3.0;\n\n                //randomise push direction\n                diff.x *= (1.0 + 0.3 * random(randomPos.yx + mousePos.yx));\n                diff.y *= (1.0 + 0.3 * random(randomPos.xy - mousePos.yx));\n\n                diff.xy *= (1.0 + 5.0 * random(-randomPos.xy - mousePos.xy));\n\n                vec2 newForceDir = vec2(forceDir.xy);\n\n                newForceDir.xy *= (2.0 + 5.0 * random(-randomPos.xy - mousePos.xy));\n\n                //push particles forwards in force direction according to distance from center\n                accelTex.xy += pushAmount * pushAmount * newForceDir.xy * pushSpeed * 50.0 * randDist;\n\n                //push particles outward from center point according to push speed\n                accelTex.xy -= diff.xy * 2.0 * pushAmount * pushSpeed * randDist;\n            }\n        }\n\n        accelTex.x *= accelerationDamping;\n        accelTex.y *= accelerationDamping;\n    } else {\n        accelTex.x *= accelerationDamping;\n        accelTex.y *= accelerationDamping;\n    }\n\n    return accelTex;\n\n\n    /*if(dist < .2){\n       float rand = random(pos.xy * mousePos.xy);\n\n       if(rand > 0.3){\n           vec2 diff = mousePos - pos.xy;\n           diff *= .4;\n           pos.xy -= diff;\n       }\n    }\n\n    return pos;*/\n}\n\n//http://stackoverflow.com/questions/849211/shortest-distance-between-a-point-and-a-line-segment\n//https://en.wikipedia.org/wiki/Distance_from_a_point_to_a_line\n//thank you jebus\nfloat minimum_distance(vec2 p, vec2 x, vec2 x2) {\n    float a = p.x - x.x;\n    float b = p.y - x.y;\n    float c = x2.x - x.x;\n    float d = x2.y - x.y;\n\n    float dot = a * c + b * d;\n    float len_sq = c * c + d * d;\n\n    float param = -1.;\n    if(len_sq != 0.){\n        param = dot/ len_sq;\n    }\n\n    float xx;\n    float yy;\n\n    if(param < 0.){\n        xx = x.x;\n        yy = x.y;\n    }\n    else if (param > 1.) {\n        xx = x2.x;\n        yy = x2.y;\n    }\n    else {\n        xx = x.x + param * c;\n        yy = x.y + param * d;\n    }\n\n    return distance(p, vec2(xx, yy));\n}\n\nvec4 calculateDistToLine(){\n    vec4 pos = texture2D(positionTexture, uvPosition);\n    vec4 accelTex = texture2D(texture, uvPosition);\n\n    vec3 mouse1 = vec3(mousePos, 0.);\n    vec3 mouse2 = vec3(mousePos, 0.);\n\n    mouse1.x += cardDirection.y * cardLength; //use full card length rather than dividing by 2 each time for speed\n    mouse1.y += cardDirection.x * -cardLength;\n    mouse2.x += cardDirection.y * -cardLength;\n    mouse2.y += cardDirection.x * cardLength;\n\n    float dist = minimum_distance(pos.xy, mouse1.xy, mouse2.xy);\n\n    //push particles by a multiplier of the speed of the push force, random and a modulated variation multiplier (dependant on x and y position of sample point, could use noise?)\n    dist -= 0.1 * forceSpeed * forceSpeed * random(pos.yx - mousePos.yx) * (1. + 0.5 * (sin(pos.y * 8.4554 + pos.y * 9.342) + sin(pos.x * -8.34 + pos.y * 10.32432) + sin(pos.x * 5.34 - pos.y * 7.3443) + sin(pos.x * 9.34 + pos.y * 10.34) + sin(pos.x * 11.354 + pos.y * 14.34)) / 5.);\n\n    //add random offset to distance check to break up edge of the pushing line a bit\n    dist -= 0.04 * random(pos.xy + mousePos.yx); \n\n    vec2 force;\n\n    if(dist < 0.03){\n        float rand = random(pos.xy * mousePos.xy);\n        \n        //convert rand to -1 to 1 range for central bias\n        rand = rand * 2. - 1.;\n        //bias centrally by timesing by it's positive self\n        rand = rand * abs(rand) + 1.;\n\n        //vary random push offset by a simulated noise\n        rand *= 1. + 0.1 * (sin(pos.y * 13.4554) + sin(pos.y * 17.32432) + sin(pos.y * 43.3443)  + sin(pos.x * 16.334));\n\n        //randomly offset direction a bit\n        vec2 newForceDir = vec2(forceDir.x * (1.0 + 0.5 * random(pos.xy + mousePos.xy)), forceDir.y * (1.0 + 0.5 * random(pos.yx - mousePos.yx)));\n\n        if(random(pos.yx + mousePos.xy) > stickiness){ //if random percentage is not sticky\n            float dx = mouse2.x - mouse1.x;\n            float dy = mouse2.y - mouse1.y;\n\n            float pushSpeed = forceSpeed;\n\n            if (random(pos.yx - mousePos.xy + 23.234) < 0.0005) {\n                newForceDir.x *= 1.0 + 1.0 * random(-pos.yx - mousePos.xy + 45.234);\n                newForceDir.y *= 1.0 + 1.0 * random(-pos.xy - mousePos.yx + 34.0);\n                //newForceDir.x += 0.2 * (random(-pos.yx - mousePos.xy + 45.234) - 0.5);\n                //newForceDir.y += 0.2 * (random(-pos.xy - mousePos.yx + 34.0) - 0.5);\n                pushSpeed *= 3.0;\n            }\n\n            accelTex.xy += forceDir.xy*mouseForce;      //add directional force\n            accelTex.xy += newForceDir.xy*(0.3+rand*0.3) * pushSpeed;  //add some extra random push\n\n            /*if (random(randomPos.yx - mousePos.xy + 23.234)) < 0.01) {\n                accelTex.x += 10.0 * (random(-randomPos.yx - mousePos.xy + 45.234)) - 0.5);\n                accelTex.y += 10.0 * (random(-randomPos.xy - mousePos.yx + 34.0)) - 0.5);\n            }*/\n\n            //push with some fake noise to create some variation in spread direction\n            accelTex.x += pushSpeed * 0.05 * (sin(pos.y * 6.452 + pos.x * 10.) + sin(pos.y * 11.34 + pos.x * 5.4) * 2.0 + sin(-pos.y * 3.34 + pos.x * 9.4) * 1.5) / 3.0;\n            accelTex.y += pushSpeed * 0.05 * (sin(pos.y * 12.45 - pos.x * 13.) + sin(pos.y * 8.234 - pos.x * 3.43) * 3.0 + sin(-pos.y * 6.34 + pos.x * 10.4) * 1.7) / 3.0;\n        }\n    }\n    else{\n        accelTex.x *= accelerationDamping;\n        accelTex.y *= accelerationDamping;\n    }\n\n    return accelTex;\n}\n\nvoid main() {\n    vec4 newPos;\n\n    if(mode == 0){\n        if(clickActive == 0 || clickDown == 1) {\n            newPos = calculateDistToLine();\n        } else {\n            newPos = hoverDisperse();\n        }\n    } else if(mode == 1){\n        newPos = hoverDisperse();\n    } else if(mode == 3){\n        newPos = disperseClick();\n    } else {\n        newPos = texture2D(texture, uvPosition);\n        newPos *= accelerationDamping;\n    }\n\n\n    gl_FragColor = newPos;\n}";
  }),
  define("text!shaders/acceleration_vert.glsl", [], function () {
    return "//#ifdef GL_ES\n//    precision highp float;\n//#endif\n\nuniform vec2 mousePos;\nvarying vec2 uvPosition;\n//attribute float randomSize;\n//attribute vec2 particleIndex;\n\nfloat maxDist = 1.;\n\nvoid main() {\n\n    uvPosition = uv;\n\n//    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n    gl_Position = vec4(position, 1.);\n}";
  }),
  define(
    "view/components/acceleration_render_target",
    [
      "jquery",
      "underscore",
      "backbone",
      "model/loader_collection",
      "view/common/base_view",
      "config",
      "three",
      "text!shaders/acceleration_frag.glsl",
      "text!shaders/acceleration_vert.glsl",
      "util/dat_util",
      "model/app_model",
    ],
    function (e, t, i, r, n, o, a, s, l, h, c) {
      "use strict";
      var u = n.extend({
        clickActive: !0,
        disperseOnClick: !0,
        maxClickTotalDist: 0.05,
        maxForce: 0.1,
        cardStartDraggingForce: 0.03,
        cardDirectionMaxDist: 0.4,
        cardDirectionAccel: 0.2,
        cardTotalDist: 0,
        size: 350,
        positionTarget: [],
        scene: null,
        mesh: null,
        camera: null,
        texture: null,
        index: 0,
        data: [],
        particleIndices: [],
        currentTarget: null,
        originalPosTexture: null,
        positionTexture: null,
        cardStartedDragging: !1,
        cardDirection: new a.Vector2(0, 1),
        curCardDirection: new a.Vector2(0, 0),
        randomVector: new a.Vector2(0, 0),
        initialize: function (e) {
          this.initParticleIndices(),
            this.createAccelerationTexture(),
            this.createRenderTargets(),
            this.createScene(),
            this.addEvents(),
            (this.currentTarget = this.positionTarget[this.index]),
            this.index++,
            c.on("change:renderApp", t.bind(this.onRenderState, this));
        },
        onRenderState: function (e, t) {
          t === !0 ? this.addEvents() : this.removeEvents();
        },
        addEvents: function () {
          (this.boundMouseDown = t.bind(this.onMouseDown, this)),
            (this.boundMouseUp = t.bind(this.onMouseUp, this)),
            e(window).on("mousedown", this.boundMouseDown),
            e(window).on("mouseup", this.boundMouseUp),
            e(window).on("touchstart", this.boundMouseDown),
            e(window).on("touchend", this.boundMouseUp);
        },
        removeEvents: function () {
          e(window).off("mousedown", this.boundMouseDown),
            e(window).off("mouseup", this.boundMouseUp),
            e(window).off("touchstart", this.boundMouseDown),
            e(window).off("touchend", this.boundMouseUp);
        },
        onMouseDown: function () {
          (this.cardStartedDragging = !1),
            (this.cardTotalDist = 0),
            2 === this.mesh.material.uniforms.mode.value &&
              (this.mesh.material.uniforms.mode.value = 0),
            (this.mesh.material.uniforms.clickDown.value = !0);
        },
        onMouseUp: function () {
          (this.cardStartedDragging = !1),
            (this.mesh.material.uniforms.clickDown.value = !1),
            this.disperseOnClick &&
              this.cardTotalDist < this.maxClickTotalDist &&
              (this.mesh.material.uniforms.mode.value = 3),
            this.updateShaderRandom();
        },
        initParticleIndices: function () {
          for (var e, t, i = this.size; i > 1; i--)
            for (var r = 1; r < this.size; r++)
              (e = 0 === r ? 0 : r / this.size),
                (t = 0 === i ? 0 : i / this.size),
                this.particleIndices.push(new a.Vector2(e, t));
        },
        createAccelerationTexture: function () {
          this.data = r.getResult("cocaineposition").data;
          for (
            var e = new Float32Array(3 * this.size * 3 * this.size), t = 0;
            t < this.data.length;
            t++
          )
            e[t] = 0;
          (this.texture = new a.DataTexture(
            e,
            this.size,
            this.size,
            a.RGBFormat,
            a.FloatType,
            a.UVMapping,
            a.ClampToEdgeWrapping,
            a.ClampToEdgeWrapping,
            a.NearestFilter,
            a.NearestFilter
          )),
            (this.texture.needsUpdate = !0);
        },
        createRenderTargets: function () {
          this.camera = new a.OrthographicCamera(
            -this.size / 2,
            this.size / 2,
            -this.size / 2,
            this.size / 2,
            -1,
            1
          );
          for (var e = 0; 2 > e; e++) {
            var t = new a.WebGLRenderTarget(this.size, this.size, {
              format: a.RGBAFormat,
              generateMipmaps: !1,
              magFilter: a.NearestFilter,
              minFilter: a.NearestFilter,
              type: a.FloatType,
            });
            (t.generateMipmaps = !1), this.positionTarget.push(t);
          }
        },
        createScene: function () {
          this.scene = new a.Scene();
          var e = new a.PlaneBufferGeometry(2, 2, 8, 8),
            t = new a.ShaderMaterial({
              vertexShader: l,
              fragmentShader: s,
              uniforms: {
                texture: { type: "t", value: this.texture },
                positionTexture: { type: "t", value: null },
                originalPosTexture: { type: "t", value: null },
                mousePos: { type: "v2", value: new a.Vector2(100, 100) },
                forceDir: { type: "v2", value: new a.Vector2(0, 0) },
                forceSpeed: { type: "f", value: 0 },
                cardDirection: { type: "v2", value: new a.Vector2(0, 0) },
                mode: { type: "i", value: 0 },
                clickDown: { type: "i", value: 0 },
                clickActive: { type: "i", value: !0 },
                rotationActive: { type: "i", value: !0 },
                displayTexture: { type: "t", value: null },
                width: { type: "f", value: window.innerWidth },
                height: { type: "f", value: window.innerHeight },
                spreadX: { type: "f", value: 0.02 },
                spreadY: { type: "f", value: 0.02 },
                mouseForce: { type: "f", value: 1 },
                accelerationDamping: { type: "f", value: 0.7 },
                stickiness: { type: "f", value: 0.02 },
                cardLength: { type: "f", value: 1 },
                randomVector: { type: "v2", value: new a.Vector2(0, 0) },
              },
            });
          (this.mesh = new a.Mesh(e, t)), this.scene.add(this.mesh);
        },
        setPositionTexture: function (e) {
          this.mesh.material.uniforms.positionTexture.value = e;
        },
        setDisplayTexture: function (e) {
          this.mesh.material.uniforms.displayTexture.value = e;
        },
        updateMousePos: function (e, t, i) {
          this.disperseOnClick && (this.mesh.material.uniforms.mode.value = 0);
          var r = new a.Vector2(e.x - t.x, e.y - t.y),
            n = Math.sqrt(r.x * r.x + r.y * r.y);
          n > this.maxForce &&
            ((r.x *= this.maxForce / n),
            (r.y *= this.maxForce / n),
            (n = this.maxForce));
          var o = new a.Vector2(e.x - i.x, e.y - i.y),
            s = Math.sqrt(o.x * o.x + o.y * o.y);
          if (
            (this.cardStartedDragging
              ? (this.cardTotalDist += n)
              : s > this.cardStartDraggingForce
              ? ((this.cardDirection = new a.Vector2(o.x / s, o.y / s)),
                (this.cardStartedDragging = !0))
              : ((r.x = r.y = 0), (n = 0)),
            this.cardStartedDragging &&
              this.cardTotalDist < this.cardDirectionMaxDist)
          ) {
            var l = new a.Vector2(o.x / s, o.y / s);
            (this.cardDirection.x +=
              (l.x - this.cardDirection.x) * this.cardDirectionAccel),
              (this.cardDirection.y +=
                (l.y - this.cardDirection.y) * this.cardDirectionAccel);
          }
          (this.mesh.material.uniforms.mousePos.value = e),
            (this.mesh.material.uniforms.forceDir.value = r),
            (this.mesh.material.uniforms.forceSpeed.value = n),
            (this.mesh.material.uniforms.cardDirection.value =
              this.cardDirection),
            this.updateShaderRandom();
        },
        updateShaderRandom: function () {
          (this.randomVector.x = Math.random()),
            (this.randomVector.y = Math.random()),
            (this.mesh.material.uniforms.randomVector.value =
              this.randomVector);
        },
        updateTargets: function () {
          (this.mesh.material.uniforms.texture.value = this.currentTarget),
            (this.currentTarget = this.positionTarget[this.index % 2]),
            this.index++;
        },
        destroy: function () {
          n.prototype.destroy.apply(this, arguments);
        },
      });
      return u;
    }
  ),
  define("text!shaders/encode_float_frag.glsl", [], function () {
    return "uniform sampler2D texture;\nvarying vec2 uvPosition;\nuniform int encodeMode;\n\n//from http://stackoverflow.com/questions/17981163/webgl-read-pixels-from-floating-point-render-target\n//thank you jebus!!\nfloat shift_right (float v, float amt) {\n    v = floor(v) + 0.5;\n    return floor(v / exp2(amt));\n}\nfloat shift_left (float v, float amt) {\n    return floor(v * exp2(amt) + 0.5);\n}\nfloat mask_last (float v, float bits) {\n    return mod(v, shift_left(1.0, bits));\n}\nfloat extract_bits (float num, float from, float to) {\n    from = floor(from + 0.5); to = floor(to + 0.5);\n    return mask_last(shift_right(num, from), to - from);\n}\nvec4 encode_float (float val) {\n    if (val == 0.0) return vec4(0, 0, 0, 0);\n    float sign = val > 0.0 ? 0.0 : 1.0;\n    val = abs(val);\n    float exponent = floor(log2(val));\n    float biased_exponent = exponent + 127.0;\n    float fraction = ((val / exp2(exponent)) - 1.0) * 8388608.0;\n    float t = biased_exponent / 2.0;\n    float last_bit_of_biased_exponent = fract(t) * 2.0;\n    float remaining_bits_of_biased_exponent = floor(t);\n    float byte4 = extract_bits(fraction, 0.0, 8.0) / 255.0;\n    float byte3 = extract_bits(fraction, 8.0, 16.0) / 255.0;\n    float byte2 = (last_bit_of_biased_exponent * 128.0 + extract_bits(fraction, 16.0, 23.0)) / 255.0;\n    float byte1 = (sign * 128.0 + remaining_bits_of_biased_exponent) / 255.0;\n    return vec4(byte4, byte3, byte2, byte1);\n}\n\n\nvoid main() {\n    //set to frag value\n    float myFloat;\n\n    if(encodeMode == 0){\n        myFloat = texture2D(texture, uvPosition).r;\n    }\n    else if(encodeMode == 1){\n        myFloat = texture2D(texture, uvPosition).g;\n    }\n    else if(encodeMode == 2){\n        myFloat = texture2D(texture, uvPosition).b;\n    }\n\n    gl_FragColor = encode_float(myFloat);\n}";
  }),
  define("text!shaders/encode_float_vert.glsl", [], function () {
    return "#ifdef GL_ES\n    precision highp float;\n#endif\n\nuniform vec2 mousePos;\nvarying vec2 uvPosition;\n//attribute float randomSize;\n//attribute vec2 particleIndex;\n\nfloat maxDist = 1.;\n\nvoid main() {\n\n    uvPosition = uv;\n\n//    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n    gl_Position = vec4(position, 1.);\n}";
  }),
  define(
    "view/components/float_encoding_target",
    [
      "jquery",
      "underscore",
      "backbone",
      "model/loader_collection",
      "view/common/base_view",
      "config",
      "three",
      "text!shaders/encode_float_frag.glsl",
      "text!shaders/encode_float_vert.glsl",
    ],
    function (e, t, i, r, n, o, a, s, l) {
      "use strict";
      var h = n.extend({
        size: 400,
        positionTarget: [],
        scene: null,
        mesh: null,
        camera: null,
        texture: null,
        index: 0,
        data: [],
        particleIndices: [],
        currentTarget: null,
        initialize: function (e) {
          (this.data = r.getResult("cocaineposition").data),
            this.createPositionTexture(),
            this.createRenderTargets(),
            this.createScene(),
            (this.currentTarget = this.positionTarget[this.index]),
            this.index++;
        },
        createPositionTexture: function () {
          for (
            var e = new Float32Array(3 * this.size * 3 * this.size), t = 0;
            t < this.data.length;
            t++
          )
            e[t] = this.data[t];
          (this.texture = new a.DataTexture(
            e,
            this.size,
            this.size,
            a.RGBFormat,
            a.FloatType,
            a.UVMapping,
            a.ClampToEdgeWrapping,
            a.ClampToEdgeWrapping,
            a.NearestFilter,
            a.NearestFilter
          )),
            (this.texture.needsUpdate = !0);
        },
        createRenderTargets: function () {
          this.camera = new a.OrthographicCamera(
            -this.size / 2,
            this.size / 2,
            -this.size / 2,
            this.size / 2,
            -1,
            1
          );
          for (var e = 0; 2 > e; e++) {
            var t = new a.WebGLRenderTarget(this.size, this.size, {
              format: a.RGBAFormat,
              generateMipmaps: !1,
              magFilter: a.NearestFilter,
              minFilter: a.NearestFilter,
              type: a.FloatType,
            });
            (t.generateMipmaps = !1), (t.i = e), this.positionTarget.push(t);
          }
        },
        createScene: function () {
          this.scene = new a.Scene();
          var e = new a.PlaneBufferGeometry(2, 2, 8, 8),
            t = new a.ShaderMaterial({
              vertexShader: l,
              fragmentShader: s,
              uniforms: {
                texture: { type: "t", value: this.texture },
                mousePos: { type: "v2", value: new a.Vector2(100, 100) },
                encodeMode: { type: "i", value: 0 },
              },
            });
          (this.mesh = new a.Mesh(e, t)),
            (window.mode = this.mesh.material.uniforms.encodeMode),
            this.scene.add(this.mesh);
        },
        updateMousePos: function (e) {
          this.mesh.material.uniforms.mousePos.value = e;
        },
        updateTargets: function () {
          (this.mesh.material.uniforms.texture.value = this.currentTarget),
            (this.currentTarget = this.positionTarget[this.index % 2]),
            this.index++;
        },
        destroy: function () {
          n.prototype.destroy.apply(this, arguments);
        },
      });
      return h;
    }
  ),
  define(
    "view/components/plane_geometry",
    [
      "jquery",
      "underscore",
      "backbone",
      "model/loader_collection",
      "view/common/base_view",
      "config",
      "three",
      "text!shaders/frag.glsl",
      "text!shaders/vert.glsl",
      "view/components/position_render_target",
      "view/components/acceleration_render_target",
      "view/components/float_encoding_target",
      "util/dat_util",
      "TweenMax",
    ],
    function (e, t, i, r, n, o, a, s, l, h, c, u, d, f) {
      "use strict";
      var p = n.extend({
        time: 0,
        mesh: null,
        numParticles: null,
        randomSizeArr: [],
        particleIndices: [],
        particleGeometry: null,
        accelerationTarget: null,
        positionTarget: null,
        floatTarget: null,
        mousePosition: new a.Vector2(0, -2),
        oldMousePosition: new a.Vector2(0, -2),
        startMousePosition: new a.Vector2(0, -2),
        targetMousePos: new a.Vector2(0, -2),
        initialize: function (e) {
          (this.positionTarget = new h()),
            (this.accelerationTarget = new c()),
            (this.floatTarget = new u()),
            this.accelerationTarget.setPositionTexture(
              this.positionTarget.texture
            ),
            this.getData(),
            this.initPointMesh();
        },
        getData: function () {
          (this.data = r.getResult("cocaineposition")),
            (this.numParticles = this.data.data.length / 3);
        },
        initPointMesh: function () {
          this.particleGeometry = new a.Geometry();
          for (var e = 0; e < this.numParticles; e++)
            this.particleGeometry.vertices.push(new a.Vector3(0, 0, 0)),
              this.randomSizeArr.push(2 * Math.random());
          this.particleGeometry.needsUpdate = !0;
          var t = new a.ShaderMaterial({
            vertexShader: l,
            fragmentShader: s,
            attributes: {
              randomSize: { type: "f", value: this.randomSizeArr },
              particleIndex: {
                type: "v2",
                value: this.accelerationTarget.particleIndices,
              },
            },
            uniforms: {
              time: { type: "f", value: this.time },
              positionTexture: { type: "t", value: null },
              origPosTexture: {
                type: "t",
                value: this.positionTarget.originalPosTexture,
              },
              buzzyMode: { type: "i", value: !1 },
              pointSize: { type: "f", value: 1 },
              randomPointSize: { type: "i", value: !0 },
              entrance: { type: "f", value: 0 },
            },
            transparent: !0,
            blending: a.AdditiveBlending,
          });
          (this.mesh = new a.PointCloud(this.particleGeometry, t)),
            f.to(t.uniforms.entrance, 8, { value: 1, ease: "Expo.easeOut" }),
            (this.mesh.dynamic = !0);
        },
        updateAccelerationTargets: function () {
          var e = this.targetMousePos.x - this.mousePosition.x,
            t = this.targetMousePos.y - this.mousePosition.y;
          (this.mousePosition.x += 0.75 * e),
            (this.mousePosition.y += 0.75 * t),
            this.accelerationTarget.updateMousePos(
              this.mousePosition,
              this.oldMousePosition,
              this.startMousePosition
            ),
            this.positionTarget.updateMousePos(this.mousePosition);
          var i = this.accelerationTarget.currentTarget;
          (this.positionTarget.mesh.material.uniforms.accelerationTexture.value =
            i),
            this.accelerationTarget.updateTargets(),
            (this.oldMousePosition.x = this.mousePosition.x),
            (this.oldMousePosition.y = this.mousePosition.y);
        },
        updatePositionTargets: function () {
          var e = this.positionTarget.currentTarget;
          (this.mesh.material.uniforms.positionTexture.value = e),
            (this.accelerationTarget.mesh.material.uniforms.positionTexture.value =
              e),
            this.positionTarget.updateTargets();
        },
        updateDisplayTarget: function () {
          this.time++, (this.mesh.material.uniforms.time.value = this.time);
        },
        getAccelerationTarget: function () {
          return {
            scene: this.accelerationTarget.scene,
            camera: this.accelerationTarget.camera,
            target: this.accelerationTarget.currentTarget,
          };
        },
        getPositionTarget: function () {
          return {
            scene: this.positionTarget.scene,
            camera: this.positionTarget.camera,
            target: this.positionTarget.currentTarget,
          };
        },
        getFloatTarget: function () {
          return {
            scene: this.floatTarget.scene,
            camera: this.floatTarget.camera,
            target: this.floatTarget.currentTarget,
          };
        },
        setMousePosition: function (e) {
          var t = new a.Vector2(e.x, e.y);
          this.targetMousePos = t;
        },
        setMouseDown: function () {
          (this.mousePosition.x = this.targetMousePos.x),
            (this.mousePosition.y = this.targetMousePos.y),
            (this.oldMousePosition.x = this.mousePosition.x),
            (this.oldMousePosition.y = this.mousePosition.y),
            (this.startMousePosition.x = this.mousePosition.x),
            (this.startMousePosition.y = this.mousePosition.y),
            this.updateAccelerationTargets();
        },
        destroy: function () {
          n.prototype.destroy.apply(this, arguments);
        },
      });
      return p;
    }
  ),
  define("text!shaders/background_frag.glsl", [], function () {
    return "\nuniform sampler2D texture;\nuniform float entrance;\nvarying vec2 uvPosition;\n\nvoid main() {\n    vec4 texCol = texture2D(texture, uvPosition);\n\n    gl_FragColor = vec4(texCol.rgba * entrance);\n}";
  }),
  define("text!shaders/background_vert.glsl", [], function () {
    return "varying vec2 uvPosition;\n\nvoid main() {\n    uvPosition = uv;\n\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}";
  }),
  define(
    "view/components/background_view",
    [
      "jquery",
      "underscore",
      "backbone",
      "model/loader_collection",
      "view/common/base_view",
      "config",
      "three",
      "text!shaders/background_frag.glsl",
      "text!shaders/background_vert.glsl",
      "TweenMax",
    ],
    function (e, t, i, r, n, o, a, s, l, h) {
      "use strict";
      r.add({ id: "cocaine", src: "assets/Cocaine_assets.jpg", type: "image" });
      var c = n.extend({
        mesh: null,
        texture: null,
        size: 10,
        entrance: 0,
        initialize: function (e) {
          this.createGeometry();
        },
        createGeometry: function () {
          (this.texture = new a.Texture(r.getResult("cocaine"))),
            (this.texture.minFilter = a.NearestFilter),
            (this.texture.magFilter = a.NearestFilter),
            (this.texture.needsUpdate = !0);
          var e = new a.PlaneBufferGeometry(this.size, this.size),
            t = new a.ShaderMaterial({
              vertexShader: l,
              fragmentShader: s,
              uniforms: {
                texture: { type: "t", value: this.texture },
                entrance: { type: "f", value: 0 },
              },
            });
          h.to(t.uniforms.entrance, 4, { value: 1, delay: 1.5 }),
            (this.mesh = new a.Mesh(e, t)),
            (this.mesh.position.z = -0.01);
        },
        destroy: function () {
          n.prototype.destroy.apply(this, arguments);
        },
      });
      return c;
    }
  ),
  define(
    "view/components/three_scene_view",
    [
      "jquery",
      "underscore",
      "backbone",
      "model/loader_collection",
      "view/common/base_view",
      "config",
      "three",
      "util/anim_frame",
      "view/components/plane_geometry",
      "view/components/background_view",
      "TweenMax",
      "view/common/communicator",
      "model/app_model",
    ],
    function (e, t, i, r, n, o, a, s, l, h, c, u, d) {
      "use strict";
      var f = n.extend({
        SHOW_HELPERS: !1,
        resize: !0,
        scene: null,
        camera: null,
        renderer: null,
        boundAnimFrameListener: null,
        index: 0,
        initialize: function (e) {
          this.initThree(),
            this.addBackgroundGeometry(),
            this.addPlaneGeometry(),
            this.SHOW_HELPERS && this.addHelperGeometry(),
            this.addEvents(),
            d.on("change:renderApp", t.bind(this.onRenderState, this));
        },
        initThree: function () {
          var e = this.$el.innerWidth(),
            t = this.$el.innerHeight();
          (this.scene = new a.Scene()),
            (this.camera = new a.PerspectiveCamera(75, e / t, 0.1, 1e3)),
            (this.renderer = new a.WebGLRenderer({ antialias: !0 })),
            this.renderer.setSize(e, t),
            this.$el.append(this.renderer.domElement),
            (this.camera.position.z = 5);
        },
        addHelperGeometry: function () {
          (this.targetObject = new a.Mesh(
            new a.BoxGeometry(0.1, 0.1, 0.1),
            new a.MeshBasicMaterial({ color: 16711680 })
          )),
            this.scene.add(this.targetObject),
            (this.targetObject2 = new a.Mesh(
              new a.BoxGeometry(0.1, 0.1, 0.1),
              new a.MeshBasicMaterial({ color: 16776960 })
            )),
            this.scene.add(this.targetObject2);
        },
        addPlaneGeometry: function () {
          (this.planeGeometry = new l()),
            this.scene.add(this.planeGeometry.mesh);
        },
        addBackgroundGeometry: function () {
          (this.backgroundView = new h()),
            this.scene.add(this.backgroundView.mesh);
        },
        onRenderState: function (e, t) {
          t === !0 ? (this.addEvents(), this.onResize()) : this.removeEvents();
        },
        addEvents: function () {
          (this.boundAnimFrameListener = t.bind(this.onAnimFrame, this)),
            s.on("anim_frame", this.boundAnimFrameListener),
            this.$el.on("mousemove", t.bind(this.getMousePosition, this)),
            this.$el.on("touchmove", t.bind(this.getMousePosition, this)),
            e(window).on("resize", t.bind(this.onResize, this)),
            this.$el.on("mousedown", t.bind(this.onMouseDown, this)),
            this.$el.on("touchstart", t.bind(this.onTouchStart, this));
        },
        removeEvents: function () {
          s.off("anim_frame", this.boundAnimFrameListener),
            this.$el.off("mousemove"),
            this.$el.off("touchmove"),
            e(window).off("resize"),
            this.$el.off("mousedown"),
            this.$el.off("touchstart");
        },
        onTouchStart: function (e) {
          e.preventDefault(), this.onMouseDown(e);
        },
        onMouseDown: function (e) {
          this.getMousePosition(e), this.planeGeometry.setMouseDown();
        },
        getMousePosition: function (e) {
          u.trigger(u.EVENTS.SITE.MOUSE.MOVE, { x: e.clientX, y: e.clientY });
          var t = this.$el.innerWidth(),
            i = this.$el.innerHeight();
          e.originalEvent &&
            e.originalEvent.touches &&
            e.originalEvent.touches[0] &&
            (e = e.originalEvent.touches[0]);
          var r = (e.clientX / t) * 2 - 1,
            n = 2 * -(e.clientY / i) + 1,
            o = new a.Vector3(r, n, 0);
          o.unproject(this.camera), o.sub(this.camera.position).normalize();
          var s = -this.camera.position.z / o.z,
            l = this.camera.position.clone().add(o.multiplyScalar(s));
          this.SHOW_HELPERS &&
            ((this.targetObject.position.x = l.x),
            (this.targetObject.position.y = l.y),
            (this.targetObject2.position.x =
              this.planeGeometry.startMousePosition.x),
            (this.targetObject2.position.y =
              this.planeGeometry.startMousePosition.y)),
            this.planeGeometry.setMousePosition(l);
        },
        onResize: function () {
          var e = this.$el.innerWidth(),
            t = this.$el.innerHeight();
          (this.camera.aspect = e / t),
            this.camera.updateProjectionMatrix(),
            this.renderer.setSize(e, t);
        },
        onAnimFrame: function () {
          var e = this.planeGeometry.getAccelerationTarget();
          this.renderer.render(e.scene, e.camera, e.target),
            this.planeGeometry.updateAccelerationTargets(),
            (e = this.planeGeometry.getPositionTarget()),
            this.renderer.render(e.scene, e.camera, e.target),
            this.planeGeometry.updatePositionTargets(),
            this.renderer.render(this.scene, this.camera),
            this.planeGeometry.updateDisplayTarget(),
            this.resize && ((this.resize = !1), this.onResize());
        },
        encodeFloat: function () {
          this.planeGeometry.floatTarget.mesh.material.uniforms.texture.value =
            this.planeGeometry.getPositionTarget().target;
          var e = this.planeGeometry.getFloatTarget();
          this.renderer.render(e.scene, e.camera, e.target);
          var t = new Uint8Array(64e4),
            i = this.renderer.context;
          i.bindFramebuffer(i.FRAMEBUFFER, e.target.__webglFramebuffer),
            i.readPixels(0, 0, 400, 400, i.RGBA, i.UNSIGNED_BYTE, t),
            (t = new Float32Array(t.buffer)),
            (window.p = t);
        },
        destroy: function () {
          n.prototype.destroy.apply(this, arguments);
        },
      });
      return f;
    }
  ),
  define(
    "view/components/mouse_particles/particle",
    [
      "jquery",
      "underscore",
      "backbone",
      "model/loader_collection",
      "view/common/base_view",
      "config",
    ],
    function (e, t, i, r, n, o) {
      "use strict";
      var a = n.extend({
        x: null,
        y: null,
        speed: 0,
        accel: 0,
        directionX: 0,
        directionY: 0,
        alpha: 1,
        initialize: function (e) {
          var t = e.diffX,
            i = e.diffY;
          (this.alpha = 1 * Math.random()),
            (this.x = e.x + Math.random() * (t - t / 2) * 3),
            (this.y = e.y + Math.random() * (i - i / 2) * 3),
            (this.directionX = 1.5 * Math.random() - 0.75 - t / 10),
            (this.directionY = 1.5 * Math.random() - 0.75 - i / 10);
        },
        destroy: function () {
          n.prototype.destroy.apply(this, arguments);
        },
      });
      return a;
    }
  ),
  define(
    "view/components/mouse_particles/particle_controller",
    [
      "jquery",
      "underscore",
      "backbone",
      "model/loader_collection",
      "view/common/base_view",
      "config",
      "view/components/mouse_particles/particle",
    ],
    function (e, t, i, r, n, o, a) {
      "use strict";
      var s = n.extend({
        particleList: [],
        maxParticles: 200,
        oldX: 0,
        oldY: 0,
        initialize: function (e) {},
        addParticle: function (e, t, i) {
          var r,
            n = this.oldX - t,
            o = this.oldY - i,
            s = Math.sqrt(Math.pow(n, 2) + Math.pow(o, 2));
          r = 5 > s ? 0 : 10 > s ? 2 : 5;
          for (var l = 0; r > l; l++)
            this.particleList.push(new a({ x: t, y: i, diffX: n, diffY: o }));
          (this.oldX = t), (this.oldY = i);
        },
        update: function () {
          for (var e = [], t = 0; t < this.particleList.length; t++)
            this.particleList[t].alpha >= 0 &&
              ((this.particleList[t].alpha -= 0.015),
              (this.particleList[t].x += this.particleList[t].directionX),
              (this.particleList[t].y += this.particleList[t].directionY),
              e.push(this.particleList[t]));
          this.particleList = e;
        },
        draw: function () {},
        destroy: function () {
          n.prototype.destroy.apply(this, arguments);
        },
      });
      return s;
    }
  ),
  define("model/mouse_model", ["backbone"], function (e) {
    var t = e.Model.extend({ defaults: { mousePos: {} } });
    return new t();
  }),
  define(
    "view/components/mouse_particles/mouse_particle_canvas",
    [
      "jquery",
      "underscore",
      "backbone",
      "model/loader_collection",
      "view/common/base_view",
      "config",
      "util/anim_frame",
      "view/components/mouse_particles/particle_controller",
      "model/mouse_model",
      "model/app_model",
    ],
    function (e, t, i, r, n, o, a, s, l, h) {
      "use strict";
      var c = n.extend({
        maxParticles: 150,
        canvas: null,
        context: null,
        particle: null,
        particleList: null,
        particleController: null,
        resize: !0,
        boundAnimFrameListener: null,
        initialize: function (e) {
          this.createCanvas(),
            (this.particleController = new s()),
            h.on("change:renderApp", t.bind(this.onRenderState, this)),
            this.addEvents();
        },
        onRenderState: function (e, t) {
          t === !0 ? (this.addEvents(), this.onResize()) : this.removeEvents();
        },
        addEvents: function () {
          (this.boundAnimFrameListener = t.bind(this.onAnimFrame, this)),
            this.$el.on("mousemove", t.bind(this.onMouseMove, this)),
            this.$el.on("resize", t.bind(this.onResize, this)),
            a.on("anim_frame", this.boundAnimFrameListener),
            l.on("change:mousePos", t.bind(this.onMouseMove, this));
        },
        removeEvents: function () {
          this.$el.off("mousemove"),
            this.$el.off("resize"),
            a.off("anim_frame", this.boundAnimFrameListener),
            l.off("change:mousePos", null, this);
        },
        createCanvas: function () {
          (this.canvas = document.createElement("canvas")),
            (this.canvas.width = this.$el.innerWidth()),
            (this.canvas.height = this.$el.innerHeight()),
            (this.context = this.canvas.getContext("2d")),
            e(this.canvas).css({
              "pointer-events": "none",
              position: "absolute",
              top: 0,
              left: 0,
            }),
            this.$el.append(this.canvas);
        },
        onMouseMove: function (e, t) {
          var i = t.x,
            r = t.y;
          this.particleController.addParticle(1, i, r);
        },
        onAnimFrame: function () {
          this.particleController.update(),
            this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);
          for (
            var e = this.particleController.particleList, t = 0;
            t < e.length;
            t++
          ) {
            this.context.beginPath();
            var i = "rgba(255,255,255," + e[t].alpha + ")";
            (this.context.fillStyle = i),
              this.context.fillRect(e[t].x, e[t].y, 1, 1);
          }
          this.resize && ((this.resize = !1), this.onResize());
        },
        onResize: function () {
          (this.canvas.width = this.$el.innerWidth()),
            (this.canvas.height = this.$el.innerHeight());
        },
        destroy: function () {
          n.prototype.destroy.apply(this, arguments);
        },
      });
      return c;
    }
  ),
  define(
    "view/components/reset_button_view",
    [
      "jquery",
      "underscore",
      "backbone",
      "model/loader_collection",
      "view/common/base_view",
      "config",
      "view/common/communicator",
    ],
    function (e, t, i, r, n, o, a) {
      "use strict";
      var s = n.extend({
        events: {
          click: "onClick",
          mouseover: "onMouseOver",
          mouseout: "onMouseOut",
        },
        initialize: function (e) {
          this.$el.removeClass("rsn-hidden");
        },
        onMouseOver: function () {
          e(".js-rsn-reset-img").addClass("hover");
        },
        onMouseOut: function () {
          e(".js-rsn-reset-img").removeClass("hover");
        },
        onClick: function () {
          a.trigger(a.EVENTS.SITE.PARTICLES.RESET_POSITION);
        },
        destroy: function () {
          n.prototype.destroy.apply(this, arguments);
        },
      });
      return s;
    }
  ),
  define(
    "view/pages/extended/home",
    [
      "jquery",
      "underscore",
      "view/common/base_view",
      "events/sound_events",
      "view/common/communicator",
      "backbone",
      "config",
      "model/loader_collection",
      "model/app_model",
      "route/router",
      "route/nav_options",
      "view/components/three_scene_view",
      "view/components/mouse_particles/mouse_particle_canvas",
      "view/components/reset_button_view",
    ],
    function (e, t, i, r, n, o, a, s, l, h, c, u, d, f) {
      "use strict";
      return i.extend({
        threeSceneView: null,
        initialize: function (e) {
          (this.threeSceneView = new u({
            el: this.$el.find(".js-rsn-three-scene"),
          })),
            (this.mouseParticleCanvas = new d({
              el: this.$el.find(".js-rsn-mouse-canvas"),
            })),
            (this.resetButton = new f({
              el: this.$el.find(".js-rsn-reset-btn"),
            }));
        },
      });
    }
  ),
  define(
    "view/common/transitioner/transitioner",
    [
      "jquery",
      "underscore",
      "config",
      "backbone",
      "controller/app_controller",
      "controller/loader_controller",
      "model/app_model",
    ],
    function (e, t, i, r, n, o, a, s) {
      "use strict";
      return r.View.extend({
        activeTransitioner: null,
        elementsMap: null,
        initialize: function (e) {
          if (
            ((this.options = e),
            this.evaluateOptions(e),
            (this.elementsMap = this.setupMapping(this.options.viewMap)),
            (this.activeTransitioner = this.options.transition),
            !this.activeTransitioner || !this.activeTransitioner.hasInterface())
          )
            throw new Error(
              ' Transition needs to extend "transition_interface.js"'
            );
          this.activeTransitioner.setMap(this.elementsMap),
            a.on("change:page", this.onAppModelPage, this);
        },
        evaluateOptions: function (e) {
          var i = ["viewMap", "transition"];
          t.each(
            i,
            function (e, i) {
              if (!t.has(this.options, e))
                throw new Error(e + " option not set");
            },
            this
          );
        },
        setupMapping: function (e) {
          var i = {};
          return (
            t.each(
              e,
              function (e, t) {
                if (!e.className || !e.nodeSelector)
                  throw new Error("RouteObject missing options: " + t);
                var r = e.className,
                  n = this.$(e.nodeSelector),
                  o = n.parent();
                i[t] = { element: n, parent: o, className: r };
              },
              this
            ),
            i
          );
        },
        onResize: function (e) {
          this.activeTransitioner && this.activeTransitioner.onResize(e);
        },
        onAppModelPage: function (e, t) {
          this.activeTransitioner.show(t);
        },
      });
    }
  ),
  define(
    "view/common/transitioner/types/transition_interface",
    ["jquery", "underscore"],
    function (e, t) {
      "use strict";
      var i = function (e) {};
      return (
        t.extend(i.prototype, {
          setMap: function (e) {
            throw new Error('Please override "setMap" function');
          },
          onResize: function (e) {
            throw new Error('Please override "onResize" function');
          },
          show: function (e) {
            throw new Error('Please override "show" function');
          },
          hasInterface: function () {
            return !0;
          },
        }),
        i
      );
    }
  ),
  define(
    "view/common/transitioner/types/hide_show_transition",
    [
      "jquery",
      "underscore",
      "config",
      "backbone",
      "view/common/transitioner/types/transition_interface",
    ],
    function (e, t, i, r, n) {
      "use strict";
      var o = r.View.extend({
        savePagesInMemory: !0,
        currentSection: null,
        createdPages: {},
        elementsMap: {},
        initialize: function (e) {
          this.options = e;
        },
        setMap: function (e) {
          (this.elementsMap = e), this.detachAll();
        },
        detachAll: function () {
          t.each(
            this.elementsMap,
            function (e, t, i) {
              e.element.detach();
            },
            this
          );
        },
        onResize: function (e) {
          this.currentSection && this.currentSection.onResize(e);
        },
        show: function (e) {
          var t = e;
          this.currentViewId !== t &&
            ((this.newViewId = t),
            null != this.currentSection
              ? (this.currentSection.once(
                  "hideComplete",
                  this.onSectionHideComplete,
                  this
                ),
                this.currentSection.hide())
              : this.onSectionHideComplete());
        },
        onSectionHideComplete: function () {
          if (this.currentSection) {
            this.currentSection.destroy();
            var e = this.elementsMap[this.currentViewId];
            e.element.detach();
          }
          var t = this.elementsMap[this.newViewId],
            i = t.className;
          if (!i)
            throw new Error("View class not found for: " + this.currentViewId);
          (this.currentViewId = this.newViewId), (this.newViewId = null);
          var r = this.createdPages[this.currentViewId],
            n = this.elementsMap[this.currentViewId],
            o = n.element,
            a = n.parent;
          r && this.savePagesInMemory
            ? (this.currentSection = r)
            : ((this.currentSection = new i({ el: o })),
              (this.createdPages[this.currentViewId] = this.currentSection)),
            a.append(o),
            this.currentSection.onResize(),
            this.currentSection.render(),
            this.currentSection.show();
        },
      });
      return t.extend(n.prototype, o.prototype), n;
    }
  ),
  define(
    "view/app_view",
    [
      "jquery",
      "underscore",
      "view/common/base_view",
      "config",
      "route/router",
      "route/route_object",
      "model/app_model",
      "view/loader",
      "view/pages/extended/home",
      "view/common/transitioner/transitioner",
      "view/common/transitioner/types/hide_show_transition",
    ],
    function (e, t, i, r, n, o, a, s, l, h, c) {
      "use strict";
      n.setRoutes([new o(["", "home"], a.PAGES.HOME)]);
      var u = {};
      return (
        (u[a.PAGES.LOADER] = { className: s, nodeSelector: ".js-rsn-loader" }),
        (u[a.PAGES.HOME] = { className: l, nodeSelector: ".js-rsn-home" }),
        i.extend({
          transitioner: null,
          $rootNode: null,
          $window: null,
          initialize: function () {
            t.bindAll(this, "onResize"),
              (this.$window = e(window)),
              e(".js-rsn-backup-view").remove(),
              e("#rsn-rootNode").removeClass("rsn-hidden");
          },
          start: function () {
            (this.$rootNode = e("#rsn-rootNode")),
              (this.transitioner = new h({
                el: this.$rootNode,
                viewMap: u,
                transition: new c(),
              })),
              this.addEvents();
          },
          addEvents: function () {
            this.$window.on("resize", this.onResize);
          },
          onResize: function (e) {
            this.transitioner && this.transitioner.onResize(e);
          },
          render: function () {},
        })
      );
    }
  ),
  define(
    "controller/mouse_controller",
    ["model/app_model", "view/common/communicator", "model/mouse_model"],
    function (e, t, i) {
      var r = {
        init: function () {
          this.addEvents();
        },
        addEvents: function () {
          t.on(t.EVENTS.SITE.MOUSE.MOVE, this.onMouseMove, this);
        },
        onMouseMove: function (e) {
          i.set("mousePos", e);
        },
      };
      return r.init(), r;
    }
  ),
  define(
    "main_desktop_extended",
    [
      "jquery",
      "underscore",
      "config",
      "route/router",
      "controller/app_controller",
      "controller/loader_controller",
      "view/app_view",
      "model/app_model",
      "controller/mouse_controller",
    ],
    function (e, t, i, r, n, o, a, s, l) {
      "use strict";
      return {
        appView: null,
        start: function () {
          (this.appView = new a({})),
            this.appView.start(),
            o.start(),
            r.start();
        },
      };
    }
  );

loadProgress.updateProgress(78);
